var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),l=e=>t=>c(t.default,e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var u=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function M(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function N(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,N(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),N(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=N(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=N(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return N(M(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function P(e,t,n){if(e==null)return e;var r=[],i=0;return N(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function F(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var I=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},L={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=L,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,I)}catch(e){I(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),d=o(((e,t)=>{t.exports=u()})),f=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),p=o(((e,t)=>{t.exports=f()})),m=o((e=>{var t=d();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),h=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=m()})),g=o((e=>{var t=p(),n=d(),r=h();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=f(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var N=Symbol.for(`react.client.reference`);function P(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?P(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var F=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},z=[],ee=-1;function B(e){return{current:e}}function V(e){0>ee||(e.current=z[ee],z[ee]=null,ee--)}function te(e,t){ee++,z[ee]=e.current,e.current=t}var H=B(null),ne=B(null),re=B(null),ie=B(null);function U(e,t){switch(te(re,t),te(ne,e),te(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jd(t),e=Yd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}V(H),te(H,e)}function ae(){V(H),V(ne),V(re)}function oe(e){e.memoizedState!==null&&te(ie,e);var t=H.current,n=Yd(t,e.type);t!==n&&(te(ne,e),te(H,n))}function W(e){ne.current===e&&(V(H),V(ne)),ie.current===e&&(V(ie),ap._currentValue=R)}var se,ce;function le(e){if(se===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);se=t&&t[1]||``,ce=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+se+e+ce}var ue=!1;function de(e,t){if(!e||ue)return``;ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?le(n):``}function fe(e,t){switch(e.tag){case 26:case 27:case 5:return le(e.type);case 16:return le(`Lazy`);case 13:return e.child!==t&&t!==null?le(`Suspense Fallback`):le(`Suspense`);case 19:return le(`SuspenseList`);case 0:case 15:return de(e.type,!1);case 11:return de(e.type.render,!1);case 1:return de(e.type,!0);case 31:return le(`Activity`);default:return``}}function pe(e){try{var t=``,n=null;do t+=fe(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var me=Object.prototype.hasOwnProperty,he=t.unstable_scheduleCallback,ge=t.unstable_cancelCallback,_e=t.unstable_shouldYield,ve=t.unstable_requestPaint,ye=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,xe=t.unstable_ImmediatePriority,Se=t.unstable_UserBlockingPriority,Ce=t.unstable_NormalPriority,we=t.unstable_LowPriority,Te=t.unstable_IdlePriority,Ee=t.log,De=t.unstable_setDisableYieldValue,Oe=null,ke=null;function Ae(e){if(typeof Ee==`function`&&De(e),ke&&typeof ke.setStrictMode==`function`)try{ke.setStrictMode(Oe,e)}catch{}}var je=Math.clz32?Math.clz32:Pe,Me=Math.log,Ne=Math.LN2;function Pe(e){return e>>>=0,e===0?32:31-(Me(e)/Ne|0)|0}var Fe=256,Ie=262144,Le=4194304;function Re(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ze(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Re(n))):i=Re(o):i=Re(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Re(n))):i=Re(o)):i=Re(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Be(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ve(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function He(){var e=Le;return Le<<=1,!(Le&62914560)&&(Le=4194304),e}function Ue(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function We(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ge(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-je(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Ke(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-je(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function qe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Je(e,t){var n=t&-t;return n=n&42?1:Ye(n),(n&(e.suspendedLanes|t))===0?n:0}function Ye(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xe(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ze(){var e=L.p;return e===0?(e=window.event,e===void 0?32:xp(e.type)):e}function Qe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var $e=Math.random().toString(36).slice(2),et=`__reactFiber$`+$e,tt=`__reactProps$`+$e,nt=`__reactContainer$`+$e,rt=`__reactEvents$`+$e,it=`__reactListeners$`+$e,at=`__reactHandles$`+$e,ot=`__reactResources$`+$e,st=`__reactMarker$`+$e;function ct(e){delete e[et],delete e[tt],delete e[rt],delete e[it],delete e[at]}function lt(e){var t=e[et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nt]||n[et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vf(e);e!==null;){if(n=e[et])return n;e=vf(e)}return t}e=n,n=e.parentNode}return null}function ut(e){if(e=e[et]||e[nt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function dt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ft(e){var t=e[ot];return t||=e[ot]={hoistableStyles:new Map,hoistableScripts:new Map},t}function pt(e){e[st]=!0}var mt=new Set,ht={};function gt(e,t){_t(e,t),_t(e+`Capture`,t)}function _t(e,t){for(ht[e]=t,e=0;e<t.length;e++)mt.add(t[e])}var vt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),yt={},bt={};function xt(e){return me.call(bt,e)?!0:me.call(yt,e)?!1:vt.test(e)?bt[e]=!0:(yt[e]=!0,!1)}function St(e,t,n){if(xt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ct(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function wt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Tt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Et(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Dt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ot(e){if(!e._valueTracker){var t=Et(e)?`checked`:`value`;e._valueTracker=Dt(e,t,``+e[t])}}function kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Et(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function At(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var jt=/[\n"\\]/g;function Mt(e){return e.replace(jt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Nt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Tt(t)):e.value!==``+Tt(t)&&(e.value=``+Tt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Ft(e,o,Tt(n)):Ft(e,o,Tt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Tt(s):e.removeAttribute(`name`)}function Pt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Ot(e);return}n=n==null?``:``+Tt(n),t=t==null?n:``+Tt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Ot(e)}function Ft(e,t,n){t===`number`&&At(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function It(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Tt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lt(e,t,n){if(t!=null&&(t=``+Tt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Tt(n)}function Rt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(F(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Tt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Ot(e)}function zt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Vt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Bt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Ht(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Vt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Vt(e,o,t[o])}function Ut(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Wt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Gt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kt(e){return Gt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function qt(){}var Jt=null;function Yt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xt=null,Zt=null;function Qt(e){var t=ut(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Nt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Mt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[tt]||null;if(!a)throw Error(i(90));Nt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&kt(r)}break a;case`textarea`:Lt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&It(e,!!n.multiple,t,!1)}}}var $t=!1;function en(e,t,n){if($t)return e(t,n);$t=!0;try{return e(t)}finally{if($t=!1,(Xt!==null||Zt!==null)&&(Eu(),Xt&&(t=Xt,e=Zt,Zt=Xt=null,Qt(t),e)))for(t=0;t<e.length;t++)Qt(e[t])}}function tn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[tt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var nn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),rn=!1;if(nn)try{var an={};Object.defineProperty(an,`passive`,{get:function(){rn=!0}}),window.addEventListener(`test`,an,an),window.removeEventListener(`test`,an,an)}catch{rn=!1}var on=null,sn=null,cn=null;function ln(){if(cn)return cn;var e,t=sn,n=t.length,r,i=`value`in on?on.value:on.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return cn=i.slice(e,1<r?1-r:void 0)}function un(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?dn:fn,this.isPropagationStopped=fn,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=pn(mn),gn=m({},mn,{view:0,detail:0}),_n=pn(gn),vn,yn,bn,xn=m({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==bn&&(bn&&e.type===`mousemove`?(vn=e.screenX-bn.screenX,yn=e.screenY-bn.screenY):yn=vn=0,bn=e),vn)},movementY:function(e){return`movementY`in e?e.movementY:yn}}),Sn=pn(xn),Cn=pn(m({},xn,{dataTransfer:0})),wn=pn(m({},gn,{relatedTarget:0})),Tn=pn(m({},mn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=pn(m({},mn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Dn=pn(m({},mn,{data:0})),On={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},kn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},An={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=An[e])?!!t[e]:!1}function Mn(){return jn}var Nn=pn(m({},gn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=un(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?kn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return e.type===`keypress`?un(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?un(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Pn=pn(m({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=pn(m({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),In=pn(m({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=pn(m({},xn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=pn(m({},mn,{newState:0,oldState:0})),zn=[9,13,27,32],Bn=nn&&`CompositionEvent`in window,Vn=null;nn&&`documentMode`in document&&(Vn=document.documentMode);var Hn=nn&&`TextEvent`in window&&!Vn,Un=nn&&(!Bn||Vn&&8<Vn&&11>=Vn),Wn=` `,Gn=!1;function Kn(e,t){switch(e){case`keyup`:return zn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function qn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Jn=!1;function Yn(e,t){switch(e){case`compositionend`:return qn(t);case`keypress`:return t.which===32?(Gn=!0,Wn):null;case`textInput`:return e=t.data,e===Wn&&Gn?null:e;default:return null}}function Xn(e,t){if(Jn)return e===`compositionend`||!Bn&&Kn(e,t)?(e=ln(),cn=sn=on=null,Jn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Un&&t.locale!==`ko`?null:t.data;default:return null}}var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!Zn[e.type]:t===`textarea`}function $n(e,t,n,r){Xt?Zt?Zt.push(r):Zt=[r]:Xt=r,t=Md(t,`onChange`),0<t.length&&(n=new hn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var er=null,tr=null;function nr(e){Td(e,0)}function rr(e){if(kt(dt(e)))return e}function ir(e,t){if(e===`change`)return t}var ar=!1;if(nn){var or;if(nn){var sr=`oninput`in document;if(!sr){var cr=document.createElement(`div`);cr.setAttribute(`oninput`,`return;`),sr=typeof cr.oninput==`function`}or=sr}else or=!1;ar=or&&(!document.documentMode||9<document.documentMode)}function lr(){er&&(er.detachEvent(`onpropertychange`,ur),tr=er=null)}function ur(e){if(e.propertyName===`value`&&rr(tr)){var t=[];$n(t,tr,e,Yt(e)),en(nr,t)}}function dr(e,t,n){e===`focusin`?(lr(),er=t,tr=n,er.attachEvent(`onpropertychange`,ur)):e===`focusout`&&lr()}function fr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return rr(tr)}function pr(e,t){if(e===`click`)return rr(t)}function mr(e,t){if(e===`input`||e===`change`)return rr(t)}function hr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var gr=typeof Object.is==`function`?Object.is:hr;function _r(e,t){if(gr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!me.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yr(e,t){var n=vr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=vr(n)}}function br(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?br(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=At(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=At(e.document)}return t}function Sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Cr=nn&&`documentMode`in document&&11>=document.documentMode,wr=null,Tr=null,Er=null,Dr=!1;function Or(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dr||wr==null||wr!==At(r)||(r=wr,`selectionStart`in r&&Sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Er&&_r(Er,r)||(Er=r,r=Md(Tr,`onSelect`),0<r.length&&(t=new hn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Ar={animationend:kr(`Animation`,`AnimationEnd`),animationiteration:kr(`Animation`,`AnimationIteration`),animationstart:kr(`Animation`,`AnimationStart`),transitionrun:kr(`Transition`,`TransitionRun`),transitionstart:kr(`Transition`,`TransitionStart`),transitioncancel:kr(`Transition`,`TransitionCancel`),transitionend:kr(`Transition`,`TransitionEnd`)},jr={},Mr={};nn&&(Mr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),`TransitionEvent`in window||delete Ar.transitionend.transition);function Nr(e){if(jr[e])return jr[e];if(!Ar[e])return e;var t=Ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mr)return jr[e]=t[n];return e}var Pr=Nr(`animationend`),Fr=Nr(`animationiteration`),Ir=Nr(`animationstart`),Lr=Nr(`transitionrun`),Rr=Nr(`transitionstart`),zr=Nr(`transitioncancel`),Br=Nr(`transitionend`),Vr=new Map,Hr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Hr.push(`scrollEnd`);function Ur(e,t){Vr.set(e,t),gt(t,[e])}var Wr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Gr=[],Kr=0,qr=0;function Jr(){for(var e=Kr,t=qr=Kr=0;t<e;){var n=Gr[t];Gr[t++]=null;var r=Gr[t];Gr[t++]=null;var i=Gr[t];Gr[t++]=null;var a=Gr[t];if(Gr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Qr(n,i,a)}}function Yr(e,t,n,r){Gr[Kr++]=e,Gr[Kr++]=t,Gr[Kr++]=n,Gr[Kr++]=r,qr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Xr(e,t,n,r){return Yr(e,t,n,r),$r(e)}function Zr(e,t){return Yr(e,null,null,t),$r(e)}function Qr(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-je(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function $r(e){if(50<_u)throw _u=0,vu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function ti(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(e,t,n,r){return new ti(e,t,n,r)}function ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ii(e,t){var n=e.alternate;return n===null?(n=ni(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ai(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ri(e)&&(s=1);else if(typeof e==`string`)s=Xf(e,n,H.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=ni(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return si(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ni(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ni(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=ni(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ni(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function si(e,t,n,r){return e=ni(7,e,r,t),e.lanes=n,e}function ci(e,t,n){return e=ni(6,e,null,t),e.lanes=n,e}function li(e){var t=ni(18,null,null,0);return t.stateNode=e,t}function ui(e,t,n){return t=ni(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var di=new WeakMap;function fi(e,t){if(typeof e==`object`&&e){var n=di.get(e);return n===void 0?(t={value:e,source:t,stack:pe(t)},di.set(e,t),t):n}return{value:e,source:t,stack:pe(t)}}var pi=[],mi=0,hi=null,gi=0,_i=[],vi=0,yi=null,bi=1,xi=``;function Si(e,t){pi[mi++]=gi,pi[mi++]=hi,hi=e,gi=t}function Ci(e,t,n){_i[vi++]=bi,_i[vi++]=xi,_i[vi++]=yi,yi=e;var r=bi;e=xi;var i=32-je(r)-1;r&=~(1<<i),n+=1;var a=32-je(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bi=1<<32-je(t)+i|n<<i|r,xi=a+e}else bi=1<<a|n<<i|r,xi=e}function wi(e){e.return!==null&&(Si(e,1),Ci(e,1,0))}function Ti(e){for(;e===hi;)hi=pi[--mi],pi[mi]=null,gi=pi[--mi],pi[mi]=null;for(;e===yi;)yi=_i[--vi],_i[vi]=null,xi=_i[--vi],_i[vi]=null,bi=_i[--vi],_i[vi]=null}function Ei(e,t){_i[vi++]=bi,_i[vi++]=xi,_i[vi++]=yi,bi=t.id,xi=t.overflow,yi=e}var Di=null,Oi=null,ki=!1,Ai=null,ji=!1,Mi=Error(i(519));function Ni(e){throw zi(fi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Mi}function Pi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[et]=e,t[tt]=r,n){case`dialog`:K(`cancel`,t),K(`close`,t);break;case`iframe`:case`object`:case`embed`:K(`load`,t);break;case`video`:case`audio`:for(n=0;n<Cd.length;n++)K(Cd[n],t);break;case`source`:K(`error`,t);break;case`img`:case`image`:case`link`:K(`error`,t),K(`load`,t);break;case`details`:K(`toggle`,t);break;case`input`:K(`invalid`,t),Pt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:K(`invalid`,t);break;case`textarea`:K(`invalid`,t),Rt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Rd(t.textContent,n)?(r.popover!=null&&(K(`beforetoggle`,t),K(`toggle`,t)),r.onScroll!=null&&K(`scroll`,t),r.onScrollEnd!=null&&K(`scrollend`,t),r.onClick!=null&&(t.onclick=qt),t=!0):t=!1,t||Ni(e,!0)}function Fi(e){for(Di=e.return;Di;)switch(Di.tag){case 5:case 31:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:Di=Di.return}}function Ii(e){if(e!==Di)return!1;if(!ki)return Fi(e),ki=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Xd(e.type,e.memoizedProps)),n=!n),n&&Oi&&Ni(e),Fi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Oi=_f(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Oi=_f(e)}else t===27?(t=Oi,af(e.type)?(e=gf,gf=null,Oi=e):Oi=t):Oi=Di?hf(e.stateNode.nextSibling):null;return!0}function Li(){Oi=Di=null,ki=!1}function Ri(){var e=Ai;return e!==null&&(ru===null?ru=e:ru.push.apply(ru,e),Ai=null),e}function zi(e){Ai===null?Ai=[e]:Ai.push(e)}var Bi=B(null),Vi=null,Hi=null;function Ui(e,t,n){te(Bi,t._currentValue),t._currentValue=n}function Wi(e){e._currentValue=Bi.current,V(Bi)}function Gi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Ki(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Gi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function qi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;gr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ie.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[ap]:e.push(ap))}a=a.return}e!==null&&Ki(t,e,n,r),t.flags|=262144}function Ji(e){for(e=e.firstContext;e!==null;){if(!gr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yi(e){Vi=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xi(e){return Qi(Vi,e)}function Zi(e,t){return Vi===null&&Yi(e),Qi(e,t)}function Qi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Hi===null){if(e===null)throw Error(i(308));Hi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Hi=Hi.next=t;return n}var $i=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ea=t.unstable_scheduleCallback,ta=t.unstable_NormalPriority,na={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ra(){return{controller:new $i,data:new Map,refCount:0}}function ia(e){e.refCount--,e.refCount===0&&ea(ta,function(){e.controller.abort()})}var aa=null,oa=0,sa=0,ca=null;function la(e,t){if(aa===null){var n=aa=[];oa=0,sa=_d(),ca={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return oa++,t.then(ua,ua),t}function ua(){if(--oa===0&&aa!==null){ca!==null&&(ca.status=`fulfilled`);var e=aa;aa=null,sa=0,ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function da(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var fa=I.S;I.S=function(e,t){ou=ye(),typeof t==`object`&&t&&typeof t.then==`function`&&la(e,t),fa!==null&&fa(e,t)};var pa=B(null);function ma(){var e=pa.current;return e===null?Vl.pooledCache:e}function ha(e,t){t===null?te(pa,pa.current):te(pa,t.pool)}function ga(){var e=ma();return e===null?null:{parent:na._currentValue,pool:e}}var _a=Error(i(460)),va=Error(i(474)),ya=Error(i(542)),ba={then:function(){}};function xa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Sa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(qt,qt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ea(e),e;default:if(typeof t.status==`string`)t.then(qt,qt);else{if(e=Vl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ea(e),e}throw wa=t,_a}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(wa=e,_a):e}}var wa=null;function Ta(){if(wa===null)throw Error(i(459));var e=wa;return wa=null,e}function Ea(e){if(e===_a||e===ya)throw Error(i(483))}var Da=null,Oa=0;function ka(e){var t=Oa;return Oa+=1,Da===null&&(Da=[]),Sa(Da,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function ja(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ma(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=ii(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ci(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Ca(i)===t.type)?(t=a(t,n.props),Aa(t,n),t.return=e,t):(t=oi(n.type,n.key,n.props,null,e.mode,r),Aa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=si(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ci(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=oi(t.type,t.key,t.props,null,e.mode,n),Aa(n,t),n.return=e,n;case v:return t=ui(t,e.mode,n),t.return=e,t;case O:return t=Ca(t),f(e,t,n)}if(F(t)||M(t))return t=si(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,ka(t),n);if(t.$$typeof===C)return f(e,Zi(e,t),n);ja(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=Ca(n),p(e,t,n,r)}if(F(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,ka(n),r);if(n.$$typeof===C)return p(e,t,Zi(e,n),r);ja(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=Ca(r),m(e,t,n,r,i)}if(F(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,ka(r),i);if(r.$$typeof===C)return m(e,t,n,Zi(t,r),i);ja(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),ki&&Si(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return ki&&Si(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ki&&Si(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),ki&&Si(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return ki&&Si(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ki&&Si(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Ca(l)===r.type){n(e,r.sibling),c=a(r,o.props),Aa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=si(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=oi(o.type,o.key,o.props,null,e.mode,c),Aa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=ui(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=Ca(o),b(e,r,o,c)}if(F(o))return h(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,ka(o),c);if(o.$$typeof===C)return b(e,r,Zi(e,o),c);ja(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ci(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Oa=0;var i=b(e,t,n,r);return Da=null,i}catch(t){if(t===_a||t===ya)throw t;var a=ni(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Na=Ma(!0),Pa=Ma(!1),Fa=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Bl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=$r(e),Qr(e,null,n),t}return Yr(e,r,t,n),$r(e)}function Ba(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qe(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ha=!1;function Ua(){if(Ha){var e=ca;if(e!==null)throw e}}function Wa(e,t,n,r){Ha=!1;var i=e.updateQueue;Fa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Ul&f)===f:(r&f)===f){f!==0&&f===sa&&(Ha=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,f);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h==`function`?h.call(_,d,f):h,f==null)break a;d=m({},d,f);break a;case 2:Fa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Zl|=o,e.lanes=o,e.memoizedState=d}}function Ga(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ka(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ga(n[e],t)}var qa=B(null),Ja=B(0);function Ya(e,t){e=Yl,te(Ja,e),te(qa,t),Yl=e|t.baseLanes}function Xa(){te(Ja,Yl),te(qa,qa.current)}function Za(){Yl=Ja.current,V(qa),V(Ja)}var Qa=B(null),$a=null;function eo(e){var t=e.alternate;te(ao,ao.current&1),te(Qa,e),$a===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&($a=e)}function to(e){te(ao,ao.current),te(Qa,e),$a===null&&($a=e)}function no(e){e.tag===22?(te(ao,ao.current),te(Qa,e),$a===null&&($a=e)):ro(e)}function ro(){te(ao,ao.current),te(Qa,Qa.current)}function io(e){V(Qa),$a===e&&($a=null),V(ao)}var ao=B(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ff(n)||pf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=0,co=null,lo=null,uo=null,fo=!1,po=!1,mo=!1,ho=0,go=0,_o=null,vo=0;function yo(){throw Error(i(321))}function bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,a){return so=a,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Rs:zs,mo=!1,a=n(r,i),mo=!1,po&&(a=Co(t,n,r,i)),So(e),a}function So(e){I.H=Ls;var t=lo!==null&&lo.next!==null;if(so=0,uo=lo=co=null,fo=!1,go=0,_o=null,t)throw Error(i(300));e===null||nc||(e=e.dependencies,e!==null&&Ji(e)&&(nc=!0))}function Co(e,t,n,r){co=e;var a=0;do{if(po&&(_o=null),go=0,po=!1,25<=a)throw Error(i(301));if(a+=1,uo=lo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}I.H=Bs,o=t(n,r)}while(po);return o}function wo(){var e=I.H,t=e.useState()[0];return t=typeof t.then==`function`?jo(t):t,e=e.useState()[0],(lo===null?null:lo.memoizedState)!==e&&(co.flags|=1024),t}function To(){var e=ho!==0;return ho=0,e}function Eo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Do(e){if(fo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fo=!1}so=0,uo=lo=co=null,po=!1,go=ho=0,_o=null}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return uo===null?co.memoizedState=uo=e:uo=uo.next=e,uo}function ko(){if(lo===null){var e=co.alternate;e=e===null?null:e.memoizedState}else e=lo.next;var t=uo===null?co.memoizedState:uo.next;if(t!==null)uo=t,lo=e;else{if(e===null)throw co.alternate===null?Error(i(467)):Error(i(310));lo=e,e={memoizedState:lo.memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},uo===null?co.memoizedState=uo=e:uo=uo.next=e}return uo}function Ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var t=go;return go+=1,_o===null&&(_o=[]),e=Sa(_o,e,t),t=co,(uo===null?t.memoizedState:uo.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Rs:zs),e}function Mo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return jo(e);if(e.$$typeof===C)return Xi(e)}throw Error(i(438,String(e)))}function No(e){var t=null,n=co.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=co.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Ao(),co.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Po(e,t){return typeof t==`function`?t(e):t}function Fo(e){return Io(ko(),lo,e)}function Io(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(so&f)===f:(Ul&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===sa&&(d=!0);else if((so&p)===p){u=u.next,p===sa&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,co.lanes|=p,Zl|=p;f=u.action,mo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,co.lanes|=f,Zl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!gr(o,e.memoizedState)&&(nc=!0,d&&(n=ca,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Lo(e){var t=ko(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);gr(o,t.memoizedState)||(nc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(e,t,n){var r=co,a=ko(),o=ki;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!gr((lo||a).memoizedState,n);if(s&&(a.memoizedState=n,nc=!0),a=a.queue,ls(Vo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||uo!==null&&uo.memoizedState.tag&1){if(r.flags|=2048,is(9,{destroy:void 0},Bo.bind(null,r,a,n,t),null),Vl===null)throw Error(i(349));o||so&127||zo(r,t,n)}return n}function zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=co.updateQueue,t===null?(t=Ao(),co.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bo(e,t,n,r){t.value=n,t.getSnapshot=r,Ho(t)&&Uo(e)}function Vo(e,t,n){return n(function(){Ho(t)&&Uo(e)})}function Ho(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch{return!0}}function Uo(e){var t=Zr(e,2);t!==null&&xu(t,e,2)}function Wo(e){var t=Oo();if(typeof e==`function`){var n=e;if(e=n(),mo){Ae(!0);try{n()}finally{Ae(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t}function Go(e,t,n,r){return e.baseState=n,Io(e,lo,typeof r==`function`?r:Po)}function Ko(e,t,n,r,a){if(Ps(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};I.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,qo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function qo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),c=I.S;c!==null&&c(o,s),Jo(e,t,s)}catch(n){Xo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),I.T=a}}else try{a=n(i,r),Jo(e,t,a)}catch(n){Xo(e,t,n)}}function Jo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Yo(e,t,n)},function(n){return Xo(e,t,n)}):Yo(e,t,n)}function Yo(e,t,n){t.status=`fulfilled`,t.value=n,Zo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,qo(e,n)))}function Xo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Zo(t),t=t.next;while(t!==r)}e.action=null}function Zo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qo(e,t){return t}function $o(e,t){if(ki){var n=Vl.formState;if(n!==null){a:{var r=co;if(ki){if(Oi){b:{for(var i=Oi,a=ji;i.nodeType!==8;){if(!a){i=null;break b}if(i=hf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Oi=hf(i.nextSibling),r=i.data===`F!`;break a}}Ni(r)}r=!1}r&&(t=n[0])}}return n=Oo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},n.queue=r,n=js.bind(null,co,r),r.dispatch=n,r=Wo(!1),a=Ns.bind(null,co,!1,r.queue),r=Oo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Ko.bind(null,co,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function es(e){return ts(ko(),lo,e)}function ts(e,t,n){if(t=Io(e,t,Qo)[0],e=Fo(Po)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=jo(t)}catch(e){throw e===_a?ya:e}else r=t;t=ko();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(co.flags|=2048,is(9,{destroy:void 0},ns.bind(null,i,n),null)),[r,a,e]}function ns(e,t){e.action=t}function rs(e){var t=ko(),n=lo;if(n!==null)return ts(t,n,e);ko(),t=t.memoizedState,n=ko();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function is(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=co.updateQueue,t===null&&(t=Ao(),co.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function as(){return ko().memoizedState}function os(e,t,n,r){var i=Oo();co.flags|=e,i.memoizedState=is(1|t,{destroy:void 0},n,r===void 0?null:r)}function ss(e,t,n,r){var i=ko();r=r===void 0?null:r;var a=i.memoizedState.inst;lo!==null&&r!==null&&bo(r,lo.memoizedState.deps)?i.memoizedState=is(t,a,n,r):(co.flags|=e,i.memoizedState=is(1|t,a,n,r))}function cs(e,t){os(8390656,8,e,t)}function ls(e,t){ss(2048,8,e,t)}function us(e){co.flags|=4;var t=co.updateQueue;if(t===null)t=Ao(),co.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ds(e){var t=ko().memoizedState;return us({ref:t,nextImpl:e}),function(){if(Bl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function fs(e,t){return ss(4,2,e,t)}function ps(e,t){return ss(4,4,e,t)}function ms(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hs(e,t,n){n=n==null?null:n.concat([e]),ss(4,4,ms.bind(null,t,e),n)}function gs(){}function _s(e,t){var n=ko();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vs(e,t){var n=ko();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&bo(t,r[1]))return r[0];if(r=e(),mo){Ae(!0);try{e()}finally{Ae(!1)}}return n.memoizedState=[r,t],r}function ys(e,t,n){return n===void 0||so&1073741824&&!(Ul&261930)?e.memoizedState=t:(e.memoizedState=n,e=bu(),co.lanes|=e,Zl|=e,n)}function bs(e,t,n,r){return gr(n,t)?n:qa.current===null?!(so&42)||so&1073741824&&!(Ul&261930)?(nc=!0,e.memoizedState=n):(e=bu(),co.lanes|=e,Zl|=e,t):(e=ys(e,n,r),gr(e,t)||(nc=!0),e)}function xs(e,t,n,r,i){var a=L.p;L.p=a!==0&&8>a?a:8;var o=I.T,s={};I.T=s,Ns(e,!1,t,n);try{var c=i(),l=I.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ms(e,t,da(c,r),yu(e)):Ms(e,t,r,yu(e))}catch(n){Ms(e,t,{then:function(){},status:`rejected`,reason:n},yu())}finally{L.p=a,o!==null&&s.types!==null&&(o.types=s.types),I.T=o}}function Ss(){}function Cs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=ws(e).queue;xs(e,a,t,R,n===null?Ss:function(){return Ts(e),n(r)})}function ws(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ts(e){var t=ws(e);t.next===null&&(t=e.alternate.memoizedState),Ms(e,t.next.queue,{},yu())}function Es(){return Xi(ap)}function Ds(){return ko().memoizedState}function Os(){return ko().memoizedState}function ks(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yu();e=Ra(n);var r=za(t,e,n);r!==null&&(xu(r,t,n),Ba(r,t,n)),t={cache:ra()},e.payload=t;return}t=t.return}}function As(e,t,n){var r=yu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ps(e)?Fs(t,n):(n=Xr(e,t,n,r),n!==null&&(xu(n,e,r),Is(n,t,r)))}function js(e,t,n){Ms(e,t,n,yu())}function Ms(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ps(e))Fs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,o))return Yr(e,t,i,0),Vl===null&&Jr(),!1}catch{}if(n=Xr(e,t,i,r),n!==null)return xu(n,e,r),Is(n,t,r),!0}return!1}function Ns(e,t,n,r){if(r={lane:2,revertLane:_d(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ps(e)){if(t)throw Error(i(479))}else t=Xr(e,n,r,2),t!==null&&xu(t,e,2)}function Ps(e){var t=e.alternate;return e===co||t!==null&&t===co}function Fs(e,t){po=fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Is(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qe(e,n)}}var Ls={readContext:Xi,use:Mo,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useLayoutEffect:yo,useInsertionEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useSyncExternalStore:yo,useId:yo,useHostTransitionStatus:yo,useFormState:yo,useActionState:yo,useOptimistic:yo,useMemoCache:yo,useCacheRefresh:yo};Ls.useEffectEvent=yo;var Rs={readContext:Xi,use:Mo,useCallback:function(e,t){return Oo().memoizedState=[e,t===void 0?null:t],e},useContext:Xi,useEffect:cs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),os(4194308,4,ms.bind(null,t,e),n)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){os(4,2,e,t)},useMemo:function(e,t){var n=Oo();t=t===void 0?null:t;var r=e();if(mo){Ae(!0);try{e()}finally{Ae(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Oo();if(n!==void 0){var i=n(t);if(mo){Ae(!0);try{n(t)}finally{Ae(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=As.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){var t=Oo();return e={current:e},t.memoizedState=e},useState:function(e){e=Wo(e);var t=e.queue,n=js.bind(null,co,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:gs,useDeferredValue:function(e,t){return ys(Oo(),e,t)},useTransition:function(){var e=Wo(!1);return e=xs.bind(null,co,e.queue,!0,!1),Oo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=co,a=Oo();if(ki){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Vl===null)throw Error(i(349));Ul&127||zo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,cs(Vo.bind(null,r,o,e),[e]),r.flags|=2048,is(9,{destroy:void 0},Bo.bind(null,r,o,n,t),null),n},useId:function(){var e=Oo(),t=Vl.identifierPrefix;if(ki){var n=xi,r=bi;n=(r&~(1<<32-je(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=ho++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=vo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Es,useFormState:$o,useActionState:$o,useOptimistic:function(e){var t=Oo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ns.bind(null,co,!0,n),n.dispatch=t,[e,t]},useMemoCache:No,useCacheRefresh:function(){return Oo().memoizedState=ks.bind(null,co)},useEffectEvent:function(e){var t=Oo(),n={impl:e};return t.memoizedState=n,function(){if(Bl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},zs={readContext:Xi,use:Mo,useCallback:_s,useContext:Xi,useEffect:ls,useImperativeHandle:hs,useInsertionEffect:fs,useLayoutEffect:ps,useMemo:vs,useReducer:Fo,useRef:as,useState:function(){return Fo(Po)},useDebugValue:gs,useDeferredValue:function(e,t){return bs(ko(),lo.memoizedState,e,t)},useTransition:function(){var e=Fo(Po)[0],t=ko().memoizedState;return[typeof e==`boolean`?e:jo(e),t]},useSyncExternalStore:Ro,useId:Ds,useHostTransitionStatus:Es,useFormState:es,useActionState:es,useOptimistic:function(e,t){return Go(ko(),lo,e,t)},useMemoCache:No,useCacheRefresh:Os};zs.useEffectEvent=ds;var Bs={readContext:Xi,use:Mo,useCallback:_s,useContext:Xi,useEffect:ls,useImperativeHandle:hs,useInsertionEffect:fs,useLayoutEffect:ps,useMemo:vs,useReducer:Lo,useRef:as,useState:function(){return Lo(Po)},useDebugValue:gs,useDeferredValue:function(e,t){var n=ko();return lo===null?ys(n,e,t):bs(n,lo.memoizedState,e,t)},useTransition:function(){var e=Lo(Po)[0],t=ko().memoizedState;return[typeof e==`boolean`?e:jo(e),t]},useSyncExternalStore:Ro,useId:Ds,useHostTransitionStatus:Es,useFormState:rs,useActionState:rs,useOptimistic:function(e,t){var n=ko();return lo===null?(n.baseState=e,[e,n.queue.dispatch]):Go(n,lo,e,t)},useMemoCache:No,useCacheRefresh:Os};Bs.useEffectEvent=ds;function Vs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yu(),i=Ra(r);i.payload=t,n!=null&&(i.callback=n),t=za(e,i,r),t!==null&&(xu(t,e,r),Ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yu(),i=Ra(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=za(e,i,r),t!==null&&(xu(t,e,r),Ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yu(),r=Ra(n);r.tag=2,t!=null&&(r.callback=t),t=za(e,r,n),t!==null&&(xu(t,e,n),Ba(t,e,n))}};function Us(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!_r(n,r)||!_r(i,a):!0}function Ws(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Gs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=m({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Ks(e){Wr(e)}function qs(e){console.error(e)}function Js(e){Wr(e)}function Ys(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Xs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Zs(e,t,n){return n=Ra(n),n.tag=3,n.payload={element:null},n.callback=function(){Ys(e,t)},n}function Qs(e){return e=Ra(e),e.tag=3,e}function $s(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Xs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Xs(t,n,r),typeof i!=`function`&&(lu===null?lu=new Set([this]):lu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function ec(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&qi(t,n,a,!0),n=Qa.current,n!==null){switch(n.tag){case 31:case 13:return $a===null?Nu():n.alternate===null&&Xl===0&&(Xl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ba?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Zu(e,r,a)),!1;case 22:return n.flags|=65536,r===ba?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Zu(e,r,a)),!1}throw Error(i(435,n.tag))}return Zu(e,r,a),Nu(),!1}if(ki)return t=Qa.current,t===null?(r!==Mi&&(t=Error(i(423),{cause:r}),zi(fi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=fi(r,n),a=Zs(e.stateNode,r,a),Va(e,a),Xl!==4&&(Xl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Mi&&(e=Error(i(422),{cause:r}),zi(fi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=fi(o,n),nu===null?nu=[o]:nu.push(o),Xl!==4&&(Xl=2),t===null)return!0;r=fi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Zs(n.stateNode,r,e),Va(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(lu===null||!lu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Qs(a),$s(a,e,n,r),Va(n,a),!1}n=n.return}while(n!==null);return!1}var tc=Error(i(461)),nc=!1;function rc(e,t,n,r){t.child=e===null?Pa(t,null,n,r):Na(t,e.child,n,r)}function ic(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Yi(t),r=xo(e,t,n,o,a,i),s=To(),e!==null&&!nc?(Eo(e,t,i),Oc(e,t,i)):(ki&&s&&wi(t),t.flags|=1,rc(e,t,r,i),t.child)}function ac(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ri(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,oc(e,t,a,r,i)):(e=oi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!kc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?_r:n,n(o,r)&&e.ref===t.ref)return Oc(e,t,i)}return t.flags|=1,e=ii(a,r),e.ref=t.ref,e.return=t,t.child=e}function oc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(_r(a,r)&&e.ref===t.ref)if(nc=!1,t.pendingProps=r=a,kc(e,i))e.flags&131072&&(nc=!0);else return t.lanes=e.lanes,Oc(e,t,i)}return mc(e,t,n,r,i)}function sc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return lc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ha(t,a===null?null:a.cachePool),a===null?Xa():Ya(t,a),no(t);else return r=t.lanes=536870912,lc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ha(t,null),Xa(),ro(t)):(ha(t,a.cachePool),Ya(t,a),ro(t),t.memoizedState=null);return rc(e,t,i,n),t.child}function cc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lc(e,t,n,r,i){var a=ma();return a=a===null?null:{parent:na._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ha(t,null),Xa(),no(t),e!==null&&qi(e,t,r,!0),t.childLanes=i,null}function uc(e,t){return t=Cc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dc(e,t,n){return Na(t,e.child,null,n),e=uc(t,t.pendingProps),e.flags|=2,io(t),t.memoizedState=null,e}function fc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(ki){if(r.mode===`hidden`)return e=uc(t,r),t.lanes=536870912,cc(null,e);if(to(t),(e=Oi)?(e=df(e,ji),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yi===null?null:{id:bi,overflow:xi},retryLane:536870912,hydrationErrors:null},n=li(e),n.return=t,t.child=n,Di=t,Oi=null)):e=null,e===null)throw Ni(t);return t.lanes=536870912,null}return uc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(to(t),a)if(t.flags&256)t.flags&=-257,t=dc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(nc||qi(e,t,n,!1),a=(n&e.childLanes)!==0,nc||a){if(r=Vl,r!==null&&(s=Je(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Zr(e,s),xu(r,e,s),tc;Nu(),t=dc(e,t,n)}else e=o.treeContext,Oi=hf(s.nextSibling),Di=t,ki=!0,Ai=null,ji=!1,e!==null&&Ei(t,e),t=uc(t,r),t.flags|=4096;return t}return e=ii(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function pc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mc(e,t,n,r,i){return Yi(t),n=xo(e,t,n,r,void 0,i),r=To(),e!==null&&!nc?(Eo(e,t,i),Oc(e,t,i)):(ki&&r&&wi(t),t.flags|=1,rc(e,t,n,i),t.child)}function hc(e,t,n,r,i,a){return Yi(t),t.updateQueue=null,n=Co(t,r,n,i),So(e),r=To(),e!==null&&!nc?(Eo(e,t,a),Oc(e,t,a)):(ki&&r&&wi(t),t.flags|=1,rc(e,t,n,a),t.child)}function gc(e,t,n,r,i){if(Yi(t),t.stateNode===null){var a=ei,o=n.contextType;typeof o==`object`&&o&&(a=Xi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Hs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ia(t),o=n.contextType,a.context=typeof o==`object`&&o?Xi(o):ei,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Vs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Hs.enqueueReplaceState(a,a.state,null),Wa(t,r,a,i),Ua(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Gs(n,s);a.props=c;var l=a.context,u=n.contextType;o=ei,typeof u==`object`&&u&&(o=Xi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Ws(t,a,r,o),Fa=!1;var f=t.memoizedState;a.state=f,Wa(t,r,a,i),Ua(),l=t.memoizedState,s||f!==l||Fa?(typeof d==`function`&&(Vs(t,n,d,r),l=t.memoizedState),(c=Fa||Us(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,La(e,t),o=t.memoizedProps,u=Gs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ei,typeof l==`object`&&l&&(c=Xi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Ws(t,a,r,c),Fa=!1,f=t.memoizedState,a.state=f,Wa(t,r,a,i),Ua();var p=t.memoizedState;o!==d||f!==p||Fa||e!==null&&e.dependencies!==null&&Ji(e.dependencies)?(typeof s==`function`&&(Vs(t,n,s,r),p=t.memoizedState),(u=Fa||Us(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Ji(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,pc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Na(t,e.child,null,i),t.child=Na(t,null,n,i)):rc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Oc(e,t,i),e}function _c(e,t,n,r){return Li(),t.flags|=256,rc(e,t,n,r),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:ga()}}function bc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=eu),e}function xc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ao.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(ki){if(a?eo(t):ro(t),(e=Oi)?(e=df(e,ji),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yi===null?null:{id:bi,overflow:xi},retryLane:536870912,hydrationErrors:null},n=li(e),n.return=t,t.child=n,Di=t,Oi=null)):e=null,e===null)throw Ni(t);return pf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(ro(t),a=t.mode,c=Cc({mode:`hidden`,children:c},a),r=si(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=yc(n),r.childLanes=bc(e,s,n),t.memoizedState=vc,cc(null,r)):(eo(t),Sc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(eo(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState===null?(ro(t),c=r.fallback,a=t.mode,r=Cc({mode:`visible`,children:r.children},a),c=si(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Na(t,e.child,null,n),r=t.child,r.memoizedState=yc(n),r.childLanes=bc(e,s,n),t.memoizedState=vc,t=cc(null,r)):(ro(t),t.child=e.child,t.flags|=128,t=null);else if(eo(t),pf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,zi({value:r,source:null,stack:null}),t=wc(e,t,n)}else if(nc||qi(e,t,n,!1),s=(n&e.childLanes)!==0,nc||s){if(s=Vl,s!==null&&(r=Je(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Zr(e,r),xu(s,e,r),tc;ff(c)||Nu(),t=wc(e,t,n)}else ff(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Oi=hf(c.nextSibling),Di=t,ki=!0,Ai=null,ji=!1,e!==null&&Ei(t,e),t=Sc(t,r.children),t.flags|=4096);return t}return a?(ro(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=ii(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=si(c,a,n,null),c.flags|=2):c=ii(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,cc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=yc(n):(a=c.cachePool,a===null?a=ga():(l=na._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=bc(e,s,n),t.memoizedState=vc,cc(e.child,r)):(eo(t),n=e.child,e=n.sibling,n=ii(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Sc(e,t){return t=Cc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Cc(e,t){return e=ni(22,e,null,t),e.lanes=0,e}function wc(e,t,n){return Na(t,e.child,null,n),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gi(e.return,t,n)}function Ec(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Dc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ao.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,te(ao,o),rc(e,t,r,n),r=ki?gi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ec(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ec(t,!0,n,null,a,r);break;case`together`:Ec(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Oc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(qi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ii(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ii(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Ji(e))):!0}function Ac(e,t,n){switch(t.tag){case 3:U(t,t.stateNode.containerInfo),Ui(t,na,e.memoizedState.cache),Li();break;case 27:case 5:oe(t);break;case 4:U(t,t.stateNode.containerInfo);break;case 10:Ui(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,to(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(eo(t),e=Oc(e,t,n),e===null?null:e.sibling):xc(e,t,n):(eo(t),t.flags|=128,null);eo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(qi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Dc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(ao,ao.current),r)break;return null;case 22:return t.lanes=0,sc(e,t,n,t.pendingProps);case 24:Ui(t,na,e.memoizedState.cache)}return Oc(e,t,n)}function jc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)nc=!0;else{if(!kc(e,n)&&!(t.flags&128))return nc=!1,Ac(e,t,n);nc=!!(e.flags&131072)}else nc=!1,ki&&t.flags&1048576&&Ci(t,gi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e==`function`)ri(e)?(r=Gs(e,r),t.tag=1,t=gc(null,t,e,r,n)):(t.tag=0,t=mc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=ic(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=ac(null,t,e,r,n);break a}}throw t=P(e)||e,Error(i(306,t,``))}}return t;case 0:return mc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Gs(r,t.pendingProps),gc(e,t,r,a,n);case 3:a:{if(U(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,La(e,t),Wa(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ui(t,na,r),r!==o.cache&&Ki(t,[na],n,!0),Ua(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=_c(e,t,r,n);break a}else if(r!==a){a=fi(Error(i(424)),t),zi(a),t=_c(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Oi=hf(e.firstChild),Di=t,ki=!0,Ai=null,ji=!0,n=Pa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Li(),r===a){t=Oc(e,t,n);break a}rc(e,t,r,n)}t=t.child}return t;case 26:return pc(e,t),e===null?(n=If(t.type,null,t.pendingProps,null))?t.memoizedState=n:ki||(n=t.type,e=t.pendingProps,r=qd(re.current).createElement(n),r[et]=t,r[tt]=e,Vd(r,n,e),pt(r),t.stateNode=r):t.memoizedState=If(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oe(t),e===null&&ki&&(r=t.stateNode=yf(t.type,t.pendingProps,re.current),Di=t,ji=!0,a=Oi,af(t.type)?(gf=a,Oi=hf(r.firstChild)):Oi=a),rc(e,t,t.pendingProps.children,n),pc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ki&&((a=r=Oi)&&(r=lf(r,t.type,t.pendingProps,ji),r===null?a=!1:(t.stateNode=r,Di=t,Oi=hf(r.firstChild),ji=!1,a=!0)),a||Ni(t)),oe(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Xd(a,o)?r=null:s!==null&&Xd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=xo(e,t,wo,null,null,n),ap._currentValue=a),pc(e,t),rc(e,t,r,n),t.child;case 6:return e===null&&ki&&((e=n=Oi)&&(n=uf(n,t.pendingProps,ji),n===null?e=!1:(t.stateNode=n,Di=t,Oi=null,e=!0)),e||Ni(t)),null;case 13:return xc(e,t,n);case 4:return U(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Na(t,null,r,n):rc(e,t,r,n),t.child;case 11:return ic(e,t,t.type,t.pendingProps,n);case 7:return rc(e,t,t.pendingProps,n),t.child;case 8:return rc(e,t,t.pendingProps.children,n),t.child;case 12:return rc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ui(t,t.type,r.value),rc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Yi(t),a=Xi(a),r=r(a),t.flags|=1,rc(e,t,r,n),t.child;case 14:return ac(e,t,t.type,t.pendingProps,n);case 15:return oc(e,t,t.type,t.pendingProps,n);case 19:return Dc(e,t,n);case 31:return fc(e,t,n);case 22:return sc(e,t,n,t.pendingProps);case 24:return Yi(t),r=Xi(na),e===null?(a=ma(),a===null&&(a=Vl,o=ra(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ia(t),Ui(t,na,a)):((e.lanes&n)!==0&&(La(e,t),Wa(t,null,null,n),Ua()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Ui(t,na,r),r!==a.cache&&Ki(t,[na],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Ui(t,na,r))),rc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Mc(e){e.flags|=4}function Nc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Au())e.flags|=8192;else throw wa=ba,va}else e.flags&=-16777217}function Pc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Zf(t))if(Au())e.flags|=8192;else throw wa=ba,va}function Fc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:He(),e.lanes|=t,tu|=t)}function Ic(e,t){if(!ki)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rc(e,t,n){var r=t.pendingProps;switch(Ti(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lc(t),null;case 1:return Lc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Wi(na),ae(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ii(t)?Mc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ri())),Lc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Mc(t),o===null?(Lc(t),Nc(t,a,null,r,n)):(Lc(t),Pc(t,o))):o?o===e.memoizedState?(Lc(t),t.flags&=-16777217):(Mc(t),Lc(t),Pc(t,o)):(e=e.memoizedProps,e!==r&&Mc(t),Lc(t),Nc(t,a,e,r,n)),null;case 27:if(W(t),n=re.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Lc(t),null}e=H.current,Ii(t)?Pi(t,e):(e=yf(a,r,n),t.stateNode=e,Mc(t))}return Lc(t),null;case 5:if(W(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Lc(t),null}if(o=H.current,Ii(t))Pi(t,o);else{var s=qd(re.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[et]=t,o[tt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Vd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Mc(t)}}return Lc(t),Nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=re.current,Ii(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Di,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[et]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Rd(e.nodeValue,n)),e||Ni(t,!0)}else e=qd(e).createTextNode(r),e[et]=t,t.stateNode=e}return Lc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ii(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[et]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lc(t),e=!1}else n=Ri(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(io(t),t):(io(t),null);if(t.flags&128)throw Error(i(558))}return Lc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[et]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lc(t),a=!1}else a=Ri(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(io(t),t):(io(t),null)}return io(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fc(t,t.updateQueue),Lc(t),null);case 4:return ae(),e===null&&Od(t.stateNode.containerInfo),Lc(t),null;case 10:return Wi(t.type),Lc(t),null;case 19:if(V(ao),r=t.memoizedState,r===null)return Lc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Ic(r,!1);else{if(Xl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oo(e),o!==null){for(t.flags|=128,Ic(r,!1),e=o.updateQueue,t.updateQueue=e,Fc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ai(n,e),n=n.sibling;return te(ao,ao.current&1|2),ki&&Si(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&ye()>su&&(t.flags|=128,a=!0,Ic(r,!1),t.lanes=4194304)}else{if(!a)if(e=oo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fc(t,e),Ic(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!ki)return Lc(t),null}else 2*ye()-r.renderingStartTime>su&&n!==536870912&&(t.flags|=128,a=!0,Ic(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Lc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ye(),e.sibling=null,n=ao.current,te(ao,a?n&1|2:n&1),ki&&Si(t,r.treeForkCount),e);case 22:case 23:return io(t),Za(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Lc(t),t.subtreeFlags&6&&(t.flags|=8192)):Lc(t),n=t.updateQueue,n!==null&&Fc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&V(pa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wi(na),Lc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function zc(e,t){switch(Ti(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wi(na),ae(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return W(t),null;case 31:if(t.memoizedState!==null){if(io(t),t.alternate===null)throw Error(i(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(io(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(ao),null;case 4:return ae(),null;case 10:return Wi(t.type),null;case 22:case 23:return io(t),Za(),e!==null&&V(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wi(na),null;case 25:return null;default:return null}}function Bc(e,t){switch(Ti(t),t.tag){case 3:Wi(na),ae();break;case 26:case 27:case 5:W(t);break;case 4:ae();break;case 31:t.memoizedState!==null&&io(t);break;case 13:io(t);break;case 19:V(ao);break;case 10:Wi(t.type);break;case 22:case 23:io(t),Za(),e!==null&&V(pa);break;case 24:Wi(na)}}function Vc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Xu(t,t.return,e)}}function Hc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Xu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Xu(t,t.return,e)}}function Uc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ka(t,n)}catch(t){Xu(e,e.return,t)}}}function Wc(e,t,n){n.props=Gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Xu(e,t,n)}}function Gc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Xu(e,t,n)}}function Kc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Xu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Xu(e,t,n)}else n.current=null}function qc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Xu(e,e.return,t)}}function Jc(e,t,n){try{var r=e.stateNode;Hd(r,e.type,n,t),r[tt]=t}catch(t){Xu(e,e.return,t)}}function Yc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&af(e.type)||e.tag===4}function Xc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Yc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&af(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qt));else if(r!==4&&(r===27&&af(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,n),e=e.sibling;e!==null;)Zc(e,t,n),e=e.sibling}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&af(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Vd(t,r,n),t[et]=e,t[tt]=n}catch(t){Xu(e,e.return,t)}}var el=!1,tl=!1,nl=!1,rl=typeof WeakSet==`function`?WeakSet:Set,il=null;function al(e,t){if(e=e.containerInfo,Gd=mp,e=xr(e),Sr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Kd={focusedElem:e,selectionRange:n},mp=!1,il=t;il!==null;)if(t=il,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,il=e;else for(;il!==null;){switch(t=il,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Gs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Xu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:cf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,il=e;break}il=t.return}}function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:xl(e,n),r&4&&Vc(5,n);break;case 1:if(xl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Xu(n,n.return,e)}else{var i=Gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Xu(n,n.return,e)}}r&64&&Uc(n),r&512&&Gc(n,n.return);break;case 3:if(xl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ka(e,t)}catch(e){Xu(n,n.return,e)}}break;case 27:t===null&&r&4&&$c(n);case 26:case 5:xl(e,n),t===null&&r&4&&qc(n),r&512&&Gc(n,n.return);break;case 12:xl(e,n);break;case 31:xl(e,n),r&4&&fl(e,n);break;case 13:xl(e,n),r&4&&pl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ed.bind(null,n),mf(e,n))));break;case 22:if(r=n.memoizedState!==null||el,!r){t=t!==null&&t.memoizedState!==null||tl,i=el;var a=tl;el=r,(tl=t)&&!a?Cl(e,n,(n.subtreeFlags&8772)!=0):xl(e,n),el=i,tl=a}break;case 30:break;default:xl(e,n)}}function sl(e){var t=e.alternate;t!==null&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ct(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var cl=null,ll=!1;function ul(e,t,n){for(n=n.child;n!==null;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(ke&&typeof ke.onCommitFiberUnmount==`function`)try{ke.onCommitFiberUnmount(Oe,n)}catch{}switch(n.tag){case 26:tl||Kc(n,t),ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tl||Kc(n,t);var r=cl,i=ll;af(n.type)&&(cl=n.stateNode,ll=!1),ul(e,t,n),bf(n.stateNode),cl=r,ll=i;break;case 5:tl||Kc(n,t);case 6:if(r=cl,i=ll,cl=null,ul(e,t,n),cl=r,ll=i,cl!==null)if(ll)try{(cl.nodeType===9?cl.body:cl.nodeName===`HTML`?cl.ownerDocument.body:cl).removeChild(n.stateNode)}catch(e){Xu(n,t,e)}else try{cl.removeChild(n.stateNode)}catch(e){Xu(n,t,e)}break;case 18:cl!==null&&(ll?(e=cl,of(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Bp(e)):of(cl,n.stateNode));break;case 4:r=cl,i=ll,cl=n.stateNode.containerInfo,ll=!0,ul(e,t,n),cl=r,ll=i;break;case 0:case 11:case 14:case 15:Hc(2,n,t),tl||Hc(4,n,t),ul(e,t,n);break;case 1:tl||(Kc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Wc(n,t,r)),ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:tl=(r=tl)||n.memoizedState!==null,ul(e,t,n),tl=r;break;default:ul(e,t,n)}}function fl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bp(e)}catch(e){Xu(t,t.return,e)}}}function pl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bp(e)}catch(e){Xu(t,t.return,e)}}function ml(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rl),t;default:throw Error(i(435,e.tag))}}function hl(e,t){var n=ml(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=td.bind(null,e,t);t.then(r,r)}})}function gl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(af(c.type)){cl=c.stateNode,ll=!1;break a}break;case 5:cl=c.stateNode,ll=!1;break a;case 3:case 4:cl=c.stateNode.containerInfo,ll=!0;break a}c=c.return}if(cl===null)throw Error(i(160));dl(o,s,a),cl=null,ll=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vl(t,e),t=t.sibling}var _l=null;function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gl(t,e),yl(e),r&4&&(Hc(3,e,e.return),Vc(3,e),Hc(5,e,e.return));break;case 1:gl(t,e),yl(e),r&512&&(tl||n===null||Kc(n,n.return)),r&64&&el&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=_l;if(gl(t,e),yl(e),r&512&&(tl||n===null||Kc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[st]||o[et]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Vd(o,r,n),o[et]=e,pt(o),r=o;break a;case`link`:var s=Jf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Vd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Jf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Vd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[et]=e,pt(o),r=o}e.stateNode=r}else Yf(a,e.type,e.stateNode);else e.stateNode=Uf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Jc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Yf(a,e.type,e.stateNode):Uf(a,r,e.memoizedProps))}break;case 27:gl(t,e),yl(e),r&512&&(tl||n===null||Kc(n,n.return)),n!==null&&r&4&&Jc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gl(t,e),yl(e),r&512&&(tl||n===null||Kc(n,n.return)),e.flags&32){a=e.stateNode;try{zt(a,``)}catch(t){Xu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Jc(e,a,n===null?a:n.memoizedProps)),r&1024&&(nl=!0);break;case 6:if(gl(t,e),yl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Xu(e,e.return,t)}}break;case 3:if(qf=null,a=_l,_l=Cf(t.containerInfo),gl(t,e),_l=a,yl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bp(t.containerInfo)}catch(t){Xu(e,e.return,t)}nl&&(nl=!1,bl(e));break;case 4:r=_l,_l=Cf(e.stateNode.containerInfo),gl(t,e),yl(e),_l=r;break;case 12:gl(t,e),yl(e);break;case 31:gl(t,e),yl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,hl(e,r)));break;case 13:gl(t,e),yl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(au=ye()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,hl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=el,d=tl;if(el=u||a,tl=d||l,gl(t,e),tl=d,el=u,yl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||el||tl||Sl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Xu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Xu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?sf(m,!0):sf(l.stateNode,!1)}catch(e){Xu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,hl(e,n))));break;case 19:gl(t,e),yl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,hl(e,r)));break;case 30:break;case 21:break;default:gl(t,e),yl(e)}}function yl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Yc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Qc(e,Xc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(zt(o,``),n.flags&=-33),Qc(e,Xc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Zc(e,Xc(e),s);break;default:throw Error(i(161))}}catch(t){Xu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ol(e,t.alternate,t),t=t.sibling}function Sl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hc(4,t,t.return),Sl(t);break;case 1:Kc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Wc(t,t.return,n),Sl(t);break;case 27:bf(t.stateNode);case 26:case 5:Kc(t,t.return),Sl(t);break;case 22:t.memoizedState===null&&Sl(t);break;case 30:Sl(t);break;default:Sl(t)}e=e.sibling}}function Cl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Cl(i,a,n),Vc(4,a);break;case 1:if(Cl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Xu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ga(c[i],s)}catch(e){Xu(r,r.return,e)}}n&&o&64&&Uc(a),Gc(a,a.return);break;case 27:$c(a);case 26:case 5:Cl(i,a,n),n&&r===null&&o&4&&qc(a),Gc(a,a.return);break;case 12:Cl(i,a,n);break;case 31:Cl(i,a,n),n&&o&4&&fl(i,a);break;case 13:Cl(i,a,n),n&&o&4&&pl(i,a);break;case 22:a.memoizedState===null&&Cl(i,a,n),Gc(a,a.return);break;case 30:break;default:Cl(i,a,n)}t=t.sibling}}function wl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ia(n))}function Tl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ia(e))}function El(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dl(e,t,n,r),t=t.sibling}function Dl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:El(e,t,n,r),i&2048&&Vc(9,t);break;case 1:El(e,t,n,r);break;case 3:El(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ia(e)));break;case 12:if(i&2048){El(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Xu(t,t.return,e)}}else El(e,t,n,r);break;case 31:El(e,t,n,r);break;case 13:El(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?El(e,t,n,r):(a._visibility|=2,Ol(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?El(e,t,n,r):kl(e,t),i&2048&&wl(o,t);break;case 24:El(e,t,n,r),i&2048&&Tl(t.alternate,t);break;default:El(e,t,n,r)}}function Ol(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Ol(a,o,s,c,i),Vc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Ol(a,o,s,c,i)):u._visibility&2?Ol(a,o,s,c,i):kl(a,o),i&&l&2048&&wl(o.alternate,o);break;case 24:Ol(a,o,s,c,i),i&&l&2048&&Tl(o.alternate,o);break;default:Ol(a,o,s,c,i)}t=t.sibling}}function kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:kl(n,r),i&2048&&wl(r.alternate,r);break;case 24:kl(n,r),i&2048&&Tl(r.alternate,r);break;default:kl(n,r)}t=t.sibling}}var Al=8192;function jl(e,t,n){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)Ml(e,t,n),e=e.sibling}function Ml(e,t,n){switch(e.tag){case 26:jl(e,t,n),e.flags&Al&&e.memoizedState!==null&&Qf(n,_l,e.memoizedState,e.memoizedProps);break;case 5:jl(e,t,n);break;case 3:case 4:var r=_l;_l=Cf(e.stateNode.containerInfo),jl(e,t,n),_l=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,jl(e,t,n),Al=r):jl(e,t,n));break;default:jl(e,t,n)}}function Nl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];il=r,Ll(r,e)}Nl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fl(e),e=e.sibling}function Fl(e){switch(e.tag){case 0:case 11:case 15:Pl(e),e.flags&2048&&Hc(9,e,e.return);break;case 3:Pl(e);break;case 12:Pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Il(e)):Pl(e);break;default:Pl(e)}}function Il(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];il=r,Ll(r,e)}Nl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hc(8,t,t.return),Il(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Il(t));break;default:Il(t)}e=e.sibling}}function Ll(e,t){for(;il!==null;){var n=il;switch(n.tag){case 0:case 11:case 15:Hc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ia(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,il=r;else a:for(n=e;il!==null;){r=il;var i=r.sibling,a=r.return;if(sl(r),r===n){il=null;break a}if(i!==null){i.return=a,il=i;break a}il=a}}}var Rl={getCacheForType:function(e){var t=Xi(na),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Xi(na).controller.signal}},zl=typeof WeakMap==`function`?WeakMap:Map,Bl=0,Vl=null,Hl=null,Ul=0,Wl=0,Gl=null,Kl=!1,ql=!1,Jl=!1,Yl=0,Xl=0,Zl=0,Ql=0,$l=0,eu=0,tu=0,nu=null,ru=null,iu=!1,au=0,ou=0,su=1/0,cu=null,lu=null,uu=0,du=null,fu=null,pu=0,mu=0,hu=null,gu=null,_u=0,vu=null;function yu(){return Bl&2&&Ul!==0?Ul&-Ul:I.T===null?Ze():_d()}function bu(){if(eu===0)if(!(Ul&536870912)||ki){var e=Ie;Ie<<=1,!(Ie&3932160)&&(Ie=262144),eu=e}else eu=536870912;return e=Qa.current,e!==null&&(e.flags|=32),eu}function xu(e,t,n){(e===Vl&&(Wl===2||Wl===9)||e.cancelPendingCommit!==null)&&(Ou(e,0),Tu(e,Ul,eu,!1)),We(e,n),(!(Bl&2)||e!==Vl)&&(e===Vl&&(!(Bl&2)&&(Ql|=n),Xl===4&&Tu(e,Ul,eu,!1)),ld(e))}function Su(e,t,n){if(Bl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Be(e,t),a=r?Fu(e,t):G(e,t,!0),o=r;do{if(a===0){ql&&!r&&Tu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!wu(n)){a=G(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=nu;var l=c.current.memoizedState.isDehydrated;if(l&&(Ou(c,s).flags|=256),s=G(c,s,!1),s!==2){if(Jl&&!l){c.errorRecoveryDisabledLanes|=o,Ql|=o,a=4;break a}o=ru,ru=a,o!==null&&(ru===null?ru=o:ru.push.apply(ru,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Ou(e,0),Tu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Tu(r,t,eu,!Kl);break a;case 2:ru=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=au+300-ye(),10<a)){if(Tu(r,t,eu,!Kl),ze(r,0,!0)!==0)break a;pu=t,r.timeoutHandle=$d(Cu.bind(null,r,n,ru,cu,iu,t,eu,Ql,tu,Kl,o,`Throttled`,-0,0),a);break a}Cu(r,n,ru,cu,iu,t,eu,Ql,tu,Kl,o,null,-0,0)}}break}while(1);ld(e)}function Cu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qt},Ml(t,a,d);var m=(a&62914560)===a?au-ye():(a&4194048)===a?ou-ye():0;if(m=ep(d,m),m!==null){pu=a,e.cancelPendingCommit=m(Hu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Tu(e,a,o,!l);return}}Hu(e,t,a,n,r,i,o,s,c)}function wu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!gr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tu(e,t,n,r){t&=~$l,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-je(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Ke(e,n,t)}function Eu(){return Bl&6?!0:(ud(0,!1),!1)}function Du(){if(Hl!==null){if(Wl===0)var e=Hl.return;else e=Hl,Hi=Vi=null,Do(e),Da=null,Oa=0,e=Hl;for(;e!==null;)Bc(e.alternate,e),e=e.return;Hl=null}}function Ou(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ef(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pu=0,Du(),Vl=e,Hl=n=ii(e.current,null),Ul=t,Wl=0,Gl=null,Kl=!1,ql=Be(e,t),Jl=!1,tu=eu=$l=Ql=Zl=Xl=0,ru=nu=null,iu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-je(r),a=1<<i;t|=e[i],r&=~a}return Yl=t,Jr(),n}function ku(e,t){co=null,I.H=Ls,t===_a||t===ya?(t=Ta(),Wl=3):t===va?(t=Ta(),Wl=4):Wl=t===tc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Gl=t,Hl===null&&(Xl=1,Ys(e,fi(t,e.current)))}function Au(){var e=Qa.current;return e===null?!0:(Ul&4194048)===Ul?$a===null:(Ul&62914560)===Ul||Ul&536870912?e===$a:!1}function ju(){var e=I.H;return I.H=Ls,e===null?Ls:e}function Mu(){var e=I.A;return I.A=Rl,e}function Nu(){Xl=4,Kl||(Ul&4194048)!==Ul&&Qa.current!==null||(ql=!0),!(Zl&134217727)&&!(Ql&134217727)||Vl===null||Tu(Vl,Ul,eu,!1)}function G(e,t,n){var r=Bl;Bl|=2;var i=ju(),a=Mu();(Vl!==e||Ul!==t)&&(cu=null,Ou(e,t)),t=!1;var o=Xl;a:do try{if(Wl!==0&&Hl!==null){var s=Hl,c=Gl;switch(Wl){case 8:Du(),o=6;break a;case 3:case 2:case 9:case 6:Qa.current===null&&(t=!0);var l=Wl;if(Wl=0,Gl=null,zu(e,s,c,l),n&&ql){o=0;break a}break;default:l=Wl,Wl=0,Gl=null,zu(e,s,c,l)}}Pu(),o=Xl;break}catch(t){ku(e,t)}while(1);return t&&e.shellSuspendCounter++,Hi=Vi=null,Bl=r,I.H=i,I.A=a,Hl===null&&(Vl=null,Ul=0,Jr()),o}function Pu(){for(;Hl!==null;)Lu(Hl)}function Fu(e,t){var n=Bl;Bl|=2;var r=ju(),a=Mu();Vl!==e||Ul!==t?(cu=null,su=ye()+500,Ou(e,t)):ql=Be(e,t);a:do try{if(Wl!==0&&Hl!==null){t=Hl;var o=Gl;b:switch(Wl){case 1:Wl=0,Gl=null,zu(e,t,o,1);break;case 2:case 9:if(xa(o)){Wl=0,Gl=null,Ru(t);break}t=function(){Wl!==2&&Wl!==9||Vl!==e||(Wl=7),ld(e)},o.then(t,t);break a;case 3:Wl=7;break a;case 4:Wl=5;break a;case 7:xa(o)?(Wl=0,Gl=null,Ru(t)):(Wl=0,Gl=null,zu(e,t,o,7));break;case 5:var s=null;switch(Hl.tag){case 26:s=Hl.memoizedState;case 5:case 27:var c=Hl;if(s?Zf(s):c.stateNode.complete){Wl=0,Gl=null;var l=c.sibling;if(l!==null)Hl=l;else{var u=c.return;u===null?Hl=null:(Hl=u,Bu(u))}break b}}Wl=0,Gl=null,zu(e,t,o,5);break;case 6:Wl=0,Gl=null,zu(e,t,o,6);break;case 8:Du(),Xl=6;break a;default:throw Error(i(462))}}Iu();break}catch(t){ku(e,t)}while(1);return Hi=Vi=null,I.H=r,I.A=a,Bl=n,Hl===null?(Vl=null,Ul=0,Jr(),Xl):0}function Iu(){for(;Hl!==null&&!_e();)Lu(Hl)}function Lu(e){var t=jc(e.alternate,e,Yl);e.memoizedProps=e.pendingProps,t===null?Bu(e):Hl=t}function Ru(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hc(n,t,t.pendingProps,t.type,void 0,Ul);break;case 11:t=hc(n,t,t.pendingProps,t.type.render,t.ref,Ul);break;case 5:Do(t);default:Bc(n,t),t=Hl=ai(t,Yl),t=jc(n,t,Yl)}e.memoizedProps=e.pendingProps,t===null?Bu(e):Hl=t}function zu(e,t,n,r){Hi=Vi=null,Do(t),Da=null,Oa=0;var i=t.return;try{if(ec(e,i,t,n,Ul)){Xl=1,Ys(e,fi(n,e.current)),Hl=null;return}}catch(t){if(i!==null)throw Hl=i,t;Xl=1,Ys(e,fi(n,e.current)),Hl=null;return}t.flags&32768?(ki||r===1?e=!0:ql||Ul&536870912?e=!1:(Kl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Qa.current,r!==null&&r.tag===13&&(r.flags|=16384))),Vu(t,e)):Bu(t)}function Bu(e){var t=e;do{if(t.flags&32768){Vu(t,Kl);return}e=t.return;var n=Rc(t.alternate,t,Yl);if(n!==null){Hl=n;return}if(t=t.sibling,t!==null){Hl=t;return}Hl=t=e}while(t!==null);Xl===0&&(Xl=5)}function Vu(e,t){do{var n=zc(e.alternate,e);if(n!==null){n.flags&=32767,Hl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Hl=e;return}Hl=e=n}while(e!==null);Xl=6,Hl=null}function Hu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do qu();while(uu!==0);if(Bl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=qr,Ge(e,n,o,s,c,l),e===Vl&&(Hl=Vl=null,Ul=0),fu=t,du=e,pu=n,mu=o,hu=a,gu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,nd(Ce,function(){return Ju(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=I.T,I.T=null,a=L.p,L.p=2,s=Bl,Bl|=4;try{al(e,t,n)}finally{Bl=s,L.p=a,I.T=r}}uu=1,Uu(),Wu(),Gu()}}function Uu(){if(uu===1){uu=0;var e=du,t=fu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Bl;Bl|=4;try{vl(t,e);var a=Kd,o=xr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&br(s.ownerDocument.documentElement,s)){if(c!==null&&Sr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=yr(s,h),v=yr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}mp=!!Gd,Kd=Gd=null}finally{Bl=i,L.p=r,I.T=n}}e.current=t,uu=2}}function Wu(){if(uu===2){uu=0;var e=du,t=fu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Bl;Bl|=4;try{ol(e,t.alternate,t)}finally{Bl=i,L.p=r,I.T=n}}uu=3}}function Gu(){if(uu===4||uu===3){uu=0,ve();var e=du,t=fu,n=pu,r=gu;t.subtreeFlags&10256||t.flags&10256?uu=5:(uu=0,fu=du=null,Ku(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(lu=null),Xe(n),t=t.stateNode,ke&&typeof ke.onCommitFiberRoot==`function`)try{ke.onCommitFiberRoot(Oe,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=I.T,i=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,L.p=i}}pu&3&&qu(),ld(e),i=e.pendingLanes,n&261930&&i&42?e===vu?_u++:(_u=0,vu=e):_u=0,ud(0,!1)}}function Ku(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ia(t)))}function qu(){return Uu(),Wu(),Gu(),Ju()}function Ju(){if(uu!==5)return!1;var e=du,t=mu;mu=0;var n=Xe(pu),r=I.T,a=L.p;try{L.p=32>n?32:n,I.T=null,n=hu,hu=null;var o=du,s=pu;if(uu=0,fu=du=null,pu=0,Bl&6)throw Error(i(331));var c=Bl;if(Bl|=4,Fl(o.current),Dl(o,o.current,s,n),Bl=c,ud(0,!1),ke&&typeof ke.onPostCommitFiberRoot==`function`)try{ke.onPostCommitFiberRoot(Oe,o)}catch{}return!0}finally{L.p=a,I.T=r,Ku(e,t)}}function Yu(e,t,n){t=fi(n,t),t=Zs(e.stateNode,t,2),e=za(e,t,2),e!==null&&(We(e,2),ld(e))}function Xu(e,t,n){if(e.tag===3)Yu(e,e,n);else for(;t!==null;){if(t.tag===3){Yu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(lu===null||!lu.has(r))){e=fi(n,e),n=Qs(2),r=za(t,n,2),r!==null&&($s(n,r,t,e),We(r,2),ld(r));break}}t=t.return}}function Zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Jl=!0,i.add(n),e=Qu.bind(null,e,t,n),t.then(e,e))}function Qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Vl===e&&(Ul&n)===n&&(Xl===4||Xl===3&&(Ul&62914560)===Ul&&300>ye()-au?!(Bl&2)&&Ou(e,0):$l|=n,tu===Ul&&(tu=0)),ld(e)}function $u(e,t){t===0&&(t=He()),e=Zr(e,t),e!==null&&(We(e,t),ld(e))}function ed(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$u(e,n)}function td(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),$u(e,n)}function nd(e,t){return he(e,t)}var rd=null,id=null,ad=!1,od=!1,sd=!1,cd=0;function ld(e){e!==id&&e.next===null&&(id===null?rd=id=e:id=id.next=e),od=!0,ad||(ad=!0,gd())}function ud(e,t){if(!sd&&od){sd=!0;do for(var n=!1,r=rd;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-je(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,hd(r,a))}else a=Ul,a=ze(r,r===Vl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Be(r,a)||(n=!0,hd(r,a));r=r.next}while(n);sd=!1}}function dd(){fd()}function fd(){od=ad=!1;var e=0;cd!==0&&Qd()&&(e=cd);for(var t=ye(),n=null,r=rd;r!==null;){var i=r.next,a=pd(r,t);a===0?(r.next=null,n===null?rd=i:n.next=i,i===null&&(id=n)):(n=r,(e!==0||a&3)&&(od=!0)),r=i}uu!==0&&uu!==5||ud(e,!1),cd!==0&&(cd=0)}function pd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-je(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ve(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Vl,n=Ul,n=ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Wl===2||Wl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ge(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Be(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ge(r),Xe(n)){case 2:case 8:n=Se;break;case 32:n=Ce;break;case 268435456:n=Te;break;default:n=Ce}return r=md.bind(null,e),n=he(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ge(r),e.callbackPriority=2,e.callbackNode=null,2}function md(e,t){if(uu!==0&&uu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qu()&&e.callbackNode!==n)return null;var r=Ul;return r=ze(e,e===Vl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Su(e,r,t),pd(e,ye()),e.callbackNode!=null&&e.callbackNode===n?md.bind(null,e):null)}function hd(e,t){if(qu())return null;Su(e,t,!0)}function gd(){nf(function(){Bl&6?he(xe,dd):fd()})}function _d(){if(cd===0){var e=sa;e===0&&(e=Fe,Fe<<=1,!(Fe&261888)&&(Fe=256)),cd=e}return cd}function vd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Kt(``+e)}function yd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function bd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=vd((i[tt]||null).action),o=r.submitter;o&&(t=(t=o[tt]||null)?vd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new hn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(cd!==0){var e=o?yd(i,o):new FormData(i);Cs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?yd(i,o):new FormData(i),Cs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var xd=0;xd<Hr.length;xd++){var Sd=Hr[xd];Ur(Sd.toLowerCase(),`on`+(Sd[0].toUpperCase()+Sd.slice(1)))}Ur(Pr,`onAnimationEnd`),Ur(Fr,`onAnimationIteration`),Ur(Ir,`onAnimationStart`),Ur(`dblclick`,`onDoubleClick`),Ur(`focusin`,`onFocus`),Ur(`focusout`,`onBlur`),Ur(Lr,`onTransitionRun`),Ur(Rr,`onTransitionStart`),Ur(zr,`onTransitionCancel`),Ur(Br,`onTransitionEnd`),_t(`onMouseEnter`,[`mouseout`,`mouseover`]),_t(`onMouseLeave`,[`mouseout`,`mouseover`]),_t(`onPointerEnter`,[`pointerout`,`pointerover`]),_t(`onPointerLeave`,[`pointerout`,`pointerover`]),gt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),gt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),gt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),gt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),gt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),gt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Cd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),wd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Cd));function Td(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Wr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Wr(e)}i.currentTarget=null,a=c}}}}function K(e,t){var n=t[rt];n===void 0&&(n=t[rt]=new Set);var r=e+`__bubble`;n.has(r)||(kd(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),kd(n,e,r,t)}var Dd=`_reactListening`+Math.random().toString(36).slice(2);function Od(e){if(!e[Dd]){e[Dd]=!0,mt.forEach(function(t){t!==`selectionchange`&&(wd.has(t)||Ed(t,!1,e),Ed(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dd]||(t[Dd]=!0,Ed(`selectionchange`,!1,t))}}function kd(e,t,n,r){switch(xp(t)){case 2:var i=hp;break;case 8:i=gp;break;default:i=_p}n=i.bind(null,t,n,e),i=void 0,!rn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ad(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=lt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}en(function(){var r=a,i=Yt(n),s=[];a:{var c=Vr.get(e);if(c!==void 0){var l=hn,u=e;switch(e){case`keypress`:if(un(n)===0)break a;case`keydown`:case`keyup`:l=Nn;break;case`focusin`:u=`focus`,l=wn;break;case`focusout`:u=`blur`,l=wn;break;case`beforeblur`:case`afterblur`:l=wn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Sn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Cn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Fn;break;case Pr:case Fr:case Ir:l=Tn;break;case Br:l=In;break;case`scroll`:case`scrollend`:l=_n;break;case`wheel`:l=Ln;break;case`copy`:case`cut`:case`paste`:l=En;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Pn;break;case`toggle`:case`beforetoggle`:l=Rn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=tn(m,p),g!=null&&d.push(jd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Jt&&(u=n.relatedTarget||n.fromElement)&&(lt(u)||u[nt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?lt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Sn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Pn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:dt(l),h=u==null?c:dt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,lt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Nd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Pd(s,c,l,d,!1),u!==null&&f!==null&&Pd(s,f,u,d,!0)}}a:{if(c=r?dt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=ir;else if(Qn(c))if(ar)v=mr;else{v=fr;var y=dr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Ut(r.elementType)&&(v=ir):v=pr;if(v&&=v(e,r)){$n(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Ft(c,`number`,c.value)}switch(y=r?dt(r):window,e){case`focusin`:(Qn(y)||y.contentEditable===`true`)&&(wr=y,Tr=r,Er=null);break;case`focusout`:Er=Tr=wr=null;break;case`mousedown`:Dr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Dr=!1,Or(s,n,i);break;case`selectionchange`:if(Cr)break;case`keydown`:case`keyup`:Or(s,n,i)}var b;if(Bn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Jn?Kn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Un&&n.locale!==`ko`&&(Jn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Jn&&(b=ln()):(on=i,sn=`value`in on?on.value:on.textContent,Jn=!0)),y=Md(r,x),0<y.length&&(x=new Dn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=qn(n),b!==null&&(x.data=b)))),(b=Hn?Yn(e,n):Xn(e,n))&&(x=Md(r,`onBeforeInput`),0<x.length&&(y=new Dn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),bd(s,e,r,n,i)}Td(s,t)})}function jd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Md(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=tn(e,n),i!=null&&r.unshift(jd(e,i,a)),i=tn(e,t),i!=null&&r.push(jd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=tn(n,a),l!=null&&o.unshift(jd(n,l,c))):i||(l=tn(n,a),l!=null&&o.push(jd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Fd=/\r\n?/g,Id=/\u0000|\uFFFD/g;function Ld(e){return(typeof e==`string`?e:``+e).replace(Fd,`
`).replace(Id,``)}function Rd(e,t){return t=Ld(t),Ld(e)===t}function zd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&zt(e,``+r);break;case`className`:Ct(e,`class`,r);break;case`tabIndex`:Ct(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ct(e,n,r);break;case`style`:Ht(e,r,o);break;case`data`:if(t!==`object`){Ct(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Kt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&zd(e,t,`name`,a.name,a,null),zd(e,t,`formEncType`,a.formEncType,a,null),zd(e,t,`formMethod`,a.formMethod,a,null),zd(e,t,`formTarget`,a.formTarget,a,null)):(zd(e,t,`encType`,a.encType,a,null),zd(e,t,`method`,a.method,a,null),zd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Kt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=qt);break;case`onScroll`:r!=null&&K(`scroll`,e);break;case`onScrollEnd`:r!=null&&K(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Kt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:K(`beforetoggle`,e),K(`toggle`,e),St(e,`popover`,r);break;case`xlinkActuate`:wt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:wt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:wt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:wt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:wt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:wt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:wt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:wt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:wt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:St(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Wt.get(n)||n,St(e,n,r))}}function Bd(e,t,n,r,a,o){switch(n){case`style`:Ht(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&zt(e,``+r);break;case`onScroll`:r!=null&&K(`scroll`,e);break;case`onScrollEnd`:r!=null&&K(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=qt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!ht.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[tt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):St(e,n,r)}}}function Vd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:K(`error`,e),K(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:zd(e,t,o,s,n,null)}}a&&zd(e,t,`srcSet`,n.srcSet,n,null),r&&zd(e,t,`src`,n.src,n,null);return;case`input`:K(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:zd(e,t,r,d,n,null)}}Pt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in K(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:zd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&It(e,!!r,n,!0):It(e,!!r,t,!1);return;case`textarea`:for(s in K(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:zd(e,t,s,c,n,null)}Rt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:zd(e,t,l,r,n,null)}return;case`dialog`:K(`beforetoggle`,e),K(`toggle`,e),K(`cancel`,e),K(`close`,e);break;case`iframe`:case`object`:K(`load`,e);break;case`video`:case`audio`:for(r=0;r<Cd.length;r++)K(Cd[r],e);break;case`image`:K(`error`,e),K(`load`,e);break;case`details`:K(`toggle`,e);break;case`embed`:case`source`:case`link`:K(`error`,e),K(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:zd(e,t,u,r,n,null)}return;default:if(Ut(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Bd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&zd(e,t,c,r,n,null))}function Hd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||zd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&zd(e,t,p,m,r,f)}}Nt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||zd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&zd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?It(e,!!n,n?[]:``,!1):It(e,!!n,t,!0)):It(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:zd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&zd(e,t,s,a,r,o)}Lt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:zd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:zd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&zd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:zd(e,t,u,p,r,m)}return;default:if(Ut(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Bd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Bd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&zd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||zd(e,t,f,p,r,m)}function Ud(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Wd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Ud(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Ud(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Gd=null,Kd=null;function qd(e){return e.nodeType===9?e:e.ownerDocument}function Jd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Yd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Xd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Qd(){var e=window.event;return e&&e.type===`popstate`?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var $d=typeof setTimeout==`function`?setTimeout:void 0,ef=typeof clearTimeout==`function`?clearTimeout:void 0,tf=typeof Promise==`function`?Promise:void 0,nf=typeof queueMicrotask==`function`?queueMicrotask:tf===void 0?$d:function(e){return tf.resolve(null).then(e).catch(rf)};function rf(e){setTimeout(function(){throw e})}function af(e){return e===`head`}function of(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Bp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)bf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,bf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[st]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&bf(e.ownerDocument.body);n=i}while(n);Bp(t)}function sf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function cf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:cf(n),ct(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function lf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[st])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=hf(e.nextSibling),e===null)break}return null}function uf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=hf(e.nextSibling),e===null))return null;return e}function df(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=hf(e.nextSibling),e===null))return null;return e}function ff(e){return e.data===`$?`||e.data===`$~`}function pf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function mf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function hf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var gf=null;function _f(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return hf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function yf(e,t,n){switch(t=qd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function bf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ct(e)}var xf=new Map,Sf=new Set;function Cf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wf=L.d;L.d={f:Tf,r:Ef,D:kf,C:Af,L:jf,m:Mf,X:Pf,S:Nf,M:Ff};function Tf(){var e=wf.f(),t=Eu();return e||t}function Ef(e){var t=ut(e);t!==null&&t.tag===5&&t.type===`form`?Ts(t):wf.r(e)}var Df=typeof document>`u`?null:document;function Of(e,t,n){var r=Df;if(r&&typeof t==`string`&&t){var i=Mt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),Sf.has(i)||(Sf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Vd(t,`link`,e),pt(t),r.head.appendChild(t)))}}function kf(e){wf.D(e),Of(`dns-prefetch`,e,null)}function Af(e,t){wf.C(e,t),Of(`preconnect`,e,t)}function jf(e,t,n){wf.L(e,t,n);var r=Df;if(r&&e&&t){var i=`link[rel="preload"][as="`+Mt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Mt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Mt(n.imageSizes)+`"]`)):i+=`[href="`+Mt(e)+`"]`;var a=i;switch(t){case`style`:a=Lf(e);break;case`script`:a=Vf(e)}xf.has(a)||(e=m({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),xf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Rf(a))||t===`script`&&r.querySelector(Hf(a))||(t=r.createElement(`link`),Vd(t,`link`,e),pt(t),r.head.appendChild(t)))}}function Mf(e,t){wf.m(e,t);var n=Df;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Mt(r)+`"][href="`+Mt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Vf(e)}if(!xf.has(a)&&(e=m({rel:`modulepreload`,href:e},t),xf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Hf(a)))return}r=n.createElement(`link`),Vd(r,`link`,e),pt(r),n.head.appendChild(r)}}}function Nf(e,t,n){wf.S(e,t,n);var r=Df;if(r&&e){var i=ft(r).hoistableStyles,a=Lf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Rf(a)))s.loading=5;else{e=m({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=xf.get(a))&&Gf(e,n);var c=o=r.createElement(`link`);pt(c),Vd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Wf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Pf(e,t){wf.X(e,t);var n=Df;if(n&&e){var r=ft(n).hoistableScripts,i=Vf(e),a=r.get(i);a||(a=n.querySelector(Hf(i)),a||(e=m({src:e,async:!0},t),(t=xf.get(i))&&Kf(e,t),a=n.createElement(`script`),pt(a),Vd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Ff(e,t){wf.M(e,t);var n=Df;if(n&&e){var r=ft(n).hoistableScripts,i=Vf(e),a=r.get(i);a||(a=n.querySelector(Hf(i)),a||(e=m({src:e,async:!0,type:`module`},t),(t=xf.get(i))&&Kf(e,t),a=n.createElement(`script`),pt(a),Vd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function If(e,t,n,r){var a=(a=re.current)?Cf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Lf(n.href),n=ft(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Lf(n.href);var o=ft(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Rf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),xf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xf.set(e,n),o||Bf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Vf(n),n=ft(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Lf(e){return`href="`+Mt(e)+`"`}function Rf(e){return`link[rel="stylesheet"][`+e+`]`}function zf(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Bf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Vd(t,`link`,n),pt(t),e.head.appendChild(t))}function Vf(e){return`[src="`+Mt(e)+`"]`}function Hf(e){return`script[async]`+e}function Uf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Mt(n.href)+`"]`);if(r)return t.instance=r,pt(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),pt(r),Vd(r,`style`,a),Wf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Lf(n.href);var o=e.querySelector(Rf(a));if(o)return t.state.loading|=4,t.instance=o,pt(o),o;r=zf(n),(a=xf.get(a))&&Gf(r,a),o=(e.ownerDocument||e).createElement(`link`),pt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Vd(o,`link`,r),t.state.loading|=4,Wf(o,n.precedence,e),t.instance=o;case`script`:return o=Vf(n.src),(a=e.querySelector(Hf(o)))?(t.instance=a,pt(a),a):(r=n,(a=xf.get(o))&&(r=m({},n),Kf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),pt(a),Vd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Wf(r,n.precedence,e));return t.instance}function Wf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Kf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var qf=null;function Jf(e,t,n){if(qf===null){var r=new Map,i=qf=new Map;i.set(n,r)}else i=qf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[st]||a[et]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Yf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Xf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Zf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Qf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Lf(r.href),a=t.querySelector(Rf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=tp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,pt(a);return}a=t.ownerDocument||t,r=zf(r),(i=xf.get(i))&&Gf(r,i),a=a.createElement(`link`),pt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Vd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=tp.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var $f=0;function ep(e,t){return e.stylesheets&&e.count===0&&rp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&rp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&$f===0&&($f=62500*Wd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>$f?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var np=null;function rp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,np=new Map,t.forEach(ip,e),np=null,tp.call(e))}function ip(e,t){if(!(t.state.loading&4)){var n=np.get(e);if(n)var r=n.get(null);else{n=new Map,np.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=tp.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ap={$$typeof:C,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function op(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function sp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new op(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ni(3,null,null,t),e.current=a,a.stateNode=e,t=ra(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ia(a),e}function cp(e){return e?(e=ei,e):ei}function lp(e,t,n,r,i,a){i=cp(i),r.context===null?r.context=i:r.pendingContext=i,r=Ra(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=za(e,r,t),n!==null&&(xu(n,e,t),Ba(n,e,t))}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dp(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function fp(e){if(e.tag===13||e.tag===31){var t=Zr(e,67108864);t!==null&&xu(t,e,67108864),dp(e,67108864)}}function pp(e){if(e.tag===13||e.tag===31){var t=yu();t=Ye(t);var n=Zr(e,t);n!==null&&xu(n,e,t),dp(e,t)}}var mp=!0;function hp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=2,_p(e,t,n,r)}finally{L.p=a,I.T=i}}function gp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=8,_p(e,t,n,r)}finally{L.p=a,I.T=i}}function _p(e,t,n,r){if(mp){var i=vp(r);if(i===null)Ad(e,t,r,yp,n),Ap(e,r);else if(Mp(i,e,t,n,r))r.stopPropagation();else if(Ap(e,r),t&4&&-1<kp.indexOf(e)){for(;i!==null;){var a=ut(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Re(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-je(o);s.entanglements[1]|=c,o&=~c}ld(a),!(Bl&6)&&(su=ye()+500,ud(0,!1))}}break;case 31:case 13:s=Zr(a,2),s!==null&&xu(s,a,2),Eu(),dp(a,2)}if(a=vp(r),a===null&&Ad(e,t,r,yp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ad(e,t,r,null,n)}}function vp(e){return e=Yt(e),bp(e)}var yp=null;function bp(e){if(yp=null,e=lt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yp=e,null}function xp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(be()){case xe:return 2;case Se:return 8;case Ce:case we:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Sp=!1,Cp=null,wp=null,Tp=null,Ep=new Map,Dp=new Map,Op=[],kp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ap(e,t){switch(e){case`focusin`:case`focusout`:Cp=null;break;case`dragenter`:case`dragleave`:wp=null;break;case`mouseover`:case`mouseout`:Tp=null;break;case`pointerover`:case`pointerout`:Ep.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Dp.delete(t.pointerId)}}function jp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ut(t),t!==null&&fp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Mp(e,t,n,r,i){switch(t){case`focusin`:return Cp=jp(Cp,e,t,n,r,i),!0;case`dragenter`:return wp=jp(wp,e,t,n,r,i),!0;case`mouseover`:return Tp=jp(Tp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Ep.set(a,jp(Ep.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Dp.set(a,jp(Dp.get(a)||null,e,t,n,r,i)),!0}return!1}function Np(e){var t=lt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,Qe(e.priority,function(){pp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,Qe(e.priority,function(){pp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jt=r,n.target.dispatchEvent(r),Jt=null}else return t=ut(n),t!==null&&fp(t),e.blockedOn=n,!1;t.shift()}return!0}function Fp(e,t,n){Pp(e)&&n.delete(t)}function Ip(){Sp=!1,Cp!==null&&Pp(Cp)&&(Cp=null),wp!==null&&Pp(wp)&&(wp=null),Tp!==null&&Pp(Tp)&&(Tp=null),Ep.forEach(Fp),Dp.forEach(Fp)}function Lp(e,n){e.blockedOn===n&&(e.blockedOn=null,Sp||(Sp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ip)))}var Rp=null;function zp(e){Rp!==e&&(Rp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rp===e&&(Rp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(bp(r||n)===null)continue;break}var a=ut(n);a!==null&&(e.splice(t,3),t-=3,Cs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Bp(e){function t(t){return Lp(t,e)}Cp!==null&&Lp(Cp,e),wp!==null&&Lp(wp,e),Tp!==null&&Lp(Tp,e),Ep.forEach(t),Dp.forEach(t);for(var n=0;n<Op.length;n++){var r=Op[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Op.length&&(n=Op[0],n.blockedOn===null);)Np(n),n.blockedOn===null&&Op.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[tt]||null;if(typeof a==`function`)o||zp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[tt]||null)s=o.formAction;else if(bp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),zp(n)}}}function Vp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Hp(e){this._internalRoot=e}Up.prototype.render=Hp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;lp(n,yu(),e,t,null,null)},Up.prototype.unmount=Hp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lp(e.current,2,null,e,null,null),Eu(),t[nt]=null}};function Up(e){this._internalRoot=e}Up.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Op.length&&t!==0&&t<Op[n].priority;n++);Op.splice(n,0,e),n===0&&Np(e)}};var Wp=n.version;if(Wp!==`19.2.3`)throw Error(i(527,Wp,`19.2.3`));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:f(e),e=e===null?null:e.stateNode,e};var Gp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:I,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{Oe=Kp.inject(Gp),ke=Kp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Ks,s=qs,c=Js;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=sp(e,1,!1,null,null,n,r,null,o,s,c,Vp),e[nt]=t.current,Od(e),new Hp(t)}})),_=c(o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()}))(),1),v=h(),y=c(d(),1),b=`modulepreload`,x=function(e){return`/`+e},S={};const C=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=x(t,n),t in S)return;S[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:b,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var w=`popstate`;function T(e={}){function t(e,t){let{pathname:n=`/`,search:r=``,hash:i=``}=M(e.location.hash.substring(1));return!n.startsWith(`/`)&&!n.startsWith(`.`)&&(n=`/`+n),A(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){let n=e.document.querySelector(`base`),r=``;if(n&&n.getAttribute(`href`)){let t=e.location.href,n=t.indexOf(`#`);r=n===-1?t:t.slice(0,n)}return r+`#`+(typeof t==`string`?t:j(t))}function r(e,t){D(e.pathname.charAt(0)===`/`,`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}return N(t,n,r,e)}function E(e,t){if(e===!1||e==null)throw Error(t)}function D(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function O(){return Math.random().toString(36).substring(2,10)}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?M(t):t,state:n,key:t&&t.key||r||O()}}function j({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function M(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=A(h.location,e,t);n&&n(r,e),l=u()+1;let d=k(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=A(h.location,e,t);n&&n(r,e),l=u();let i=k(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return P(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(w,d),c=e,()=>{i.removeEventListener(w,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function P(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),E(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:j(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function F(e,t,n=`/`){return I(e,t,n,!1)}function I(e,t,n,r){let i=le((typeof t==`string`?M(t):t).pathname||`/`,n);if(i==null)return null;let a=R(e);ee(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=ce(i);o=oe(a[e],t,r)}return o}function L(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function R(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;E(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=_e([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(E(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),R(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:U(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of z(e.path))a(e,t,!0,n)}),t}function z(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=z(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ee(e){e.sort((e,t)=>e.score===t.score?ae(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var B=/^:[\w-]+$/,V=3,te=2,H=1,ne=10,re=-2,ie=e=>e===`*`;function U(e,t){let n=e.split(`/`),r=n.length;return n.some(ie)&&(r+=re),t&&(r+=te),n.filter(e=>!ie(e)).reduce((e,t)=>e+(B.test(t)?V:t===``?H:ne),r)}function ae(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function oe(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=W({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=W({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:_e([a,u.pathname]),pathnameBase:ve(_e([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=_e([a,u.pathnameBase]))}return o}function W(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=se(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function se(e,t=!1,n=!0){D(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function ce(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return D(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function le(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function de(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?M(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?fe(n.substring(1),`/`):fe(n,t)):a=t,{pathname:a,search:ye(r),hash:be(i)}}function fe(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function pe(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function me(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function he(e){let t=me(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ge(e,t,n,r=!1){let i;typeof e==`string`?i=M(e):(i={...e},E(!i.pathname||!i.pathname.includes(`?`),pe(`?`,`pathname`,`search`,i)),E(!i.pathname||!i.pathname.includes(`#`),pe(`#`,`pathname`,`hash`,i)),E(!i.search||!i.search.includes(`#`),pe(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=de(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var _e=e=>e.join(`/`).replace(/\/\/+/g,`/`),ve=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),ye=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,be=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,xe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Se(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Ce(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var we=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Te(e,t){let n=e;if(typeof n!=`string`||!ue.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(we)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=le(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{D(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ee=y.createContext(null);Ee.displayName=`DataRouter`;var De=y.createContext(null);De.displayName=`DataRouterState`;var Oe=y.createContext(!1),ke=y.createContext({isTransitioning:!1});ke.displayName=`ViewTransition`;var Ae=y.createContext(new Map);Ae.displayName=`Fetchers`;var je=y.createContext(null);je.displayName=`Await`;var Me=y.createContext(null);Me.displayName=`Navigation`;var Ne=y.createContext(null);Ne.displayName=`Location`;var Pe=y.createContext({outlet:null,matches:[],isDataRoute:!1});Pe.displayName=`Route`;var Fe=y.createContext(null);Fe.displayName=`RouteError`;var Ie=`REACT_ROUTER_ERROR`,Le=`REDIRECT`,Re=`ROUTE_ERROR_RESPONSE`;function ze(e){if(e.startsWith(`${Ie}:${Le}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Be(e){if(e.startsWith(`${Ie}:${Re}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new xe(t.status,t.statusText,t.data)}catch{}}function Ve(e,{relative:t}={}){E(He(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=y.useContext(Me),{hash:i,pathname:a,search:o}=Je(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:_e([n,a])),r.createHref({pathname:s,search:o,hash:i})}function He(){return y.useContext(Ne)!=null}function Ue(){return E(He(),`useLocation() may be used only in the context of a <Router> component.`),y.useContext(Ne).location}var We=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Ge(e){y.useContext(Me).static||y.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=y.useContext(Pe);return e?pt():qe()}function qe(){E(He(),`useNavigate() may be used only in the context of a <Router> component.`);let e=y.useContext(Ee),{basename:t,navigator:n}=y.useContext(Me),{matches:r}=y.useContext(Pe),{pathname:i}=Ue(),a=JSON.stringify(he(r)),o=y.useRef(!1);return Ge(()=>{o.current=!0}),y.useCallback((r,s={})=>{if(D(o.current,We),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=ge(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:_e([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}y.createContext(null);function Je(e,{relative:t}={}){let{matches:n}=y.useContext(Pe),{pathname:r}=Ue(),i=JSON.stringify(he(n));return y.useMemo(()=>ge(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function Ye(e,t){return Xe(e,t)}function Xe(e,t,n,r,i){E(He(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=y.useContext(Me),{matches:o}=y.useContext(Pe),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;ht(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Ue(),p;if(t){let e=typeof t==`string`?M(t):t;E(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=F(e,{pathname:h});D(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),D(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=rt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:_e([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:_e([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?y.createElement(Ne.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function Ze(){let e=ft(),t=Se(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=y.createElement(y.Fragment,null,y.createElement(`p`,null,` Hey developer `),y.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,y.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,y.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),y.createElement(y.Fragment,null,y.createElement(`h2`,null,`Unexpected Application Error!`),y.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?y.createElement(`pre`,{style:i},n):null,o)}var Qe=y.createElement(Ze,null),$e=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Be(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:y.createElement(Pe.Provider,{value:this.props.routeContext},y.createElement(Fe.Provider,{value:e,children:this.props.component}));return this.context?y.createElement(tt,{error:e},t):t}};$e.contextType=Oe;var et=new WeakMap;function tt({children:e,error:t}){let{basename:n}=y.useContext(Me);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=ze(t.digest);if(e){let r=et.get(t);if(r)throw r;let i=Te(e.location,n);if(we&&!et.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw et.set(t,n),n}return y.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function nt({routeContext:e,match:t,children:n}){let r=y.useContext(Ee);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Pe.Provider,{value:e},n)}function rt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);E(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ce(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||Qe,s&&(c<0&&i===0?(ht(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?y.createElement(r.route.Component,null):r.route.element?r.route.element:e,y.createElement(nt,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?y.createElement($e,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(e){let t=y.useContext(Ee);return E(t,it(e)),t}function ot(e){let t=y.useContext(De);return E(t,it(e)),t}function st(e){let t=y.useContext(Pe);return E(t,it(e)),t}function ct(e){let t=st(e),n=t.matches[t.matches.length-1];return E(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lt(){return ct(`useRouteId`)}function ut(){return ot(`useNavigation`).navigation}function dt(){let{matches:e,loaderData:t}=ot(`useMatches`);return y.useMemo(()=>e.map(e=>L(e,t)),[e,t])}function ft(){let e=y.useContext(Fe),t=ot(`useRouteError`),n=ct(`useRouteError`);return e===void 0?t.errors?.[n]:e}function pt(){let{router:e}=at(`useNavigate`),t=ct(`useNavigate`),n=y.useRef(!1);return Ge(()=>{n.current=!0}),y.useCallback(async(r,i={})=>{D(n.current,We),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var mt={};function ht(e,t,n){!t&&!mt[e]&&(mt[e]=!0,D(!1,n))}y.useOptimistic,y.memo(gt);function gt({routes:e,future:t,state:n,onError:r}){return Xe(e,void 0,n,r,t)}function _t({to:e,replace:t,state:n,relative:r}){E(He(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=y.useContext(Me);D(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=y.useContext(Pe),{pathname:o}=Ue(),s=Ke(),c=ge(e,he(a),o,r===`path`),l=JSON.stringify(c);return y.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function vt(e){E(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function yt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){E(!He(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=y.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=M(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=y.useMemo(()=>{let e=le(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return D(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(Me.Provider,{value:c},y.createElement(Ne.Provider,{children:t,value:m}))}function bt({children:e,location:t}){return Ye(xt(e),t)}function xt(e,t=[]){let n=[];return y.Children.forEach(e,(e,r)=>{if(!y.isValidElement(e))return;let i=[...t,r];if(e.type===y.Fragment){n.push.apply(n,xt(e.props.children,i));return}E(e.type===vt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xt(e.props.children,i)),n.push(a)}),n}var St=`get`,Ct=`application/x-www-form-urlencoded`;function wt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Tt(e){return wt(e)&&e.tagName.toLowerCase()===`button`}function Et(e){return wt(e)&&e.tagName.toLowerCase()===`form`}function Dt(e){return wt(e)&&e.tagName.toLowerCase()===`input`}function Ot(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kt(e,t){return e.button===0&&(!t||t===`_self`)&&!Ot(e)}var At=null;function jt(){if(At===null)try{new FormData(document.createElement(`form`),0),At=!1}catch{At=!0}return At}var Mt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Nt(e){return e!=null&&!Mt.has(e)?(D(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ct}"`),null):e}function Pt(e,t){let n,r,i,a,o;if(Et(e)){let o=e.getAttribute(`action`);r=o?le(o,t):null,n=e.getAttribute(`method`)||St,i=Nt(e.getAttribute(`enctype`))||Ct,a=new FormData(e)}else if(Tt(e)||Dt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?le(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||St,i=Nt(e.getAttribute(`formenctype`))||Nt(o.getAttribute(`enctype`))||Ct,a=new FormData(o,e),!jt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(wt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=St,r=null,i=Ct,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ft={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},It=/[&><\u2028\u2029]/g;function Lt(e){return e.replace(It,e=>Ft[e])}function Rt(e,t){if(e===!1||e==null)throw Error(t)}function zt(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&le(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function Bt(e,t){if(e.id in t)return t[e.id];try{let n=await C(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vt(e){return e!=null&&typeof e.page==`string`}function Ht(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Ut(e,t,n){return Jt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Bt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ht).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Wt(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function Gt(e,t,{includeHydrateFallback:n}={}){return Kt(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Kt(e){return[...new Set(e)]}function qt(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Jt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Vt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(qt(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Yt(){let e=y.useContext(Ee);return Rt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function Xt(){let e=y.useContext(De);return Rt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var Zt=y.createContext(void 0);Zt.displayName=`FrameworkContext`;function Qt(){let e=y.useContext(Zt);return Rt(e,`You must render this element inside a <HydratedRouter> element`),e}function $t(e,t){let n=y.useContext(Zt),[r,i]=y.useState(!1),[a,o]=y.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=y.useRef(null);y.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),y.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:en(s,p),onBlur:en(c,m),onMouseEnter:en(l,p),onMouseLeave:en(u,m),onTouchStart:en(d,p)}]:[a,f,{}]:[!1,f,{}]}function en(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tn({page:e,...t}){let{router:n}=Yt(),r=y.useMemo(()=>F(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?y.createElement(rn,{page:e,matches:r,...t}):null}function nn(e){let{manifest:t,routeModules:n}=Qt(),[r,i]=y.useState([]);return y.useEffect(()=>{let r=!1;return Ut(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function rn({page:e,matches:t,...n}){let r=Ue(),{future:i,manifest:a,routeModules:o}=Qt(),{basename:s}=Yt(),{loaderData:c,matches:l}=Xt(),u=y.useMemo(()=>Wt(e,t,l,a,r,`data`),[e,t,l,a,r]),d=y.useMemo(()=>Wt(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=zt(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=y.useMemo(()=>Gt(d,a),[d,a]),m=nn(d);return y.createElement(y.Fragment,null,f.map(e=>y.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>y.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>y.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function an(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var on=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{on&&(window.__reactRouterVersion=`7.13.0`)}catch{}function sn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=y.useRef();i.current??=T({window:r,v5Compat:!0});let a=i.current,[o,s]=y.useState({action:a.action,location:a.location}),c=y.useCallback(e=>{n===!1?s(e):y.startTransition(()=>s(e))},[n]);return y.useLayoutEffect(()=>a.listen(c),[a,c]),y.createElement(yt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function cn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=y.useState({action:n.action,location:n.location}),o=y.useCallback(e=>{r===!1?a(e):y.startTransition(()=>a(e))},[r]);return y.useLayoutEffect(()=>n.listen(o),[n,o]),y.createElement(yt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}cn.displayName=`unstable_HistoryRouter`;var ln=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=y.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=y.useContext(Me),g=typeof c==`string`&&ln.test(c),_=Te(c,m);c=_.to;let v=Ve(c,{relative:r}),[b,x,S]=$t(n,f),C=_n(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=y.createElement(`a`,{...f,...S,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:an(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return b&&!g?y.createElement(y.Fragment,null,T,y.createElement(tn,{page:v})):T});un.displayName=`Link`;var dn=y.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=Je(a,{relative:c.relative}),d=Ue(),f=y.useContext(De),{navigator:p,basename:m}=y.useContext(Me),h=f!=null&&Dn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=le(v,m)||v);let b=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=_===g||!r&&_.startsWith(g)&&_.charAt(b)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return y.createElement(un,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});dn.displayName=`NavLink`;var fn=y.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=St,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=y.useContext(Me),g=bn(),_=xn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,b=typeof s==`string`&&ln.test(s);return y.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?y.startTransition(()=>p()):p()},...p,"data-discover":!b&&e===`render`?`true`:void 0})});fn.displayName=`Form`;function pn({getKey:e,storageKey:t,...n}){let r=y.useContext(Zt),{basename:i}=y.useContext(Me),a=Ue(),o=dt();Tn({getKey:e,storageKey:t});let s=y.useMemo(()=>{if(!r||!e)return null;let t=wn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return y.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${Lt(JSON.stringify(t||Sn))}, ${Lt(JSON.stringify(s))})`}})}pn.displayName=`ScrollRestoration`;function mn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hn(e){let t=y.useContext(Ee);return E(t,mn(e)),t}function gn(e){let t=y.useContext(De);return E(t,mn(e)),t}function _n(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=Ke(),u=Ue(),d=Je(e,{relative:a});return y.useCallback(f=>{if(kt(f,t)){f.preventDefault();let t=n===void 0?j(u)===j(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?y.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var vn=0,yn=()=>`__${String(++vn)}__`;function bn(){let{router:e}=hn(`useSubmit`),{basename:t}=y.useContext(Me),n=lt(),r=e.fetch,i=e.navigate;return y.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Pt(e,t);a.navigate===!1?await r(a.fetcherKey||yn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function xn(e,{relative:t}={}){let{basename:n}=y.useContext(Me),r=y.useContext(Pe);E(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...Je(e||`.`,{relative:t})},o=Ue();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:_e([n,a.pathname])),j(a)}var Sn=`react-router-scroll-positions`,Cn={};function wn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:le(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Tn({getKey:e,storageKey:t}={}){let{router:n}=hn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=gn(`useScrollRestoration`),{basename:a}=y.useContext(Me),o=Ue(),s=dt(),c=ut();y.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),En(y.useCallback(()=>{if(c.state===`idle`){let t=wn(o,s,a,e);Cn[t]=window.scrollY}try{sessionStorage.setItem(t||Sn,JSON.stringify(Cn))}catch(e){D(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(y.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||Sn);e&&(Cn=JSON.parse(e))}catch{}},[t]),y.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(Cn,()=>window.scrollY,e?(t,n)=>wn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),y.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{D(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function En(e,t){let{capture:n}=t||{};y.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Dn(e,{relative:t}={}){let n=y.useContext(ke);E(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hn(`useViewTransitionState`),i=Je(e,{relative:t});if(!n.isTransitioning)return!1;let a=le(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=le(n.nextLocation.pathname,r)||n.nextLocation.pathname;return W(i.pathname,o)!=null||W(i.pathname,a)!=null}var On=()=>void 0,kn=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},An=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},jn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):An(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Mn;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Mn=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Nn=function(e){let t=kn(e);return jn.encodeByteArray(t,!0)},Pn=function(e){return Nn(e).replace(/\./g,``)},Fn=function(e){try{return jn.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function In(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Ln=()=>In().__FIREBASE_DEFAULTS__,Rn=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},zn=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Fn(e[1]);return t&&JSON.parse(t)},Bn=()=>{try{return On()||Ln()||Rn()||zn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Vn=e=>Bn()?.emulatorHosts?.[e],Hn=e=>{let t=Vn(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Un=()=>Bn()?.config,Wn=e=>Bn()?.[`_${e}`],Gn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function Kn(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function qn(e){return(await fetch(e,{credentials:`include`})).ok}function Jn(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[Pn(JSON.stringify(n)),Pn(JSON.stringify(o)),``].join(`.`)}var Yn={};function Xn(){let e={prod:[],emulator:[]};for(let t of Object.keys(Yn))Yn[t]?e.emulator.push(t):e.prod.push(t);return e}function Zn(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var Qn=!1;function $n(e,t){if(typeof window>`u`||typeof document>`u`||!Kn(window.location.host)||Yn[e]===t||Yn[e]||Qn)return;Yn[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=Xn().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{Qn=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=Zn(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function er(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function tr(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function nr(){let e=Bn()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function rr(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function ir(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function ar(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function or(){let e=er();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function sr(){return!nr()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function cr(){try{return typeof indexedDB==`object`}catch{return!1}}function lr(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var ur=`FirebaseError`,dr=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ur,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}},fr=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?pr(i,n):`Error`;return new dr(r,`${this.serviceName}: ${a} (${r}).`,n)}};function pr(e,t){return e.replace(mr,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var mr=/\{\$([^}]+)}/g;function hr(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gr(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(_r(n)&&_r(a)){if(!gr(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function _r(e){return typeof e==`object`&&!!e}function vr(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function yr(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function br(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function xr(e,t){let n=new Sr(e,t);return n.subscribe.bind(n)}var Sr=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Cr(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=wr),r.error===void 0&&(r.error=wr),r.complete===void 0&&(r.complete=wr);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Cr(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function wr(){}function Tr(e){return e&&e._delegate?e._delegate:e}var Er=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Dr=`[DEFAULT]`,Or=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new Gn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Ar(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dr){return this.instances.has(e)}getOptions(e=Dr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:kr(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Dr){return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function kr(e){return e===Dr?void 0:e}function Ar(e){return e.instantiationMode===`EAGER`}var jr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Or(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Mr=[],Nr;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(Nr||={});var Pr={debug:Nr.DEBUG,verbose:Nr.VERBOSE,info:Nr.INFO,warn:Nr.WARN,error:Nr.ERROR,silent:Nr.SILENT},Fr=Nr.INFO,Ir={[Nr.DEBUG]:`log`,[Nr.VERBOSE]:`log`,[Nr.INFO]:`info`,[Nr.WARN]:`warn`,[Nr.ERROR]:`error`},Lr=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Ir[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Rr=class{constructor(e){this.name=e,this._logLevel=Fr,this._logHandler=Lr,this._userLogHandler=null,Mr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nr))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Pr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nr.DEBUG,...e),this._logHandler(this,Nr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nr.VERBOSE,...e),this._logHandler(this,Nr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nr.INFO,...e),this._logHandler(this,Nr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nr.WARN,...e),this._logHandler(this,Nr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nr.ERROR,...e),this._logHandler(this,Nr.ERROR,...e)}},zr=(e,t)=>t.some(t=>e instanceof t),Br,Vr;function Hr(){return Br||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Ur(){return Vr||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Wr=new WeakMap,Gr=new WeakMap,Kr=new WeakMap,qr=new WeakMap,Jr=new WeakMap;function Yr(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(ti(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Wr.set(t,e)}).catch(()=>{}),Jr.set(t,e),t}function Xr(e){if(Gr.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Gr.set(e,t)}var Zr={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Gr.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||Kr.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Qr(e){Zr=e(Zr)}function $r(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(ni(this),t,...n);return Kr.set(r,t.sort?t.sort():[t]),ti(r)}:Ur().includes(e)?function(...t){return e.apply(ni(this),t),ti(Wr.get(this))}:function(...t){return ti(e.apply(ni(this),t))}}function ei(e){return typeof e==`function`?$r(e):(e instanceof IDBTransaction&&Xr(e),zr(e,Hr())?new Proxy(e,Zr):e)}function ti(e){if(e instanceof IDBRequest)return Yr(e);if(qr.has(e))return qr.get(e);let t=ei(e);return t!==e&&(qr.set(e,t),Jr.set(t,e)),t}var ni=e=>Jr.get(e);function ri(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=ti(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(ti(o.result),e.oldVersion,e.newVersion,ti(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var ii=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],ai=[`put`,`add`,`delete`,`clear`],oi=new Map;function si(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(oi.get(t))return oi.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=ai.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ii.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return oi.set(t,a),a}Qr(e=>({...e,get:(t,n,r)=>si(t,n)||e.get(t,n,r),has:(t,n)=>!!si(t,n)||e.has(t,n)}));var ci=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(li(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function li(e){return e.getComponent()?.type===`VERSION`}var ui=`@firebase/app`,di=`0.14.7`,fi=new Rr(`@firebase/app`),pi=`@firebase/app-compat`,mi=`@firebase/analytics-compat`,hi=`@firebase/analytics`,gi=`@firebase/app-check-compat`,_i=`@firebase/app-check`,vi=`@firebase/auth`,yi=`@firebase/auth-compat`,bi=`@firebase/database`,xi=`@firebase/data-connect`,Si=`@firebase/database-compat`,Ci=`@firebase/functions`,wi=`@firebase/functions-compat`,Ti=`@firebase/installations`,Ei=`@firebase/installations-compat`,Di=`@firebase/messaging`,Oi=`@firebase/messaging-compat`,ki=`@firebase/performance`,Ai=`@firebase/performance-compat`,ji=`@firebase/remote-config`,Mi=`@firebase/remote-config-compat`,Ni=`@firebase/storage`,Pi=`@firebase/storage-compat`,Fi=`@firebase/firestore`,Ii=`@firebase/ai`,Li=`@firebase/firestore-compat`,Ri=`firebase`,zi=`12.8.0`,Bi=`[DEFAULT]`,Vi={[ui]:`fire-core`,[pi]:`fire-core-compat`,[hi]:`fire-analytics`,[mi]:`fire-analytics-compat`,[_i]:`fire-app-check`,[gi]:`fire-app-check-compat`,[vi]:`fire-auth`,[yi]:`fire-auth-compat`,[bi]:`fire-rtdb`,[xi]:`fire-data-connect`,[Si]:`fire-rtdb-compat`,[Ci]:`fire-fn`,[wi]:`fire-fn-compat`,[Ti]:`fire-iid`,[Ei]:`fire-iid-compat`,[Di]:`fire-fcm`,[Oi]:`fire-fcm-compat`,[ki]:`fire-perf`,[Ai]:`fire-perf-compat`,[ji]:`fire-rc`,[Mi]:`fire-rc-compat`,[Ni]:`fire-gcs`,[Pi]:`fire-gcs-compat`,[Fi]:`fire-fst`,[Li]:`fire-fst-compat`,[Ii]:`fire-vertex`,"fire-js":`fire-js`,[Ri]:`fire-js-all`},Hi=new Map,Ui=new Map,Wi=new Map;function Gi(e,t){try{e.container.addComponent(t)}catch(n){fi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ki(e){let t=e.name;if(Wi.has(t))return fi.debug(`There were multiple attempts to register component ${t}.`),!1;Wi.set(t,e);for(let t of Hi.values())Gi(t,e);for(let t of Ui.values())Gi(t,e);return!0}function qi(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ji(e){return e==null?!1:e.settings!==void 0}var Yi=new fr(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),Xi=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Er(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create(`app-deleted`,{appName:this._name})}},Zi=zi;function Qi(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Bi,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw Yi.create(`bad-app-name`,{appName:String(i)});if(n||=Un(),!n)throw Yi.create(`no-options`);let a=Hi.get(i);if(a){if(gr(n,a.options)&&gr(r,a.config))return a;throw Yi.create(`duplicate-app`,{appName:i})}let o=new jr(i);for(let e of Wi.values())o.addComponent(e);let s=new Xi(n,r,o);return Hi.set(i,s),s}function $i(e=Bi){let t=Hi.get(e);if(!t&&e===`[DEFAULT]`&&Un())return Qi();if(!t)throw Yi.create(`no-app`,{appName:e});return t}function ea(e,t,n){let r=Vi[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fi.warn(e.join(` `));return}Ki(new Er(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var ta=`firebase-heartbeat-database`,na=1,ra=`firebase-heartbeat-store`,ia=null;function aa(){return ia||=ri(ta,na,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ra)}catch(e){console.warn(e)}}}}).catch(e=>{throw Yi.create(`idb-open`,{originalErrorMessage:e.message})}),ia}async function oa(e){try{let t=(await aa()).transaction(ra),n=await t.objectStore(ra).get(ca(e));return await t.done,n}catch(e){if(e instanceof dr)fi.warn(e.message);else{let t=Yi.create(`idb-get`,{originalErrorMessage:e?.message});fi.warn(t.message)}}}async function sa(e,t){try{let n=(await aa()).transaction(ra,`readwrite`);await n.objectStore(ra).put(t,ca(e)),await n.done}catch(e){if(e instanceof dr)fi.warn(e.message);else{let t=Yi.create(`idb-set`,{originalErrorMessage:e?.message});fi.warn(t.message)}}}function ca(e){return`${e.name}!${e.options.appId}`}var la=1024,ua=30,da=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new ma(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=fa();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>ua){let e=ga(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=fa(),{heartbeatsToSend:t,unsentEntries:n}=pa(this._heartbeatsCache.heartbeats),r=Pn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return fi.warn(e),``}}};function fa(){return new Date().toISOString().substring(0,10)}function pa(e,t=la){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ha(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ha(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ma=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cr()?lr().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await oa(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return sa(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return sa(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function ha(e){return Pn(JSON.stringify({version:2,heartbeats:e})).length}function ga(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function _a(e){Ki(new Er(`platform-logger`,e=>new ci(e),`PRIVATE`)),Ki(new Er(`heartbeat`,e=>new da(e),`PRIVATE`)),ea(ui,di,e),ea(ui,di,`esm2020`),ea(`fire-js`,``)}_a(``);function va(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ya=va,ba=new fr(`auth`,`Firebase`,va()),xa=new Rr(`@firebase/auth`);function Sa(e,...t){xa.logLevel<=Nr.WARN&&xa.warn(`Auth (${Zi}): ${e}`,...t)}function Ca(e,...t){xa.logLevel<=Nr.ERROR&&xa.error(`Auth (${Zi}): ${e}`,...t)}function wa(e,...t){throw Oa(e,...t)}function Ta(e,...t){return Oa(e,...t)}function Ea(e,t,n){return new fr(`auth`,`Firebase`,{...ya(),[t]:n}).create(t,{appName:e.name})}function Da(e){return Ea(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Oa(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ba.create(e,...t)}function ka(e,t,...n){if(!e)throw Oa(t,...n)}function Aa(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw Ca(t),Error(t)}function ja(e,t){e||Aa(t)}function Ma(){return typeof self<`u`&&self.location?.href||``}function Na(){return Pa()===`http:`||Pa()===`https:`}function Pa(){return typeof self<`u`&&self.location?.protocol||null}function Fa(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Na()||ir()||`connection`in navigator)?navigator.onLine:!0}function Ia(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var La=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ja(t>e,`Short delay should be less than long delay!`),this.isMobile=tr()||ar()}get(){return Fa()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ra(e,t){ja(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var za=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Aa(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Aa(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Aa(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},Ba={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Va=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Ha=new La(3e4,6e4);function Ua(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Wa(e,t,n,r,i={}){return Ga(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=vr({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return rr()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&Kn(e.emulatorConfig.host)&&(c.credentials=`include`),za.fetch()(await qa(e,e.config.apiHost,n,o),c)})}async function Ga(e,t,n){e._canInitEmulator=!1;let r={...Ba,...t};try{let t=new Ya(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw Xa(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw Xa(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw Xa(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw Xa(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Ea(e,o,n);wa(e,o)}}catch(t){if(t instanceof dr)throw t;wa(e,`network-request-failed`,{message:String(t)})}}async function Ka(e,t,n,r,i={}){let a=await Wa(e,t,n,r,i);return`mfaPendingCredential`in a&&wa(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function qa(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Ra(e.config,i):`${e.config.apiScheme}://${i}`;return Va.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function Ja(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var Ya=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ta(this.auth,`network-request-failed`)),Ha.get())})}};function Xa(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ta(e,t,r);return i.customData._tokenResponse=n,i}function Za(e){return e!==void 0&&e.enterprise!==void 0}var Qa=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ja(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function $a(e,t){return Wa(e,`GET`,`/v2/recaptchaConfig`,Ua(e,t))}async function eo(e,t){return Wa(e,`POST`,`/v1/accounts:delete`,t)}async function to(e,t){return Wa(e,`POST`,`/v1/accounts:lookup`,t)}function no(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ro(e,t=!1){let n=Tr(e),r=await n.getIdToken(t),i=ao(r);ka(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:no(io(i.auth_time)),issuedAtTime:no(io(i.iat)),expirationTime:no(io(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function io(e){return Number(e)*1e3}function ao(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return Ca(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Fn(n);return e?JSON.parse(e):(Ca(`Failed to decode base64 JWT payload`),null)}catch(e){return Ca(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function oo(e){let t=ao(e);return ka(t,`internal-error`),ka(t.exp!==void 0,`internal-error`),ka(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function so(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof dr&&co(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function co({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var lo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},uo=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=no(this.lastLoginAt),this.creationTime=no(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function fo(e){let t=e.auth,n=await so(e,to(t,{idToken:await e.getIdToken()}));ka(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?ho(r.providerUserInfo):[],a=mo(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new uo(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function po(e){let t=Tr(e);await fo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mo(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ho(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function go(e,t){let n=await Ga(e,{},async()=>{let n=vr({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await qa(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&Kn(e.emulatorConfig.host)&&(s.credentials=`include`),za.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _o(e,t){return Wa(e,`POST`,`/v2/accounts:revokeToken`,Ua(e,t))}var vo=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ka(e.idToken,`internal-error`),ka(e.idToken!==void 0,`internal-error`),ka(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):oo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ka(e.length!==0,`internal-error`);let t=oo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ka(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await go(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(ka(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(ka(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(ka(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Aa(`not implemented`)}};function yo(e,t){ka(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var bo=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new lo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new uo(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await so(this,this.stsTokenManager.getToken(this.auth,e));return ka(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ro(this,e)}reload(){return po(this)}_assign(e){this!==e&&(ka(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ka(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Da(this.auth));let e=await this.getIdToken();return await so(this,eo(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;ka(d&&h,t,`internal-error`);let g=vo.fromJSON(this.name,h);ka(typeof d==`string`,t,`internal-error`),yo(r,t.name),yo(i,t.name),ka(typeof f==`boolean`,t,`internal-error`),ka(typeof p==`boolean`,t,`internal-error`),yo(a,t.name),yo(o,t.name),yo(s,t.name),yo(c,t.name),yo(l,t.name),yo(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new vo;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await fo(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];ka(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:ho(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new vo;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new uo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},xo=new Map;function So(e){ja(e instanceof Function,`Expected a class definition`);let t=xo.get(e);return t?(ja(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,xo.set(e,t),t)}var Co=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Co.type=`NONE`;var wo=Co;function To(e,t,n){return`firebase:${e}:${t}:${n}`}var Eo=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=To(this.userKey,r.apiKey,i),this.fullPersistenceKey=To(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await to(this.auth,{idToken:e}).catch(()=>void 0);return t?bo._fromGetAccountInfoResponse(this.auth,t,e):null}return bo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(So(wo),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||So(wo),o=To(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await to(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await bo._fromGetAccountInfoResponse(t,e,n)}else r=bo._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Do(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(jo(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(Oo(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(No(t))return`Blackberry`;if(Po(t))return`Webos`;if(ko(t))return`Safari`;if((t.includes(`chrome/`)||Ao(t))&&!t.includes(`edge/`))return`Chrome`;if(Mo(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function Oo(e=er()){return/firefox\//i.test(e)}function ko(e=er()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Ao(e=er()){return/crios\//i.test(e)}function jo(e=er()){return/iemobile/i.test(e)}function Mo(e=er()){return/android/i.test(e)}function No(e=er()){return/blackberry/i.test(e)}function Po(e=er()){return/webos/i.test(e)}function Fo(e=er()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Io(e=er()){return Fo(e)&&!!window.navigator?.standalone}function Lo(){return or()&&document.documentMode===10}function Ro(e=er()){return Fo(e)||Mo(e)||Po(e)||No(e)||/windows phone/i.test(e)||jo(e)}function zo(e,t=[]){let n;switch(e){case`Browser`:n=Do(er());break;case`Worker`:n=`${Do(er())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${Zi}/${r}`}var Bo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function Vo(e,t={}){return Wa(e,`GET`,`/v2/passwordPolicy`,Ua(e,t))}var Ho=6,Uo=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ho,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},Wo=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ko(this),this.idTokenSubscription=new Ko(this),this.beforeStateQueue=new Bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ba,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=So(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await to(this,{idToken:e}),n=await bo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ji(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ka(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fo(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ia()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(Da(this));let t=e?Tr(e):null;return t&&ka(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ka(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(So(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new Uo(await Vo(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fr(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await _o(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&So(e)||this._popupRedirectResolver;ka(t,this,`argument-error`),this.redirectPersistenceManager=await Eo.create(this,[So(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ka(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ka(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sa(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Go(e){return Tr(e)}var Ko=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xr(e=>this.observer=e)}get next(){return ka(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},qo={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function Jo(e){qo=e}function Yo(e){return qo.loadJS(e)}function Xo(){return qo.recaptchaEnterpriseScript}function Zo(){return qo.gapiScript}function Qo(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var $o=class{constructor(){this.enterprise=new es}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},es=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},ts=`recaptcha-enterprise`,ns=`NO_RECAPTCHA`,rs=class{constructor(e){this.type=ts,this.auth=Go(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{$a(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new Qa(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;Za(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ns)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new $o().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Za(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=Xo();t.length!==0&&(t+=n),Yo(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function is(e,t,n,r=!1,i=!1){let a=new rs(e),o;if(i)o=ns;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function as(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await is(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await is(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await is(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await is(e,t,n,!1,!0))):Promise.reject(i)):r(e,await is(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function os(e){let t=Go(e),n=new Qa(await $a(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new rs(t).verify()}function ss(e,t){let n=qi(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(gr(n.getOptions(),t??{}))return e;wa(e,`already-initialized`)}return n.initialize({options:t})}function cs(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(So);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function ls(e,t,n){let r=Go(e);ka(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=us(t),{host:o,port:s}=ds(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ka(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),ka(gr(l,r.config.emulator)&&gr(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Kn(o)?(qn(`${a}//${o}${c}`),$n(`Auth`,!0)):i||ps()}function us(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function ds(e){let t=us(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:fs(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:fs(t)}}}function fs(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function ps(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var ms=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Aa(`not implemented`)}_getIdTokenResponse(e){return Aa(`not implemented`)}_linkToIdToken(e,t){return Aa(`not implemented`)}_getReauthenticationResolver(e){return Aa(`not implemented`)}};async function hs(e,t){return Wa(e,`POST`,`/v1/accounts:signUp`,t)}async function gs(e,t){return Ka(e,`POST`,`/v1/accounts:signInWithPassword`,Ua(e,t))}async function _s(e,t){return Ka(e,`POST`,`/v1/accounts:signInWithEmailLink`,Ua(e,t))}async function vs(e,t){return Ka(e,`POST`,`/v1/accounts:signInWithEmailLink`,Ua(e,t))}var ys=class e extends ms{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return as(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,gs,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return _s(e,{email:this._email,oobCode:this._password});default:wa(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return as(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,hs,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return vs(e,{idToken:t,email:this._email,oobCode:this._password});default:wa(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function bs(e,t){return Ka(e,`POST`,`/v1/accounts:signInWithIdp`,Ua(e,t))}var xs=`http://localhost`,Ss=class e extends ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):wa(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return bs(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,bs(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}buildRequest(){let e={requestUri:xs,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vr(t)}return e}};async function Cs(e,t){return Wa(e,`POST`,`/v1/accounts:sendVerificationCode`,Ua(e,t))}async function ws(e,t){return Ka(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Ua(e,t))}async function Ts(e,t){let n=await Ka(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Ua(e,t));if(n.temporaryProof)throw Xa(e,`account-exists-with-different-credential`,n);return n}var Es={USER_NOT_FOUND:`user-not-found`};async function Ds(e,t){return Ka(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Ua(e,{...t,operation:`REAUTH`}),Es)}var Os=class e extends ms{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return ws(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Ts(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Ds(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function ks(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function As(e){let t=yr(br(e)).link,n=t?yr(br(t)).deep_link_id:null,r=yr(br(e)).deep_link_id;return(r?yr(br(r)).link:null)||r||n||t||e}var js=class e{constructor(e){let t=yr(br(e)),n=t.apiKey??null,r=t.oobCode??null,i=ks(t.mode??null);ka(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=As(t);try{return new e(n)}catch{return null}}},Ms=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return ys._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=js.parseLink(t);return ka(n,`argument-error`),ys._fromEmailAndCode(e,n.code,n.tenantId)}};Ms.PROVIDER_ID=`password`,Ms.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Ms.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Ns=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},Ps=class extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Fs=class e extends Ps{constructor(){super(`facebook.com`)}static credential(t){return Ss._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Fs.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Fs.PROVIDER_ID=`facebook.com`;var Is=class e extends Ps{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Ss._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};Is.GOOGLE_SIGN_IN_METHOD=`google.com`,Is.PROVIDER_ID=`google.com`;var Ls=class e extends Ps{constructor(){super(`github.com`)}static credential(t){return Ss._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ls.GITHUB_SIGN_IN_METHOD=`github.com`,Ls.PROVIDER_ID=`github.com`;var Rs=class e extends Ps{constructor(){super(`twitter.com`)}static credential(t,n){return Ss._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Rs.TWITTER_SIGN_IN_METHOD=`twitter.com`,Rs.PROVIDER_ID=`twitter.com`;async function zs(e,t){return Ka(e,`POST`,`/v1/accounts:signUp`,Ua(e,t))}var Bs=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await bo._fromIdTokenResponse(t,r,i),providerId:Vs(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:Vs(r),_tokenResponse:r,operationType:n})}};function Vs(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}async function Hs(e){if(Ji(e.app))return Promise.reject(Da(e));let t=Go(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Bs({user:t.currentUser,providerId:null,operationType:`signIn`});let n=await zs(t,{returnSecureToken:!0}),r=await Bs._fromIdTokenResponse(t,`signIn`,n,!0);return await t._updateCurrentUser(r.user),r}var Us=class e extends dr{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Ws(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?Us._fromErrorAndOperation(e,n,t,r):n})}async function Gs(e,t,n=!1){let r=await so(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Bs._forOperation(e,`link`,r)}async function Ks(e,t,n=!1){let{auth:r}=e;if(Ji(r.app))return Promise.reject(Da(r));let i=`reauthenticate`;try{let a=await so(e,Ws(r,i,t,e),n);ka(a.idToken,r,`internal-error`);let o=ao(a.idToken);ka(o,r,`internal-error`);let{sub:s}=o;return ka(e.uid===s,r,`user-mismatch`),Bs._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&wa(r,`user-mismatch`),e}}async function qs(e,t,n=!1){if(Ji(e.app))return Promise.reject(Da(e));let r=`signIn`,i=await Ws(e,r,t),a=await Bs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Js(e,t,n,r){return Tr(e).onIdTokenChanged(t,n,r)}function Ys(e,t,n){return Tr(e).beforeAuthStateChanged(t,n)}function Xs(e,t,n,r){return Tr(e).onAuthStateChanged(t,n,r)}function Zs(e,t){return Wa(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Ua(e,t))}function Qs(e,t){return Wa(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Ua(e,t))}function $s(e,t){return Wa(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Ua(e,t))}function ec(e,t){return Wa(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Ua(e,t))}var tc=`__sak`,nc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,`1`),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},rc=1e3,ic=10,ac=class extends nc{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ro(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);Lo()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ic):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},rc)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};ac.type=`LOCAL`;var oc=ac,sc=1e3;function cc(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function lc(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var uc=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=lc(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:cc(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=lc(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=lc(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=cc(n),i=setInterval(()=>{let e=cc(n);e!==r&&(t(e),r=e)},sc);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};uc.type=`COOKIE`;var dc=class extends nc{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};dc.type=`SESSION`;var fc=dc;function pc(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var mc=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await pc(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};mc.receivers=[];function hc(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var gc=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=hc(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function _c(){return window}function vc(e){_c().location.href=e}function yc(){return _c().WorkerGlobalScope!==void 0&&typeof _c().importScripts==`function`}async function bc(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xc(){return navigator?.serviceWorker?.controller||null}function Sc(){return yc()?self:null}var Cc=`firebaseLocalStorageDb`,wc=1,Tc=`firebaseLocalStorage`,Ec=`fbase_key`,Dc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Oc(e,t){return e.transaction([Tc],t?`readwrite`:`readonly`).objectStore(Tc)}function kc(){return new Dc(indexedDB.deleteDatabase(Cc)).toPromise()}function Ac(){let e=indexedDB.open(Cc,wc);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Tc,{keyPath:Ec})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Tc)?t(n):(n.close(),await kc(),t(await Ac()))})})}async function jc(e,t,n){return new Dc(Oc(e,!0).put({[Ec]:t,value:n})).toPromise()}async function Mc(e,t){let n=await new Dc(Oc(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Nc(e,t){return new Dc(Oc(e,!0).delete(t)).toPromise()}var Pc=800,Fc=3,Ic=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Ac(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>Fc)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return yc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mc._getInstance(Sc()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await bc(),!this.activeServiceWorker)return;this.sender=new gc(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xc()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Ac();return await jc(e,tc,`1`),await Nc(e,tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jc(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Mc(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Nc(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new Dc(Oc(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pc)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Ic.type=`LOCAL`;var Lc=Ic;function Rc(e,t){return Wa(e,`POST`,`/v2/accounts/mfaSignIn:start`,Ua(e,t))}function zc(e,t){return Wa(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Ua(e,t))}function Bc(e,t){return Wa(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Ua(e,t))}Qo(`rcb`),new La(3e4,6e4);var Vc=`recaptcha`;async function Hc(e,t,n){if(!e._getRecaptchaConfig())try{await os(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return ka(t.type===`enroll`,e,`internal-error`),(await as(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===ns?(ka(n?.type===Vc,e,`argument-error`),Zs(e,await Uc(e,t,n))):Zs(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{ka(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return ka(i,e,`missing-multi-factor-info`),(await as(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===ns?(ka(n?.type===Vc,e,`argument-error`),Rc(e,await Uc(e,t,n))):Rc(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await as(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===ns?(ka(n?.type===Vc,e,`argument-error`),Cs(e,await Uc(e,t,n))):Cs(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Uc(e,t,n){ka(n.type===Vc,e,`argument-error`);let r=await n.verify();ka(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var Wc=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Go(t)}verifyPhoneNumber(e,t){return Hc(this.auth,e,Tr(t))}static credential(e,t){return Os._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Os._fromTokenResponse(t,n):null}};Wc.PROVIDER_ID=`phone`,Wc.PHONE_SIGN_IN_METHOD=`phone`;function Gc(e,t){return t?So(t):(ka(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var Kc=class extends ms{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function qc(e){return qs(e.auth,new Kc(e),e.bypassAuthState)}function Jc(e){let{auth:t,user:n}=e;return ka(n,t,`internal-error`),Ks(n,new Kc(e),e.bypassAuthState)}async function Yc(e){let{auth:t,user:n}=e;return ka(n,t,`internal-error`),Gs(n,new Kc(e),e.bypassAuthState)}var Xc=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return qc;case`linkViaPopup`:case`linkViaRedirect`:return Yc;case`reauthViaPopup`:case`reauthViaRedirect`:return Jc;default:wa(this.auth,`internal-error`)}}resolve(e){ja(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ja(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},Zc=new La(2e3,1e4),Qc=class e extends Xc{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return ka(e,this.auth,`internal-error`),e}async onExecution(){ja(this.filter.length===1,`Popup operations only handle one event`);let e=hc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ta(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ta(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ta(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,Zc.get())};e()}};Qc.currentPopupAction=null;var $c=`pendingRedirect`,el=new Map,tl=class extends Xc{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=el.get(this.auth._key());if(!e){try{let t=await nl(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}el.set(this.auth._key(),e)}return this.bypassAuthState||el.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function nl(e,t){let n=al(t),r=il(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function rl(e,t){el.set(e._key(),t)}function il(e){return So(e._redirectPersistence)}function al(e){return To($c,e.config.apiKey,e.name)}async function ol(e,t,n=!1){if(Ji(e.app))return Promise.reject(Da(e));let r=Go(e),i=await new tl(r,Gc(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var sl=600*1e3,cl=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dl(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!ul(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Ta(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sl&&this.cachedEventUids.clear(),this.cachedEventUids.has(ll(e))}saveEventToCache(e){this.cachedEventUids.add(ll(e)),this.lastProcessedEventTime=Date.now()}};function ll(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function ul({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function dl(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return ul(e);default:return!1}}async function fl(e,t={}){return Wa(e,`GET`,`/v1/projects`,t)}var pl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ml=/^https?/;async function hl(e){if(e.config.emulator)return;let{authorizedDomains:t}=await fl(e);for(let e of t)try{if(gl(e))return}catch{}wa(e,`unauthorized-domain`)}function gl(e){let t=Ma(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!ml.test(n))return!1;if(pl.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var _l=new La(3e4,6e4);function vl(){let e=_c().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function yl(e){return new Promise((t,n)=>{function r(){vl(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vl(),n(Ta(e,`network-request-failed`))},timeout:_l.get()})}if(_c().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_c().gapi?.load)r();else{let t=Qo(`iframefcb`);return _c()[t]=()=>{gapi.load?r():n(Ta(e,`network-request-failed`))},Yo(`${Zo()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw bl=null,e})}var bl=null;function xl(e){return bl||=yl(e),bl}var Sl=new La(5e3,15e3),Cl=`__/auth/iframe`,wl=`emulator/auth/iframe`,Tl={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},El=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Dl(e){let t=e.config;ka(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Ra(t,wl):`https://${e.config.authDomain}/${Cl}`,r={apiKey:t.apiKey,appName:e.name,v:Zi},i=El.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${vr(r).slice(1)}`}async function Ol(e){let t=await xl(e),n=_c().gapi;return ka(n,e,`internal-error`),t.open({where:document.body,url:Dl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tl,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Ta(e,`network-request-failed`),a=_c().setTimeout(()=>{r(i)},Sl.get());function o(){_c().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var kl={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Al=500,jl=600,Ml=`_blank`,Nl=`http://localhost`,Pl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Fl(e,t,n,r=Al,i=jl){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...kl,width:r.toString(),height:i.toString(),top:a,left:o},l=er().toLowerCase();n&&(s=Ao(l)?Ml:n),Oo(l)&&(t||=Nl,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(Io(l)&&s!==`_self`)return Il(t||``,s),new Pl(null);let d=window.open(t||``,s,u);ka(d,e,`popup-blocked`);try{d.focus()}catch{}return new Pl(d)}function Il(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ll=`__/auth/handler`,Rl=`emulator/auth/handler`,zl=`fac`;async function Bl(e,t,n,r,i,a){ka(e.config.authDomain,e,`auth-domain-config-required`),ka(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zi,eventId:i};if(t instanceof Ns){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,hr(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Ps){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${zl}=${encodeURIComponent(c)}`:``;return`${Vl(e)}?${vr(s).slice(1)}${l}`}function Vl({config:e}){return e.emulator?Ra(e,Rl):`https://${e.authDomain}/${Ll}`}var Hl=`webStorageSupport`,Ul=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fc,this._completeRedirectFn=ol,this._overrideRedirectResult=rl}async _openPopup(e,t,n,r){return ja(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),Fl(e,await Bl(e,t,n,Ma(),r),hc())}async _openRedirect(e,t,n,r){return await this._originValidation(e),vc(await Bl(e,t,n,Ma(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ja(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Ol(e),n=new cl(e);return t.register(`authEvent`,t=>(ka(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hl,{type:Hl},n=>{let r=n?.[0]?.[Hl];r!==void 0&&t(!!r),wa(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ro()||ko()||Fo()}},Wl=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Aa(`unexpected MultiFactorSessionType`)}}},Gl=class e extends Wl{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return Qs(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return zc(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Kl=class{constructor(){}static assertion(e){return Gl._fromCredential(e)}};Kl.FACTOR_ID=`phone`;var ql=class{static assertionForEnrollment(e,t){return Jl._fromSecret(e,t)}static assertionForSignIn(e,t){return Jl._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;ka(t.user?.auth!==void 0,`internal-error`);let n=await $s(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Yl._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};ql.FACTOR_ID=`totp`;var Jl=class e extends Wl{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return ka(this.secret!==void 0,e,`argument-error`),ec(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){ka(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Bc(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},Yl=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(Xl(e)||Xl(t))&&(n=!0),n&&(Xl(e)&&(e=this.auth.currentUser?.email||`unknownuser`),Xl(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function Xl(e){return e===void 0||e?.length===0}var Zl=`@firebase/auth`,Ql=`1.12.0`,$l=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ka(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eu(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function tu(e){Ki(new Er(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;ka(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new Wo(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:zo(e)});return cs(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),Ki(new Er(`auth-internal`,e=>(e=>new $l(e))(Go(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),ea(Zl,Ql,eu(e)),ea(Zl,Ql,`esm2020`)}var nu=Wn(`authIdTokenMaxAge`)||300,ru=null,iu=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nu)return;let i=n?.token;ru!==i&&(ru=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function au(e=$i()){let t=qi(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=ss(e,{popupRedirectResolver:Ul,persistence:[Lc,oc,fc]}),r=Wn(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=iu(e.toString());Ys(n,t,()=>t(n.currentUser)),Js(n,e=>t(e))}}let i=Vn(`auth`);return i&&ls(n,`http://${i}`),n}function ou(){return document.getElementsByTagName(`head`)?.[0]??document}Jo({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Ta(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,ou().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),tu(`Browser`);var su=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},cu={},lu,uu;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uu=cu.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,lu=cu.Integer=o}).apply(su===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:su);var du=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},fu={},pu,mu,hu,gu,_u,vu,yu,bu;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof du==`object`&&du];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,w=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(T)}};function T(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){D.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(A,D),A.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j=`closure_listenable_`+(Math.random()*1e6|0),M=0;function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function F(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function I(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function L(e){let t={};for(let n in e)t[n]=e[n];return t}let R=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function z(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<R.length;t++)n=R[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ee(e){this.src=e,this.g={},this.h=0}ee.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=V(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new N(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function B(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(P(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var te=`closure_lm_`+(Math.random()*1e6|0),H={};function ne(e,t,n,r,i){if(r&&r.once)return U(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)ne(e,t[a],n,r,i);return null}return n=ue(n),e&&e[j]?e.J(t,n,s(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=ce(e);if(c||(e[te]=c=new ee(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ie(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(W(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ie(){function e(n){return t.call(e.src,e.listener,n)}let t=se;return e}function U(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)U(e,t[a],n,r,i);return null}return n=ue(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function ae(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ae(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=ue(n),e&&e[j]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=V(t,n,r,i),n>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=e>-1?t[e]:null)&&oe(n))}function oe(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[j])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(B(n,e),n.h==0&&(n.src=null,t[te]=null)):P(e)}}}function W(e){return e in H?H[e]:H[e]=`on`+e}function se(e,t){if(e.da)e=!0;else{t=new A(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&oe(e),e=n.call(r,t)}return e}function ce(e){return e=e[te],e instanceof ee?e:null}var le=`__closure_events_fn_`+(Math.random()*1e9>>>0);function ue(e){return typeof e==`function`?e:(e[le]||(e[le]=function(t){return e.handleEvent(t)}),e[le])}function de(){E.call(this),this.i=new ee(this),this.M=this,this.G=null}d(de,E),de.prototype[j]=!0,de.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)};function fe(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;t=new D(r,e),z(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=pe(a,r,!0,t)&&i;if(a=t.g=e,i=pe(a,r,!0,t)&&i,i=pe(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=pe(a,r,!1,t)&&i}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},de.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},de.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function pe(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&B(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function me(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function he(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class ge extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(e){E.call(this),this.h=e,this.g={}}d(_e,E);var ve=[];function ye(e){F(e.g,function(e,t){this.g.hasOwnProperty(t)&&oe(e)},e),e.g={}}_e.prototype.N=function(){_e.Z.N.call(this),ye(this)},_e.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var be=o.JSON.stringify,xe=o.JSON.parse,Se=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Ce(){}function we(){}var Te={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ee(){D.call(this,`d`)}d(Ee,D);function De(){D.call(this,`c`)}d(De,D);var Oe={},ke=null;function Ae(){return ke||=new de}Oe.Ia=`serverreachability`;function je(e){D.call(this,Oe.Ia,e)}d(je,D);function Me(e){let t=Ae();fe(t,new je(t))}Oe.STAT_EVENT=`statevent`;function Ne(e,t){D.call(this,Oe.STAT_EVENT,e),this.stat=t}d(Ne,D);function Pe(e){let t=Ae();fe(t,new Ne(t,e))}Oe.Ja=`timingevent`;function Fe(e,t){D.call(this,Oe.Ja,e),this.size=t}d(Fe,D);function Ie(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function Le(){this.g=!0}Le.prototype.ua=function(){this.g=!1};function Re(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function ze(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function Be(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+He(e,n)+(r?` `+r:``)})}function Ve(e,t){e.info(function(){return`TIMEOUT: `+t})}Le.prototype.info=function(){};function He(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return be(a)}catch{return t}}var Ue={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},We={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},Ge;function Ke(){}d(Ke,Ce),Ke.prototype.g=function(){return new XMLHttpRequest},Ge=new Ke;function qe(e){return encodeURIComponent(String(e))}function Je(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function Ye(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new _e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xe}function Xe(){this.i=null,this.g=``,this.h=!1}var Ze={},Qe={};function $e(e,t,n){e.M=1,e.A=Et(xt(t)),e.u=n,e.R=!0,et(e,null)}function et(e,t){e.F=Date.now(),it(e),e.B=xt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Bt(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new Xe,e.g=Mn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new ge(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(ve[0]=i.toString()),i=ve);for(let e=0;e<i.length;e++){let a=ne(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?L(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Me(),Re(e.i,e.v,e.B,e.l,e.S,e.u)}Ye.prototype.ba=function(e){e=e.target;let t=this.O;t&&ln(e)==3?t.j():this.Y(e)},Ye.prototype.Y=function(e){try{if(e==this.g)a:{let s=ln(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||s!=4||c==7||Me(c==8||l<=0?3:2),ot(this);var t=this.g.ca();this.X=t;var n=tt(this);if(this.o=t==200,ze(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!k(r)){var a=r;break b}}a=null}if(e=a)Be(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,lt(this,e);else{this.o=!1,this.m=3,Pe(12),ct(this),st(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=rt(this,n),t==Qe){s==4&&(this.m=4,Pe(14),e=!1),Be(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==Ze){this.m=4,Pe(15),Be(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else Be(this.i,this.l,t,null),lt(this,t);if(nt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Pe(16),e=!1),this.o=this.o&&e,!e)Be(this.i,this.l,n,`[Invalid Chunked Response]`),ct(this),st(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),wn(o),o.P=!0,Pe(11))}}else Be(this.i,this.l,n,null),lt(this,n);s==4&&ct(this),this.o&&!this.K&&(s==4?Dn(this.j,this):(this.o=!1,it(this)))}else dn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),ct(this),st(this)}}}catch{}};function tt(e){if(!nt(e))return e.g.la();let t=un(e.g);if(t===``)return``;let n=``,r=t.length,i=ln(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return ct(e),st(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function nt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function rt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Qe:(n=Number(t.substring(n,r)),isNaN(n)?Ze:(r+=1,r+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t)))}Ye.prototype.cancel=function(){this.K=!0,ct(this)};function it(e){e.T=Date.now()+e.H,at(e,e.H)}function at(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Ie(l(e.aa,e),t)}function ot(e){e.D&&=(o.clearTimeout(e.D),null)}Ye.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(Ve(this.i,this.B),this.M!=2&&(Me(),Pe(17)),ct(this),this.m=2,st(this)):at(this,this.T-e)};function st(e){e.j.I==0||e.K||Dn(e.j,e)}function ct(e){ot(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,ye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function lt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||mt(n.h,e))){if(!e.L&&mt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)En(n),hn(n);else break a;Cn(n),Pe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Ie(l(n.Va,n),6e3));pt(n.h)<=1&&n.ta&&(n.ta=void 0)}else kn(n,11)}else if((e.L||n.g==e)&&En(n),!k(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(ht(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,Tt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=jn(r,r.L?r.ba:null,r.W),o.L){gt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(ot(s),it(s)),r.g=o}else Sn(r);n.i.length>0&&_n(n)}else l[0]!=`stop`&&l[0]!=`close`||kn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?kn(n,7):mn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Me(4)}catch{}}var ut=class{constructor(e,t){this.g=e,this.map=t}};function dt(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ft(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function pt(e){return e.h?1:e.g?e.g.size:0}function mt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ht(e,t){e.g?e.g.add(t):e.h=t}function gt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}dt.prototype.cancel=function(){if(this.i=_t(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function _t(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var vt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function yt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function bt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof bt?(this.l=e.l,St(this,e.j),this.o=e.o,this.g=e.g,Ct(this,e.u),this.h=e.h,wt(this,Vt(e.i)),this.m=e.m):e&&(t=String(e).match(vt))?(this.l=!1,St(this,t[1]||``,!0),this.o=Dt(t[2]||``),this.g=Dt(t[3]||``,!0),Ct(this,t[4]),this.h=Dt(t[5]||``,!0),wt(this,t[6]||``,!0),this.m=Dt(t[7]||``)):(this.l=!1,this.i=new Ft(null,this.l))}bt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Ot(t,At,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Ot(t,At,!0),`@`),e.push(qe(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Ot(n,n.charAt(0)==`/`?Mt:jt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Ot(n,Pt)),e.join(``)},bt.prototype.resolve=function(e){let t=xt(this),n=!!e.j;n?St(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Ct(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?wt(t,Vt(e.i)):n=!!e.m,n&&(t.m=e.m),t};function xt(e){return new bt(e)}function St(e,t,n){e.j=n?Dt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Ct(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function wt(e,t,n){t instanceof Ft?(e.i=t,Ut(e.i,e.l)):(n||(t=Ot(t,Nt)),e.i=new Ft(t,e.l))}function Tt(e,t,n){e.i.set(t,n)}function Et(e){return Tt(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Dt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Ot(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function kt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var At=/[#\/\?@]/g,jt=/[#\?:]/g,Mt=/[#\?]/g,Nt=/[#\?@]/g,Pt=/#/g;function Ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function It(e){e.g||(e.g=new Map,e.h=0,e.i&&yt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Ft.prototype,e.add=function(e,t){It(this),this.i=null,e=Ht(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Lt(e,t){It(e),t=Ht(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rt(e,t){return It(e),t=Ht(e,t),e.g.has(t)}e.forEach=function(e,t){It(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function zt(e,t){It(e);let n=[];if(typeof t==`string`)Rt(e,t)&&(n=n.concat(e.g.get(Ht(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return It(this),this.i=null,e=Ht(this,e),Rt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=zt(this,e),e.length>0?String(e[0]):t):t};function Bt(e,t,n){Lt(e,t),n.length>0&&(e.i=null,e.g.set(Ht(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=qe(n);n=zt(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+qe(n[t])),e.push(r)}}return this.i=e.join(`&`)};function Vt(e){let t=new Ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Ht(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ut(e,t){t&&!e.j&&(It(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(Lt(this,t),Bt(this,n,e))},e)),e.j=t}function Wt(e,t){let n=new Le;if(o.Image){let r=new Image;r.onload=u(Kt,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(Kt,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(Kt,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(Kt,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Gt(e,t){let n=new Le,r=new AbortController,i=setTimeout(()=>{r.abort(),Kt(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?Kt(n,`TestPingServer: ok`,!0,t):Kt(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),Kt(n,`TestPingServer: error`,!1,t)})}function Kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function qt(){this.g=new Se}function Jt(e){this.i=e.Sb||null,this.h=e.ab||!1}d(Jt,Ce),Jt.prototype.g=function(){return new Yt(this.i,this.h)};function Yt(e,t){de.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Yt,de),e=Yt.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,Qt(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qt(this)),this.g&&(this.readyState=3,Qt(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;Xt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zt(this):Qt(this),this.readyState==3&&Xt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Zt(this))},e.Na=function(e){this.g&&(this.response=e,Zt(this))},e.ga=function(){this.g&&Zt(this)};function Zt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Qt(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function Qt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Yt.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function $t(e){let t=``;return F(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function en(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=$t(n),typeof e==`string`||Tt(e,t,n))}function tn(e){de.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(tn,de);var nn=/^https?$/i,rn=[`POST`,`PUT`];e=tn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ge.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){an(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(rn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){an(this,e)}};function an(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,on(e),cn(e)}function on(e){e.A||(e.A=!0,fe(e,`complete`),fe(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,fe(this,`complete`),fe(this,`abort`),cn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),tn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?sn(this):this.Xa())},e.Xa=function(){sn(this)};function sn(e){if(e.h&&a!==void 0){if(e.v&&ln(e)==4)setTimeout(e.Ca.bind(e),0);else if(fe(e,`readystatechange`),ln(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(vt)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!nn.test(t?t.toLowerCase():``)}n=r}if(n)fe(e,`complete`),fe(e,`success`);else{e.o=6;try{var i=ln(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,on(e)}}finally{cn(e)}}}}function cn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||fe(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ln(e){return e.g?e.g.readyState:0}e.ca=function(){try{return ln(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),xe(t)}};function un(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function dn(e){let t={};e=(e.g&&ln(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Je(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}I(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function fn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pn(e){this.za=0,this.i=[],this.j=new Le,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fn(`baseRetryDelayMs`,5e3,e),this.Za=fn(`retryDelaySeedMs`,1e4,e),this.Ta=fn(`forwardChannelMaxRetries`,2,e),this.va=fn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new dt(e&&e.concurrentRequestLimit),this.Ba=new qt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=pn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Pe(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=jn(this,null,this.W),_n(this)};function mn(e){if(gn(e),e.I==3){var t=e.V++,n=xt(e.J);if(Tt(n,`SID`,e.M),Tt(n,`RID`,t),Tt(n,`TYPE`,`terminate`),bn(e,n),t=new Ye(e,e.j,t),t.M=2,t.A=Et(xt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Mn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),it(t)}An(e)}function hn(e){e.g&&=(wn(e),e.g.cancel(),null)}function gn(e){hn(e),e.v&&=(o.clearTimeout(e.v),null),En(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function _n(e){if(!ft(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||w(),S||=(x(),!0),C.add(t,e),e.D=0}}function vn(e,t){return pt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Ie(l(e.Ea,e,t),On(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new Ye(this,this.j,e),a=this.o;if(this.U&&(a?(a=L(a),z(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=xn(this,i,t),n=xt(this.J),Tt(n,`RID`,e),Tt(n,`CVER`,22),this.G&&Tt(n,`X-HTTP-Session-Id`,this.G),bn(this,n),a&&(this.R?t=`headers=`+qe($t(a))+`&`+t:this.u&&en(n,this.u,a)),ht(this.h,i),this.Ra&&Tt(n,`TYPE`,`init`),this.S?(Tt(n,`$req`,t),Tt(n,`SID`,`null`),i.U=!0,$e(i,n,null)):$e(i,n,t),this.I=2}}else this.I==3&&(e?yn(this,e):this.i.length==0||ft(this.h)||yn(this))};function yn(e,t){var n=t?t.l:e.V++;let r=xt(e.J);Tt(r,`SID`,e.M),Tt(r,`RID`,n),Tt(r,`AID`,e.K),bn(e,r),e.u&&e.o&&en(r,e.u,e.o),n=new Ye(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=xn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),ht(e.h,n),$e(n,r,t)}function bn(e,t){e.H&&F(e.H,function(e,n){Tt(t,n,e)}),e.l&&F({},function(e,n){Tt(t,n,e)})}function xn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=be(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Sn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||w(),S||=(x(),!0),C.add(t,e),e.A=0}}function Cn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Ie(l(e.Da,e),On(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Tn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Ie(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Pe(10),hn(this),Tn(this))};function wn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Tn(e){e.g=new Ye(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=xt(e.na);Tt(t,`RID`,`rpc`),Tt(t,`SID`,e.M),Tt(t,`AID`,e.K),Tt(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&Tt(t,`TO`,e.ia),Tt(t,`TYPE`,`xmlhttp`),bn(e,t),e.u&&e.o&&en(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Et(xt(t)),n.u=null,n.R=!0,et(n,e)}e.Va=function(){this.C!=null&&(this.C=null,hn(this),Cn(this),Pe(19))};function En(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Dn(e,t){var n=null;if(e.g==t){En(e),wn(e),e.g=null;var r=2}else if(mt(e.h,t))n=t.G,gt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Ae(),fe(r,new Fe(r,n)),_n(e)}else Sn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&vn(e,t)||r==2&&Cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:kn(e,5);break;case 4:kn(e,10);break;case 3:kn(e,6);break;default:kn(e,2)}}}function On(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function kn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new bt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||St(r,`https`),Et(r),t?Wt(r.toString(),n):Gt(r.toString(),n)}else Pe(2);e.I=0,e.l&&e.l.pa(t),An(e),gn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Pe(2)):(this.j.info(`Failed to ping google.com`),Pe(1))};function An(e){if(e.I=0,e.ja=[],e.l){let t=_t(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function jn(e,t,n){var r=n instanceof bt?xt(n):new bt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Ct(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new bt(null);r&&St(e,r),t&&(e.g=t),i&&Ct(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&Tt(r,n,t),Tt(r,`VER`,e.ka),bn(e,r),r}function Mn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new tn(new Jt({ab:n})):new tn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nn(){}e=Nn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Pn(){}Pn.prototype.g=function(e,t){return new Fn(e,t)};function Fn(e,t){de.call(this),this.g=new pn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!k(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!k(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Rn(this)}d(Fn,de),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){mn(this.g)},Fn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=be(e),e=n);t.i.push(new ut(t.Ya++,e)),t.I==3&&_n(t)},Fn.prototype.N=function(){this.g.l=null,delete this.j,mn(this.g),delete this.g,Fn.Z.N.call(this)};function In(e){Ee.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(In,Ee);function Ln(){De.call(this),this.status=1}d(Ln,De);function Rn(e){this.g=e}d(Rn,Nn),Rn.prototype.ra=function(){fe(this.g,`a`)},Rn.prototype.qa=function(e){fe(this.g,new In(e))},Rn.prototype.pa=function(e){fe(this.g,new Ln)},Rn.prototype.oa=function(){fe(this.g,`b`)},Pn.prototype.createWebChannel=Pn.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,bu=fu.createWebChannelTransport=function(){return new Pn},yu=fu.getStatEventTarget=function(){return Ae()},vu=fu.Event=Oe,_u=fu.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,gu=fu.ErrorCode=Ue,We.COMPLETE=`complete`,hu=fu.EventType=We,we.EventType=Te,Te.OPEN=`a`,Te.CLOSE=`b`,Te.ERROR=`c`,Te.MESSAGE=`d`,de.prototype.listen=de.prototype.J,mu=fu.WebChannel=we,fu.FetchXmlHttpFactory=Jt,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,pu=fu.XhrIo=tn}).apply(du===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:du);var xu=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};xu.UNAUTHENTICATED=new xu(null),xu.GOOGLE_CREDENTIALS=new xu(`google-credentials-uid`),xu.FIRST_PARTY=new xu(`first-party-uid`),xu.MOCK_USER=new xu(`mock-user`);var Su=`12.8.0`;function Cu(e){Su=e}var wu=new Rr(`@firebase/firestore`);function Tu(){return wu.logLevel}function Eu(e,...t){if(wu.logLevel<=Nr.DEBUG){let n=t.map(ku);wu.debug(`Firestore (${Su}): ${e}`,...n)}}function Du(e,...t){if(wu.logLevel<=Nr.ERROR){let n=t.map(ku);wu.error(`Firestore (${Su}): ${e}`,...n)}}function Ou(e,...t){if(wu.logLevel<=Nr.WARN){let n=t.map(ku);wu.warn(`Firestore (${Su}): ${e}`,...n)}}function ku(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function Au(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,ju(e,r,n)}function ju(e,t,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Du(r),Error(r)}function Mu(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||ju(t,i,r)}function Nu(e,t){return e}var G={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},Pu=class extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Fu=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Iu=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Lu=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xu.UNAUTHENTICATED)))}shutdown(){}},Ru=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},zu=class{constructor(e){this.t=e,this.currentUser=xu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mu(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Fu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fu,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Eu(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(Eu(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Fu)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(Mu(typeof t.accessToken==`string`,31837,{l:t}),new Iu(t.accessToken,this.currentUser)):null:(Eu(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Mu(e===null||typeof e==`string`,2055,{h:e}),new xu(e)}},Bu=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=xu.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set(`X-Goog-AuthUser`,this.P);let e=this.A();return e&&this.R.set(`Authorization`,e),this.T&&this.R.set(`X-Goog-Iam-Authorization-Token`,this.T),this.R}},Vu=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Bu(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(xu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Hu=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Uu=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mu(this.o===void 0,3512);let n=e=>{e.error!=null&&Eu(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,Eu(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{Eu(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):Eu(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Hu(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Mu(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Hu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Wu(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var Gu=class{static newId(){let e=``;for(;e.length<20;){let t=Wu(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function Ku(e,t){return e<t?-1:e>t?1:0}function qu(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return Xu(n)===Xu(i)?Ku(n,i):Xu(n)?1:-1}return Ku(e.length,t.length)}var Ju=55296,Yu=57343;function Xu(e){let t=e.charCodeAt(0);return t>=Ju&&t<=Yu}function Zu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var Qu=`__name__`,$u=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&Au(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Au(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return Ku(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):qu(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return lu.fromString(e.substring(4,e.length-2))}},ed=class e extends $u{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new Pu(G.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},td=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nd=class e extends $u{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return td.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===`__name__`}static keyField(){return new e([Qu])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new Pu(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new Pu(G.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new Pu(G.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new Pu(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},rd=class e{constructor(e){this.path=e}static fromPath(t){return new e(ed.fromString(t))}static fromName(t){return new e(ed.fromString(t).popFirst(5))}static empty(){return new e(ed.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ed.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ed.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new ed(t.slice()))}};function id(e,t,n){if(!n)throw new Pu(G.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ad(e,t,n,r){if(!0===t&&!0===r)throw new Pu(G.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function od(e){if(!rd.isDocumentKey(e))throw new Pu(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sd(e){if(rd.isDocumentKey(e))throw new Pu(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function cd(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ld(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:Au(12329,{type:typeof e})}function ud(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pu(G.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=ld(e);throw new Pu(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function dd(e,t){let n={typeString:e};return t&&(n.value=t),n}function fd(e,t){if(!cd(e))throw new Pu(G.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Pu(G.INVALID_ARGUMENT,n);return!0}var pd=-62135596800,md=1e6,hd=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*md))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new Pu(G.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<pd||e>=253402300800)throw new Pu(G.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/md}_compareTo(e){return this.seconds===e.seconds?Ku(this.nanoseconds,e.nanoseconds):Ku(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fd(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-pd;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};hd._jsonSchemaVersion=`firestore/timestamp/1.0`,hd._jsonSchema={type:dd(`string`,hd._jsonSchemaVersion),seconds:dd(`number`),nanoseconds:dd(`number`)};var gd=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new hd(0,0))}static max(){return new e(new hd(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},_d=-1,vd=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};vd.UNKNOWN_ID=-1;function yd(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new xd(gd.fromTimestamp(r===1e9?new hd(n+1,0):new hd(n,r)),rd.empty(),t)}function bd(e){return new xd(e.readTime,e.key,_d)}var xd=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(gd.min(),rd.empty(),_d)}static max(){return new e(gd.max(),rd.empty(),_d)}};function Sd(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=rd.comparator(e.documentKey,t.documentKey),n===0?Ku(e.largestBatchId,t.largestBatchId):n):n}var Cd=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,wd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Td(e){if(e.code!==G.FAILED_PRECONDITION||e.message!==Cd)throw e;Eu(`LocalStore`,`Unexpectedly lost primary lease`)}var K=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&Au(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Ed(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Dd(e){return e.name===`IndexedDbTransactionError`}var Od=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Od.ce=-1;var kd=-1;function Ad(e){return e==null}function jd(e){return e===0&&1/e==-1/0}function Md(e){return typeof e==`number`&&Number.isInteger(e)&&!jd(e)&&e<=2**53-1&&e>=-(2**53-1)}var Nd=``;function Pd(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Id(t)),t=Fd(e.get(n),t);return Id(t)}function Fd(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Nd:n+=``;break;default:n+=r}}return n}function Id(e){return e+Nd+``}function Ld(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rd(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Bd=class e{constructor(e,t){this.comparator=e,this.root=t||Hd.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Hd.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}},Vd=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hd=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Au(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Au(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Au(27949);return e+(this.isRed()?0:1)}};Hd.EMPTY=null,Hd.RED=!0,Hd.BLACK=!1,Hd.EMPTY=new class{constructor(){this.size=0}get key(){throw Au(57766)}get value(){throw Au(16141)}get color(){throw Au(16727)}get left(){throw Au(29726)}get right(){throw Au(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Hd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ud=class e{constructor(e){this.comparator=e,this.data=new Bd(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},Gd=class e{constructor(e){this.fields=e,e.sort(nd.comparator)}static empty(){return new e([])}unionWith(t){let n=new Ud(nd.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Kd=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},qd=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Kd(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ku(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qd.EMPTY_BYTE_STRING=new qd(``);var Jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yd(e){if(Mu(!!e,39018),typeof e==`string`){let t=0,n=Jd.exec(e);if(Mu(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xd(e.seconds),nanos:Xd(e.nanos)}}function Xd(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function Zd(e){return typeof e==`string`?qd.fromBase64String(e):qd.fromUint8Array(e)}var Qd=`server_timestamp`,$d=`__type__`,ef=`__previous_value__`,tf=`__local_write_time__`;function nf(e){return(e?.mapValue?.fields||{})[$d]?.stringValue===Qd}function rf(e){let t=e.mapValue.fields[ef];return nf(t)?rf(t):t}function af(e){let t=Yd(e.mapValue.fields[tf].timestampValue);return new hd(t.seconds,t.nanos)}var of=class{constructor(e,t,n,r,i,a,o,s,c,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l,this.apiKey=u}},sf=`(default)`,cf=class e{constructor(e,t){this.projectId=e,this.database=t||sf}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===sf}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};function lf(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new Pu(G.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new cf(e.options.projectId,t)}var uf=`__type__`,df=`__max__`,ff={mapValue:{fields:{__type__:{stringValue:df}}}},pf=`__vector__`,mf=`value`;function hf(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?nf(e)?4:Mf(e)?9007199254740991:Af(e)?10:11:Au(28295,{value:e})}function gf(e,t){if(e===t)return!0;let n=hf(e);if(n!==hf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return af(e).isEqual(af(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=Yd(e.timestampValue),r=Yd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zd(e.bytesValue).isEqual(Zd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xd(e.geoPointValue.latitude)===Xd(t.geoPointValue.latitude)&&Xd(e.geoPointValue.longitude)===Xd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return Xd(e.integerValue)===Xd(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=Xd(e.doubleValue),r=Xd(t.doubleValue);return n===r?jd(n)===jd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zu(e.arrayValue.values||[],t.arrayValue.values||[],gf);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ld(n)!==Ld(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!gf(n[e],r[e])))return!1;return!0}(e,t);default:return Au(52216,{left:e})}}function _f(e,t){return(e.values||[]).find((e=>gf(e,t)))!==void 0}function vf(e,t){if(e===t)return 0;let n=hf(e),r=hf(t);if(n!==r)return Ku(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ku(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=Xd(e.integerValue||e.doubleValue),r=Xd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yf(e.timestampValue,t.timestampValue);case 4:return yf(af(e),af(t));case 5:return qu(e.stringValue,t.stringValue);case 6:return function(e,t){let n=Zd(e),r=Zd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=Ku(n[e],r[e]);if(t!==0)return t}return Ku(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=Ku(Xd(e.latitude),Xd(t.latitude));return n===0?Ku(Xd(e.longitude),Xd(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return bf(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[mf]?.arrayValue,a=r[mf]?.arrayValue,o=Ku(i?.values?.length||0,a?.values?.length||0);return o===0?bf(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ff.mapValue&&t===ff.mapValue)return 0;if(e===ff.mapValue)return 1;if(t===ff.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=qu(r[e],a[e]);if(t!==0)return t;let o=vf(n[r[e]],i[a[e]]);if(o!==0)return o}return Ku(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Au(23264,{he:n})}}function yf(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return Ku(e,t);let n=Yd(e),r=Yd(t),i=Ku(n.seconds,r.seconds);return i===0?Ku(n.nanos,r.nanos):i}function bf(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=vf(n[e],r[e]);if(t)return t}return Ku(n.length,r.length)}function xf(e){return Sf(e)}function Sf(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=Yd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return Zd(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return rd.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Sf(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Sf(e.fields[i])}`;return n+`}`}(e.mapValue):Au(61005,{value:e})}function Cf(e){switch(hf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=rf(e);return t?16+Cf(t):16;case 5:return 2*e.stringValue.length;case 6:return Zd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Cf(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Rd(e.fields,((e,n)=>{t+=e.length+Cf(n)})),t}(e.mapValue);default:throw Au(13486,{value:e})}}function wf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Tf(e){return!!e&&`integerValue`in e}function Ef(e){return!!e&&`arrayValue`in e}function Df(e){return!!e&&`nullValue`in e}function Of(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function kf(e){return!!e&&`mapValue`in e}function Af(e){return(e?.mapValue?.fields||{})[uf]?.stringValue===pf}function jf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Rd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jf(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jf(e.arrayValue.values[n]);return t}return{...e}}function Mf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===df}var Nf=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(t)}setAll(e){let t=nd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jf(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];kf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Rd(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(jf(this.value))}};function Pf(e){let t=[];return Rd(e.fields,((e,n)=>{let r=new nd([e]);if(kf(n)){let e=Pf(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new Gd(t)}var Ff=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,gd.min(),gd.min(),gd.min(),Nf.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,gd.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,gd.min(),gd.min(),Nf.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,gd.min(),gd.min(),Nf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gd.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},If=class{constructor(e,t){this.position=e,this.inclusive=t}};function Lf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rd.comparator(rd.fromName(o.referenceValue),n.key):vf(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Rf(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gf(e.position[n],t.position[n]))return!1;return!0}var zf=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Bf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Vf=class{},Hf=class e extends Vf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Xf(t,n,r):n===`array-contains`?new ep(t,r):n===`in`?new tp(t,r):n===`not-in`?new np(t,r):n===`array-contains-any`?new rp(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Zf(e,n):new Qf(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(vf(t,this.value)):t!==null&&hf(this.value)===hf(t)&&this.matchesComparison(vf(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return Au(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Uf=class e extends Vf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Wf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Wf(e){return e.op===`and`}function Gf(e){return Kf(e)&&Wf(e)}function Kf(e){for(let t of e.filters)if(t instanceof Uf)return!1;return!0}function qf(e){if(e instanceof Hf)return e.field.canonicalString()+e.op.toString()+xf(e.value);if(Gf(e))return e.filters.map((e=>qf(e))).join(`,`);{let t=e.filters.map((e=>qf(e))).join(`,`);return`${e.op}(${t})`}}function Jf(e,t){return e instanceof Hf?function(e,t){return t instanceof Hf&&e.op===t.op&&e.field.isEqual(t.field)&&gf(e.value,t.value)}(e,t):e instanceof Uf?function(e,t){return t instanceof Uf&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Jf(n,t.filters[r])),!0):!1}(e,t):void Au(19439)}function Yf(e){return e instanceof Hf?function(e){return`${e.field.canonicalString()} ${e.op} ${xf(e.value)}`}(e):e instanceof Uf?function(e){return e.op.toString()+` {`+e.getFilters().map(Yf).join(` ,`)+`}`}(e):`Filter`}var Xf=class extends Hf{constructor(e,t,n){super(e,t,n),this.key=rd.fromName(n.referenceValue)}matches(e){let t=rd.comparator(e.key,this.key);return this.matchesComparison(t)}},Zf=class extends Hf{constructor(e,t){super(e,`in`,t),this.keys=$f(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},Qf=class extends Hf{constructor(e,t){super(e,`not-in`,t),this.keys=$f(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function $f(e,t){return(t.arrayValue?.values||[]).map((e=>rd.fromName(e.referenceValue)))}var ep=class extends Hf{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Ef(t)&&_f(t.arrayValue,this.value)}},tp=class extends Hf{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&_f(this.value.arrayValue,t)}},np=class extends Hf{constructor(e,t){super(e,`not-in`,t)}matches(e){if(_f(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_f(this.value.arrayValue,t)}},rp=class extends Hf{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>_f(this.value.arrayValue,e)))}},ip=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function ap(e,t=null,n=[],r=[],i=null,a=null,o=null){return new ip(e,t,n,r,i,a,o)}function op(e){let t=Nu(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>qf(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Ad(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>xf(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>xf(e))).join(`,`)),t.Te=e}return t.Te}function sp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rf(e.startAt,t.startAt)&&Rf(e.endAt,t.endAt)}function cp(e){return rd.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var lp=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function up(e,t,n,r,i,a,o,s){return new lp(e,t,n,r,i,a,o,s)}function dp(e){return new lp(e)}function fp(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pp(e){return rd.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function mp(e){return e.collectionGroup!==null}function hp(e){let t=Nu(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Ud(nd.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new zf(r,n))})),e.has(nd.keyField().canonicalString())||t.Ie.push(new zf(nd.keyField(),n))}return t.Ie}function gp(e){let t=Nu(e);return t.Ee||=_p(t,hp(e)),t.Ee}function _p(e,t){if(e.limitType===`F`)return ap(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new zf(e.field,t)}));let n=e.endAt?new If(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new If(e.startAt.position,e.startAt.inclusive):null;return ap(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vp(e,t){let n=e.filters.concat([t]);return new lp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yp(e,t,n){return new lp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bp(e,t){return sp(gp(e),gp(t))&&e.limitType===t.limitType}function xp(e){return`${op(gp(e))}|lt:${e.limitType}`}function Sp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Yf(e))).join(`, `)}]`),Ad(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>xf(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>xf(e))).join(`,`)),`Target(${t})`}(gp(e))}; limitType=${e.limitType})`}function Cp(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?rd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of hp(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Lf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hp(e),t)||e.endAt&&!function(e,t,n){let r=Lf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hp(e),t))}(e,t)}function wp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tp(e){return(t,n)=>{let r=!1;for(let i of hp(e)){let e=Ep(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function Ep(e,t,n){let r=e.field.isKeyField()?rd.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?vf(r,i):Au(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return Au(19790,{direction:e.dir})}}var Dp=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rd(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return zd(this.inner)}size(){return this.innerSize}},Op=new Bd(rd.comparator);function kp(){return Op}var Ap=new Bd(rd.comparator);function jp(...e){let t=Ap;for(let n of e)t=t.insert(n.key,n);return t}function Mp(e){let t=Ap;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Np(){return Fp()}function Pp(){return Fp()}function Fp(){return new Dp((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Ip=new Bd(rd.comparator),Lp=new Ud(rd.comparator);function Rp(...e){let t=Lp;for(let n of e)t=t.add(n);return t}var zp=new Ud(Ku);function Bp(){return zp}function Vp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:jd(t)?`-0`:t}}function Hp(e){return{integerValue:``+e}}function Up(e,t){return Md(t)?Hp(t):Vp(e,t)}var Wp=class{constructor(){this._=void 0}};function Gp(e,t,n){return e instanceof Jp?function(e,t){let n={fields:{[$d]:{stringValue:Qd},[tf]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nf(t)&&(t=rf(t)),t&&(n.fields[ef]=t),{mapValue:n}}(n,t):e instanceof Yp?Xp(e,t):e instanceof Zp?Qp(e,t):function(e,t){let n=qp(e,t),r=em(n)+em(e.Ae);return Tf(n)&&Tf(e.Ae)?Hp(r):Vp(e.serializer,r)}(e,t)}function Kp(e,t,n){return e instanceof Yp?Xp(e,t):e instanceof Zp?Qp(e,t):n}function qp(e,t){return e instanceof $p?function(e){return Tf(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Jp=class extends Wp{},Yp=class extends Wp{constructor(e){super(),this.elements=e}};function Xp(e,t){let n=tm(t);for(let t of e.elements)n.some((e=>gf(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Zp=class extends Wp{constructor(e){super(),this.elements=e}};function Qp(e,t){let n=tm(t);for(let t of e.elements)n=n.filter((e=>!gf(e,t)));return{arrayValue:{values:n}}}var $p=class extends Wp{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function em(e){return Xd(e.integerValue||e.doubleValue)}function tm(e){return Ef(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function nm(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yp&&t instanceof Yp||e instanceof Zp&&t instanceof Zp?Zu(e.elements,t.elements,gf):e instanceof $p&&t instanceof $p?gf(e.Ae,t.Ae):e instanceof Jp&&t instanceof Jp}(e.transform,t.transform)}var rm=class{constructor(e,t){this.version=e,this.transformResults=t}},im=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function am(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var om=class{};function sm(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _m(e.key,im.none()):new fm(e.key,e.data,im.none());{let n=e.data,r=Nf.empty(),i=new Ud(nd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new pm(e.key,r,new Gd(i.toArray()),im.none())}}function cm(e,t,n){e instanceof fm?function(e,t,n){let r=e.value.clone(),i=hm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pm?function(e,t,n){if(!am(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=hm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lm(e,t,n,r){return e instanceof fm?function(e,t,n,r){if(!am(e.precondition,t))return n;let i=e.value.clone(),a=gm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pm?function(e,t,n,r){if(!am(e.precondition,t))return n;let i=gm(e.fieldTransforms,r,t),a=t.data;return a.setAll(mm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return am(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function um(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=qp(r.transform,e||null);i!=null&&(n===null&&(n=Nf.empty()),n.set(r.field,i))}return n||null}function dm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&Zu(e,t,((e,t)=>nm(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fm=class extends om{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},pm=class extends om{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function mm(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function hm(e,t,n){let r=new Map;Mu(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Kp(o,s,n[i]))}return r}function gm(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Gp(e,a,t))}return r}var _m=class extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vm=class extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},ym=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&cm(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=lm(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=lm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Pp();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=sm(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(gd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Rp())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,((e,t)=>dm(e,t)))&&Zu(this.baseMutations,e.baseMutations,((e,t)=>dm(e,t)))}},bm=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){Mu(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Ip}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},xm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},Sm=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Cm,wm;function Tm(e){switch(e){case G.OK:return Au(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Au(15467,{code:e})}}function Em(e){if(e===void 0)return Du(`GRPC error has no .code`),G.UNKNOWN;switch(e){case Cm.OK:return G.OK;case Cm.CANCELLED:return G.CANCELLED;case Cm.UNKNOWN:return G.UNKNOWN;case Cm.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Cm.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Cm.INTERNAL:return G.INTERNAL;case Cm.UNAVAILABLE:return G.UNAVAILABLE;case Cm.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Cm.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Cm.NOT_FOUND:return G.NOT_FOUND;case Cm.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Cm.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Cm.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Cm.ABORTED:return G.ABORTED;case Cm.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Cm.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Cm.DATA_LOSS:return G.DATA_LOSS;default:return Au(39323,{code:e})}}(wm=Cm||={})[wm.OK=0]=`OK`,wm[wm.CANCELLED=1]=`CANCELLED`,wm[wm.UNKNOWN=2]=`UNKNOWN`,wm[wm.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,wm[wm.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,wm[wm.NOT_FOUND=5]=`NOT_FOUND`,wm[wm.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,wm[wm.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,wm[wm.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,wm[wm.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,wm[wm.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,wm[wm.ABORTED=10]=`ABORTED`,wm[wm.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,wm[wm.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,wm[wm.INTERNAL=13]=`INTERNAL`,wm[wm.UNAVAILABLE=14]=`UNAVAILABLE`,wm[wm.DATA_LOSS=15]=`DATA_LOSS`;var Dm=null;function Om(){return new TextEncoder}var km=new lu([4294967295,4294967295],0);function Am(e){let t=Om().encode(e),n=new uu;return n.update(t),new Uint8Array(n.digest())}function jm(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new lu([n,r],0),new lu([i,a],0)]}var Mm=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nm(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Nm(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Nm(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=lu.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(lu.fromNumber(n)));return r.compare(km)===1&&(r=new lu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=jm(Am(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=jm(Am(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.be(r)}}be(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Nm=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Pm=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Fm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(gd.min(),i,new Bd(Ku),kp(),Rp())}},Fm=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Rp(),Rp(),Rp())}},Im=class{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}},Lm=class{constructor(e,t){this.targetId=e,this.Ce=t}},Rm=class{constructor(e,t,n=qd.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},zm=class{constructor(){this.ve=0,this.Fe=Hm(),this.Me=qd.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Rp(),t=Rp(),n=Rp();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Au(38017,{changeType:i})}})),new Fm(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=Hm()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){--this.ve,Mu(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},Bm=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=kp(),this.He=Vm(),this.Je=Vm(),this.Ze=new Bd(Ku)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Au(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(cp(i))if(n===0){let e=new rd(i.path);this.et(t,e,Ff.newNoDocument(e,gd.min()))}else Mu(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ze=this.Ze.insert(t,e)}Dm?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=Zd(n).toUint8Array()}catch(e){if(e instanceof Kd)return Ou(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Mm(a,r,i)}catch(e){return Ou(e instanceof Nm?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&cp(i.target)){let t=new rd(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ff.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}}));let n=Rp();this.Je.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new Pm(e,t,this.Ze,this.je,n);return this.je=kp(),this.He=Vm(),this.Je=Vm(),this.Ze=new Bd(Ku),r}Ye(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new zm,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ud(Ku),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ud(Ku),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||Eu(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zm),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Vm(){return new Bd(rd.comparator)}function Hm(){return new Bd(rd.comparator)}var Um=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),Wm=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),Gm=(()=>({and:`AND`,or:`OR`}))(),Km=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function qm(e,t){return e.useProto3Json||Ad(t)?t:{value:t}}function Jm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Ym(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xm(e,t){return Jm(e,t.toTimestamp())}function Zm(e){return Mu(!!e,49232),gd.fromTimestamp(function(e){let t=Yd(e);return new hd(t.seconds,t.nanos)}(e))}function Qm(e,t){return $m(e,t).canonicalString()}function $m(e,t){let n=function(e){return new ed([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function eh(e){let t=ed.fromString(e);return Mu(Ch(t),10190,{key:t.toString()}),t}function th(e,t){return Qm(e.databaseId,t.path)}function nh(e,t){let n=eh(t);if(n.get(1)!==e.databaseId.projectId)throw new Pu(G.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pu(G.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new rd(oh(n))}function rh(e,t){return Qm(e.databaseId,t)}function ih(e){let t=eh(e);return t.length===4?ed.emptyPath():oh(t)}function ah(e){return new ed([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function oh(e){return Mu(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function sh(e,t,n){return{name:th(e,t),fields:n.value.mapValue.fields}}function ch(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:Au(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Mu(t===void 0||typeof t==`string`,58123),qd.fromBase64String(t||``)):(Mu(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),qd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Rm(r,i,a,o&&function(e){return new Pu(e.code===void 0?G.UNKNOWN:Em(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=nh(e,r.document.name),a=Zm(r.document.updateTime),o=r.document.createTime?Zm(r.document.createTime):gd.min(),s=new Nf({mapValue:{fields:r.document.fields}}),c=Ff.newFoundDocument(i,a,o,s);n=new Im(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=nh(e,r.document),a=r.readTime?Zm(r.readTime):gd.min(),o=Ff.newNoDocument(i,a);n=new Im([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=nh(e,r.document);n=new Im([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return Au(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new Sm(r,i),o=e.targetId;n=new Lm(o,a)}}return n}function lh(e,t){let n;if(t instanceof fm)n={update:sh(e,t.key,t.value)};else if(t instanceof _m)n={delete:th(e,t.key)};else if(t instanceof pm)n={update:sh(e,t.key,t.data),updateMask:Sh(t.fieldMask)};else{if(!(t instanceof vm))return Au(16599,{dt:t.type});n={verify:th(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Jp)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Yp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $p)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Au(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?Au(27497):{exists:t.exists}:{updateTime:Xm(e,t.updateTime)}}(e,t.precondition)),n}function uh(e,t){return e&&e.length>0?(Mu(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Zm(e.updateTime):Zm(t);return n.isEqual(gd.min())&&(n=Zm(t)),new rm(n,e.transformResults||[])}(e,t)))):[]}function dh(e,t){return{documents:[rh(e,t.path)]}}function fh(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=rh(e,i);let a=function(e){if(e.length!==0)return xh(Uf.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:yh(e.field),direction:gh(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=qm(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function ph(e){let t=ih(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mu(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=hh(e);return t instanceof Uf&&Gf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new zf(bh(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Ad(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new If(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new If(e.values||[],t)}(n.endAt)),up(t,i,o,a,s,`F`,c,l)}function mh(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return Au(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hh(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?Au(30097,{filter:e}):function(e){return Uf.create(e.compositeFilter.filters.map((e=>hh(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return Au(1026)}}(e.compositeFilter.op))}(e):function(e){return Hf.create(bh(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return Au(58110);default:return Au(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=bh(e.unaryFilter.field);return Hf.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=bh(e.unaryFilter.field);return Hf.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=bh(e.unaryFilter.field);return Hf.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=bh(e.unaryFilter.field);return Hf.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return Au(61313);default:return Au(60726)}}(e)}function gh(e){return Um[e]}function _h(e){return Wm[e]}function vh(e){return Gm[e]}function yh(e){return{fieldPath:e.canonicalString()}}function bh(e){return nd.fromServerFormat(e.fieldPath)}function xh(e){return e instanceof Hf?function(e){if(e.op===`==`){if(Of(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NAN`}};if(Df(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Of(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NOT_NAN`}};if(Df(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:yh(e.field),op:_h(e.op),value:e.value}}}(e):e instanceof Uf?function(e){let t=e.getFilters().map((e=>xh(e)));return t.length===1?t[0]:{compositeFilter:{op:vh(e.op),filters:t}}}(e):Au(54877,{filter:e})}function Sh(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ch(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}function wh(e){return!!e&&typeof e._toProto==`function`&&e._protoValueType===`ProtoValue`}var Th=class e{constructor(e,t,n,r,i=gd.min(),a=gd.min(),o=qd.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Eh=class{constructor(e){this.yt=e}};function Dh(e){let t=ph({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?yp(t,t.limit,`L`):t}var Oh=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(Xd(e.integerValue));else if(`doubleValue`in e){let n=Xd(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),jd(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=Yd(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(Zd(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Mf(e)?this.Ft(t,2**53-1):Af(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.qt(e.arrayValue,t),this.Nt(t)):Au(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=mf,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Xd(i)),this.Ot(r,t),this.Ct(n[r],t)}qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),rd.fromName(e).path.forEach((e=>{this.Ft(t,60),this.$t(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Oh.Wt=new Oh;var kh=class{constructor(){this.Sn=new Ah}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(xd.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(xd.min())}updateCollectionGroup(e,t,n){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}},Ah=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ud(ed.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ud(ed.comparator)).toArray()}};new Uint8Array;var jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mh=41943040,Nh=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Nh.DEFAULT_COLLECTION_PERCENTILE=10,Nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nh.DEFAULT=new Nh(Mh,Nh.DEFAULT_COLLECTION_PERCENTILE,Nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nh.DISABLED=new Nh(-1,0,0);var Ph=class e{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new e(0)}static ar(){return new e(-1)}},Fh=`LruGarbageCollector`,Ih=1048576;function Lh([e,t],[n,r]){let i=Ku(e,n);return i===0?Ku(t,r):i}var Rh=class{constructor(e){this.Pr=e,this.buffer=new Ud(Lh),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Lh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},zh=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Ar(e){Eu(Fh,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Dd(e)?Eu(Fh,`Ignoring IndexedDB error during garbage collection: `,e):await Td(e)}await this.Ar(3e5)}))}},Bh=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Od.ce);let n=new Rh(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.mr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Eu(`LruGarbageCollector`,`Garbage collection skipped; disabled`),K.resolve(jh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Eu(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jh):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Eu(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Tu()<=Nr.DEBUG&&Eu(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Vh(e,t){return new Bh(e,t)}var Hh=class{constructor(){this.changes=new Dp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ff.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):K.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Uh=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Wh=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&lm(n.mutation,e,Gd.empty(),hd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Rp()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Rp()){let r=Np();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=jp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=Np();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Rp())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=kp(),a=Fp(),o=function(){return Fp()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof pm)?i=i.insert(t.key,t):o===void 0?a.set(t.key,Gd.empty()):(a.set(t.key,o.mutation.getFieldMask()),lm(o.mutation,t,o.mutation.getFieldMask(),hd.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Uh(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Fp(),r=new Bd(((e,t)=>e-t)),i=Rp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||Gd.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Rp()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Pp();c.forEach((e=>{if(!i.has(e)){let r=sm(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return K.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return pp(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):K.resolve(Np()),o=_d,s=i;return a.next((t=>K.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?K.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Rp()))).next((e=>({batchId:o,changes:Mp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rd(t)).next((e=>{let t=jp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=jp();return this.indexManager.getCollectionParents(e,i).next((o=>K.forEach(o,(o=>{let s=function(e,t){return new lp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Ff.newInvalidDocument(r)))}));let n=jp();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&lm(a.mutation,r,Gd.empty(),hd.now()),Cp(t,r)&&(n=n.insert(e,r))})),n}))}},Gh=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zm(e.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:Dh(e.bundledQuery),readTime:Zm(e.readTime)}}(t)),K.resolve()}},Kh=class{constructor(){this.overlays=new Bd(rd.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Np();return K.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),K.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Lr.delete(n)),K.resolve()}getOverlaysForCollection(e,t,n){let r=Np(),i=t.length+1,a=new rd(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return K.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Bd(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=Np(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=Np(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return K.resolve(o)}bt(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new xm(t,n));let i=this.Lr.get(t);i===void 0&&(i=Rp(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}},qh=class{constructor(){this.sessionToken=qd.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}},Jh=class{constructor(){this.kr=new Ud(Yh.Kr),this.qr=new Ud(Yh.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new Yh(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new Yh(e,t))}Qr(e,t){e.forEach((e=>this.removeReference(e,t)))}Gr(e){let t=new rd(new ed([])),n=new Yh(t,e),r=new Yh(t,e+1),i=[];return this.qr.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new rd(new ed([])),n=new Yh(t,e),r=new Yh(t,e+1),i=Rp();return this.qr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new Yh(e,0),n=this.kr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Yh=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return rd.comparator(e.key,t.key)||Ku(e.Hr,t.Hr)}static Ur(e,t){return Ku(e.Hr,t.Hr)||rd.comparator(e.key,t.key)}},Xh=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ud(Yh.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new ym(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Jr=this.Jr.add(new Yh(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.Xr(n),i=r<0?0:r;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?kd:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Yh(t,0),r=new Yh(t,1/0),i=[];return this.Jr.forEachInRange([n,r],(e=>{let t=this.Zr(e.Hr);i.push(t)})),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ud(Ku);return t.forEach((e=>{let t=new Yh(e,0),r=new Yh(e,1/0);this.Jr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),K.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;rd.isDocumentKey(i)||(i=i.child(``));let a=new Yh(new rd(i),0),o=new Ud(Ku);return this.Jr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)}),a),K.resolve(this.Yr(o))}Yr(e){let t=[];return e.forEach((e=>{let n=this.Zr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){Mu(this.ei(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Jr;return K.forEach(t.mutations,(r=>{let i=new Yh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,t){let n=new Yh(t,0),r=this.Jr.firstAfterOrEqual(n);return K.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},Zh=class{constructor(e){this.ti=e,this.docs=function(){return new Bd(rd.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return K.resolve(n?n.document.mutableCopy():Ff.newInvalidDocument(t))}getEntries(e,t){let n=kp();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ff.newInvalidDocument(e))})),K.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=kp(),a=t.path,o=new rd(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Sd(bd(o),n)<=0||(r.has(o.key)||Cp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Au(9500)}ni(e,t){return K.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Qh(this)}getSize(e){return K.resolve(this.size)}},Qh=class extends Hh{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}},$h=class{constructor(e){this.persistence=e,this.ri=new Dp((e=>op(e)),sp),this.lastRemoteSnapshotVersion=gd.min(),this.highestTargetId=0,this.ii=0,this.si=new Jh,this.targetCount=0,this.oi=Ph._r()}forEachTarget(e,t){return this.ri.forEach(((e,n)=>t(n))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new Ph(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),--this.targetCount,K.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),K.waitFor(i).next((()=>r))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return K.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),K.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),K.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return K.resolve(n)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}},eg=class{constructor(e,t){this._i={},this.overlays={},this.ai=new Od(0),this.ui=!1,this.ui=!0,this.ci=new qh,this.referenceDelegate=e(this),this.li=new $h(this),this.indexManager=new kh,this.remoteDocumentCache=function(e){return new Zh(e)}((e=>this.referenceDelegate.hi(e))),this.serializer=new Eh(t),this.Pi=new Gh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Xh(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){Eu(`MemoryPersistence`,`Starting transaction:`,e);let r=new tg(this.ai.next());return this.referenceDelegate.Ti(),n(r).next((e=>this.referenceDelegate.Ii(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return K.or(Object.values(this._i).map((n=>()=>n.containsKey(e,t))))}},tg=class extends wd{constructor(e){super(),this.currentSequenceNumber=e}},ng=class e{constructor(e){this.persistence=e,this.Ri=new Jh,this.Ai=null}static Vi(t){return new e(t)}get di(){if(this.Ai)return this.Ai;throw Au(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),K.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((e=>this.di.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(n=>{let r=rd.fromPath(n);return this.mi(e,r).next((e=>{e||t.removeEntry(r,gd.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},rg=class e{constructor(e,t){this.persistence=e,this.fi=new Dp((e=>Pd(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Vh(this,t)}static Vi(t,n){return new e(t,n)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}pr(e){let t=0;return this.mr(e,(e=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((n,r)=>this.wr(e,n,r).next((e=>e?K.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,(r=>this.wr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,gd.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}wr(e,t,n){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return K.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},ig=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(t,n){let r=Rp(),i=Rp();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},ag=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},og=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return sr()?8:Ed(er())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ps(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new ag;return this.ys(e,t,n).next((r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)}))})).next((()=>i.result))}ws(e,t,n,r){return n.documentReadCount<this.Vs?(Tu()<=Nr.DEBUG&&Eu(`QueryEngine`,`SDK will not create cache indexes for query:`,Sp(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.Vs,`documents`),K.resolve()):(Tu()<=Nr.DEBUG&&Eu(`QueryEngine`,`Query:`,Sp(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.ds*r?(Tu()<=Nr.DEBUG&&Eu(`QueryEngine`,`The SDK decides to create cache indexes for query:`,Sp(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,gp(t))):K.resolve())}gs(e,t){if(fp(t))return K.resolve(null);let n=gp(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=yp(t,null,`F`),n=gp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Rp(...r);return this.fs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,yp(t,null,`F`)):this.Ds(e,a,t,n)}))))})))))}ps(e,t,n,r){return fp(t)||r.isEqual(gd.min())?K.resolve(null):this.fs.getDocuments(e,n).next((i=>{let a=this.bs(t,i);return this.Ss(t,a,n,r)?K.resolve(null):(Tu()<=Nr.DEBUG&&Eu(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),Sp(t)),this.Ds(e,a,t,yd(r,_d)).next((e=>e)))}))}bs(e,t){let n=new Ud(Tp(e));return t.forEach(((t,r)=>{Cp(e,r)&&(n=n.add(r))})),n}Ss(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return Tu()<=Nr.DEBUG&&Eu(`QueryEngine`,`Using full collection scan to execute query:`,Sp(t)),this.fs.getDocumentsMatchingQuery(e,t,xd.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},sg=`LocalStore`,cg=3e8,lg=class{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Bd(Ku),this.Fs=new Dp((e=>op(e)),sp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wh(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.vs)))}};function ug(e,t,n,r){return new lg(e,t,n,r)}async function dg(e,t){let n=Nu(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Rp();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ns:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function fg(e,t){let n=Nu(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=K.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);Mu(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Rp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function pg(e){let t=Nu(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.li.getLastRemoteSnapshotVersion(e)))}function mg(e,t){let n=Nu(e),r=t.snapshotVersion,i=n.vs;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.li.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.li.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(qd.EMPTY_BYTE_STRING,gd.min()).withLastLimboFreeSnapshotVersion(gd.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=cg?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.li.updateTargetData(e,l))}));let s=kp(),c=Rp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hg(e,a,t.documentUpdates).next((e=>{s=e.Bs,c=e.Ls}))),!r.isEqual(gd.min())){let t=n.li.getLastRemoteSnapshotVersion(e).next((t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return K.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.vs=i,e)))}function hg(e,t,n){let r=Rp(),i=Rp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=kp();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(gd.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Eu(sg,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{Bs:r,Ls:i}}))}function gg(e,t){let n=Nu(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=kd),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _g(e,t){let n=Nu(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.li.getTargetData(e,t).next((i=>i?(r=i,K.resolve(r)):n.li.allocateTargetId(e).next((i=>(r=new Th(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.li.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.vs.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e}))}async function vg(e,t,n){let r=Nu(e),i=r.vs.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Dd(e))throw e;Eu(sg,`Failed to update sequence numbers for target ${t}: ${e}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function yg(e,t,n){let r=Nu(e),i=gd.min(),a=Rp();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=Nu(e),i=r.Fs.get(n);return i===void 0?r.li.getTargetData(t,n):K.resolve(r.vs.get(i))}(r,e,gp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:gd.min(),n?a:Rp()))).next((e=>(bg(r,wp(t),e),{documents:e,ks:a})))))}function bg(e,t,n){let r=e.Ms.get(t)||gd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ms.set(t,r)}var xg=class{constructor(){this.activeTargetIds=Bp()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Sg=class{constructor(){this.vo=new xg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||`not-current`}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new xg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Cg=class{Mo(e){}shutdown(){}},wg=`ConnectivityMonitor`,Tg=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener(`online`,this.xo),window.removeEventListener(`offline`,this.No)}ko(){window.addEventListener(`online`,this.xo),window.addEventListener(`offline`,this.No)}Oo(){Eu(wg,`Network connectivity changed: AVAILABLE`);for(let e of this.Lo)e(0)}Bo(){Eu(wg,`Network connectivity changed: UNAVAILABLE`);for(let e of this.Lo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Eg=null;function Dg(){return Eg===null?Eg=function(){return 268435456+Math.round(2147483648*Math.random())}():Eg++,`0x`+Eg.toString(16)}var Og=`RestConnection`,kg={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`,ExecutePipeline:`executePipeline`},Ag=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+`://`+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===sf?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let a=Dg(),o=this.Qo(e,t.toUriEncodedString());Eu(Og,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);let{host:c}=new URL(o),l=Kn(c);return this.zo(e,o,s,n,l).then((t=>(Eu(Og,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Ou(Og,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Su}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Qo(e,t){let n=kg[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}},jg=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}},Mg=`WebChannelConnection`,Ng=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))},Pg=class e extends Ag{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){e.c_||=(Ng(yu(),vu.STAT_EVENT,(e=>{e.stat===_u.PROXY?Eu(Mg,`STAT_EVENT: detected buffering proxy`):e.stat===_u.NOPROXY&&Eu(Mg,`STAT_EVENT: detected no buffering proxy`)})),!0)}zo(e,t,n,r,i){let a=Dg();return new Promise(((i,o)=>{let s=new pu;s.setWithCredentials(!0),s.listenOnce(hu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case gu.NO_ERROR:let t=s.getResponseJson();Eu(Mg,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case gu.TIMEOUT:Eu(Mg,`RPC '${e}' ${a} timed out`),o(new Pu(G.DEADLINE_EXCEEDED,`Request time out`));break;case gu.HTTP_ERROR:let n=s.getStatus();if(Eu(Mg,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new Pu(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(G).indexOf(t)>=0?t:G.UNKNOWN}(t.status),t.message)):o(new Pu(G.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new Pu(G.UNAVAILABLE,`Connection failed.`));break;default:Au(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{Eu(Mg,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);Eu(Mg,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(t,n,r){let i=Dg(),a=[this.qo,`/`,`google.firestore.v1.Firestore`,`/`,t,`/channel`],o=this.createWebChannelTransport(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;let l=a.join(``);Eu(Mg,`Creating RPC '${t}' stream ${i}: ${l}`,s);let u=o.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new jg({Ho:e=>{f?Eu(Mg,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(d||=(Eu(Mg,`Opening RPC '${t}' stream ${i} transport.`),u.open(),!0),Eu(Mg,`RPC '${t}' stream ${i} sending:`,e),u.send(e))},Jo:()=>u.close()});return Ng(u,mu.EventType.OPEN,(()=>{f||(Eu(Mg,`RPC '${t}' stream ${i} transport opened.`),p.i_())})),Ng(u,mu.EventType.CLOSE,(()=>{f||(f=!0,Eu(Mg,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(u))})),Ng(u,mu.EventType.ERROR,(e=>{f||(f=!0,Ou(Mg,`RPC '${t}' stream ${i} transport errored. Name:`,e.name,`Message:`,e.message),p.o_(new Pu(G.UNAVAILABLE,`The operation could not be completed`)))})),Ng(u,mu.EventType.MESSAGE,(e=>{if(!f){let n=e.data[0];Mu(!!n,16349);let r=n,a=r?.error||r[0]?.error;if(a){Eu(Mg,`RPC '${t}' stream ${i} received error:`,a);let e=a.status,n=function(e){let t=Cm[e];if(t!==void 0)return Em(t)}(e),r=a.message;n===void 0&&(n=G.INTERNAL,r=`Unknown error status: `+e+` with message `+a.message),f=!0,p.o_(new Pu(n,r)),u.close()}else Eu(Mg,`RPC '${t}' stream ${i} received:`,n),p.__(n)}})),e.u_(),setTimeout((()=>{p.s_()}),0),p}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e[`x-goog-api-key`]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bu()}};function Fg(e){return new Pg(e)}function Ig(){return typeof document<`u`?document:null}function Lg(e){return new Km(e,!0)}Pg.c_=!1;var Rg=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Eu(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}},zg=`PersistentStream`,Bg=class{constructor(e,t,n,r,i,a,o,s){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===G.RESOURCE_EXHAUSTED?(Du(t.toString()),Du(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new Pu(G.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.H_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Eu(zg,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Eu(zg,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Vg=class extends Bg{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=ch(this.serializer,e),n=function(e){if(!(`targetChange`in e))return gd.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?gd.min():t.readTime?Zm(t.readTime):gd.min()}(e);return this.listener.J_(t,n)}Z_(e){let t={};t.database=ah(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=cp(r)?{documents:dh(e,r)}:{query:fh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ym(e,t.resumeToken);let r=qm(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gd.min())>0){n.readTime=Jm(e,t.snapshotVersion.toTimestamp());let r=qm(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=mh(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){let t={};t.database=ah(this.serializer),t.removeTarget=e,this.K_(t)}},Hg=class extends Bg{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}H_(e){return Mu(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mu(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mu(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=uh(e.writeResults,e.commitTime),n=Zm(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=ah(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>lh(this.serializer,e)))};this.K_(t)}},Ug=class{},Wg=class extends Ug{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Pu(G.FAILED_PRECONDITION,`The client has already been terminated.`)}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,$m(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pu(G.UNKNOWN,e.toString())}))}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.jo(e,$m(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pu(G.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}};function Gg(e,t,n,r){return new Wg(e,t,n,r)}var Kg=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Du(t),this.aa=!1):Eu(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},qg=`RemoteStore`,Jg=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((e=>{n.enqueueAndForget((async()=>{r_(this)&&(Eu(qg,`Restarting streams for network reachability change.`),await async function(e){let t=Nu(e);t.Ea.add(4),await Xg(t),t.Va.set(`Unknown`),t.Ea.delete(4),await Yg(t)}(this))}))})),this.Va=new Kg(n,r)}};async function Yg(e){if(r_(e))for(let t of e.Ra)await t(!0)}async function Xg(e){for(let t of e.Ra)await t(!1)}function Zg(e,t){let n=Nu(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),n_(n)?t_(n):S_(n).O_()&&$g(n,t))}function Qg(e,t){let n=Nu(e),r=S_(n);n.Ia.delete(t),r.O_()&&e_(n,t),n.Ia.size===0&&(r.O_()?r.L_():r_(n)&&n.Va.set(`Unknown`))}function $g(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gd.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}S_(e).Z_(t)}function e_(e,t){e.da.$e(t),S_(e).X_(t)}function t_(e){e.da=new Bm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),S_(e).start(),e.Va.ua()}function n_(e){return r_(e)&&!S_(e).x_()&&e.Ia.size>0}function r_(e){return Nu(e).Ea.size===0}function i_(e){e.da=void 0}async function a_(e){e.Va.set(`Online`)}async function o_(e){e.Ia.forEach(((t,n)=>{$g(e,t)}))}async function s_(e,t){i_(e),n_(e)?(e.Va.ha(t),t_(e)):e.Va.set(`Unknown`)}async function c_(e,t,n){if(e.Va.set(`Online`),t instanceof Rm&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){Eu(qg,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await l_(e,n)}else if(t instanceof Im?e.da.Xe(t):t instanceof Lm?e.da.st(t):e.da.tt(t),!n.isEqual(gd.min()))try{let t=await pg(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.da.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(qd.EMPTY_BYTE_STRING,r.snapshotVersion)),e_(e,t),$g(e,new Th(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Eu(qg,`Failed to raise snapshot:`,t),await l_(e,t)}}async function l_(e,t,n){if(!Dd(t))throw t;e.Ea.add(1),await Xg(e),e.Va.set(`Offline`),n||=()=>pg(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{Eu(qg,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await Yg(e)}))}function u_(e,t){return t().catch((n=>l_(e,n,t)))}async function d_(e){let t=Nu(e),n=C_(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:kd;for(;f_(t);)try{let e=await gg(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,p_(t,e)}catch(e){await l_(t,e)}m_(t)&&h_(t)}function f_(e){return r_(e)&&e.Ta.length<10}function p_(e,t){e.Ta.push(t);let n=C_(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function m_(e){return r_(e)&&!C_(e).x_()&&e.Ta.length>0}function h_(e){C_(e).start()}async function g_(e){C_(e).ra()}async function __(e){let t=C_(e);for(let n of e.Ta)t.ea(n.mutations)}async function v_(e,t,n){let r=e.Ta.shift(),i=bm.from(r,t,n);await u_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await d_(e)}async function y_(e,t){t&&C_(e).Y_&&await async function(e,t){if(function(e){return Tm(e)&&e!==G.ABORTED}(t.code)){let n=e.Ta.shift();C_(e).B_(),await u_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await d_(e)}}(e,t),m_(e)&&h_(e)}async function b_(e,t){let n=Nu(e);n.asyncQueue.verifyOperationInProgress(),Eu(qg,`RemoteStore received new credentials`);let r=r_(n);n.Ea.add(3),await Xg(n),r&&n.Va.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Yg(n)}async function x_(e,t){let n=Nu(e);t?(n.Ea.delete(2),await Yg(n)):t||(n.Ea.add(2),await Xg(n),n.Va.set(`Unknown`))}function S_(e){return e.ma||(e.ma=function(e,t,n){let r=Nu(e);return r.sa(),new Vg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:a_.bind(null,e),Yo:o_.bind(null,e),t_:s_.bind(null,e),J_:c_.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),n_(e)?t_(e):e.Va.set(`Unknown`)):(await e.ma.stop(),i_(e))}))),e.ma}function C_(e){return e.fa||(e.fa=function(e,t,n){let r=Nu(e);return r.sa(),new Hg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:g_.bind(null,e),t_:y_.bind(null,e),ta:__.bind(null,e),na:v_.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await d_(e)):(await e.fa.stop(),e.Ta.length>0&&(Eu(qg,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var w_=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pu(G.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function T_(e,t){if(Du(`AsyncQueue`,`${t}: ${e}`),Dd(e))return new Pu(G.UNAVAILABLE,`${t}: ${e}`);throw e}var E_=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||rd.comparator(t.key,n.key):(e,t)=>rd.comparator(e.key,t.key),this.keyedMap=jp(),this.sortedSet=new Bd(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},D_=class{constructor(){this.ga=new Bd(rd.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Au(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},O_=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,E_.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},k_=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}},A_=class{constructor(){this.queries=j_(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=Nu(e),r=n.queries;n.queries=j_(),r.forEach(((e,n)=>{for(let e of n.ba)e.onError(t)}))})(this,new Pu(G.ABORTED,`Firestore shutting down`))}};function j_(){return new Dp((e=>xp(e)),bp)}async function M_(e,t){let n=Nu(e),r=3,i=t.query,a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new k_,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=T_(e,`Initialization of query '${Sp(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&I_(n)}async function N_(e,t){let n=Nu(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.ba.indexOf(t);e>=0&&(a.ba.splice(e,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P_(e,t){let n=Nu(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.ba)t.Fa(e)&&(r=!0);i.wa=e}}r&&I_(n)}function F_(e,t,n){let r=Nu(e),i=r.queries.get(t);if(i)for(let e of i.ba)e.onError(n);r.queries.delete(t)}function I_(e){e.Ca.forEach((e=>{e.next()}))}var L_,R_;(R_=L_||={}).Ma=`default`,R_.Cache=`cache`;var z_=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new O_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=O_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==L_.Cache}},B_=class{constructor(e){this.key=e}},V_=class{constructor(e){this.key=e}},H_=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Rp(),this.mutatedKeys=Rp(),this.eu=Tp(e),this.tu=new E_(this.eu)}get nu(){return this.Za}ru(e,t){let n=t?t.iu:new D_,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=Cp(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Ss:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Au(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Ya.size===0&&this.current&&!r?1:0,c=s!==this.Xa;return this.Xa=s,a.length!==0||c?{snapshot:new O_(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=Rp(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))}));let t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new V_(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new B_(n))})),t}cu(e){this.Za=e.ks,this.Ya=Rp();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return O_.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},U_=`SyncEngine`,W_=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},G_=class{constructor(e){this.key=e,this.hu=!1}},K_=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Dp((e=>xp(e)),bp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Bd(rd.comparator),this.Au=new Map,this.Vu=new Jh,this.du={},this.mu=new Map,this.fu=Ph.ar(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function q_(e,t,n=!0){let r=hv(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Y_(r,t,n,!0),i}async function J_(e,t){await Y_(hv(e),t,!0,!1)}async function Y_(e,t,n,r){let i=await _g(e.localStore,gp(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await X_(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&Zg(e.remoteStore,i),s}async function X_(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await yg(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return lv(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await yg(e.localStore,t,!0),o=new H_(t,a.ks),s=o.ru(a.documents),c=Fm.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);lv(e,n,l.au);let u=new W_(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function Z_(e,t,n){let r=Nu(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!bp(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qg(r.remoteStore,i.targetId),sv(r,i.targetId)})).catch(Td)):(sv(r,i.targetId),await vg(r.localStore,i.targetId,!0))}async function Q_(e,t){let n=Nu(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qg(n.remoteStore,r.targetId))}async function $_(e,t,n){let r=gv(e);try{let e=await function(e,t){let n=Nu(e),r=hd.now(),i=t.reduce(((e,t)=>e.add(t.key)),Rp()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=kp(),c=Rp();return n.xs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=um(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new pm(e.key,t,Pf(t.value.mapValue),im.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Mp(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||=new Bd(Ku),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await fv(r,e.changes),await d_(r.remoteStore)}catch(e){let t=T_(e,`Failed to persist write`);n.reject(t)}}async function ev(e,t){let n=Nu(e);try{let e=await mg(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(Mu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Mu(r.hu,14607):e.removedDocuments.size>0&&(Mu(r.hu,42227),r.hu=!1))})),await fv(n,e,t)}catch(e){await Td(e)}}function tv(e,t,n){let r=Nu(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=Nu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)})),r&&I_(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nv(e,t,n){let r=Nu(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Bd(rd.comparator);e=e.insert(a,Ff.newNoDocument(a,gd.min()));let n=Rp().add(a);await ev(r,new Pm(gd.min(),new Map,new Bd(Ku),e,n)),r.Ru=r.Ru.remove(a),r.Au.delete(t),dv(r)}else await vg(r.localStore,t,!1).then((()=>sv(r,t,n))).catch(Td)}async function rv(e,t){let n=Nu(e),r=t.batch.batchId;try{let e=await fg(n.localStore,t);ov(n,r,null),av(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await fv(n,e)}catch(e){await Td(e)}}async function iv(e,t,n){let r=Nu(e);try{let e=await function(e,t){let n=Nu(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Mu(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ov(r,t,n),av(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await fv(r,e)}catch(e){await Td(e)}}function av(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function ov(e,t,n){let r=Nu(e),i=r.du[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function sv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((t=>{e.Vu.containsKey(t)||cv(e,t)}))}function cv(e,t){e.Eu.delete(t.path.canonicalString());let n=e.Ru.get(t);n!==null&&(Qg(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),dv(e))}function lv(e,t,n){for(let r of n)r instanceof B_?(e.Vu.addReference(r.key,t),uv(e,r)):r instanceof V_?(Eu(U_,`Document no longer in limbo: `+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||cv(e,r.key)):Au(19791,{wu:r})}function uv(e,t){let n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Eu(U_,`New document in limbo: `+n),e.Eu.add(r),dv(e))}function dv(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new rd(ed.fromString(t)),r=e.fu.next();e.Au.set(r,new G_(n)),e.Ru=e.Ru.insert(n,r),Zg(e.remoteStore,new Th(gp(dp(n.path)),r,`TargetPurposeLimboResolution`,Od.ce))}}async function fv(e,t,n){let r=Nu(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=ig.Es(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.J_(i),await async function(e,t){let n=Nu(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>K.forEach(t,(t=>K.forEach(t.Ts,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>K.forEach(t.Is,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Dd(e))throw e;Eu(sg,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,a))}async function pv(e,t){let n=Nu(e);if(!n.currentUser.isEqual(t)){Eu(U_,`User change. New user:`,t.toKey());let e=await dg(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new Pu(G.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await fv(n,e.Ns)}}function mv(e,t){let n=Nu(e),r=n.Au.get(t);if(r&&r.hu)return Rp().add(r.key);{let e=Rp(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function hv(e){let t=Nu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ev.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nv.bind(null,t),t.Pu.J_=P_.bind(null,t.eventManager),t.Pu.yu=F_.bind(null,t.eventManager),t}function gv(e){let t=Nu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iv.bind(null,t),t}var _v=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=Lg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ug(this.persistence,new og,e.initialUser,this.serializer)}Cu(e){return new eg(ng.Vi,this.serializer)}Du(e){return new Sg}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};_v.provider={build:()=>new _v};var vv=class extends _v{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mu(this.persistence.referenceDelegate instanceof rg,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new zh(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Nh.DEFAULT:Nh.withCacheSize(this.cacheSizeBytes);return new eg((e=>rg.Vi(e,t)),this.serializer)}},yv=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>tv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pv.bind(null,this.syncEngine),await x_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A_}()}createDatastore(e){let t=Lg(e.databaseInfo.databaseId),n=Fg(e.databaseInfo);return Gg(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Jg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>tv(this.syncEngine,e,0)),function(){return Tg.v()?new Tg:new Cg}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new K_(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=Nu(e);Eu(qg,`RemoteStore shutting down.`),t.Ea.add(5),await Xg(t),t.Aa.shutdown(),t.Va.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};yv.provider={build:()=>new yv};var bv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Du(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},xv=`FirestoreClient`,Sv=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=xu.UNAUTHENTICATED,this.clientId=Gu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Eu(xv,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Eu(xv,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=T_(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function Cv(e,t){e.asyncQueue.verifyOperationInProgress(),Eu(xv,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await dg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wv(e,t){e.asyncQueue.verifyOperationInProgress();let n=await Tv(e);Eu(xv,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>b_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>b_(t.remoteStore,n))),e._onlineComponents=t}async function Tv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Eu(xv,`Using user provided OfflineComponentProvider`);try{await Cv(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===G.FAILED_PRECONDITION||e.code===G.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Ou(`Error using user provided cache. Falling back to memory cache: `+n),await Cv(e,new _v)}}else Eu(xv,`Using default OfflineComponentProvider`),await Cv(e,new vv(void 0));return e._offlineComponents}async function Ev(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Eu(xv,`Using user provided OnlineComponentProvider`),await wv(e,e._uninitializedComponentsProvider._online)):(Eu(xv,`Using default OnlineComponentProvider`),await wv(e,new yv))),e._onlineComponents}function Dv(e){return Ev(e).then((e=>e.syncEngine))}async function Ov(e){let t=await Ev(e),n=t.eventManager;return n.onListen=q_.bind(null,t.syncEngine),n.onUnlisten=Z_.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=J_.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Q_.bind(null,t.syncEngine),n}function kv(e,t,n,r){let i=new bv(r),a=new z_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>M_(await Ov(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>N_(await Ov(e),a)))}}function Av(e,t,n={}){let r=new Fu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new bv({next:n=>{a.Nu(),t.enqueueAndForget((()=>N_(e,o))),n.fromCache&&r.source===`server`?i.reject(new Pu(G.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new z_(n,a,{includeMetadataChanges:!0,Ka:!0});return M_(e,o)}(await Ov(e),e.asyncQueue,t,n,r))),r.promise}function jv(e,t){let n=new Fu;return e.asyncQueue.enqueueAndForget((async()=>$_(await Dv(e),t,n))),n.promise}function Mv(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Nv=`ComponentProvider`,Pv=new Map;function Fv(e,t,n,r,i){return new of(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Mv(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var Iv=`firestore.googleapis.com`,Lv=!0,Rv=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pu(G.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Iv,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mh;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ih)throw new Pu(G.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}ad(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new Pu(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Pu(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Pu(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},zv=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new Pu(G.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new Pu(G.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Lu;switch(e.type){case`firstParty`:return new Vu(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new Pu(G.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Pv.get(e);t&&(Eu(Nv,`Removing Datastore`),Pv.delete(e),t.terminate())}(this),Promise.resolve()}};function Bv(e,t,n,r={}){e=ud(e,zv);let i=Kn(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(qn(`https://${s}`),$n(`Firestore`,!0)),a.host!==Iv&&a.host!==s&&Ou(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!gr(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=xu.MOCK_USER;else{t=Jn(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Pu(G.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new xu(i)}e._authCredentials=new Ru(new Iu(t,n))}}var Vv=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Hv=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uv(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(fd(n,e._jsonSchema))return new e(t,r||null,new rd(ed.fromString(n.referencePath)))}};Hv._jsonSchemaVersion=`firestore/documentReference/1.0`,Hv._jsonSchema={type:dd(`string`,Hv._jsonSchemaVersion),referencePath:dd(`string`)};var Uv=class e extends Vv{constructor(e,t,n){super(e,t,dp(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Hv(this.firestore,null,new rd(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Wv(e,t,...n){if(e=Tr(e),id(`collection`,`path`,t),e instanceof zv){let r=ed.fromString(t,...n);return sd(r),new Uv(e,null,r)}{if(!(e instanceof Hv||e instanceof Uv))throw new Pu(G.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(ed.fromString(t,...n));return sd(r),new Uv(e.firestore,null,r)}}function Gv(e,t,...n){if(e=Tr(e),arguments.length===1&&(t=Gu.newId()),id(`doc`,`path`,t),e instanceof zv){let r=ed.fromString(t,...n);return od(r),new Hv(e,null,new rd(r))}{if(!(e instanceof Hv||e instanceof Uv))throw new Pu(G.INVALID_ARGUMENT,`Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(ed.fromString(t,...n));return od(r),new Hv(e.firestore,e instanceof Uv?e.converter:null,new rd(r))}}var Kv=`AsyncQueue`,qv=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rg(this,`async_queue_retry`),this._c=()=>{let e=Ig();e&&Eu(Kv,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Ig();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Ig();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Fu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Dd(e))throw e;Eu(Kv,`Operation failed with retryable error: `+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Du(`INTERNAL UNHANDLED ERROR: `,Jv(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=w_.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&Au(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Jv(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var Yv=class extends zv{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new qv,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}};function Xv(e,t){let n=typeof e==`object`?e:$i(),r=typeof e==`string`?e:t||sf,i=qi(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=Hn(`firestore`);e&&Bv(i,...e)}return i}function Zv(e){if(e._terminated)throw new Pu(G.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||Qv(e),e._firestoreClient}function Qv(e){let t=e._freezeSettings(),n=Fv(e._databaseId,e._app?.options.appId||``,e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Sv(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var $v=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(qd.fromBase64String(t))}catch(e){throw new Pu(G.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(qd.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fd(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};$v._jsonSchemaVersion=`firestore/bytes/1.0`,$v._jsonSchema={type:dd(`string`,$v._jsonSchemaVersion),bytes:dd(`string`)};var ey=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pu(G.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new nd(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},ty=class{constructor(e){this._methodName=e}},ny=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pu(G.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new Pu(G.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ku(this._lat,e._lat)||Ku(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(fd(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};ny._jsonSchemaVersion=`firestore/geoPoint/1.0`,ny._jsonSchema={type:dd(`string`,ny._jsonSchemaVersion),latitude:dd(`number`),longitude:dd(`number`)};var ry=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fd(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new Pu(G.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};ry._jsonSchemaVersion=`firestore/vectorValue/1.0`,ry._jsonSchema={type:dd(`string`,ry._jsonSchemaVersion),vectorValues:dd(`object`)};var iy=/^__.*__$/,ay=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new fm(e,this.data,t,this.fieldTransforms):new pm(e,this.data,this.fieldMask,t,this.fieldTransforms)}},oy=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pm(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function sy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Au(40011,{dataSource:e})}}var cy=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError(`Document fields must not be empty`);if(sy(this.dataSource)&&iy.test(e))throw this.createError(`Document fields cannot begin and end with "__"`)}},ly=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lg(e)}createContext(e,t,n,r=!1){return new cy({dataSource:e,methodName:t,targetDoc:n,path:nd.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uy(e){let t=e._freezeSettings(),n=Lg(e._databaseId);return new ly(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dy(e,t,n,r,i,a={}){let o=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);yy(`Data must be an object, but it was:`,o,r);let s=_y(r,o),c,l;if(a.merge)c=new Gd(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=by(t,r,n);if(!o.contains(i))throw new Pu(G.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);wy(e,i)||e.push(i)}c=new Gd(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new ay(new Nf(s),c,l)}var fy=class e extends ty{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}};function py(e,t,n,r){let i=e.createContext(1,t,n);yy(`Data must be an object, but it was:`,i,r);let a=[],o=Nf.empty();return Rd(r,((e,r)=>{let s=Sy(t,e,n);r=Tr(r);let c=i.childContextForFieldPath(s);if(r instanceof fy)a.push(s);else{let e=gy(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new oy(o,new Gd(a),i.fieldTransforms)}function my(e,t,n,r,i,a){let o=e.createContext(1,t,n),s=[by(t,r,n)],c=[i];if(a.length%2!=0)throw new Pu(G.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(by(t,a[e])),c.push(a[e+1]);let l=[],u=Nf.empty();for(let e=s.length-1;e>=0;--e)if(!wy(l,s[e])){let t=s[e],n=c[e];n=Tr(n);let r=o.childContextForFieldPath(t);if(n instanceof fy)l.push(t);else{let e=gy(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new oy(u,new Gd(l),o.fieldTransforms)}function hy(e,t,n,r=!1){return gy(n,e.createContext(r?4:3,t))}function gy(e,t){if(vy(e=Tr(e)))return yy(`Unsupported field value:`,t,e),_y(e,t);if(e instanceof ty)return function(e,t){if(!sy(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=gy(i,t.childContextForArray(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Tr(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Up(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=hd.fromDate(e);return{timestampValue:Jm(t.serializer,n)}}if(e instanceof hd){let n=new hd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jm(t.serializer,n)}}if(e instanceof ny)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $v)return{bytesValue:Ym(t.serializer,e._byteString)};if(e instanceof Hv){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Qm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ry)return function(e,t){let n=e instanceof ry?e.toArray():e;return{mapValue:{fields:{[uf]:{stringValue:pf},[mf]:{arrayValue:{values:n.map((e=>{if(typeof e!=`number`)throw t.createError(`VectorValues must only contain numeric values.`);return Vp(t.serializer,e)}))}}}}}}(e,t);if(wh(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${ld(e)}`)}(e,t)}function _y(e,t){let n={};return zd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rd(e,((e,r)=>{let i=gy(r,t.childContextForField(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function vy(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof hd||e instanceof ny||e instanceof $v||e instanceof Hv||e instanceof ty||e instanceof ry||wh(e))}function yy(e,t,n){if(!vy(n)||!cd(n)){let r=ld(n);throw r===`an object`?t.createError(e+` a custom object`):t.createError(e+` `+r)}}function by(e,t,n){if((t=Tr(t))instanceof ey)return t._internalPath;if(typeof t==`string`)return Sy(e,t);throw Cy(`Field path arguments must be of type string or `,e,!1,void 0,n)}var xy=RegExp(`[~\\*/\\[\\]]`);function Sy(e,t,n){if(t.search(xy)>=0)throw Cy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ey(...t.split(`.`))._internalPath}catch{throw Cy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Cy(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new Pu(G.INVALID_ARGUMENT,s+e+c)}function wy(e,t){return e.some((e=>e.isEqual(t)))}var Ty=class{convertValue(e,t=`none`){switch(hf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Au(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Rd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[mf].arrayValue?.values?.map((e=>Xd(e.doubleValue)));return new ry(t)}convertGeoPoint(e){return new ny(Xd(e.latitude),Xd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=rf(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){let t=Yd(e);return new hd(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=ed.fromString(e);Mu(Ch(n),9688,{name:e});let r=new cf(n.get(1),n.get(3)),i=new rd(n.popFirst(5));return r.isEqual(t)||Du(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}},Ey=class extends Ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new $v(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hv(this.firestore,null,t)}},Dy=`@firebase/firestore`,Oy=`4.10.0`;function ky(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var Ay=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hv(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(by(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},jy=class extends Ay{data(){return super.data()}};function My(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new Pu(G.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var Ny=class{},Py=class extends Ny{};function Fy(e,t,...n){let r=[];t instanceof Ny&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof Ry)).length,n=e.filter((e=>e instanceof Iy)).length;if(t>1||t>0&&n>0)throw new Pu(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var Iy=class e extends Py{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return Hy(e._query,t),new Vv(e.firestore,e.converter,vp(e._query,t))}_parse(e){let t=uy(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new Pu(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){Vy(o,a);let t=[];for(let n of o)t.push(By(r,e,n));s={arrayValue:{values:t}}}else s=By(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||Vy(o,a),s=hy(n,t,o,a===`in`||a===`not-in`);return Hf.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function Ly(e,t,n){let r=t,i=by(`where`,e);return Iy._create(i,r,n)}var Ry=class e extends Ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:Uf.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)Hy(n,e),n=vp(n,e)}(e._query,t),new Vv(e.firestore,e.converter,vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}};function zy(...e){return e.forEach((e=>Uy(`or`,e))),Ry._create(`or`,e)}function By(e,t,n){if(typeof(n=Tr(n))==`string`){if(n===``)throw new Pu(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!mp(t)&&n.indexOf(`/`)!==-1)throw new Pu(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(ed.fromString(n));if(!rd.isDocumentKey(r))throw new Pu(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wf(e,new rd(r))}if(n instanceof Hv)return wf(e,n._key);throw new Pu(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(n)}.`)}function Vy(e,t){if(!Array.isArray(e)||e.length===0)throw new Pu(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Hy(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Pu(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Pu(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Uy(e,t){if(!(t instanceof Iy||t instanceof Ry))throw new Pu(G.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function Wy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var Gy=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ky=class e extends Ay{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(by(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pu(G.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};Ky._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,Ky._jsonSchema={type:dd(`string`,Ky._jsonSchemaVersion),bundleSource:dd(`string`,`DocumentSnapshot`),bundleName:dd(`string`),bundle:dd(`string`)};var qy=class extends Ky{data(e={}){return super.data(e)}},Jy=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new qy(this._firestore,this._userDataWriter,n.key,n,new Gy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pu(G.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new qy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new qy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Yy(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pu(G.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=Gu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function Yy(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return Au(61501,{type:e})}}Jy._jsonSchemaVersion=`firestore/querySnapshot/1.0`,Jy._jsonSchema={type:dd(`string`,Jy._jsonSchemaVersion),bundleSource:dd(`string`,`QuerySnapshot`),bundleName:dd(`string`),bundle:dd(`string`)};var Xy=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=uy(e)}set(e,t,n){this._verifyNotCommitted();let r=Zy(e,this._firestore),i=Wy(r.converter,t,n),a=dy(this._dataReader,`WriteBatch.set`,r._key,i,r.converter!==null,n);return this._mutations.push(a.toMutation(r._key,im.none())),this}update(e,t,n,...r){this._verifyNotCommitted();let i=Zy(e,this._firestore),a;return a=typeof(t=Tr(t))==`string`||t instanceof ey?my(this._dataReader,`WriteBatch.update`,i._key,t,n,r):py(this._dataReader,`WriteBatch.update`,i._key,t),this._mutations.push(a.toMutation(i._key,im.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Zy(e,this._firestore);return this._mutations=this._mutations.concat(new _m(t._key,im.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pu(G.FAILED_PRECONDITION,`A write batch can no longer be used after commit() has been called.`)}};function Zy(e,t){if((e=Tr(e)).firestore!==t)throw new Pu(G.INVALID_ARGUMENT,`Provided document reference is from a different Firestore instance.`);return e}function Qy(e){e=ud(e,Vv);let t=ud(e.firestore,Yv),n=Zv(t),r=new Ey(t);return My(e._query),Av(n,e._query).then((n=>new Jy(t,r,e,n)))}function $y(e,t,n){e=ud(e,Hv);let r=ud(e.firestore,Yv),i=Wy(e.converter,t,n);return ib(r,[dy(uy(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,im.none())])}function eb(e,t,n,...r){e=ud(e,Hv);let i=ud(e.firestore,Yv),a=uy(i),o;return o=typeof(t=Tr(t))==`string`||t instanceof ey?my(a,`updateDoc`,e._key,t,n,r):py(a,`updateDoc`,e._key,t),ib(i,[o.toMutation(e._key,im.exists(!0))])}function tb(e){return ib(ud(e.firestore,Yv),[new _m(e._key,im.none())])}function nb(e,t){let n=ud(e.firestore,Yv),r=Gv(e),i=Wy(e.converter,t);return ib(n,[dy(uy(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,im.exists(!1))]).then((()=>r))}function rb(e,...t){e=Tr(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||ky(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ky(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Hv)o=ud(e.firestore,Yv),s=dp(e._key.path),a={next:n=>{t[r]&&t[r](ab(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=ud(e,Vv);o=ud(n.firestore,Yv),s=n._query;let i=new Ey(o);a={next:e=>{t[r]&&t[r](new Jy(o,i,n,e))},error:t[r+1],complete:t[r+2]},My(e._query)}return kv(Zv(o),s,i,a)}function ib(e,t){return jv(Zv(e),t)}function ab(e,t,n){let r=n.docs.get(t._key);return new Ky(e,new Ey(e),t._key,r,new Gy(n.hasPendingWrites,n.fromCache),t.converter)}function ob(e){return e=ud(e,Yv),Zv(e),new Xy(e,(t=>ib(e,t)))}(function(e,t=!0){Cu(Zi),Ki(new Er(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new Yv(new zu(e.getProvider(`auth-internal`)),new Uu(i,e.getProvider(`app-check-internal`)),lf(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),ea(Dy,Oy,e),ea(Dy,Oy,`esm2020`)})(),ea(`firebase`,`12.8.0`,`app`);var sb=Qi({apiKey:`AIzaSyBdNyY60fcACt2D5Kn-Eh4GtKkQUiqwec8`,authDomain:`sibko-gurubk.firebaseapp.com`,projectId:`sibko-gurubk`,storageBucket:`sibko-gurubk.firebasestorage.app`,messagingSenderId:`847568876874`,appId:`1:847568876874:web:7a80bb88432ef2b29fbdb3`});const cb=au(sb),lb=Xv(sb),ub=e=>Wv(lb,e);var db=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),fb=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),pb=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),mb=e=>{let t=pb(e);return t.charAt(0).toUpperCase()+t.slice(1)},hb={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},gb=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},_b=(0,y.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,y.createElement)(`svg`,{ref:c,...hb,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:db(`lucide`,i),...!a&&!gb(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,y.createElement)(e,t)),...Array.isArray(a)?a:[a]])),vb=(e,t)=>{let n=(0,y.forwardRef)(({className:n,...r},i)=>(0,y.createElement)(_b,{ref:i,iconNode:t,className:db(`lucide-${fb(mb(e))}`,`lucide-${e}`,n),...r}));return n.displayName=mb(e),n},yb=vb(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),bb=vb(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),xb=vb(`arrow-right-left`,[[`path`,{d:`m16 3 4 4-4 4`,key:`1x1c3m`}],[`path`,{d:`M20 7H4`,key:`zbl0bi`}],[`path`,{d:`m8 21-4-4 4-4`,key:`h9nckh`}],[`path`,{d:`M4 17h16`,key:`g4d7ey`}]]),Sb=vb(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Cb=vb(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),wb=vb(`book-user`,[[`path`,{d:`M15 13a3 3 0 1 0-6 0`,key:`10j68g`}],[`path`,{d:`M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20`,key:`k3hazp`}],[`circle`,{cx:`12`,cy:`8`,r:`2`,key:`1822b1`}]]),Tb=vb(`briefcase`,[[`path`,{d:`M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16`,key:`jecpp`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`6`,rx:`2`,key:`i6l2r4`}]]),Eb=vb(`building-2`,[[`path`,{d:`M10 12h4`,key:`a56b0p`}],[`path`,{d:`M10 8h4`,key:`1sr2af`}],[`path`,{d:`M14 21v-3a2 2 0 0 0-4 0v3`,key:`1rgiei`}],[`path`,{d:`M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2`,key:`secmi2`}],[`path`,{d:`M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16`,key:`16ra0t`}]]),Db=vb(`calendar-clock`,[[`path`,{d:`M16 14v2.2l1.6 1`,key:`fo4ql5`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`path`,{d:`M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5`,key:`1osxxc`}],[`path`,{d:`M3 10h5`,key:`r794hk`}],[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`circle`,{cx:`16`,cy:`16`,r:`6`,key:`qoo3c4`}]]),Ob=vb(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),kb=vb(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),Ab=vb(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),jb=vb(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),Mb=vb(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Nb=vb(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),Pb=vb(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),Fb=vb(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),Ib=vb(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),Lb=vb(`circle-plus`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 12h8`,key:`1wcyev`}],[`path`,{d:`M12 8v8`,key:`napkw2`}]]),Rb=vb(`clipboard-list`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`M12 11h4`,key:`1jrz19`}],[`path`,{d:`M12 16h4`,key:`n85exb`}],[`path`,{d:`M8 11h.01`,key:`1dfujw`}],[`path`,{d:`M8 16h.01`,key:`18s6g9`}]]),zb=vb(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Bb=vb(`cloud-upload`,[[`path`,{d:`M12 13v8`,key:`1l5pq0`}],[`path`,{d:`M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242`,key:`1pljnt`}],[`path`,{d:`m8 17 4-4 4 4`,key:`1quai1`}]]),Vb=vb(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),Hb=vb(`database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),Ub=vb(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),Wb=vb(`ellipsis-vertical`,[[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`circle`,{cx:`12`,cy:`5`,r:`1`,key:`gxeob9`}],[`circle`,{cx:`12`,cy:`19`,r:`1`,key:`lyex9k`}]]),Gb=vb(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),Kb=vb(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),qb=vb(`file-check`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`m9 15 2 2 4-4`,key:`1grp1n`}]]),Jb=vb(`file-image`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`circle`,{cx:`10`,cy:`12`,r:`2`,key:`737tya`}],[`path`,{d:`m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22`,key:`wt3hpn`}]]),Yb=vb(`file-pen-line`,[[`path`,{d:`m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351`,key:`1k2beg`}],[`path`,{d:`M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z`,key:`2t3380`}],[`path`,{d:`M8 18h1`,key:`13wk12`}]]),Xb=vb(`file-text`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),Zb=vb(`file-up`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M12 12v6`,key:`3ahymv`}],[`path`,{d:`m15 15-3-3-3 3`,key:`15xj92`}]]),Qb=vb(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),$b=vb(`gavel`,[[`path`,{d:`m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381`,key:`pgg06f`}],[`path`,{d:`m16 16 6-6`,key:`vzrcl6`}],[`path`,{d:`m21.5 10.5-8-8`,key:`a17d9x`}],[`path`,{d:`m8 8 6-6`,key:`18bi4p`}],[`path`,{d:`m8.5 7.5 8 8`,key:`1oyaui`}]]),ex=vb(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),tx=vb(`graduation-cap`,[[`path`,{d:`M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z`,key:`j76jl0`}],[`path`,{d:`M22 10v6`,key:`1lu8f3`}],[`path`,{d:`M6 12.5V16a6 3 0 0 0 12 0v-3.5`,key:`1r8lef`}]]),nx=vb(`grip-vertical`,[[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}],[`circle`,{cx:`9`,cy:`5`,r:`1`,key:`hp0tcf`}],[`circle`,{cx:`9`,cy:`19`,r:`1`,key:`fkjjf6`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`15`,cy:`5`,r:`1`,key:`19l28e`}],[`circle`,{cx:`15`,cy:`19`,r:`1`,key:`f4zoj3`}]]),rx=vb(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),ix=vb(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),ax=vb(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),ox=vb(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),sx=vb(`key`,[[`path`,{d:`m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4`,key:`g0fldk`}],[`path`,{d:`m21 2-9.6 9.6`,key:`1j0ho8`}],[`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`,key:`yqb3hr`}]]),cx=vb(`layout-template`,[[`rect`,{width:`18`,height:`7`,x:`3`,y:`3`,rx:`1`,key:`f1a2em`}],[`rect`,{width:`9`,height:`7`,x:`3`,y:`14`,rx:`1`,key:`jqznyg`}],[`rect`,{width:`5`,height:`7`,x:`16`,y:`14`,rx:`1`,key:`q5h2i8`}]]),lx=vb(`link`,[[`path`,{d:`M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71`,key:`1cjeqo`}],[`path`,{d:`M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71`,key:`19qd67`}]]),ux=vb(`list-ordered`,[[`path`,{d:`M11 5h10`,key:`1cz7ny`}],[`path`,{d:`M11 12h10`,key:`1438ji`}],[`path`,{d:`M11 19h10`,key:`11t30w`}],[`path`,{d:`M4 4h1v5`,key:`10yrso`}],[`path`,{d:`M4 9h2`,key:`r1h2o0`}],[`path`,{d:`M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02`,key:`xtkcd5`}]]),dx=vb(`list`,[[`path`,{d:`M3 5h.01`,key:`18ugdj`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M3 19h.01`,key:`noohij`}],[`path`,{d:`M8 5h13`,key:`1pao27`}],[`path`,{d:`M8 12h13`,key:`1za7za`}],[`path`,{d:`M8 19h13`,key:`m83p4d`}]]),fx=vb(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),px=vb(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),mx=vb(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),hx=vb(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),gx=vb(`map`,[[`path`,{d:`M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z`,key:`169xi5`}],[`path`,{d:`M15 5.764v15`,key:`1pn4in`}],[`path`,{d:`M9 3.236v15`,key:`1uimfh`}]]),_x=vb(`octagon-alert`,[[`path`,{d:`M12 16h.01`,key:`1drbdi`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z`,key:`1fd625`}]]),vx=vb(`pen-line`,[[`path`,{d:`M13 21h8`,key:`1jsn5i`}],[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),yx=vb(`pen-tool`,[[`path`,{d:`M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z`,key:`nt11vn`}],[`path`,{d:`m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18`,key:`15qc1e`}],[`path`,{d:`m2.3 2.3 7.286 7.286`,key:`1wuzzi`}],[`circle`,{cx:`11`,cy:`11`,r:`2`,key:`xmgehs`}]]),bx=vb(`phone`,[[`path`,{d:`M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384`,key:`9njp5v`}]]),xx=vb(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Sx=vb(`power`,[[`path`,{d:`M12 2v10`,key:`mnfbl`}],[`path`,{d:`M18.4 6.6a9 9 0 1 1-12.77.04`,key:`obofu9`}]]),Cx=vb(`printer`,[[`path`,{d:`M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2`,key:`143wyd`}],[`path`,{d:`M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6`,key:`1itne7`}],[`rect`,{x:`6`,y:`14`,width:`12`,height:`8`,rx:`1`,key:`1ue0tg`}]]),wx=vb(`rectangle-horizontal`,[[`rect`,{width:`20`,height:`12`,x:`2`,y:`6`,rx:`2`,key:`9lu3g6`}]]),Tx=vb(`rectangle-vertical`,[[`rect`,{width:`12`,height:`20`,x:`6`,y:`2`,rx:`2`,key:`1oxtiu`}]]),Ex=vb(`refresh-ccw`,[[`path`,{d:`M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`14sxne`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16`,key:`1hlbsb`}],[`path`,{d:`M16 16h5v5`,key:`ccwih5`}]]),Dx=vb(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Ox=vb(`school`,[[`path`,{d:`M14 21v-3a2 2 0 0 0-4 0v3`,key:`1rgiei`}],[`path`,{d:`M18 5v16`,key:`1ethyx`}],[`path`,{d:`m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6`,key:`zywc2d`}],[`path`,{d:`m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11`,key:`1d4ql0`}],[`path`,{d:`M6 5v16`,key:`1sn0nx`}],[`circle`,{cx:`12`,cy:`9`,r:`2`,key:`1092wv`}]]),kx=vb(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Ax=vb(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),jx=vb(`shield-alert`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M12 16h.01`,key:`1drbdi`}]]),Mx=vb(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),Nx=vb(`square-pen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),Px=vb(`target`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`circle`,{cx:`12`,cy:`12`,r:`6`,key:`1vlfrh`}],[`circle`,{cx:`12`,cy:`12`,r:`2`,key:`1c9p78`}]]),Fx=vb(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),Ix=vb(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),Lx=vb(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Rx=vb(`trophy`,[[`path`,{d:`M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978`,key:`1n3hpd`}],[`path`,{d:`M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978`,key:`rfe1zi`}],[`path`,{d:`M18 9h1.5a1 1 0 0 0 0-5H18`,key:`7xy6bh`}],[`path`,{d:`M4 22h16`,key:`57wxv0`}],[`path`,{d:`M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z`,key:`1mhfuq`}],[`path`,{d:`M6 9H4.5a1 1 0 0 1 0-5H6`,key:`tex48p`}]]),zx=vb(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Bx=vb(`user-check`,[[`path`,{d:`m16 11 2 2 4-4`,key:`9rsbq5`}],[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Vx=vb(`user-cog`,[[`path`,{d:`M10 15H6a4 4 0 0 0-4 4v2`,key:`1nfge6`}],[`path`,{d:`m14.305 16.53.923-.382`,key:`1itpsq`}],[`path`,{d:`m15.228 13.852-.923-.383`,key:`eplpkm`}],[`path`,{d:`m16.852 12.228-.383-.923`,key:`13v3q0`}],[`path`,{d:`m16.852 17.772-.383.924`,key:`1i8mnm`}],[`path`,{d:`m19.148 12.228.383-.923`,key:`1q8j1v`}],[`path`,{d:`m19.53 18.696-.382-.924`,key:`vk1qj3`}],[`path`,{d:`m20.772 13.852.924-.383`,key:`n880s0`}],[`path`,{d:`m20.772 16.148.924.383`,key:`1g6xey`}],[`circle`,{cx:`18`,cy:`15`,r:`3`,key:`gjjjvw`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Hx=vb(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Ux=vb(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Wx=vb(`variable`,[[`path`,{d:`M8 21s-4-3-4-9 4-9 4-9`,key:`uto9ud`}],[`path`,{d:`M16 3s4 3 4 9-4 9-4 9`,key:`4w2vsq`}],[`line`,{x1:`15`,x2:`9`,y1:`9`,y2:`15`,key:`f7djnv`}],[`line`,{x1:`9`,x2:`15`,y1:`9`,y2:`15`,key:`1shsy8`}]]),Gx=vb(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);const Kx={users:`users`,students:`students`,journals:`journals`,settings:`settings`},qx={username:`admin`,password:`admin123`,fullName:`Administrator SIBKO`,role:`admin`,createdAt:new Date().toISOString(),accessExpiry:null},Jx=[{label:`7 Hari`,value:7},{label:`30 Hari`,value:30},{label:`6 Bulan`,value:180},{label:`12 Bulan`,value:365},{label:`Selamanya (Full Time)`,value:-1}],Yx=[`Konseling Individu`,`Konseling Kelompok`,`Bimbingan Klasikal`,`Bimbingan Kelompok`,`Konferensi Kasus`,`Home Visit`,`Alih Tangan Kasus (Referal)`,`Konsultasi`,`Kolaborasi`,`Mediasi`],Xx=[`Landasan Hidup Religius`,`Landasan Perilaku Etis`,`Kematangan Emosi`,`Kematangan Intelektual`,`Kesadaran Tanggung Jawab Sosial`,`Kesadaran Gender`,`Pengembangan Pribadi`,`Perilaku Kewirausahaan (Kemandirian)`,`Wawasan dan Kesiapan Karir`,`Kematangan Hubungan Teman Sebaya`],Zx=[`Pribadi`,`Sosial`,`Belajar`,`Karir`,`Kedisiplinan`,`Keluarga`],Qx=[`Client Centered (Mendengarkan Aktif)`,`Behavioral (Penguatan/Kontrak)`,`REBT (Rational Emotive Behavior)`,`SFBT (Fokus Solusi)`,`Reality Therapy (WDEP)`,`Trait & Factor (Karir)`,`Diskusi Kelompok`,`Psikodrama`,`Sosiodrama`,`Lainnya`];var $x=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),q=o(((e,t)=>{t.exports=$x()}))(),eS=({user:e,children:t})=>{let n=Ue();return e?t:(0,q.jsx)(_t,{to:`/login`,state:{from:n},replace:!0})},tS=({onLogin:e,loading:t,error:n})=>{let[r,i]=(0,y.useState)(``),[a,o]=(0,y.useState)(``);return(0,q.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-slate-200 p-4`,style:{backgroundImage:`linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)`},children:(0,q.jsxs)(`div`,{className:`bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md border-t-8 border-blue-600 animate-in fade-in zoom-in duration-300`,children:[(0,q.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,q.jsx)(`div`,{className:`h-20 w-20 bg-blue-600 rounded-full mx-auto flex items-center justify-center shadow-lg mb-4`,children:(0,q.jsx)(Cb,{size:40,className:`text-white`})}),(0,q.jsx)(`h1`,{className:`text-2xl font-bold uppercase text-blue-900 tracking-wider`,children:`SIBKO LOGIN`}),(0,q.jsx)(`p`,{className:`text-sm font-semibold text-slate-500 uppercase`,children:`Sistem Informasi Bimbingan Konseling`})]}),n&&(0,q.jsxs)(`div`,{className:`bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 text-sm flex items-center gap-2`,children:[(0,q.jsx)(Lx,{size:16}),` `,n]}),(0,q.jsxs)(`form`,{onSubmit:t=>{t.preventDefault(),e(r,a)},className:`space-y-5`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`Username`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400`,children:(0,q.jsx)(Ux,{size:18})}),(0,q.jsx)(`input`,{className:`w-full pl-10 p-3 border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none transition-all`,value:r,onChange:e=>i(e.target.value),placeholder:`Masukkan Username`,required:!0})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`Password`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400`,children:(0,q.jsx)(sx,{size:18})}),(0,q.jsx)(`input`,{type:`password`,className:`w-full pl-10 p-3 border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none transition-all`,value:a,onChange:e=>o(e.target.value),placeholder:`Masukkan Password`,required:!0})]})]}),(0,q.jsx)(`button`,{disabled:t,className:`w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded shadow-lg transition-transform transform hover:scale-105 active:scale-95 disabled:bg-slate-400 disabled:cursor-not-allowed flex justify-center items-center gap-2`,children:t?`Memuat...`:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Bx,{size:20}),` MASUK APLIKASI`]})})]}),(0,q.jsxs)(`div`,{className:`mt-8 text-center text-xs text-gray-400 border-t pt-4`,children:[` `,new Date().getFullYear(),` Layanan Bimbingan Konseling Digital`]})]})})},nS=({children:e,userRole:t,userName:n,onLogout:r})=>{let[i,a]=(0,y.useState)(!0),[o,s]=(0,y.useState)(null),c=Ue(),l=Ke();(0,y.useEffect)(()=>{let e=()=>{window.innerWidth<768?a(!1):a(!0)};return e(),window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let u=e=>{!i&&window.innerWidth>=768?(a(!0),s(e)):s(o===e?null:e)},d=t===`admin`?[{id:`dashboard`,label:`Dashboard`,icon:ix,path:`/`},{id:`users`,label:`Manajemen User`,icon:Ux,path:`/users`},{id:`letters`,label:`Manajemen Surat`,icon:mx,path:`/letters`},{id:`account`,label:`Profil Admin`,icon:Vx,path:`/account`}]:[{id:`dashboard`,label:`Dashboard`,icon:ix,path:`/`},{id:`journal`,label:`Jurnal Harian`,icon:Cb,path:`/journal`},{id:`students`,label:`Data Siswa`,icon:Ux,path:`/students`},{id:`bk_services`,label:`Layanan BK`,icon:Tb,children:[{id:`points`,label:`Catat Poin Siswa`,icon:Rx,path:`/points`},{id:`point_book`,label:`Buku Poin Siswa`,icon:wb,path:`/point-book`},{id:`sanction_book`,label:`Buku Sanksi Siswa`,icon:$b,path:`/sanction-book`},{id:`counseling_history`,label:`Riwayat Konseling`,icon:Rb,path:`/counseling-history`},{id:`letters`,label:`Pembuatan Surat`,icon:mx,path:`/letters`}]},{id:`reports`,label:`Cetak Laporan`,icon:Cx,path:`/reports`},{id:`master_data`,label:`Master Data`,icon:Hb,children:[{id:`master_points`,label:`Master Poin & Sanksi`,icon:dx,path:`/master-points`}]},{id:`settings`,label:`Pengaturan Sekolah`,icon:Ox,path:`/settings`},{id:`account`,label:`Profil Saya`,icon:Vx,path:`/account`}],f=e=>{e.children?u(e.id):(l(e.path),s(null),window.innerWidth<768&&a(!1))},p=e=>c.pathname===e;return(0,q.jsxs)(`div`,{className:`flex h-screen bg-slate-50 font-sans text-slate-800`,children:[(0,q.jsxs)(`aside`,{className:`
                    fixed inset-y-0 left-0 z-40 bg-slate-900 text-white shadow-xl flex flex-col 
                    transition-all duration-300 ease-in-out
                    ${i?`w-64`:`w-64 md:w-20`} 
                    ${i?`translate-x-0`:`-translate-x-full md:translate-x-0`}
                `,children:[(0,q.jsxs)(`div`,{className:`h-16 flex items-center justify-between px-0 md:px-0 bg-slate-950 shadow-md relative overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3 transition-all duration-300 w-full ${i?`px-6`:`px-0 justify-center`}`,children:[(0,q.jsx)(`div`,{className:`w-8 h-8 bg-blue-600 rounded-lg flex-shrink-0 flex items-center justify-center font-bold text-lg shadow-lg shadow-blue-500/30`,children:`S`}),(0,q.jsxs)(`span`,{className:`font-bold text-lg tracking-tight whitespace-nowrap transition-opacity duration-200 ${i?`opacity-100`:`opacity-0 hidden`}`,children:[`SIBKO `,(0,q.jsx)(`span`,{className:`text-blue-400`,children:`App`})]})]}),(0,q.jsx)(`button`,{onClick:()=>a(!1),className:`md:hidden absolute right-4 text-slate-400 hover:text-white`,children:(0,q.jsx)(Gx,{size:24})})]}),(0,q.jsxs)(`div`,{className:`flex-1 overflow-y-auto py-6 space-y-1 custom-scrollbar overflow-x-hidden`,children:[i&&(0,q.jsx)(`div`,{className:`px-6 mb-2 text-xs font-bold text-slate-500 uppercase tracking-wider animate-in fade-in`,children:`Menu Utama`}),d.map(e=>(0,q.jsxs)(`div`,{className:`px-3`,children:[(0,q.jsxs)(`button`,{onClick:()=>f(e),className:`
                                    w-full flex items-center relative py-2.5 rounded-lg mb-1 transition-all duration-200 group
                                    ${i?`justify-between px-3`:`justify-center`}
                                    ${p(e.path)||e.children&&o===e.id?`bg-blue-600 text-white shadow-lg shadow-blue-900/50`:`text-slate-400 hover:bg-slate-800 hover:text-white`}
                                `,title:i?``:e.label,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(e.icon,{size:20,className:`flex-shrink-0 ${p(e.path)?`text-white`:`text-slate-500 group-hover:text-blue-400`} ${!i&&o===e.id?`text-blue-400`:``}`}),(0,q.jsx)(`span`,{className:`font-medium text-sm whitespace-nowrap transition-all duration-200 ${i?`opacity-100`:`opacity-0 w-0 hidden`}`,children:e.label})]}),e.children&&i&&(o===e.id?(0,q.jsx)(Ab,{size:16}):(0,q.jsx)(Mb,{size:16}))]}),e.children&&o===e.id&&i&&(0,q.jsx)(`div`,{className:`ml-9 space-y-1 mb-2 border-l border-slate-700 pl-2 animate-in slide-in-from-top-2`,children:e.children.map(e=>(0,q.jsxs)(`button`,{onClick:()=>{l(e.path),window.innerWidth<768&&a(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p(e.path)?`text-blue-400 font-bold bg-slate-800/50`:`text-slate-500 hover:text-slate-300`}`,children:[(0,q.jsx)(`div`,{className:`w-1.5 h-1.5 rounded-full ${p(e.path)?`bg-blue-400`:`bg-slate-600`}`}),e.label]},e.id))})]},e.id))]}),(0,q.jsx)(`div`,{className:`p-4 border-t border-slate-800 bg-slate-900`,children:(0,q.jsxs)(`button`,{onClick:r,className:`w-full flex items-center gap-2 bg-red-600/10 hover:bg-red-600 text-red-500 hover:text-white py-2.5 rounded-lg transition-all duration-200 font-bold text-sm border border-red-900/30 hover:border-red-600 ${i?`justify-center px-4`:`justify-center px-0`}`,title:`Keluar Aplikasi`,children:[(0,q.jsx)(px,{size:18}),(0,q.jsx)(`span`,{className:`transition-all duration-200 ${i?`opacity-100`:`opacity-0 w-0 hidden`}`,children:`Keluar`})]})})]}),(0,q.jsxs)(`main`,{className:`flex-1 flex flex-col h-screen overflow-hidden relative w-full transition-all duration-300 ${i?`md:ml-64`:`md:ml-20`}`,children:[(0,q.jsxs)(`header`,{className:`bg-white shadow-sm h-16 flex items-center justify-between px-4 md:px-6 flex-shrink-0 print:hidden z-30`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,q.jsx)(`button`,{onClick:()=>a(!i),className:`p-2 hover:bg-slate-100 rounded-lg text-slate-500 transition-colors`,children:(0,q.jsx)(dx,{size:24})}),(0,q.jsx)(`h2`,{className:`font-bold text-lg text-slate-800 hidden sm:block`,children:(()=>{let e=d.find(e=>e.path===c.pathname)||d.flatMap(e=>e.children||[]).find(e=>e.path===c.pathname);return e?e.label:`Dashboard`})()})]}),(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsxs)(`div`,{className:`text-right hidden md:block`,children:[(0,q.jsx)(`p`,{className:`text-sm font-bold text-slate-700`,children:n}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 capitalize`,children:t===`admin`?`Administrator`:`Guru BK`})]}),(0,q.jsx)(`div`,{className:`w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-50 text-blue-600 rounded-full flex items-center justify-center font-bold text-sm border border-blue-200 shadow-sm`,children:n.charAt(0)})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-auto p-0 md:p-0 print:overflow-visible w-full relative bg-slate-50/50`,children:e})]})]})},rS=({users:e,studentsCount:t,journalsCount:n})=>(0,q.jsxs)(`div`,{className:`p-6 space-y-6 animate-in fade-in`,children:[(0,q.jsx)(`h2`,{className:`text-2xl font-bold text-slate-800`,children:`Dashboard Administrator`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-6`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4 hover:shadow-md transition-shadow`,children:[(0,q.jsx)(`div`,{className:`p-4 bg-blue-100 text-blue-600 rounded-full`,children:(0,q.jsx)(Ux,{size:32})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{className:`text-sm text-slate-500 font-bold uppercase`,children:`Total Guru BK`}),(0,q.jsx)(`p`,{className:`text-3xl font-extrabold text-slate-800`,children:e.filter(e=>e.role===`guru`).length})]})]}),(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4 hover:shadow-md transition-shadow`,children:[(0,q.jsx)(`div`,{className:`p-4 bg-green-100 text-green-600 rounded-full`,children:(0,q.jsx)(Ux,{size:32})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{className:`text-sm text-slate-500 font-bold uppercase`,children:`Total Siswa Terdata`}),(0,q.jsx)(`p`,{className:`text-3xl font-extrabold text-slate-800`,children:t})]})]}),(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4 hover:shadow-md transition-shadow`,children:[(0,q.jsx)(`div`,{className:`p-4 bg-purple-100 text-purple-600 rounded-full`,children:(0,q.jsx)(Xb,{size:32})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{className:`text-sm text-slate-500 font-bold uppercase`,children:`Total Jurnal Aktivitas`}),(0,q.jsx)(`p`,{className:`text-3xl font-extrabold text-slate-800`,children:n})]})]})]}),(0,q.jsxs)(`div`,{className:`bg-blue-50 border-l-4 border-blue-600 p-4 rounded shadow-sm`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-blue-800 mb-2`,children:`Informasi Sistem`}),(0,q.jsx)(`p`,{className:`text-sm text-blue-700`,children:`Sebagai Admin, Anda memiliki akses untuk mengelola akun pengguna (Guru BK) dan mengubah password Admin sendiri. Anda dapat mengatur masa aktif akun guru (trial/full time).`})]})]}),iS=({students:e=[],pointLogs:t=[],journals:n=[],user:r,settings:i})=>{let a=Ke(),[o,s]=(0,y.useState)(``);(0,y.useEffect)(()=>{(()=>{let e=new Date().getHours();s(e>=4&&e<11?`Selamat Pagi`:e>=11&&e<15?`Selamat Siang`:e>=15&&e<18?`Selamat Sore`:`Selamat Malam`)})()},[]);let c=(0,y.useMemo)(()=>{let r=e.length,i=t.filter(e=>e.type===`violation`),a=t.filter(e=>e.type===`achievement`),o=e.filter(e=>t.filter(t=>t.studentId===e.id&&t.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0)>0).length,s=new Date().toISOString().split(`T`)[0],c=n.filter(e=>e.date===s).length;return{totalStudents:r,totalViolations:i.length,totalAchievements:a.length,troubledStudents:o,todayJournals:c}},[e,t,n]),l=(0,y.useMemo)(()=>e.map(e=>{let n=t.filter(t=>t.studentId===e.id&&t.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0),r=t.filter(t=>t.studentId===e.id&&t.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0);return{...e,netPoints:n-r,vPoints:n}}).filter(e=>e.netPoints>0).sort((e,t)=>t.netPoints-e.netPoints).slice(0,5),[e,t]),u=(0,y.useMemo)(()=>{let n={};return t.filter(e=>e.type===`violation`).forEach(t=>{let r=e.find(e=>e.id===t.studentId);r&&r.class&&(n[r.class]=(n[r.class]||0)+1)}),Object.entries(n).map(([e,t])=>({cls:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,5)},[t,e]),d=(0,y.useMemo)(()=>t.slice(-5).reverse().map(e=>({type:e.type===`violation`?`violation`:`achievement`,title:e.type===`violation`?`Pelanggaran Dicatat`:`Prestasi Dicatat`,desc:`${e.studentName} - ${e.desc}`,time:`Baru saja`,icon:e.type===`violation`?Lx:Rx,color:e.type===`violation`?`text-red-500 bg-red-50`:`text-green-500 bg-green-50`})),[t]);return(0,q.jsxs)(`div`,{className:`p-4 md:p-8 space-y-8 bg-slate-50 min-h-screen pb-20 animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-end gap-4 mb-6`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-2xl font-bold text-slate-800`,children:[o,`, `,r?.fullName||`Guru BK`,` `]}),(0,q.jsx)(`p`,{className:`text-slate-500 mt-1`,children:`Berikut adalah ringkasan aktivitas konseling saat ini.`})]}),(0,q.jsxs)(`div`,{className:`text-right hidden md:block`,children:[(0,q.jsx)(`div`,{className:`text-sm font-bold text-slate-700`,children:new Date().toLocaleDateString(`id-ID`,{weekday:`long`,day:`numeric`,month:`long`,year:`numeric`})}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-400`,children:[`Tahun Ajaran `,i?.academicYear||`...`,` - Semester `,i?.semester||`...`]})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4`,children:[(0,q.jsx)(aS,{title:`Total Siswa`,value:c.totalStudents,icon:Ux,color:`blue`,desc:`Data Terdaftar`}),(0,q.jsx)(aS,{title:`Siswa Bermasalah`,value:c.troubledStudents,icon:Lx,color:`orange`,desc:`Memiliki Poin > 0`}),(0,q.jsx)(aS,{title:`Total Prestasi`,value:c.totalAchievements,icon:Rx,color:`green`,desc:`Tercatat Sistem`}),(0,q.jsx)(aS,{title:`Jurnal Hari Ini`,value:c.todayJournals,icon:Xb,color:`purple`,desc:`Agenda Konseling`})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[(0,q.jsxs)(`div`,{className:`lg:col-span-2 space-y-8`,children:[(0,q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-sm border border-slate-100`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-slate-700 mb-4 flex items-center gap-2`,children:[(0,q.jsx)(yb,{size:18,className:`text-blue-600`}),` Akses Cepat`]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4`,children:[(0,q.jsx)(oS,{icon:Lb,label:`Input Pelanggaran`,color:`bg-red-50 text-red-600 hover:bg-red-100`,onClick:()=>a(`/points`)}),(0,q.jsx)(oS,{icon:Rx,label:`Input Prestasi`,color:`bg-green-50 text-green-600 hover:bg-green-100`,onClick:()=>a(`/points`)}),(0,q.jsx)(oS,{icon:Xb,label:`Tulis Jurnal`,color:`bg-purple-50 text-purple-600 hover:bg-purple-100`,onClick:()=>a(`/journal`)}),(0,q.jsx)(oS,{icon:kx,label:`Cari Siswa`,color:`bg-blue-50 text-blue-600 hover:bg-blue-100`,onClick:()=>a(`/students`)})]})]}),(0,q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`p-6 border-b border-slate-100 flex justify-between items-center`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h3`,{className:`font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Ix,{size:18,className:`text-red-500`}),` Siswa Perlu Perhatian`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-400 mt-1`,children:`Top 5 siswa dengan akumulasi poin tertinggi`})]}),(0,q.jsxs)(`button`,{onClick:()=>a(`/sanctions`),className:`text-xs font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1`,children:[`Lihat Semua `,(0,q.jsx)(Sb,{size:14})]})]}),(0,q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,q.jsxs)(`table`,{className:`w-full text-left`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-50 text-slate-500 text-xs uppercase font-bold`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Nama Siswa`}),(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Kelas`}),(0,q.jsx)(`th`,{className:`px-6 py-3 text-center`,children:`Poin`}),(0,q.jsx)(`th`,{className:`px-6 py-3 text-right`,children:`Status`})]})}),(0,q.jsx)(`tbody`,{className:`divide-y divide-slate-100`,children:l.length>0?l.map((e,t)=>(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors`,children:[(0,q.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-700`,children:e.name}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-400`,children:[`NISN: `,e.nisn||`-`]})]}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-sm font-medium text-slate-600`,children:e.class}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-center`,children:(0,q.jsx)(`span`,{className:`inline-block px-2 py-1 bg-red-100 text-red-700 rounded-md text-xs font-black`,children:e.netPoints})}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-right`,children:t===0?(0,q.jsx)(`span`,{className:`text-[10px] uppercase font-bold text-red-600 bg-red-50 px-2 py-1 rounded border border-red-100`,children:`Prioritas 1`}):(0,q.jsx)(`span`,{className:`text-[10px] uppercase font-bold text-orange-600 bg-orange-50 px-2 py-1 rounded border border-orange-100`,children:`Pantau`})})]},e.id)):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`4`,className:`px-6 py-8 text-center text-slate-400 text-sm`,children:`Belum ada data pelanggaran yang signifikan.`})})})]})})]})]}),(0,q.jsxs)(`div`,{className:`space-y-8`,children:[(0,q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-sm border border-slate-100`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-slate-700 mb-4 text-sm uppercase tracking-wider`,children:`Sebaran Pelanggaran`}),(0,q.jsx)(`div`,{className:`space-y-4`,children:u.length>0?u.map((e,t)=>(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`div`,{className:`flex justify-between text-xs font-bold text-slate-600 mb-1`,children:[(0,q.jsxs)(`span`,{children:[`Kelas `,e.cls]}),(0,q.jsxs)(`span`,{children:[e.count,` Kasus`]})]}),(0,q.jsx)(`div`,{className:`w-full bg-slate-100 rounded-full h-2 overflow-hidden`,children:(0,q.jsx)(`div`,{className:`bg-blue-500 h-2 rounded-full`,style:{width:`${e.count/u[0].count*100}%`}})})]},t)):(0,q.jsx)(`p`,{className:`text-xs text-slate-400 text-center py-4`,children:`Data belum cukup untuk analisis`})})]}),(0,q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-sm border border-slate-100`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-slate-700 mb-4 text-sm uppercase tracking-wider flex items-center gap-2`,children:[(0,q.jsx)(zb,{size:16}),` Aktivitas Terkini`]}),(0,q.jsx)(`div`,{className:`space-y-4`,children:d.length>0?d.map((e,t)=>(0,q.jsxs)(`div`,{className:`flex gap-3 items-start`,children:[(0,q.jsx)(`div`,{className:`mt-1 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${e.color}`,children:(0,q.jsx)(e.icon,{size:14})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{className:`text-sm font-bold text-slate-700 leading-tight`,children:e.title}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 mt-0.5 line-clamp-2`,children:e.desc}),(0,q.jsx)(`p`,{className:`text-[10px] text-slate-400 mt-1`,children:e.time})]})]},t)):(0,q.jsx)(`p`,{className:`text-xs text-slate-400 text-center py-4`,children:`Belum ada aktivitas baru`})})]}),(0,q.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl p-6 shadow-lg text-white relative overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`relative z-10`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-blue-100 mb-1 flex items-center gap-2`,children:[(0,q.jsx)(Ob,{size:16}),` Agenda BK`]}),(0,q.jsx)(`p`,{className:`text-2xl font-bold mt-2`,children:`Rapat Evaluasi`}),(0,q.jsx)(`p`,{className:`text-sm text-blue-200 mt-1`,children:`Senin, 08:00 WITA`}),(0,q.jsx)(`button`,{className:`mt-4 bg-white/20 hover:bg-white/30 text-white text-xs font-bold py-2 px-4 rounded-lg transition-colors backdrop-blur-sm`,children:`Tambah Agenda`})]}),(0,q.jsx)(Ob,{size:120,className:`absolute -bottom-6 -right-6 text-white/10 rotate-12`})]})]})]})]})},aS=({title:e,value:t,icon:n,color:r,desc:i})=>(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-all group`,children:[(0,q.jsx)(`div`,{className:`flex justify-between items-start mb-2`,children:(0,q.jsx)(`div`,{className:`p-3 rounded-xl ${{blue:`bg-blue-50 text-blue-600`,orange:`bg-orange-50 text-orange-600`,green:`bg-green-50 text-green-600`,purple:`bg-purple-50 text-purple-600`}[r]} group-hover:scale-110 transition-transform`,children:(0,q.jsx)(n,{size:22})})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h3`,{className:`text-slate-500 text-xs font-bold uppercase tracking-wider mb-1`,children:e}),(0,q.jsx)(`div`,{className:`text-2xl font-black text-slate-800`,children:t}),(0,q.jsx)(`p`,{className:`text-[10px] text-slate-400 mt-1`,children:i})]})]}),oS=({icon:e,label:t,color:n,onClick:r})=>(0,q.jsxs)(`button`,{onClick:r,className:`flex flex-col items-center justify-center p-4 rounded-xl gap-2 transition-all ${n} h-28 border border-transparent hover:border-current hover:shadow-sm`,children:[(0,q.jsx)(e,{size:28}),(0,q.jsx)(`span`,{className:`text-xs font-bold text-center leading-tight`,children:t})]}),sS=iS;const cS=e=>{if(!e)return`-`;try{if(e&&typeof e==`object`&&e.seconds)return new Date(e.seconds*1e3).toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`});let t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`})}catch{return e}},lS=e=>({username:`${e.replace(/[^a-zA-Z]/g,``).toLowerCase().substring(0,6)}${Math.floor(1e3+Math.random()*9e3)}`,password:Math.random().toString(36).slice(-8)}),uS=e=>{if(parseInt(e)===-1)return null;let t=new Date;return t.setDate(t.getDate()+parseInt(e)),t.toISOString()};var dS=({users:e})=>{let[t,n]=(0,y.useState)({username:``,password:``,fullName:``,duration:30}),[r,i]=(0,y.useState)(null),a=e=>{let i={...t,fullName:e};if(!r&&e.length>3){let t=lS(e);i.username=t.username,i.password=t.password}n(i)},o=async n=>{if(n.preventDefault(),!t.username||!t.password||!t.fullName)return alert(`Mohon lengkapi data utama!`);let i=uS(t.duration),a={fullName:t.fullName,username:t.username,password:t.password,role:`guru`,accessExpiry:i,updatedAt:new Date().toISOString()};try{if(r)await eb(Gv(ub(Kx.users),r),a),alert(`Data & Masa Aktif Guru berhasil diperbarui.`);else{if(e.some(e=>e.username===t.username))return alert(`Username sudah digunakan!`);await nb(ub(Kx.users),{...a,createdAt:new Date().toISOString()}),alert(`Guru BK baru berhasil ditambahkan.`)}l()}catch{alert(`Gagal menyimpan data.`)}},s=e=>{i(e.id),n({fullName:e.fullName,username:e.username,password:e.password,duration:30})},c=async e=>{confirm(`Yakin hapus akun ini? Semua data terkait guru ini mungkin akan hilang aksesnya.`)&&await tb(Gv(ub(Kx.users),e))},l=()=>{n({username:``,password:``,fullName:``,duration:30}),i(null)},u=e=>{if(!e)return{text:`PERMANEN`,color:`bg-blue-100 text-blue-700`};let t=new Date,n=new Date(e)-t,r=Math.ceil(n/(1e3*60*60*24));return r<0?{text:`EXPIRED`,color:`bg-red-100 text-red-700`}:{text:`${r} HARI LAGI`,color:`bg-green-100 text-green-700`}};return(0,q.jsxs)(`div`,{className:`p-6 space-y-6`,children:[(0,q.jsxs)(`h2`,{className:`text-2xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Mx,{size:24}),` Manajemen Akun Guru BK`]}),(0,q.jsx)(`p`,{className:`text-slate-500 -mt-4 text-sm`,children:`Kelola akses login dan masa aktif penggunaan aplikasi.`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-fit border-t-4 border-t-blue-600`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-slate-800 mb-4`,children:r?`Edit Akses Guru`:`Buat Akun Baru`}),(0,q.jsxs)(`form`,{onSubmit:o,className:`space-y-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`label`,{className:`block text-xs font-bold text-slate-500 mb-1 flex items-center gap-1`,children:[(0,q.jsx)(Hx,{size:12}),` Nama Lengkap`]}),(0,q.jsx)(`input`,{className:`w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm`,value:t.fullName,onChange:e=>a(e.target.value),placeholder:`Contoh: Budi Santoso, S.Pd`,required:!0})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`label`,{className:`block text-xs font-bold text-slate-500 mb-1 flex items-center gap-1`,children:[(0,q.jsx)(Mx,{size:12}),` Username`]}),(0,q.jsx)(`input`,{className:`w-full p-2.5 border rounded-lg bg-slate-50 font-mono text-sm focus:bg-white transition-colors`,value:t.username,onChange:e=>n({...t,username:e.target.value}),placeholder:`user123`,required:!0})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`label`,{className:`block text-xs font-bold text-slate-500 mb-1 flex items-center gap-1`,children:[(0,q.jsx)(sx,{size:12}),` Password`]}),(0,q.jsx)(`input`,{className:`w-full p-2.5 border rounded-lg bg-slate-50 font-mono text-sm focus:bg-white transition-colors`,value:t.password,onChange:e=>n({...t,password:e.target.value}),placeholder:`pass123`,required:!0})]})]}),(0,q.jsxs)(`div`,{className:`bg-orange-50 p-3 rounded-lg border border-orange-100`,children:[(0,q.jsxs)(`label`,{className:`block text-xs font-bold text-orange-800 mb-1 flex items-center gap-1`,children:[(0,q.jsx)(zb,{size:12}),` Masa Aktif Akun`]}),(0,q.jsx)(`select`,{className:`w-full p-2.5 border border-orange-200 rounded-lg bg-white text-sm focus:ring-2 focus:ring-orange-400 outline-none`,value:t.duration,onChange:e=>n({...t,duration:e.target.value}),children:Jx.map(e=>(0,q.jsx)(`option`,{value:e.value,children:e.label},e.value))}),(0,q.jsx)(`p`,{className:`text-[10px] text-orange-600 mt-1 italic`,children:`*Pilih durasi untuk memperpanjang atau mengatur ulang masa aktif.`})]}),(0,q.jsxs)(`div`,{className:`flex gap-2 pt-2`,children:[r&&(0,q.jsx)(`button`,{type:`button`,onClick:l,className:`px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm font-bold hover:bg-slate-200`,children:`Batal`}),(0,q.jsx)(`button`,{className:`flex-1 text-white py-3 rounded-lg font-bold flex justify-center items-center gap-2 shadow-lg transition-transform active:scale-95 ${r?`bg-orange-600 hover:bg-orange-700`:`bg-blue-600 hover:bg-blue-700`}`,children:r?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Nx,{size:18}),` Simpan & Perpanjang`]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Lb,{size:18}),` Buat Akun`]})})]})]})]}),(0,q.jsxs)(`div`,{className:`lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`p-4 bg-slate-50 border-b flex justify-between items-center`,children:[(0,q.jsx)(`span`,{className:`font-bold text-slate-700 uppercase text-xs tracking-wider`,children:`Daftar Akun Terdaftar`}),(0,q.jsxs)(`span`,{className:`bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold`,children:[e.filter(e=>e.role===`guru`).length,` Guru`]})]}),(0,q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,q.jsxs)(`table`,{className:`w-full text-sm text-left`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-100 text-slate-500 font-bold uppercase text-[10px]`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`p-4`,children:`Nama Guru`}),(0,q.jsx)(`th`,{className:`p-4`,children:`Login`}),(0,q.jsx)(`th`,{className:`p-4`,children:`Status Aktif`}),(0,q.jsx)(`th`,{className:`p-4 text-center`,children:`Aksi`})]})}),(0,q.jsxs)(`tbody`,{className:`divide-y divide-slate-100`,children:[e.filter(e=>e.role===`guru`).map(e=>{let t=u(e.accessExpiry);return(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors`,children:[(0,q.jsxs)(`td`,{className:`p-4`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-700`,children:e.fullName}),(0,q.jsxs)(`div`,{className:`text-[10px] text-slate-400 mt-0.5`,children:[`ID: `,e.id]})]}),(0,q.jsx)(`td`,{className:`p-4`,children:(0,q.jsxs)(`div`,{className:`font-mono text-xs text-slate-600`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[`U: `,(0,q.jsx)(`span`,{className:`font-bold`,children:e.username})]}),(0,q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[`P: `,(0,q.jsx)(`span`,{className:`font-bold`,children:e.password})]})]})}),(0,q.jsxs)(`td`,{className:`p-4`,children:[(0,q.jsx)(`span`,{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wide ${t.color}`,children:t.text}),e.accessExpiry&&(0,q.jsxs)(`div`,{className:`text-[10px] text-slate-400 mt-1 flex items-center gap-1`,children:[(0,q.jsx)(Ob,{size:10}),` `,new Date(e.accessExpiry).toLocaleDateString(`id-ID`)]})]}),(0,q.jsx)(`td`,{className:`p-4 text-center`,children:(0,q.jsxs)(`div`,{className:`flex justify-center gap-1`,children:[(0,q.jsx)(`button`,{onClick:()=>s(e),className:`text-blue-500 hover:bg-blue-50 p-2 rounded transition-colors`,title:`Edit / Perpanjang`,children:(0,q.jsx)(Nx,{size:16})}),(0,q.jsx)(`button`,{onClick:()=>c(e.id),className:`text-red-500 hover:bg-red-50 p-2 rounded transition-colors`,title:`Hapus Akun`,children:(0,q.jsx)(Fx,{size:16})})]})})]},e.id)}),e.filter(e=>e.role===`guru`).length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`4`,className:`p-8 text-center text-slate-400 italic`,children:`Belum ada akun guru yang dibuat.`})})]})]})})]})]})]})},fS={};fS.version=`0.18.5`;var pS=1200,mS=1252,hS=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],gS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},_S=function(e){hS.indexOf(e)!=-1&&(mS=gS[0]=e)};function vS(){_S(1252)}var yS=function(e){pS=e,_S(e)};function bS(){yS(1200),vS()}function xS(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function SS(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join(``)}function CS(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join(``)}var wS=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?SS(e.slice(2)):t==254&&n==255?CS(e.slice(2)):t==65279?e.slice(1):e},TS=function(e){return String.fromCharCode(e)},ES=function(e){return String.fromCharCode(e)},DS,OS=null,kS=!0,AS=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`;function jS(e){for(var t=``,n=0,r=0,i=0,a=0,o=0,s=0,c=0,l=0;l<e.length;)n=e.charCodeAt(l++),a=n>>2,r=e.charCodeAt(l++),o=(n&3)<<4|r>>4,i=e.charCodeAt(l++),s=(r&15)<<2|i>>6,c=i&63,isNaN(r)?s=c=64:isNaN(i)&&(c=64),t+=AS.charAt(a)+AS.charAt(o)+AS.charAt(s)+AS.charAt(c);return t}function MS(e){var t=``,n=0,r=0,i=0,a=0,o=0,s=0,c=0;e=e.replace(/[^\w\+\/\=]/g,``);for(var l=0;l<e.length;)a=AS.indexOf(e.charAt(l++)),o=AS.indexOf(e.charAt(l++)),n=a<<2|o>>4,t+=String.fromCharCode(n),s=AS.indexOf(e.charAt(l++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),c=AS.indexOf(e.charAt(l++)),i=(s&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var NS=(function(){return typeof Buffer<`u`&&typeof process<`u`&&process.versions!==void 0&&!!process.versions.node})(),PS=(function(){if(typeof Buffer<`u`){var e=!Buffer.from;if(!e)try{Buffer.from(`foo`,`utf8`)}catch{e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function FS(e){return NS?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<`u`?new Uint8Array(e):Array(e)}function IS(e){return NS?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<`u`?new Uint8Array(e):Array(e)}var LS=function(e){return NS?PS(e,`binary`):e.split(``).map(function(e){return e.charCodeAt(0)&255})};function RS(e){if(typeof ArrayBuffer>`u`)return LS(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function zS(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join(``);for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join(``)}function BS(e){if(typeof Uint8Array>`u`)throw Error(`Unsupported`);return new Uint8Array(e)}function VS(e){if(typeof ArrayBuffer>`u`)throw Error(`Unsupported`);if(e instanceof ArrayBuffer)return VS(new Uint8Array(e));for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var HS=NS?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:PS(e)}))}:function(e){if(typeof Uint8Array<`u`){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else if(typeof e[t]==`string`)throw`wtf`;else r.set(new Uint8Array(e[t]),n);return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};function US(e){for(var t=[],n=0,r=e.length+250,i=FS(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++a)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|s>>6&15|(o&3)<<4,i[n++]=128|s&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=FS(65535),r=65530)}return t.push(i.slice(0,n)),HS(t)}var WS=/\u0000/g,GS=/[\u0001-\u0006]/g;function KS(e){for(var t=``,n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function qS(e,t){var n=``+e;return n.length>=t?n:Ow(`0`,t-n.length)+n}function JS(e,t){var n=``+e;return n.length>=t?n:Ow(` `,t-n.length)+n}function YS(e,t){var n=``+e;return n.length>=t?n:n+Ow(` `,t-n.length)}function XS(e,t){var n=``+Math.round(e);return n.length>=t?n:Ow(`0`,t-n.length)+n}function ZS(e,t){var n=``+e;return n.length>=t?n:Ow(`0`,t-n.length)+n}var QS=2**32;function $S(e,t){return e>QS||e<-QS?XS(e,t):ZS(Math.round(e),t)}function eC(e,t){return t||=0,e.length>=7+t&&(e.charCodeAt(t)|32)==103&&(e.charCodeAt(t+1)|32)==101&&(e.charCodeAt(t+2)|32)==110&&(e.charCodeAt(t+3)|32)==101&&(e.charCodeAt(t+4)|32)==114&&(e.charCodeAt(t+5)|32)==97&&(e.charCodeAt(t+6)|32)==108}var tC=[[`Sun`,`Sunday`],[`Mon`,`Monday`],[`Tue`,`Tuesday`],[`Wed`,`Wednesday`],[`Thu`,`Thursday`],[`Fri`,`Friday`],[`Sat`,`Saturday`]],nC=[[`J`,`Jan`,`January`],[`F`,`Feb`,`February`],[`M`,`Mar`,`March`],[`A`,`Apr`,`April`],[`M`,`May`,`May`],[`J`,`Jun`,`June`],[`J`,`Jul`,`July`],[`A`,`Aug`,`August`],[`S`,`Sep`,`September`],[`O`,`Oct`,`October`],[`N`,`Nov`,`November`],[`D`,`Dec`,`December`]];function rC(e){return e||={},e[0]=`General`,e[1]=`0`,e[2]=`0.00`,e[3]=`#,##0`,e[4]=`#,##0.00`,e[9]=`0%`,e[10]=`0.00%`,e[11]=`0.00E+00`,e[12]=`# ?/?`,e[13]=`# ??/??`,e[14]=`m/d/yy`,e[15]=`d-mmm-yy`,e[16]=`d-mmm`,e[17]=`mmm-yy`,e[18]=`h:mm AM/PM`,e[19]=`h:mm:ss AM/PM`,e[20]=`h:mm`,e[21]=`h:mm:ss`,e[22]=`m/d/yy h:mm`,e[37]=`#,##0 ;(#,##0)`,e[38]=`#,##0 ;[Red](#,##0)`,e[39]=`#,##0.00;(#,##0.00)`,e[40]=`#,##0.00;[Red](#,##0.00)`,e[45]=`mm:ss`,e[46]=`[h]:mm:ss`,e[47]=`mmss.0`,e[48]=`##0.0E+0`,e[49]=`@`,e[56]=`"/ "hh""mm""ss" "`,e}var iC={0:`General`,1:`0`,2:`0.00`,3:`#,##0`,4:`#,##0.00`,9:`0%`,10:`0.00%`,11:`0.00E+00`,12:`# ?/?`,13:`# ??/??`,14:`m/d/yy`,15:`d-mmm-yy`,16:`d-mmm`,17:`mmm-yy`,18:`h:mm AM/PM`,19:`h:mm:ss AM/PM`,20:`h:mm`,21:`h:mm:ss`,22:`m/d/yy h:mm`,37:`#,##0 ;(#,##0)`,38:`#,##0 ;[Red](#,##0)`,39:`#,##0.00;(#,##0.00)`,40:`#,##0.00;[Red](#,##0.00)`,45:`mm:ss`,46:`[h]:mm:ss`,47:`mmss.0`,48:`##0.0E+0`,49:`@`,56:`"/ "hh""mm""ss" "`},aC={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},oC={5:`"$"#,##0_);\\("$"#,##0\\)`,63:`"$"#,##0_);\\("$"#,##0\\)`,6:`"$"#,##0_);[Red]\\("$"#,##0\\)`,64:`"$"#,##0_);[Red]\\("$"#,##0\\)`,7:`"$"#,##0.00_);\\("$"#,##0.00\\)`,65:`"$"#,##0.00_);\\("$"#,##0.00\\)`,8:`"$"#,##0.00_);[Red]\\("$"#,##0.00\\)`,66:`"$"#,##0.00_);[Red]\\("$"#,##0.00\\)`,41:`_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)`,42:`_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)`,43:`_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)`,44:`_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)`};function sC(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,o=1,s=0,c=1,l=0,u=0,d=Math.floor(i);l<t&&(d=Math.floor(i),s=d*o+a,u=d*l+c,!(i-d<5e-8));)i=1/(i-d),a=o,o=s,c=l,l=u;if(u>t&&(l>t?(u=c,s=a):(u=l,s=o)),!n)return[0,r*s,u];var f=Math.floor(r*s/u);return[f,r*s-f*u,u]}function cC(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),a=0,o=[],s={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++i==86400&&(s.T=i=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),r<60&&(a=(a+6)%7),n&&(a=yC(c,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var lC=new Date(1899,11,31,0,0,0),uC=lC.getTime(),dC=new Date(1900,2,1,0,0,0);function fC(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=dC&&(n+=1440*60*1e3),(n-(uC+(e.getTimezoneOffset()-lC.getTimezoneOffset())*6e4))/(1440*60*1e3)}function pC(e){return e.indexOf(`.`)==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,`$1`)}function mC(e){return e.indexOf(`E`)==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,`$1E`).replace(/(E[+-])(\d)$/,`$10$2`)}function hC(e){var t=e<0?12:11,n=pC(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function gC(e){var t=pC(e.toFixed(11));return t.length>(e<0?12:11)||t===`0`||t===`-0`?e.toPrecision(6):t}function _C(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return pC(mC((t>=-4&&t<=-1?e.toPrecision(10+t):Math.abs(t)<=9?hC(e):t===10?e.toFixed(10).substr(0,12):gC(e)).toUpperCase()))}function vC(e,t){switch(typeof e){case`string`:return e;case`boolean`:return e?`TRUE`:`FALSE`;case`number`:return(e|0)===e?e.toString(10):_C(e);case`undefined`:return``;case`object`:if(e==null)return``;if(e instanceof Date)return XC(14,fC(e,t&&t.date1904),t)}throw Error(`unsupported value in General format: `+e)}function yC(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function bC(e,t,n,r){var i=``,a=0,o=0,s=n.y,c,l=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:c=s%100,l=2;break;default:c=s%1e4,l=4;break}break;case 109:switch(t.length){case 1:case 2:c=n.m,l=t.length;break;case 3:return nC[n.m-1][1];case 5:return nC[n.m-1][0];default:return nC[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=n.d,l=t.length;break;case 3:return tC[n.q][0];default:return tC[n.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(n.H+11)%12,l=t.length;break;default:throw`bad hour format: `+t}break;case 72:switch(t.length){case 1:case 2:c=n.H,l=t.length;break;default:throw`bad hour format: `+t}break;case 77:switch(t.length){case 1:case 2:c=n.M,l=t.length;break;default:throw`bad minute format: `+t}break;case 115:if(t!=`s`&&t!=`ss`&&t!=`.0`&&t!=`.00`&&t!=`.000`)throw`bad second format: `+t;return n.u===0&&(t==`s`||t==`ss`)?qS(n.S,t.length):(o=r>=2?r===3?1e3:100:r===1?10:1,a=Math.round(o*(n.S+n.u)),a>=60*o&&(a=0),t===`s`?a===0?`0`:``+a/o:(i=qS(a,2+r),t===`ss`?i.substr(0,2):`.`+i.substr(2,t.length-1)));case 90:switch(t){case`[h]`:case`[hh]`:c=n.D*24+n.H;break;case`[m]`:case`[mm]`:c=(n.D*24+n.H)*60+n.M;break;case`[s]`:case`[ss]`:c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw`bad abstime format: `+t}l=t.length===3?1:2;break;case 101:c=s,l=1;break}return l>0?qS(c,l):``}function xC(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?`,`:``)+e.substr(n,t);return r}var SC=/%/g;function CC(e,t,n){var r=t.replace(SC,``),i=t.length-r.length;return HC(e,r,n*10**(2*i))+Ow(`%`,i)}function wC(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return HC(e,t.substr(0,r),n/10**(3*(t.length-r)))}function TC(e,t){var n,r=e.indexOf(`E`)-e.indexOf(`.`)-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return`0.0E+0`;if(t<0)return`-`+TC(e,-t);var i=e.indexOf(`.`);i===-1&&(i=e.indexOf(`E`));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/10**a).toPrecision(r+1+(i+a)%i),n.indexOf(`e`)===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(`.`)===-1?n=n.charAt(0)+`.`+n.substr(1)+`E+`+(o-n.length+a):n+=`E+`+(o-a);n.substr(0,2)===`0.`;)n=n.charAt(0)+n.substr(2,i)+`.`+n.substr(2+i),n=n.replace(/^0+([1-9])/,`$1`).replace(/^0+\./,`0.`);n=n.replace(/\+-/,`-`)}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+a)%i)+`.`+r.substr(a)+`E`})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+`0`+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,`e`)),n.replace(`e`,`E`)}var EC=/# (\?+)( ?)\/( ?)(\d+)/;function DC(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),a=Math.floor(i/r),o=i-a*r,s=r;return n+(a===0?``:``+a)+` `+(o===0?Ow(` `,e[1].length+1+e[4].length):JS(o,e[1].length)+e[2]+`/`+e[3]+qS(s,e[4].length))}function OC(e,t,n){return n+(t===0?``:``+t)+Ow(` `,e[1].length+2+e[4].length)}var kC=/^#*0*\.([0#]+)/,AC=/\).*[0#]/,jC=/\(###\) ###\\?-####/;function MC(e){for(var t=``,n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=` `;break;case 48:t+=`0`;break;default:t+=String.fromCharCode(n)}return t}function NC(e,t){var n=10**t;return``+Math.round(e*n)/n}function PC(e,t){var n=e-Math.floor(e),r=10**t;return t<(``+Math.round(n*r)).length?0:Math.round(n*r)}function FC(e,t){return t<(``+Math.round((e-Math.floor(e))*10**t)).length?1:0}function IC(e){return e<2147483647&&e>-2147483648?``+(e>=0?e|0:e-1|0):``+Math.floor(e)}function LC(e,t,n){if(e.charCodeAt(0)===40&&!t.match(AC)){var r=t.replace(/\( */,``).replace(/ \)/,``).replace(/\)/,``);return n>=0?LC(`n`,r,n):`(`+LC(`n`,r,-n)+`)`}if(t.charCodeAt(t.length-1)===44)return wC(e,t,n);if(t.indexOf(`%`)!==-1)return CC(e,t,n);if(t.indexOf(`E`)!==-1)return TC(t,n);if(t.charCodeAt(0)===36)return`$`+LC(e,t.substr(t.charAt(1)==` `?2:1),n);var i,a,o,s,c=Math.abs(n),l=n<0?`-`:``;if(t.match(/^00+$/))return l+$S(c,t.length);if(t.match(/^[#?]+$/))return i=$S(n,0),i===`0`&&(i=``),i.length>t.length?i:MC(t.substr(0,t.length-i.length))+i;if(a=t.match(EC))return DC(a,c,l);if(t.match(/^#+0+$/))return l+$S(c,t.length-t.indexOf(`0`));if(a=t.match(kC))return i=NC(n,a[1].length).replace(/^([^\.]+)$/,`$1.`+MC(a[1])).replace(/\.$/,`.`+MC(a[1])).replace(/\.(\d*)$/,function(e,t){return`.`+t+Ow(`0`,MC(a[1]).length-t.length)}),t.indexOf(`0.`)===-1?i.replace(/^0\./,`.`):i;if(t=t.replace(/^#+([0.])/,`$1`),a=t.match(/^(0*)\.(#*)$/))return l+NC(c,a[2].length).replace(/\.(\d*[1-9])0*$/,`.$1`).replace(/^(-?\d*)$/,`$1.`).replace(/^0\./,a[1].length?`0.`:`.`);if(a=t.match(/^#{1,3},##0(\.?)$/))return l+xC($S(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?`-`+LC(e,t,-n):xC(``+(Math.floor(n)+FC(n,a[1].length)))+`.`+qS(PC(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return LC(e,t.replace(/^#,#*,/,``),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=KS(LC(e,t.replace(/[\\-]/g,``),n)),o=0,KS(KS(t.replace(/\\/g,``)).replace(/[0#]/g,function(e){return o<i.length?i.charAt(o++):e===`0`?`0`:``}));if(t.match(jC))return i=LC(e,`##########`,n),`(`+i.substr(0,3)+`) `+i.substr(3,3)+`-`+i.substr(6);var u=``;if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=sC(c,10**o-1,!1),i=``+l,u=HC(`n`,a[1],s[1]),u.charAt(u.length-1)==` `&&(u=u.substr(0,u.length-1)+`0`),i+=u+a[2]+`/`+a[3],u=YS(s[2],o),u.length<a[4].length&&(u=MC(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=sC(c,10**o-1,!0),l+(s[0]||(s[1]?``:`0`))+` `+(s[1]?JS(s[1],o)+a[2]+`/`+a[3]+YS(s[2],o):Ow(` `,2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=$S(n,0),t.length<=i.length?i:MC(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=``+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,`$1`),o=i.indexOf(`.`);var d=t.indexOf(`.`)-o,f=t.length-i.length-d;return MC(t.substr(0,d)+i+t.substr(t.length-f))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=PC(n,a[1].length),n<0?`-`+LC(e,t,-n):xC(IC(n)).replace(/^\d,\d{3}$/,`0$&`).replace(/^\d*$/,function(e){return`00,`+(e.length<3?qS(0,3-e.length):``)+e})+`.`+qS(o,a[1].length);switch(t){case`###,##0.00`:return LC(e,`#,##0.00`,n);case`###,###`:case`##,###`:case`#,###`:var p=xC($S(c,0));return p===`0`?``:l+p;case`###,###.00`:return LC(e,`###,##0.00`,n).replace(/^0\./,`.`);case`#,###.00`:return LC(e,`#,##0.00`,n).replace(/^0\./,`.`);default:}throw Error(`unsupported format |`+t+`|`)}function RC(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return HC(e,t.substr(0,r),n/10**(3*(t.length-r)))}function zC(e,t,n){var r=t.replace(SC,``),i=t.length-r.length;return HC(e,r,n*10**(2*i))+Ow(`%`,i)}function BC(e,t){var n,r=e.indexOf(`E`)-e.indexOf(`.`)-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return`0.0E+0`;if(t<0)return`-`+BC(e,-t);var i=e.indexOf(`.`);i===-1&&(i=e.indexOf(`E`));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/10**a).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(`.`)===-1?n=n.charAt(0)+`.`+n.substr(1)+`E+`+(o-n.length+a):n+=`E+`+(o-a),n=n.replace(/\+-/,`-`)}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+a)%i)+`.`+r.substr(a)+`E`})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+`0`+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,`e`)),n.replace(`e`,`E`)}function VC(e,t,n){if(e.charCodeAt(0)===40&&!t.match(AC)){var r=t.replace(/\( */,``).replace(/ \)/,``).replace(/\)/,``);return n>=0?VC(`n`,r,n):`(`+VC(`n`,r,-n)+`)`}if(t.charCodeAt(t.length-1)===44)return RC(e,t,n);if(t.indexOf(`%`)!==-1)return zC(e,t,n);if(t.indexOf(`E`)!==-1)return BC(t,n);if(t.charCodeAt(0)===36)return`$`+VC(e,t.substr(t.charAt(1)==` `?2:1),n);var i,a,o,s,c=Math.abs(n),l=n<0?`-`:``;if(t.match(/^00+$/))return l+qS(c,t.length);if(t.match(/^[#?]+$/))return i=``+n,n===0&&(i=``),i.length>t.length?i:MC(t.substr(0,t.length-i.length))+i;if(a=t.match(EC))return OC(a,c,l);if(t.match(/^#+0+$/))return l+qS(c,t.length-t.indexOf(`0`));if(a=t.match(kC))return i=(``+n).replace(/^([^\.]+)$/,`$1.`+MC(a[1])).replace(/\.$/,`.`+MC(a[1])),i=i.replace(/\.(\d*)$/,function(e,t){return`.`+t+Ow(`0`,MC(a[1]).length-t.length)}),t.indexOf(`0.`)===-1?i.replace(/^0\./,`.`):i;if(t=t.replace(/^#+([0.])/,`$1`),a=t.match(/^(0*)\.(#*)$/))return l+(``+c).replace(/\.(\d*[1-9])0*$/,`.$1`).replace(/^(-?\d*)$/,`$1.`).replace(/^0\./,a[1].length?`0.`:`.`);if(a=t.match(/^#{1,3},##0(\.?)$/))return l+xC(``+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?`-`+VC(e,t,-n):xC(``+n)+`.`+Ow(`0`,a[1].length);if(a=t.match(/^#,#*,#0/))return VC(e,t.replace(/^#,#*,/,``),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=KS(VC(e,t.replace(/[\\-]/g,``),n)),o=0,KS(KS(t.replace(/\\/g,``)).replace(/[0#]/g,function(e){return o<i.length?i.charAt(o++):e===`0`?`0`:``}));if(t.match(jC))return i=VC(e,`##########`,n),`(`+i.substr(0,3)+`) `+i.substr(3,3)+`-`+i.substr(6);var u=``;if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=sC(c,10**o-1,!1),i=``+l,u=HC(`n`,a[1],s[1]),u.charAt(u.length-1)==` `&&(u=u.substr(0,u.length-1)+`0`),i+=u+a[2]+`/`+a[3],u=YS(s[2],o),u.length<a[4].length&&(u=MC(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=sC(c,10**o-1,!0),l+(s[0]||(s[1]?``:`0`))+` `+(s[1]?JS(s[1],o)+a[2]+`/`+a[3]+YS(s[2],o):Ow(` `,2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=``+n,t.length<=i.length?i:MC(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=``+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,`$1`),o=i.indexOf(`.`);var d=t.indexOf(`.`)-o,f=t.length-i.length-d;return MC(t.substr(0,d)+i+t.substr(t.length-f))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?`-`+VC(e,t,-n):xC(``+n).replace(/^\d,\d{3}$/,`0$&`).replace(/^\d*$/,function(e){return`00,`+(e.length<3?qS(0,3-e.length):``)+e})+`.`+qS(0,a[1].length);switch(t){case`###,###`:case`##,###`:case`#,###`:var p=xC(``+c);return p===`0`?``:l+p;default:if(t.match(/\.[0#?]*$/))return VC(e,t.slice(0,t.lastIndexOf(`.`)),n)+MC(t.slice(t.lastIndexOf(`.`)))}throw Error(`unsupported format |`+t+`|`)}function HC(e,t,n){return(n|0)===n?VC(e,t,n):LC(e,t,n)}function UC(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw Error(`Format |`+e+`| unterminated string `);return t}var WC=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function GC(e){for(var t=0,n=``,r=``;t<e.length;)switch(n=e.charAt(t)){case`G`:eC(e,t)&&(t+=6),t++;break;case`"`:for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case`\\`:t+=2;break;case`_`:t+=2;break;case`@`:++t;break;case`B`:case`b`:if(e.charAt(t+1)===`1`||e.charAt(t+1)===`2`)return!0;case`M`:case`D`:case`Y`:case`H`:case`S`:case`E`:case`m`:case`d`:case`y`:case`h`:case`s`:case`e`:case`g`:return!0;case`A`:case`a`:case``:if(e.substr(t,3).toUpperCase()===`A/P`||e.substr(t,5).toUpperCase()===`AM/PM`||e.substr(t,5).toUpperCase()===`/`)return!0;++t;break;case`[`:for(r=n;e.charAt(t++)!==`]`&&t<e.length;)r+=e.charAt(t);if(r.match(WC))return!0;break;case`.`:case`0`:case`#`:for(;t<e.length&&(`0#?.,E+-%`.indexOf(n=e.charAt(++t))>-1||n==`\\`&&e.charAt(t+1)==`-`&&`0#`.indexOf(e.charAt(t+2))>-1););break;case`?`:for(;e.charAt(++t)===n;);break;case`*`:++t,(e.charAt(t)==` `||e.charAt(t)==`*`)&&++t;break;case`(`:case`)`:++t;break;case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:case`8`:case`9`:for(;t<e.length&&`0123456789`.indexOf(e.charAt(++t))>-1;);break;case` `:++t;break;default:++t;break}return!1}function KC(e,t,n,r){for(var i=[],a=``,o=0,s=``,c=`t`,l,u,d,f=`H`;o<e.length;)switch(s=e.charAt(o)){case`G`:if(!eC(e,o))throw Error(`unrecognized character `+s+` in `+e);i[i.length]={t:`G`,v:`General`},o+=7;break;case`"`:for(a=``;(d=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(d);i[i.length]={t:`t`,v:a},++o;break;case`\\`:var p=e.charAt(++o),m=p===`(`||p===`)`?p:`t`;i[i.length]={t:m,v:p},++o;break;case`_`:i[i.length]={t:`t`,v:` `},o+=2;break;case`@`:i[i.length]={t:`T`,v:t},++o;break;case`B`:case`b`:if(e.charAt(o+1)===`1`||e.charAt(o+1)===`2`){if(l==null&&(l=cC(t,n,e.charAt(o+1)===`2`),l==null))return``;i[i.length]={t:`X`,v:e.substr(o,2)},c=s,o+=2;break}case`M`:case`D`:case`Y`:case`H`:case`S`:case`E`:s=s.toLowerCase();case`m`:case`d`:case`y`:case`h`:case`s`:case`e`:case`g`:if(t<0||l==null&&(l=cC(t,n),l==null))return``;for(a=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)a+=s;s===`m`&&c.toLowerCase()===`h`&&(s=`M`),s===`h`&&(s=f),i[i.length]={t:s,v:a},c=s;break;case`A`:case`a`:case``:var h={t:s,v:s};if(l??=cC(t,n),e.substr(o,3).toUpperCase()===`A/P`?(l!=null&&(h.v=l.H>=12?`P`:`A`),h.t=`T`,f=`h`,o+=3):e.substr(o,5).toUpperCase()===`AM/PM`?(l!=null&&(h.v=l.H>=12?`PM`:`AM`),h.t=`T`,o+=5,f=`h`):e.substr(o,5).toUpperCase()===`/`?(l!=null&&(h.v=l.H>=12?``:``),h.t=`T`,o+=5,f=`h`):(h.t=`t`,++o),l==null&&h.t===`T`)return``;i[i.length]=h,c=s;break;case`[`:for(a=s;e.charAt(o++)!==`]`&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!==`]`)throw`unterminated "[" block: |`+a+`|`;if(a.match(WC)){if(l==null&&(l=cC(t,n),l==null))return``;i[i.length]={t:`Z`,v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf(`$`)>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||`$`,GC(e)||(i[i.length]={t:`t`,v:a}));break;case`.`:if(l!=null){for(a=s;++o<e.length&&(s=e.charAt(o))===`0`;)a+=s;i[i.length]={t:`s`,v:a};break}case`0`:case`#`:for(a=s;++o<e.length&&`0#?.,E+-%`.indexOf(s=e.charAt(o))>-1;)a+=s;i[i.length]={t:`n`,v:a};break;case`?`:for(a=s;e.charAt(++o)===s;)a+=s;i[i.length]={t:s,v:a},c=s;break;case`*`:++o,(e.charAt(o)==` `||e.charAt(o)==`*`)&&++o;break;case`(`:case`)`:i[i.length]={t:r===1?`t`:s,v:s},++o;break;case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:case`8`:case`9`:for(a=s;o<e.length&&`0123456789`.indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:`D`,v:a};break;case` `:i[i.length]={t:s,v:s},++o;break;case`$`:i[i.length]={t:`t`,v:`$`},++o;break;default:if(`,$-+/():!^&'~{}<>=acfijklopqrtuvwxzP`.indexOf(s)===-1)throw Error(`unrecognized character `+s+` in `+e);i[i.length]={t:`t`,v:s},++o;break}var g=0,_=0,v;for(o=i.length-1,c=`t`;o>=0;--o)switch(i[o].t){case`h`:case`H`:i[o].t=f,c=`h`,g<1&&(g=1);break;case`s`:(v=i[o].v.match(/\.0+$/))&&(_=Math.max(_,v[0].length-1)),g<3&&(g=3);case`d`:case`y`:case`M`:case`e`:c=i[o].t;break;case`m`:c===`s`&&(i[o].t=`M`,g<2&&(g=2));break;case`X`:break;case`Z`:g<1&&i[o].v.match(/[Hh]/)&&(g=1),g<2&&i[o].v.match(/[Mm]/)&&(g=2),g<3&&i[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var y=``,b;for(o=0;o<i.length;++o)switch(i[o].t){case`t`:case`T`:case` `:case`D`:break;case`X`:i[o].v=``,i[o].t=`;`;break;case`d`:case`m`:case`y`:case`h`:case`H`:case`M`:case`s`:case`e`:case`b`:case`Z`:i[o].v=bC(i[o].t.charCodeAt(0),i[o].v,l,_),i[o].t=`t`;break;case`n`:case`?`:for(b=o+1;i[b]!=null&&((s=i[b].t)===`?`||s===`D`||(s===` `||s===`t`)&&i[b+1]!=null&&(i[b+1].t===`?`||i[b+1].t===`t`&&i[b+1].v===`/`)||i[o].t===`(`&&(s===` `||s===`n`||s===`)`)||s===`t`&&(i[b].v===`/`||i[b].v===` `&&i[b+1]!=null&&i[b+1].t==`?`));)i[o].v+=i[b].v,i[b]={v:``,t:`;`},++b;y+=i[o].v,o=b-1;break;case`G`:i[o].t=`t`,i[o].v=vC(t,n);break}var x=``,S,C;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,C=HC(`n`,y,S)):(S=t<0&&r>1?-t:t,C=HC(`n`,y,S),S<0&&i[0]&&i[0].t==`t`&&(C=C.substr(1),i[0].v=`-`+i[0].v)),b=C.length-1;var w=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!=`t`&&i[o].v.indexOf(`.`)>-1){w=o;break}var T=i.length;if(w===i.length&&C.indexOf(`E`)===-1){for(o=i.length-1;o>=0;--o)i[o]==null||`n?`.indexOf(i[o].t)===-1||(b>=i[o].v.length-1?(b-=i[o].v.length,i[o].v=C.substr(b+1,i[o].v.length)):b<0?i[o].v=``:(i[o].v=C.substr(0,b+1),b=-1),i[o].t=`t`,T=o);b>=0&&T<i.length&&(i[T].v=C.substr(0,b+1)+i[T].v)}else if(w!==i.length&&C.indexOf(`E`)===-1){for(b=C.indexOf(`.`)-1,o=w;o>=0;--o)if(!(i[o]==null||`n?`.indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(`.`)>-1&&o===w?i[o].v.indexOf(`.`)-1:i[o].v.length-1,x=i[o].v.substr(u+1);u>=0;--u)b>=0&&(i[o].v.charAt(u)===`0`||i[o].v.charAt(u)===`#`)&&(x=C.charAt(b--)+x);i[o].v=x,i[o].t=`t`,T=o}for(b>=0&&T<i.length&&(i[T].v=C.substr(0,b+1)+i[T].v),b=C.indexOf(`.`)+1,o=w;o<i.length;++o)if(!(i[o]==null||`n?(`.indexOf(i[o].t)===-1&&o!==w)){for(u=i[o].v.indexOf(`.`)>-1&&o===w?i[o].v.indexOf(`.`)+1:0,x=i[o].v.substr(0,u);u<i[o].v.length;++u)b<C.length&&(x+=C.charAt(b++));i[o].v=x,i[o].t=`t`,T=o}}}for(o=0;o<i.length;++o)i[o]!=null&&`n?`.indexOf(i[o].t)>-1&&(S=r>1&&t<0&&o>0&&i[o-1].v===`-`?-t:t,i[o].v=HC(i[o].t,i[o].v,S),i[o].t=`t`);var E=``;for(o=0;o!==i.length;++o)i[o]!=null&&(E+=i[o].v);return E}var qC=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function JC(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case`=`:if(e==n)return!0;break;case`>`:if(e>n)return!0;break;case`<`:if(e<n)return!0;break;case`<>`:if(e!=n)return!0;break;case`>=`:if(e>=n)return!0;break;case`<=`:if(e<=n)return!0;break}return!1}function YC(e,t){var n=UC(e),r=n.length,i=n[r-1].indexOf(`@`);if(r<4&&i>-1&&--r,n.length>4)throw Error(`cannot find right format for |`+n.join(`|`)+`|`);if(typeof t!=`number`)return[4,n.length===4||i>-1?n[n.length-1]:`@`];switch(n.length){case 1:n=i>-1?[`General`,`General`,`General`,n[0]]:[n[0],n[0],n[0],`@`];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],`@`];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],`@`];break;case 4:break}var a=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf(`[`)===-1&&n[1].indexOf(`[`)===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(qC),s=n[1].match(qC);return JC(t,o)?[r,n[0]]:JC(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,a]}function XC(e,t,n){n??={};var r=``;switch(typeof e){case`string`:r=e==`m/d/yy`&&n.dateNF?n.dateNF:e;break;case`number`:r=e==14&&n.dateNF?n.dateNF:(n.table==null?iC:n.table)[e],r??=n.table&&n.table[aC[e]]||iC[aC[e]],r??=oC[e]||`General`;break}if(eC(r,0))return vC(t,n);t instanceof Date&&(t=fC(t,n.date1904));var i=YC(r,t);if(eC(i[1]))return vC(t,n);if(t===!0)t=`TRUE`;else if(t===!1)t=`FALSE`;else if(t===``||t==null)return``;return KC(i[1],t,n,i[0])}function ZC(e,t){if(typeof t!=`number`){t=+t||-1;for(var n=0;n<392;++n){if(iC[n]==null){t<0&&(t=n);continue}if(iC[n]==e){t=n;break}}t<0&&(t=391)}return iC[t]=e,t}function QC(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ZC(e[t],t)}function $C(){iC=rC()}var ew={5:`"$"#,##0_);\\("$"#,##0\\)`,6:`"$"#,##0_);[Red]\\("$"#,##0\\)`,7:`"$"#,##0.00_);\\("$"#,##0.00\\)`,8:`"$"#,##0.00_);[Red]\\("$"#,##0.00\\)`,23:`General`,24:`General`,25:`General`,26:`General`,27:`m/d/yy`,28:`m/d/yy`,29:`m/d/yy`,30:`m/d/yy`,31:`m/d/yy`,32:`h:mm:ss`,33:`h:mm:ss`,34:`h:mm:ss`,35:`h:mm:ss`,36:`m/d/yy`,41:`_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)`,42:`_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)`,43:`_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)`,44:`_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)`,50:`m/d/yy`,51:`m/d/yy`,52:`m/d/yy`,53:`m/d/yy`,54:`m/d/yy`,55:`m/d/yy`,56:`m/d/yy`,57:`m/d/yy`,58:`m/d/yy`,59:`0`,60:`0.00`,61:`#,##0`,62:`#,##0.00`,63:`"$"#,##0_);\\("$"#,##0\\)`,64:`"$"#,##0_);[Red]\\("$"#,##0\\)`,65:`"$"#,##0.00_);\\("$"#,##0.00\\)`,66:`"$"#,##0.00_);[Red]\\("$"#,##0.00\\)`,67:`0%`,68:`0.00%`,69:`# ?/?`,70:`# ??/??`,71:`m/d/yy`,72:`m/d/yy`,73:`d-mmm-yy`,74:`d-mmm`,75:`mmm-yy`,76:`h:mm`,77:`h:mm:ss`,78:`m/d/yy h:mm`,79:`mm:ss`,80:`[h]:mm:ss`,81:`mmss.0`},tw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nw(e){var t=typeof e==`number`?iC[e]:e;return t=t.replace(tw,`(\\d+)`),RegExp(`^`+t+`$`)}function rw(e,t,n){var r=-1,i=-1,a=-1,o=-1,s=-1,c=-1;(t.match(tw)||[]).forEach(function(e,t){var l=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case`y`:r=l;break;case`d`:a=l;break;case`h`:o=l;break;case`s`:c=l;break;case`m`:o>=0?s=l:i=l;break}}),c>=0&&s==-1&&i>=0&&(s=i,i=-1);var l=(``+(r>=0?r:new Date().getFullYear())).slice(-4)+`-`+(`00`+(i>=1?i:1)).slice(-2)+`-`+(`00`+(a>=1?a:1)).slice(-2);l.length==7&&(l=`0`+l),l.length==8&&(l=`20`+l);var u=(`00`+(o>=0?o:0)).slice(-2)+`:`+(`00`+(s>=0?s:0)).slice(-2)+`:`+(`00`+(c>=0?c:0)).slice(-2);return o==-1&&s==-1&&c==-1?l:r==-1&&i==-1&&a==-1?u:l+`T`+u}var iw=(function(){var e={};e.version=`1.2.0`;function t(){for(var e=0,t=Array(256),n=0;n!=256;++n)e=n,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,e=e&1?-306674912^e>>>1:e>>>1,t[n]=e;return typeof Int32Array<`u`?new Int32Array(t):t}var n=t();function r(e){var t=0,n=0,r=0,i=typeof Int32Array<`u`?new Int32Array(4096):Array(4096);for(r=0;r!=256;++r)i[r]=e[r];for(r=0;r!=256;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[n&255];var a=[];for(r=1;r!=16;++r)a[r-1]=typeof Int32Array<`u`?i.subarray(r*256,r*256+256):i.slice(r*256,r*256+256);return a}var i=r(n),a=i[0],o=i[1],s=i[2],c=i[3],l=i[4],u=i[5],d=i[6],f=i[7],p=i[8],m=i[9],h=i[10],g=i[11],_=i[12],v=i[13],y=i[14];function b(e,t){for(var r=t^-1,i=0,a=e.length;i<a;)r=r>>>8^n[(r^e.charCodeAt(i++))&255];return~r}function x(e,t){for(var r=t^-1,i=e.length-15,b=0;b<i;)r=y[e[b++]^r&255]^v[e[b++]^r>>8&255]^_[e[b++]^r>>16&255]^g[e[b++]^r>>>24]^h[e[b++]]^m[e[b++]]^p[e[b++]]^f[e[b++]]^d[e[b++]]^u[e[b++]]^l[e[b++]]^c[e[b++]]^s[e[b++]]^o[e[b++]]^a[e[b++]]^n[e[b++]];for(i+=15;b<i;)r=r>>>8^n[(r^e[b++])&255];return~r}function S(e,t){for(var r=t^-1,i=0,a=e.length,o=0,s=0;i<a;)o=e.charCodeAt(i++),o<128?r=r>>>8^n[(r^o)&255]:o<2048?(r=r>>>8^n[(r^(192|o>>6&31))&255],r=r>>>8^n[(r^(128|o&63))&255]):o>=55296&&o<57344?(o=(o&1023)+64,s=e.charCodeAt(i++)&1023,r=r>>>8^n[(r^(240|o>>8&7))&255],r=r>>>8^n[(r^(128|o>>2&63))&255],r=r>>>8^n[(r^(128|s>>6&15|(o&3)<<4))&255],r=r>>>8^n[(r^(128|s&63))&255]):(r=r>>>8^n[(r^(224|o>>12&15))&255],r=r>>>8^n[(r^(128|o>>6&63))&255],r=r>>>8^n[(r^(128|o&63))&255]);return~r}return e.table=n,e.bstr=b,e.buf=x,e.str=S,e})(),aw=(function(){var e={};e.version=`1.2.1`;function t(e,t){for(var n=e.split(`/`),r=t.split(`/`),i=0,a=0,o=Math.min(n.length,r.length);i<o;++i){if(a=n[i].length-r[i].length)return a;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}function n(e){if(e.charAt(e.length-1)==`/`)return e.slice(0,-1).indexOf(`/`)===-1?e:n(e.slice(0,-1));var t=e.lastIndexOf(`/`);return t===-1?e:e.slice(0,t+1)}function r(e){if(e.charAt(e.length-1)==`/`)return r(e.slice(0,-1));var t=e.lastIndexOf(`/`);return t===-1?e:e.slice(t+1)}function i(e,t){typeof t==`string`&&(t=new Date(t));var n=t.getHours();n=n<<6|t.getMinutes(),n=n<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=r<<4|t.getMonth()+1,r=r<<5|t.getDate(),e.write_shift(2,r)}function a(e){var t=e.read_shift(2)&65535,n=e.read_shift(2)&65535,r=new Date,i=n&31;n>>>=5;var a=n&15;n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(a-1),r.setDate(i);var o=t&31;t>>>=5;var s=t&63;return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(o<<1),r}function o(e){_E(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),a=e.l+i,o={};switch(r){case 21589:n=e.read_shift(1),n&1&&(o.mtime=e.read_shift(4)),i>5&&(n&2&&(o.atime=e.read_shift(4)),n&4&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(o.mtime*1e3));break}e.l=a,t[r]=o}return t}var s;function c(){return s||={}}function l(e,t){if(e[0]==80&&e[1]==75)return Ae(e,t);if((e[0]|32)==109&&(e[1]|32)==105)return ze(e,t);if(e.length<512)throw Error(`CFB file size `+e.length+` < 512`);var n=3,r=512,i=0,a=0,o=0,s=0,c=0,l=[],m=e.slice(0,512);_E(m,0);var g=u(m);switch(n=g[0],n){case 3:r=512;break;case 4:r=4096;break;case 0:if(g[1]==0)return Ae(e,t);default:throw Error(`Major Version: Expected 3 or 4 saw `+n)}r!==512&&(m=e.slice(0,r),_E(m,28));var y=e.slice(0,r);d(m,n);var b=m.read_shift(4,`i`);if(n===3&&b!==0)throw Error(`# Directory Sectors: Expected 0 saw `+b);m.l+=4,o=m.read_shift(4,`i`),m.l+=4,m.chk(`00100000`,`Mini Stream Cutoff Size: `),s=m.read_shift(4,`i`),i=m.read_shift(4,`i`),c=m.read_shift(4,`i`),a=m.read_shift(4,`i`);for(var x=-1,S=0;S<109&&(x=m.read_shift(4,`i`),!(x<0));++S)l[S]=x;var C=f(e,r);h(c,a,C,r,l);var w=_(C,o,l,r);w[o].name=`!Directory`,i>0&&s!==O&&(w[s].name=`!MiniFAT`),w[l[0]].name=`!FAT`,w.fat_addrs=l,w.ssz=r;var T={},E=[],D=[],k=[];v(o,w,C,E,i,T,D,s),p(D,k,E),E.shift();var A={FileIndex:D,FullPaths:k};return t&&t.raw&&(A.raw={header:y,sectors:C}),A}function u(e){if(e[e.l]==80&&e[e.l+1]==75)return[0,0];e.chk(k,`Header Signature: `),e.l+=16;var t=e.read_shift(2,`u`);return[e.read_shift(2,`u`),t]}function d(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(t!=3)throw Error(`Sector Shift: Expected 9 saw `+n);break;case 12:if(t!=4)throw Error(`Sector Shift: Expected 12 saw `+n);break;default:throw Error(`Sector Shift: Expected 9 or 12 saw `+n)}e.chk(`0600`,`Mini Sector Shift: `),e.chk(`000000000000`,`Reserved: `)}function f(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}function p(e,t,n){for(var r=0,i=0,a=0,o=0,s=0,c=n.length,l=[],u=[];r<c;++r)l[r]=u[r]=r,t[r]=n[r];for(;s<u.length;++s)r=u[s],i=e[r].L,a=e[r].R,o=e[r].C,l[r]===r&&(i!==-1&&l[i]!==i&&(l[r]=l[i]),a!==-1&&l[a]!==a&&(l[r]=l[a])),o!==-1&&(l[o]=r),i!==-1&&r!=l[r]&&(l[i]=l[r],u.lastIndexOf(i)<s&&u.push(i)),a!==-1&&r!=l[r]&&(l[a]=l[r],u.lastIndexOf(a)<s&&u.push(a));for(r=1;r<c;++r)l[r]===r&&(a!==-1&&l[a]!==a?l[r]=l[a]:i!==-1&&l[i]!==i&&(l[r]=l[i]));for(r=1;r<c;++r)if(e[r].type!==0){if(s=r,s!=l[s])do s=l[s],t[r]=t[s]+`/`+t[r];while(s!==0&&l[s]!==-1&&s!=l[s]);l[r]=-1}for(t[0]+=`/`,r=1;r<c;++r)e[r].type!==2&&(t[r]+=`/`)}function m(e,t,n){for(var r=e.start,i=e.size,a=[],o=r;n&&i>0&&o>=0;)a.push(t.slice(o*D,o*D+D)),i-=D,o=lE(n,o*4);return a.length===0?Y(0):HS(a).slice(0,e.size)}function h(e,t,n,r,i){var a=O;if(e===O){if(t!==0)throw Error(`DIFAT chain shorter than expected`)}else if(e!==-1){var o=n[e],s=(r>>>2)-1;if(!o)return;for(var c=0;c<s&&(a=lE(o,c*4))!==O;++c)i.push(a);h(lE(o,r-4),t-1,n,r,i)}}function g(e,t,n,r,i){var a=[],o=[];i||=[];var s=r-1,c=0,l=0;for(c=t;c>=0;){i[c]=!0,a[a.length]=c,o.push(e[c]);var u=n[Math.floor(c*4/r)];if(l=c*4&s,r<4+l)throw Error(`FAT boundary crossed: `+c+` 4 `+r);if(!e[u])break;c=lE(e[u],l)}return{nodes:a,data:RT([o])}}function _(e,t,n,r){var i=e.length,a=[],o=[],s=[],c=[],l=r-1,u=0,d=0,f=0,p=0;for(u=0;u<i;++u)if(s=[],f=u+t,f>=i&&(f-=i),!o[f]){c=[];var m=[];for(d=f;d>=0;){m[d]=!0,o[d]=!0,s[s.length]=d,c.push(e[d]);var h=n[Math.floor(d*4/r)];if(p=d*4&l,r<4+p)throw Error(`FAT boundary crossed: `+d+` 4 `+r);if(!e[h]||(d=lE(e[h],p),m[d]))break}a[f]={nodes:s,data:RT([c])}}return a}function v(e,t,n,r,i,a,o,s){for(var c=0,l=r.length?2:0,u=t[e].data,d=0,f=0,p;d<u.length;d+=128){var h=u.slice(d,d+128);_E(h,64),f=h.read_shift(2),p=BT(h,0,f-l),r.push(p);var _={name:p,type:h.read_shift(1),color:h.read_shift(1),L:h.read_shift(4,`i`),R:h.read_shift(4,`i`),C:h.read_shift(4,`i`),clsid:h.read_shift(16),state:h.read_shift(4,`i`),start:0,size:0};h.read_shift(2)+h.read_shift(2)+h.read_shift(2)+h.read_shift(2)!==0&&(_.ct=y(h,h.l-8)),h.read_shift(2)+h.read_shift(2)+h.read_shift(2)+h.read_shift(2)!==0&&(_.mt=y(h,h.l-8)),_.start=h.read_shift(4,`i`),_.size=h.read_shift(4,`i`),_.size<0&&_.start<0&&(_.size=_.type=0,_.start=O,_.name=``),_.type===5?(c=_.start,i>0&&c!==O&&(t[c].name=`!StreamData`)):_.size>=4096?(_.storage=`fat`,t[_.start]===void 0&&(t[_.start]=g(n,_.start,t.fat_addrs,t.ssz)),t[_.start].name=_.name,_.content=t[_.start].data.slice(0,_.size)):(_.storage=`minifat`,_.size<0?_.size=0:c!==O&&_.start!==O&&t[c]&&(_.content=m(_,t[c].data,(t[s]||{}).data))),_.content&&_E(_.content,0),a[p]=_,o.push(_)}}function y(e,t){return new Date((cE(e,t+4)/1e7*2**32+cE(e,t)/1e7-11644473600)*1e3)}function b(e,t){return c(),l(s.readFileSync(e),t)}function x(e,t){var n=t&&t.type;switch(n||NS&&Buffer.isBuffer(e)&&(n=`buffer`),n||`base64`){case`file`:return b(e,t);case`base64`:return l(LS(MS(e)),t);case`binary`:return l(LS(e),t)}return l(e,t)}function S(e,t){var n=t||{},r=n.root||`Root Entry`;if(e.FullPaths||=[],e.FileIndex||=[],e.FullPaths.length!==e.FileIndex.length)throw Error(`inconsistent CFB structure`);e.FullPaths.length===0&&(e.FullPaths[0]=r+`/`,e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),C(e)}function C(e){var t=`Sh33tJ5`;if(!aw.find(e,`/`+t)){var n=Y(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),w(e)}}function w(e,i){S(e);for(var a=!1,o=!1,s=e.FullPaths.length-1;s>=0;--s){var c=e.FileIndex[s];switch(c.type){case 0:o?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:o=!0,isNaN(c.R*c.L*c.C)&&(a=!0),c.R>-1&&c.L>-1&&c.R==c.L&&(a=!0);break;default:a=!0;break}}if(!(!a&&!i)){var l=new Date(1987,1,19),u=0,d=Object.create?Object.create(null):{},f=[];for(s=0;s<e.FullPaths.length;++s)d[e.FullPaths[s]]=!0,e.FileIndex[s].type!==0&&f.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<f.length;++s){var p=n(f[s][0]);o=d[p],o||(f.push([p,{name:r(p).replace(`/`,``),type:1,clsid:j,ct:l,mt:l,content:null}]),d[p]=!0)}for(f.sort(function(e,n){return t(e[0],n[0])}),e.FullPaths=[],e.FileIndex=[],s=0;s<f.length;++s)e.FullPaths[s]=f[s][0],e.FileIndex[s]=f[s][1];for(s=0;s<f.length;++s){var m=e.FileIndex[s],h=e.FullPaths[s];if(m.name=r(h).replace(`/`,``),m.L=m.R=m.C=-(m.color=1),m.size=m.content?m.content.length:0,m.start=0,m.clsid=m.clsid||j,s===0)m.C=f.length>1?1:-1,m.size=0,m.type=5;else if(h.slice(-1)==`/`){for(u=s+1;u<f.length&&n(e.FullPaths[u])!=h;++u);for(m.C=u>=f.length?-1:u,u=s+1;u<f.length&&n(e.FullPaths[u])!=n(h);++u);m.R=u>=f.length?-1:u,m.type=1}else n(e.FullPaths[s+1]||``)==n(h)&&(m.R=s+1),m.type=2}}}function T(e,t){var n=t||{};if(n.fileType==`mad`)return Be(e,n);switch(w(e),n.fileType){case`zip`:return Me(e,n)}var r=(function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var a=i.content.length;a>0&&(a<4096?t+=a+63>>6:n+=a+511>>9)}}for(var o=e.FullPaths.length+3>>2,s=t+7>>3,c=t+127>>7,l=s+n+o+c,u=l+127>>7,d=u<=109?0:Math.ceil((u-109)/127);l+u+d+127>>7>u;)d=++u<=109?0:Math.ceil((u-109)/127);var f=[1,d,u,c,o,n,t,0];return e.FileIndex[0].size=t<<6,f[7]=(e.FileIndex[0].start=f[0]+f[1]+f[2]+f[3]+f[4]+f[5])+(f[6]+7>>3),f})(e),i=Y(r[7]<<9),a=0,o=0;for(a=0;a<8;++a)i.write_shift(1,A[a]);for(a=0;a<8;++a)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),a=0;a<3;++a)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,r[2]),i.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:O),i.write_shift(4,r[3]),i.write_shift(-4,r[1]?r[0]-1:O),i.write_shift(4,r[1]),a=0;a<109;++a)i.write_shift(-4,a<r[2]?r[1]+a:-1);if(r[1])for(o=0;o<r[1];++o){for(;a<236+o*127;++a)i.write_shift(-4,a<r[2]?r[1]+a:-1);i.write_shift(-4,o===r[1]-1?O:o+1)}var s=function(e){for(o+=e;a<o-1;++a)i.write_shift(-4,a+1);e&&(++a,i.write_shift(-4,O))};for(o=a=0,o+=r[1];a<o;++a)i.write_shift(-4,M.DIFSECT);for(o+=r[2];a<o;++a)i.write_shift(-4,M.FATSECT);s(r[3]),s(r[4]);for(var c=0,l=0,u=e.FileIndex[0];c<e.FileIndex.length;++c)u=e.FileIndex[c],u.content&&(l=u.content.length,!(l<4096)&&(u.start=o,s(l+511>>9)));for(s(r[6]+7>>3);i.l&511;)i.write_shift(-4,M.ENDOFCHAIN);for(o=a=0,c=0;c<e.FileIndex.length;++c)u=e.FileIndex[c],u.content&&(l=u.content.length,!(!l||l>=4096)&&(u.start=o,s(l+63>>6)));for(;i.l&511;)i.write_shift(-4,M.ENDOFCHAIN);for(a=0;a<r[4]<<2;++a){var d=e.FullPaths[a];if(!d||d.length===0){for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0);continue}u=e.FileIndex[a],a===0&&(u.start=u.size?u.start-1:O);var f=a===0&&n.root||u.name;if(l=2*(f.length+1),i.write_shift(64,f,`utf16le`),i.write_shift(2,l),i.write_shift(1,u.type),i.write_shift(1,u.color),i.write_shift(-4,u.L),i.write_shift(-4,u.R),i.write_shift(-4,u.C),u.clsid)i.write_shift(16,u.clsid,`hex`);else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,u.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,u.start),i.write_shift(4,u.size),i.write_shift(4,0)}for(a=1;a<e.FileIndex.length;++a)if(u=e.FileIndex[a],u.size>=4096)if(i.l=u.start+1<<9,NS&&Buffer.isBuffer(u.content))u.content.copy(i,i.l,0,u.size),i.l+=u.size+511&-512;else{for(c=0;c<u.size;++c)i.write_shift(1,u.content[c]);for(;c&511;++c)i.write_shift(1,0)}for(a=1;a<e.FileIndex.length;++a)if(u=e.FileIndex[a],u.size>0&&u.size<4096)if(NS&&Buffer.isBuffer(u.content))u.content.copy(i,i.l,0,u.size),i.l+=u.size+63&-64;else{for(c=0;c<u.size;++c)i.write_shift(1,u.content[c]);for(;c&63;++c)i.write_shift(1,0)}if(NS)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}function E(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split(`/`);return t[t.length-(e.slice(-1)==`/`?2:1)]}),i=!1;t.charCodeAt(0)===47?(i=!0,t=n[0].slice(0,-1)+t):i=t.indexOf(`/`)!==-1;var a=t.toUpperCase(),o=i===!0?n.indexOf(a):r.indexOf(a);if(o!==-1)return e.FileIndex[o];var s=!a.match(GS);for(a=a.replace(WS,``),s&&(a=a.replace(GS,`!`)),o=0;o<n.length;++o)if((s?n[o].replace(GS,`!`):n[o]).replace(WS,``)==a||(s?r[o].replace(GS,`!`):r[o]).replace(WS,``)==a)return e.FileIndex[o];return null}var D=64,O=-2,k=`d0cf11e0a1b11ae1`,A=[208,207,17,224,161,177,26,225],j=`00000000000000000000000000000000`,M={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:k,HEADER_MINOR_VERSION:`3e00`,MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:j,EntryTypes:[`unknown`,`storage`,`stream`,`lockbytes`,`property`,`root`]};function N(e,t,n){c();var r=T(e,n);s.writeFileSync(t,r)}function P(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join(``)}function F(e,t){var n=T(e,t);switch(t&&t.type||`buffer`){case`file`:return c(),s.writeFileSync(t.filename,n),n;case`binary`:return typeof n==`string`?n:P(n);case`base64`:return jS(typeof n==`string`?n:P(n));case`buffer`:if(NS)return Buffer.isBuffer(n)?n:PS(n);case`array`:return typeof n==`string`?LS(n):n}return n}var I;function L(e){try{var t=e.InflateRaw,n=new t;if(n._processChunk(new Uint8Array([3,0]),n._finishFlushFlag),n.bytesRead)I=e;else throw Error(`zlib does not expose bytesRead`)}catch(e){console.error(`cannot use native zlib: `+(e.message||e))}}function R(e,t){if(!I)return Oe(e,t);var n=I.InflateRaw,r=new n,i=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,i}function z(e){return I?I.deflateRawSync(e):be(e)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function te(e){var t=(e<<1|e<<11)&139536|(e<<5|e<<15)&558144;return(t>>16|t>>8|t)&255}for(var H=typeof Uint8Array<`u`,ne=H?new Uint8Array(256):[],re=0;re<256;++re)ne[re]=te(re);function ie(e,t){var n=ne[e&255];return t<=8?n>>>8-t:(n=n<<8|ne[e>>8&255],t<=16?n>>>16-t:(n=n<<8|ne[e>>16&255],n>>>24-t))}function U(e,t){var n=t&7,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function ae(e,t){var n=t&7,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function oe(e,t){var n=t&7,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}function W(e,t){var n=t&7,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function se(e,t){var n=t&7,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function ce(e,t,n){var r=t&7,i=t>>>3,a=(1<<n)-1,o=e[i]>>>r;return n<8-r||(o|=e[i+1]<<8-r,n<16-r)||(o|=e[i+2]<<16-r,n<24-r)||(o|=e[i+3]<<24-r),o&a}function le(e,t,n){var r=t&7,i=t>>>3;return r<=5?e[i]|=(n&7)<<r:(e[i]|=n<<r&255,e[i+1]=(n&7)>>8-r),t+3}function ue(e,t,n){var r=t&7,i=t>>>3;return n=(n&1)<<r,e[i]|=n,t+1}function de(e,t,n){var r=t&7,i=t>>>3;return n<<=r,e[i]|=n&255,n>>>=8,e[i+1]=n,t+8}function fe(e,t,n){var r=t&7,i=t>>>3;return n<<=r,e[i]|=n&255,n>>>=8,e[i+1]=n&255,e[i+2]=n>>>8,t+16}function pe(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(NS){var a=IS(r);if(e.copy)e.copy(a);else for(;i<e.length;++i)a[i]=e[i];return a}else if(H){var o=new Uint8Array(r);if(o.set)o.set(e);else for(;i<n;++i)o[i]=e[i];return o}return e.length=r,e}function me(e){for(var t=Array(e),n=0;n<e;++n)t[n]=0;return t}function he(e,t,n){var r=1,i=0,a=0,o=0,s=0,c=e.length,l=H?new Uint16Array(32):me(32);for(a=0;a<32;++a)l[a]=0;for(a=c;a<n;++a)e[a]=0;c=e.length;var u=H?new Uint16Array(c):me(c);for(a=0;a<c;++a)l[i=e[a]]++,r<i&&(r=i),u[a]=0;for(l[0]=0,a=1;a<=r;++a)l[a+16]=s=s+l[a-1]<<1;for(a=0;a<c;++a)s=e[a],s!=0&&(u[a]=l[s+16]++);var d=0;for(a=0;a<c;++a)if(d=e[a],d!=0)for(s=ie(u[a],r)>>r-d,o=(1<<r+4-d)-1;o>=0;--o)t[s|o<<d]=d&15|a<<4;return r}var ge=H?new Uint16Array(512):me(512),_e=H?new Uint16Array(32):me(32);if(!H){for(var ve=0;ve<512;++ve)ge[ve]=0;for(ve=0;ve<32;++ve)_e[ve]=0}(function(){for(var e=[],t=0;t<32;t++)e.push(5);he(e,_e,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);he(n,ge,288)})();var ye=(function(){for(var e=H?new Uint8Array(32768):[],t=0,n=0;t<V.length-1;++t)for(;n<V[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=H?new Uint8Array(259):[];for(t=0,n=0;t<B.length-1;++t)for(;n<B[t+1];++n)r[n]=t;function i(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,~r&65535);r-- >0;)t[t.l++]=e[n++]}return t.l}function a(t,n){for(var i=0,a=0,o=H?new Uint16Array(32768):[];a<t.length;){var s=Math.min(65535,t.length-a);if(s<10){for(i=le(n,i,+(a+s==t.length)),i&7&&(i+=8-(i&7)),n.l=i/8|0,n.write_shift(2,s),n.write_shift(2,~s&65535);s-- >0;)n[n.l++]=t[a++];i=n.l*8;continue}i=le(n,i,+(a+s==t.length)+2);for(var c=0;s-- >0;){var l=t[a];c=(c<<5^l)&32767;var u=-1,d=0;if((u=o[c])&&(u|=a&-32768,u>a&&(u-=32768),u<a))for(;t[u+d]==t[a+d]&&d<250;)++d;if(d>2){l=r[d],l<=22?i=de(n,i,ne[l+1]>>1)-1:(de(n,i,3),i+=5,de(n,i,ne[l-23]>>5),i+=3);var f=l<8?0:l-4>>2;f>0&&(fe(n,i,d-B[l]),i+=f),l=e[a-u],i=de(n,i,ne[l]>>3),i-=3;var p=l<4?0:l-2>>1;p>0&&(fe(n,i,a-u-V[l]),i+=p);for(var m=0;m<d;++m)o[c]=a&32767,c=(c<<5^t[a])&32767,++a;s-=d-1}else l<=143?l+=48:i=ue(n,i,1),i=de(n,i,ne[l]),o[c]=a&32767,++a}i=de(n,i,0)-1}return n.l=(i+7)/8|0,n.l}return function(e,t){return e.length<8?i(e,t):a(e,t)}})();function be(e){var t=Y(50+Math.floor(e.length*1.1)),n=ye(e,t);return t.slice(0,n)}var xe=H?new Uint16Array(32768):me(32768),Se=H?new Uint16Array(32768):me(32768),Ce=H?new Uint16Array(128):me(128),we=1,Te=1;function Ee(e,t){var n=W(e,t)+257;t+=5;var r=W(e,t)+1;t+=5;var i=oe(e,t)+4;t+=4;for(var a=0,o=H?new Uint8Array(19):me(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=1,l=H?new Uint8Array(8):me(8),u=H?new Uint8Array(8):me(8),d=o.length,f=0;f<i;++f)o[ee[f]]=a=ae(e,t),c<a&&(c=a),l[a]++,t+=3;var p=0;for(l[0]=0,f=1;f<=c;++f)u[f]=p=p+l[f-1]<<1;for(f=0;f<d;++f)(p=o[f])!=0&&(s[f]=u[p]++);var m=0;for(f=0;f<d;++f)if(m=o[f],m!=0){p=ne[s[f]]>>8-m;for(var h=(1<<7-m)-1;h>=0;--h)Ce[p|h<<m]=m&7|f<<3}var g=[];for(c=1;g.length<n+r;)switch(p=Ce[se(e,t)],t+=p&7,p>>>=3){case 16:for(a=3+U(e,t),t+=2,p=g[g.length-1];a-- >0;)g.push(p);break;case 17:for(a=3+ae(e,t),t+=3;a-- >0;)g.push(0);break;case 18:for(a=11+se(e,t),t+=7;a-- >0;)g.push(0);break;default:g.push(p),c<p&&(c=p);break}var _=g.slice(0,n),v=g.slice(n);for(f=n;f<286;++f)_[f]=0;for(f=r;f<30;++f)v[f]=0;return we=he(_,xe,286),Te=he(v,Se,30),t}function De(e,t){if(e[0]==3&&!(e[1]&3))return[FS(t),2];for(var n=0,r=0,i=IS(t||1<<18),a=0,o=i.length>>>0,s=0,c=0;!(r&1);){if(r=ae(e,n),n+=3,r>>>1)r>>1==1?(s=9,c=5):(n=Ee(e,n),s=we,c=Te);else{n&7&&(n+=8-(n&7));var l=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,l>0)for(!t&&o<a+l&&(i=pe(i,a+l),o=i.length);l-- >0;)i[a++]=e[n>>>3],n+=8;continue}for(;;){!t&&o<a+32767&&(i=pe(i,a+32767),o=i.length);var u=ce(e,n,s),d=r>>>1==1?ge[u]:xe[u];if(n+=d&15,d>>>=4,!(d>>>8&255))i[a++]=d;else if(d==256)break;else{d-=257;var f=d<8?0:d-4>>2;f>5&&(f=0);var p=a+B[d];f>0&&(p+=ce(e,n,f),n+=f),u=ce(e,n,c),d=r>>>1==1?_e[u]:Se[u],n+=d&15,d>>>=4;var m=d<4?0:d-2>>1,h=V[d];for(m>0&&(h+=ce(e,n,m),n+=m),!t&&o<p&&(i=pe(i,p+100),o=i.length);a<p;)i[a]=i[a-h],++a}}}return t?[i,n+7>>>3]:[i.slice(0,a),n+7>>>3]}function Oe(e,t){var n=De(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ke(e,t){if(e)typeof console<`u`&&console.error(t);else throw Error(t)}function Ae(e,t){var n=e;_E(n,0);var r={FileIndex:[],FullPaths:[]};S(r,{root:t.root});for(var i=n.length-4;(n[i]!=80||n[i+1]!=75||n[i+2]!=5||n[i+3]!=6)&&i>=0;)--i;n.l=i+4,n.l+=4;var a=n.read_shift(2);for(n.l+=6,n.l=n.read_shift(4),i=0;i<a;++i){n.l+=20;var s=n.read_shift(4),c=n.read_shift(4),l=n.read_shift(2),u=n.read_shift(2),d=n.read_shift(2);n.l+=8;var f=n.read_shift(4),p=o(n.slice(n.l+l,n.l+l+u));n.l+=l+u+d;var m=n.l;n.l=f+4,je(n,s,c,r,p),n.l=m}return r}function je(e,t,n,r,i){e.l+=2;var s=e.read_shift(2),c=e.read_shift(2),l=a(e);if(s&8257)throw Error(`Unsupported ZIP encryption`);for(var u=e.read_shift(4),d=e.read_shift(4),f=e.read_shift(4),p=e.read_shift(2),m=e.read_shift(2),h=``,g=0;g<p;++g)h+=String.fromCharCode(e[e.l++]);if(m){var _=o(e.slice(e.l,e.l+m));(_[21589]||{}).mt&&(l=_[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=m;var v=e.slice(e.l,e.l+d);switch(c){case 8:v=R(e,f);break;case 0:break;default:throw Error(`Unsupported ZIP Compression method `+c)}var y=!1;s&8&&(u=e.read_shift(4),u==134695760&&(u=e.read_shift(4),y=!0),d=e.read_shift(4),f=e.read_shift(4)),d!=t&&ke(y,`Bad compressed size: `+t+` != `+d),f!=n&&ke(y,`Bad uncompressed size: `+n+` != `+f),He(r,h,v,{unsafe:!0,mt:l})}function Me(e,t){var n=t||{},r=[],a=[],o=Y(1),s=n.compression?8:0,c=0,l=0,u=0,d=0,f=0,p=e.FullPaths[0],m=p,h=e.FileIndex[0],g=[],_=0;for(l=1;l<e.FullPaths.length;++l)if(m=e.FullPaths[l].slice(p.length),h=e.FileIndex[l],!(!h.size||!h.content||m==`Sh33tJ5`)){var v=d,y=Y(m.length);for(u=0;u<m.length;++u)y.write_shift(1,m.charCodeAt(u)&127);y=y.slice(0,y.l),g[f]=iw.buf(h.content,0);var b=h.content;s==8&&(b=z(b)),o=Y(30),o.write_shift(4,67324752),o.write_shift(2,20),o.write_shift(2,c),o.write_shift(2,s),h.mt?i(o,h.mt):o.write_shift(4,0),o.write_shift(-4,c&8?0:g[f]),o.write_shift(4,c&8?0:b.length),o.write_shift(4,c&8?0:h.content.length),o.write_shift(2,y.length),o.write_shift(2,0),d+=o.length,r.push(o),d+=y.length,r.push(y),d+=b.length,r.push(b),c&8&&(o=Y(12),o.write_shift(-4,g[f]),o.write_shift(4,b.length),o.write_shift(4,h.content.length),d+=o.l,r.push(o)),o=Y(46),o.write_shift(4,33639248),o.write_shift(2,0),o.write_shift(2,20),o.write_shift(2,c),o.write_shift(2,s),o.write_shift(4,0),o.write_shift(-4,g[f]),o.write_shift(4,b.length),o.write_shift(4,h.content.length),o.write_shift(2,y.length),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(4,0),o.write_shift(4,v),_+=o.l,a.push(o),_+=y.length,a.push(y),++f}return o=Y(22),o.write_shift(4,101010256),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,f),o.write_shift(2,f),o.write_shift(4,_),o.write_shift(4,d),o.write_shift(2,0),HS([HS(r),HS(a),o])}var Ne={htm:`text/html`,xml:`text/xml`,gif:`image/gif`,jpg:`image/jpeg`,png:`image/png`,mso:`application/x-mso`,thmx:`application/vnd.ms-officetheme`,sh33tj5:`application/octet-stream`};function Pe(e,t){if(e.ctype)return e.ctype;var n=e.name||``,r=n.match(/\.([^\.]+)$/);return r&&Ne[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/),r&&Ne[r[1]])?Ne[r[1]]:`application/octet-stream`}function Fe(e){for(var t=jS(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join(`\r
`)+`\r
`}function Ie(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return`=`+(t.length==1?`0`+t:t)});t=t.replace(/ $/gm,`=20`).replace(/\t$/gm,`=09`),t.charAt(0)==`
`&&(t=`=0D`+t.slice(1)),t=t.replace(/\r(?!\n)/gm,`=0D`).replace(/\n\n/gm,`
=0A`).replace(/([^\r\n])\n/gm,`$1=0A`);for(var n=[],r=t.split(`\r
`),i=0;i<r.length;++i){var a=r[i];if(a.length==0){n.push(``);continue}for(var o=0;o<a.length;){var s=76,c=a.slice(o,o+s);c.charAt(s-1)==`=`?s--:c.charAt(s-2)==`=`?s-=2:c.charAt(s-3)==`=`&&(s-=3),c=a.slice(o,o+s),o+=s,o<a.length&&(c+=`=`),n.push(c)}}return n.join(`\r
`)}function Le(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&r.charAt(r.length-1)==`=`;)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return LS(t.join(`\r
`))}function Re(e,t,n){for(var r=``,i=``,a=``,o,s=0;s<10;++s){var c=t[s];if(!c||c.match(/^\s*$/))break;var l=c.match(/^(.*?):\s*([^\s].*)$/);if(l)switch(l[1].toLowerCase()){case`content-location`:r=l[2].trim();break;case`content-type`:a=l[2].trim();break;case`content-transfer-encoding`:i=l[2].trim();break}}switch(++s,i.toLowerCase()){case`base64`:o=LS(MS(t.slice(s).join(``)));break;case`quoted-printable`:o=Le(t.slice(s));break;default:throw Error(`Unsupported Content-Transfer-Encoding `+i)}var u=He(e,r.slice(n.length),o,{unsafe:!0});a&&(u.ctype=a)}function ze(e,t){if(P(e.slice(0,13)).toLowerCase()!=`mime-version:`)throw Error(`Unsupported MAD header`);var n=t&&t.root||``,r=(NS&&Buffer.isBuffer(e)?e.toString(`binary`):P(e)).split(`\r
`),i=0,a=``;for(i=0;i<r.length;++i)if(a=r[i],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf(`file`)),n||=a.slice(0,a.lastIndexOf(`/`)+1),a.slice(0,n.length)!=n))for(;n.length>0&&(n=n.slice(0,n.length-1),n=n.slice(0,n.lastIndexOf(`/`)+1),a.slice(0,n.length)!=n););var o=(r[1]||``).match(/boundary="(.*?)"/);if(!o)throw Error(`MAD cannot find boundary`);var s=`--`+(o[1]||``),c={FileIndex:[],FullPaths:[]};S(c);var l,u=0;for(i=0;i<r.length;++i){var d=r[i];d!==s&&d!==s+`--`||(u++&&Re(c,r.slice(l,i),n),l=i)}return c}function Be(e,t){var n=t||{},r=n.boundary||`SheetJS`;r=`------=`+r;for(var i=[`MIME-Version: 1.0`,`Content-Type: multipart/related; boundary="`+r.slice(2)+`"`,``,``,``],a=e.FullPaths[0],o=a,s=e.FileIndex[0],c=1;c<e.FullPaths.length;++c)if(o=e.FullPaths[c].slice(a.length),s=e.FileIndex[c],!(!s.size||!s.content||o==`Sh33tJ5`)){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return`_x`+e.charCodeAt(0).toString(16)+`_`}).replace(/[\u0080-\uFFFF]/g,function(e){return`_u`+e.charCodeAt(0).toString(16)+`_`});for(var l=s.content,u=NS&&Buffer.isBuffer(l)?l.toString(`binary`):P(l),d=0,f=Math.min(1024,u.length),p=0,m=0;m<=f;++m)(p=u.charCodeAt(m))>=32&&p<128&&++d;var h=d>=f*4/5;i.push(r),i.push(`Content-Location: `+(n.root||`file:///C:/SheetJS/`)+o),i.push(`Content-Transfer-Encoding: `+(h?`quoted-printable`:`base64`)),i.push(`Content-Type: `+Pe(s,o)),i.push(``),i.push(h?Ie(u):Fe(u))}return i.push(r+`--\r
`),i.join(`\r
`)}function Ve(e){var t={};return S(t,e),t}function He(e,t,n,i){var a=i&&i.unsafe;a||S(e);var o=!a&&aw.find(e,t);if(!o){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:(s.slice(-1)!=`/`&&(s+=`/`),s=(s+t).replace(`//`,`/`)),o={name:r(t),type:2},e.FileIndex.push(o),e.FullPaths.push(s),a||aw.utils.cfb_gc(e)}return o.content=n,o.size=n?n.length:0,i&&(i.CLSID&&(o.clsid=i.CLSID),i.mt&&(o.mt=i.mt),i.ct&&(o.ct=i.ct)),o}function Ue(e,t){S(e);var n=aw.find(e,t);if(n){for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0}return!1}function We(e,t,n){S(e);var i=aw.find(e,t);if(i){for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==i)return e.FileIndex[a].name=r(n),e.FullPaths[a]=n,!0}return!1}function Ge(e){w(e,!0)}return e.find=E,e.read=x,e.parse=l,e.write=F,e.writeFile=N,e.utils={cfb_new:Ve,cfb_add:He,cfb_del:Ue,cfb_mov:We,cfb_gc:Ge,ReadShift:dE,CheckField:gE,prep_blob:_E,bconcat:HS,use_zlib:L,_deflateRaw:be,_inflateRaw:Oe,consts:M},e})(),ow=void 0;function sw(e){return typeof e==`string`?RS(e):Array.isArray(e)?BS(e):e}function cw(e,t,n){if(ow!==void 0&&ow.writeFileSync)return n?ow.writeFileSync(e,t,n):ow.writeFileSync(e,t);if(typeof Deno<`u`){if(n&&typeof t==`string`)switch(n){case`utf8`:t=new TextEncoder(n).encode(t);break;case`binary`:t=RS(t);break;default:throw Error(`Unsupported encoding `+n)}return Deno.writeFileSync(e,t)}var r=n==`utf8`?vT(t):t;if(typeof IE_SaveFile<`u`)return IE_SaveFile(r,e);if(typeof Blob<`u`){var i=new Blob([sw(r)],{type:`application/octet-stream`});if(typeof navigator<`u`&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<`u`)return saveAs(i,e);if(typeof URL<`u`&&typeof document<`u`&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome==`object`&&typeof(chrome.downloads||{}).download==`function`)return URL.revokeObjectURL&&typeof setTimeout<`u`&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement(`a`);if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<`u`&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<`u`&&typeof File<`u`&&typeof Folder<`u`)try{var s=File(e);return s.open(`w`),s.encoding=`binary`,Array.isArray(t)&&(t=zS(t)),s.write(t),s.close(),t}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw Error(`cannot save file `+e)}function lw(e){if(ow!==void 0)return ow.readFileSync(e);if(typeof Deno<`u`)return Deno.readFileSync(e);if(typeof $<`u`&&typeof File<`u`&&typeof Folder<`u`)try{var t=File(e);t.open(`r`),t.encoding=`binary`;var n=t.read();return t.close(),n}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw Error(`Cannot access file `+e)}function uw(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function dw(e,t){for(var n=[],r=uw(e),i=0;i!==r.length;++i)n[e[r[i]][t]]??(n[e[r[i]][t]]=r[i]);return n}function fw(e){for(var t=[],n=uw(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function pw(e){for(var t=[],n=uw(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function mw(e){for(var t=[],n=uw(e),r=0;r!==n.length;++r)t[e[n[r]]]??(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var hw=new Date(1899,11,30,0,0,0);function gw(e,t){var n=e.getTime();t&&(n-=1462*24*60*60*1e3);var r=hw.getTime()+(e.getTimezoneOffset()-hw.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var _w=new Date,vw=hw.getTime()+(_w.getTimezoneOffset()-hw.getTimezoneOffset())*6e4,yw=_w.getTimezoneOffset();function bw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+vw),t.getTimezoneOffset()!==yw&&t.setTime(t.getTime()+(t.getTimezoneOffset()-yw)*6e4),t}function xw(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw Error(`|`+e+`| is not an ISO8601 Duration`);for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case`Y`:throw Error(`Unsupported ISO Duration Field: `+i[a].slice(i[a].length-1));case`D`:n*=24;case`H`:n*=60;case`M`:if(r)n*=60;else throw Error(`Unsupported ISO Duration Field: M`);case`S`:break}t+=n*parseInt(i[a],10)}return t}var Sw=new Date(`2017-02-19T19:06:09.000Z`),Cw=isNaN(Sw.getFullYear())?new Date(`2/19/17`):Sw,ww=Cw.getFullYear()==2017;function Tw(e,t){var n=new Date(e);if(ww)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Cw.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(``+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||[`2017`,`2`,`19`,`0`,`0`,`0`],a=new Date(+i[0],i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf(`Z`)>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Ew(e,t){if(NS&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return vT(e.slice(2).toString(`utf16le`));if(e[1]==254&&e[2]==255)return vT(CS(e.slice(2).toString(`binary`)))}return e.toString(`binary`)}if(typeof TextDecoder<`u`)try{if(t){if(e[0]==255&&e[1]==254)return vT(new TextDecoder(`utf-16le`).decode(e.slice(2)));if(e[0]==254&&e[1]==255)return vT(new TextDecoder(`utf-16be`).decode(e.slice(2)))}var n={"":``,"":``,:``,"":``,"":``,"":``,"":``,:``,"":``,:``,"":``,:``,:``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,:``,"":``,:``,:``,:``};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder(`latin1`).decode(e).replace(/[]/g,function(e){return n[e]||e})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join(``)}function Dw(e){if(typeof JSON<`u`&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!=`object`||!e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Dw(e[n]));return t}function Ow(e,t){for(var n=``;n.length<t;)n+=e;return n}function kw(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,`$1$2`).replace(/[$]/g,``).replace(/[%]/g,function(){return n*=100,``});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),!isNaN(t=Number(r)))?t/n:t}var Aw=[`january`,`february`,`march`,`april`,`may`,`june`,`july`,`august`,`september`,`october`,`november`,`december`];function jw(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,``).replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,``),o.length>3&&Aw.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var Mw=(function(){var e=`abacaba`.split(/(:?b)/i).length==5;return function(t,n,r){if(e||typeof n==`string`)return t.split(n);for(var i=t.split(n),a=[i[0]],o=1;o<i.length;++o)a.push(r),a.push(i[o]);return a}})();function Nw(e){return e?e.content&&e.type?Ew(e.content,!0):e.data?wS(e.data):e.asNodeBuffer&&NS?wS(e.asNodeBuffer().toString(`binary`)):e.asBinary?wS(e.asBinary()):e._data&&e._data.getContent?wS(Ew(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Pw(e){if(!e)return null;if(e.data)return xS(e.data);if(e.asNodeBuffer&&NS)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t==`string`?xS(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Fw(e){return e&&e.name.slice(-4)===`.bin`?Pw(e):Nw(e)}function Iw(e,t){for(var n=e.FullPaths||uw(e.files),r=t.toLowerCase().replace(/[\/]/g,`\\`),i=r.replace(/\\/g,`/`),a=0;a<n.length;++a){var o=n[a].replace(/^Root Entry[\/]/,``).toLowerCase();if(r==o||i==o)return e.files?e.files[n[a]]:e.FileIndex[a]}return null}function Lw(e,t){var n=Iw(e,t);if(n==null)throw Error(`Cannot find file `+t+` in zip`);return n}function Rw(e,t,n){if(!n)return Fw(Lw(e,t));if(!t)return null;try{return Rw(e,t)}catch{return null}}function zw(e,t,n){if(!n)return Nw(Lw(e,t));if(!t)return null;try{return zw(e,t)}catch{return null}}function Bw(e,t,n){if(!n)return Pw(Lw(e,t));if(!t)return null;try{return Bw(e,t)}catch{return null}}function Vw(e){for(var t=e.FullPaths||uw(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!=`/`&&n.push(t[r].replace(/^Root Entry[\/]/,``));return n.sort()}function Hw(e,t,n){if(e.FullPaths){if(typeof n==`string`){var r=NS?PS(n):US(n);return aw.utils.cfb_add(e,t,r)}aw.utils.cfb_add(e,t,n)}else e.file(t,n)}function Uw(){return aw.utils.cfb_new()}function Ww(e,t){switch(t.type){case`base64`:return aw.read(e,{type:`base64`});case`binary`:return aw.read(e,{type:`binary`});case`buffer`:case`array`:return aw.read(e,{type:`buffer`})}throw Error(`Unrecognized type `+t.type)}function Gw(e,t){if(e.charAt(0)==`/`)return e.slice(1);var n=t.split(`/`);t.slice(-1)!=`/`&&n.pop();for(var r=e.split(`/`);r.length!==0;){var i=r.shift();i===`..`?n.pop():i!==`.`&&n.push(i)}return n.join(`/`)}var Kw=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qw=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Jw=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Yw=Kw.match(Jw)?Jw:/<[^>]*>/g,Xw=/<\w*:/,Zw=/<(\/?)\w+:/;function Qw(e,t,n){for(var r={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(qw),s=0,c=``,l=0,u=``,d=``,f=1;if(o)for(l=0;l!=o.length;++l){for(d=o[l],a=0;a!=d.length&&d.charCodeAt(a)!==61;++a);for(u=d.slice(0,a).trim();d.charCodeAt(a+1)==32;)++a;for(f=(i=d.charCodeAt(a+1))==34||i==39?1:0,c=d.slice(a+1+f,d.length-f),s=0;s!=u.length&&u.charCodeAt(s)!==58;++s);if(s===u.length)u.indexOf(`_`)>0&&(u=u.slice(0,u.indexOf(`_`))),r[u]=c,n||(r[u.toLowerCase()]=c);else{var p=(s===5&&u.slice(0,5)===`xmlns`?`xmlns`:``)+u.slice(s+1);if(r[p]&&u.slice(s-3,s)==`ext`)continue;r[p]=c,n||(r[p.toLowerCase()]=c)}}return r}function $w(e){return e.replace(Zw,`<$1`)}var eT={"&quot;":`"`,"&apos;":`'`,"&gt;":`>`,"&lt;":`<`,"&amp;":`&`},tT=fw(eT),nT=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var i=r+``,a=i.indexOf(`<![CDATA[`);if(a==-1)return i.replace(e,function(e,t){return eT[e]||String.fromCharCode(parseInt(t,e.indexOf(`x`)>-1?16:10))||e}).replace(t,function(e,t){return String.fromCharCode(parseInt(t,16))});var o=i.indexOf(`]]>`);return n(i.slice(0,a))+i.slice(a+9,o)+n(i.slice(o+3))}})(),rT=/[&<>'"]/g,iT=/[\u0000-\u0008\u000b-\u001f]/g;function aT(e){return(e+``).replace(rT,function(e){return tT[e]}).replace(iT,function(e){return`_x`+(`000`+e.charCodeAt(0).toString(16)).slice(-4)+`_`})}function oT(e){return aT(e).replace(/ /g,`_x0020_`)}var sT=/[\u0000-\u001f]/g;function cT(e){return(e+``).replace(rT,function(e){return tT[e]}).replace(/\n/g,`<br/>`).replace(sT,function(e){return`&#x`+(`000`+e.charCodeAt(0).toString(16)).slice(-4)+`;`})}function lT(e){return(e+``).replace(rT,function(e){return tT[e]}).replace(sT,function(e){return`&#x`+e.charCodeAt(0).toString(16).toUpperCase()+`;`})}var uT=(function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}})();function dT(e){return e.replace(/(\r\n|[\r\n])/g,`&#10;`)}function fT(e){switch(e){case 1:case!0:case`1`:case`true`:case`TRUE`:return!0;default:return!1}}function pT(e){for(var t=``,n=0,r=0,i=0,a=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function mT(e){var t=FS(2*e.length),n,r,i=1,a=0,o=0,s;for(r=0;r<e.length;r+=i)i=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),i=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=n%256,t[a++]=n>>>8;return t.slice(0,a).toString(`ucs2`)}function hT(e){return PS(e,`binary`).toString(`utf8`)}var gT=`foo bar baz`,_T=NS&&(hT(gT)==pT(gT)&&hT||mT(gT)==pT(gT)&&mT)||pT,vT=NS?function(e){return PS(e,`utf8`).toString(`binary`)}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join(``)},yT=(function(){var e={};return function(t,n){var r=t+`|`+(n||``);return e[r]?e[r]:e[r]=RegExp(`<(?:\\w+:)?`+t+`(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?`+t+`>`,n||``)}})(),bT=(function(){var e=[[`nbsp`,` `],[`middot`,``],[`quot`,`"`],[`apos`,`'`],[`gt`,`>`],[`lt`,`<`],[`amp`,`&`]].map(function(e){return[RegExp(`&`+e[0]+`;`,`ig`),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,``).replace(/[\t\n\r ]+$/,``).replace(/>\s+/g,`>`).replace(/\s+</g,`<`).replace(/[\t\n\r ]+/g,` `).replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,``),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}})(),xT=(function(){var e={};return function(t){return e[t]===void 0?e[t]=RegExp(`<(?:vt:)?`+t+`>([\\s\\S]*?)</(?:vt:)?`+t+`>`,`g`):e[t]}})(),ST=/<\/?(?:vt:)?variant>/g,CT=/<(?:vt:)([^>]*)>([\s\S]*)</;function wT(e,t){var n=Qw(e),r=e.match(xT(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw Error(`unexpected vector length `+r.length+` != `+n.size);return i}return r.forEach(function(e){var t=e.replace(ST,``).match(CT);t&&i.push({v:_T(t[2]),t:t[1]})}),i}var TT=/(^\s|\s$|\n)/;function ET(e,t){return`<`+e+(t.match(TT)?` xml:space="preserve"`:``)+`>`+t+`</`+e+`>`}function DT(e){return uw(e).map(function(t){return` `+t+`="`+e[t]+`"`}).join(``)}function J(e,t,n){return`<`+e+(n==null?``:DT(n))+(t==null?`/`:(t.match(TT)?` xml:space="preserve"`:``)+`>`+t+`</`+e)+`>`}function OT(e,t){try{return e.toISOString().replace(/\.\d*/,``)}catch(e){if(t)throw e}return``}function kT(e,t){switch(typeof e){case`string`:var n=J(`vt:lpwstr`,aT(e));return t&&(n=n.replace(/&quot;/g,`_x0022_`)),n;case`number`:return J((e|0)==e?`vt:i4`:`vt:r8`,aT(String(e)));case`boolean`:return J(`vt:bool`,e?`true`:`false`)}if(e instanceof Date)return J(`vt:filetime`,OT(e));throw Error(`Unable to serialize `+e)}function AT(e){if(NS&&Buffer.isBuffer(e))return e.toString(`utf8`);if(typeof e==`string`)return e;if(typeof Uint8Array<`u`&&e instanceof Uint8Array)return _T(zS(VS(e)));throw Error(`Bad input format: expected Buffer or string`)}var jT=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,MT={CORE_PROPS:`http://schemas.openxmlformats.org/package/2006/metadata/core-properties`,CUST_PROPS:`http://schemas.openxmlformats.org/officeDocument/2006/custom-properties`,EXT_PROPS:`http://schemas.openxmlformats.org/officeDocument/2006/extended-properties`,CT:`http://schemas.openxmlformats.org/package/2006/content-types`,RELS:`http://schemas.openxmlformats.org/package/2006/relationships`,TCMNT:`http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments`,dc:`http://purl.org/dc/elements/1.1/`,dcterms:`http://purl.org/dc/terms/`,dcmitype:`http://purl.org/dc/dcmitype/`,mx:`http://schemas.microsoft.com/office/mac/excel/2008/main`,r:`http://schemas.openxmlformats.org/officeDocument/2006/relationships`,sjs:`http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties`,vt:`http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes`,xsi:`http://www.w3.org/2001/XMLSchema-instance`,xsd:`http://www.w3.org/2001/XMLSchema`},NT=[`http://schemas.openxmlformats.org/spreadsheetml/2006/main`,`http://purl.oclc.org/ooxml/spreadsheetml/main`,`http://schemas.microsoft.com/office/excel/2006/main`,`http://schemas.microsoft.com/office/excel/2006/2`],PT={o:`urn:schemas-microsoft-com:office:office`,x:`urn:schemas-microsoft-com:office:excel`,ss:`urn:schemas-microsoft-com:office:spreadsheet`,dt:`uuid:C2F41010-65B3-11d1-A29F-00AA00C14882`,mv:`http://macVmlSchemaUri`,v:`urn:schemas-microsoft-com:vml`,html:`http://www.w3.org/TR/REC-html40`};function FT(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=2**52),n*2**(r-52)*i)}function IT(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=r?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*2**(52-i),i<=-1023&&(!isFinite(a)||a<2**52)?i=-1022:(a-=2**52,i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)e[n+s]=a&255;e[n+6]=(i&15)<<4|a&15,e[n+7]=i>>4|r}var LT=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,a=e[0][r].length;i<a;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},RT=NS?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:PS(e)})):LT(e)}:LT,zT=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(oE(e,i)));return r.join(``).replace(WS,``)},BT=NS?function(e,t,n){return Buffer.isBuffer(e)?e.toString(`utf16le`,t,n).replace(WS,``):zT(e,t,n)}:zT,VT=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push((`0`+e[i].toString(16)).slice(-2));return r.join(``)},HT=NS?function(e,t,n){return Buffer.isBuffer(e)?e.toString(`hex`,t,t+n):VT(e,t,n)}:VT,UT=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(aE(e,i)));return r.join(``)},WT=NS?function(e,t,n){return Buffer.isBuffer(e)?e.toString(`utf8`,t,n):UT(e,t,n)}:UT,GT=function(e,t){var n=cE(e,t);return n>0?WT(e,t+4,t+4+n-1):``},KT=GT,qT=function(e,t){var n=cE(e,t);return n>0?WT(e,t+4,t+4+n-1):``},JT=qT,YT=function(e,t){var n=2*cE(e,t);return n>0?WT(e,t+4,t+4+n-1):``},XT=YT,ZT=function(e,t){var n=cE(e,t);return n>0?BT(e,t+4,t+4+n):``},QT=ZT,$T=function(e,t){var n=cE(e,t);return n>0?WT(e,t+4,t+4+n):``},eE=$T,tE=function(e,t){return FT(e,t)},nE=tE,rE=function(e){return Array.isArray(e)||typeof Uint8Array<`u`&&e instanceof Uint8Array};NS&&(KT=function(e,t){if(!Buffer.isBuffer(e))return GT(e,t);var n=e.readUInt32LE(t);return n>0?e.toString(`utf8`,t+4,t+4+n-1):``},JT=function(e,t){if(!Buffer.isBuffer(e))return qT(e,t);var n=e.readUInt32LE(t);return n>0?e.toString(`utf8`,t+4,t+4+n-1):``},XT=function(e,t){if(!Buffer.isBuffer(e))return YT(e,t);var n=2*e.readUInt32LE(t);return e.toString(`utf16le`,t+4,t+4+n-1)},QT=function(e,t){if(!Buffer.isBuffer(e))return ZT(e,t);var n=e.readUInt32LE(t);return e.toString(`utf16le`,t+4,t+4+n)},eE=function(e,t){if(!Buffer.isBuffer(e))return $T(e,t);var n=e.readUInt32LE(t);return e.toString(`utf8`,t+4,t+4+n)},nE=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):tE(e,t)},rE=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<`u`&&e instanceof Uint8Array});function iE(){BT=function(e,t,n){return DS.utils.decode(1200,e.slice(t,n)).replace(WS,``)},WT=function(e,t,n){return DS.utils.decode(65001,e.slice(t,n))},KT=function(e,t){var n=cE(e,t);return n>0?DS.utils.decode(mS,e.slice(t+4,t+4+n-1)):``},JT=function(e,t){var n=cE(e,t);return n>0?DS.utils.decode(pS,e.slice(t+4,t+4+n-1)):``},XT=function(e,t){var n=2*cE(e,t);return n>0?DS.utils.decode(1200,e.slice(t+4,t+4+n-1)):``},QT=function(e,t){var n=cE(e,t);return n>0?DS.utils.decode(1200,e.slice(t+4,t+4+n)):``},eE=function(e,t){var n=cE(e,t);return n>0?DS.utils.decode(65001,e.slice(t+4,t+4+n)):``}}DS!==void 0&&iE();var aE=function(e,t){return e[t]},oE=function(e,t){return e[t+1]*256+e[t]},sE=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},cE=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},lE=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},uE=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function dE(e,t){var n=``,r,i,a=[],o,s,c,l;switch(t){case`dbcs`:if(l=this.l,NS&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString(`utf16le`);else for(c=0;c<e;++c)n+=String.fromCharCode(oE(this,l)),l+=2;e*=2;break;case`utf8`:n=WT(this,this.l,this.l+e);break;case`utf16le`:e*=2,n=BT(this,this.l,this.l+e);break;case`wstr`:if(DS!==void 0)n=DS.utils.decode(pS,this.slice(this.l,this.l+2*e));else return dE.call(this,e,`dbcs`);e=2*e;break;case`lpstr-ansi`:n=KT(this,this.l),e=4+cE(this,this.l);break;case`lpstr-cp`:n=JT(this,this.l),e=4+cE(this,this.l);break;case`lpwstr`:n=XT(this,this.l),e=4+2*cE(this,this.l);break;case`lpp4`:e=4+cE(this,this.l),n=QT(this,this.l),e&2&&(e+=2);break;case`8lpp4`:e=4+cE(this,this.l),n=eE(this,this.l),e&3&&(e+=4-(e&3));break;case`cstr`:for(e=0,n=``;(o=aE(this,this.l+ e++))!==0;)a.push(TS(o));n=a.join(``);break;case`_wstr`:for(e=0,n=``;(o=oE(this,this.l+e))!==0;)a.push(TS(o)),e+=2;e+=2,n=a.join(``);break;case`dbcs-cont`:for(n=``,l=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=aE(this,l),this.l=l+1,s=dE.call(this,e-c,o?`dbcs-cont`:`sbcs-cont`),a.join(``)+s;a.push(TS(oE(this,l))),l+=2}n=a.join(``),e*=2;break;case`cpstr`:if(DS!==void 0){n=DS.utils.decode(pS,this.slice(this.l,this.l+e));break}case`sbcs-cont`:for(n=``,l=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=aE(this,l),this.l=l+1,s=dE.call(this,e-c,o?`dbcs-cont`:`sbcs-cont`),a.join(``)+s;a.push(TS(aE(this,l))),l+=1}n=a.join(``);break;default:switch(e){case 1:return r=aE(this,this.l),this.l++,r;case 2:return r=(t===`i`?sE:oE)(this,this.l),this.l+=2,r;case 4:case-4:return t===`i`||!(this[this.l+3]&128)?(r=(e>0?lE:uE)(this,this.l),this.l+=4,r):(i=cE(this,this.l),this.l+=4,i);case 8:case-8:if(t===`f`)return i=e==8?nE(this,this.l):nE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=HT(this,this.l,e);break}}return this.l+=e,n}var fE=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},pE=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},mE=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function hE(e,t,n){var r=0,i=0;if(n===`dbcs`){for(i=0;i!=t.length;++i)mE(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n===`sbcs`){if(DS!==void 0&&mS==874)for(i=0;i!=t.length;++i){var a=DS.utils.encode(mS,t.charAt(i));this[this.l+i]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,`_`),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n===`hex`){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n===`utf16le`){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,fE(this,t,this.l);break;case 8:if(r=8,n===`f`){IT(this,t,this.l);break}case 16:break;case-4:r=4,pE(this,t,this.l);break}return this.l+=r,this}function gE(e,t){var n=HT(this,this.l,e.length>>1);if(n!==e)throw Error(t+`Expected `+e+` saw `+n);this.l+=e.length>>1}function _E(e,t){e.l=t,e.read_shift=dE,e.chk=gE,e.write_shift=hE}function vE(e,t){e.l+=t}function Y(e){var t=FS(e);return _E(t,0),t}function yE(e,t,n){if(e){var r,i,a;_E(e,e.l||0);for(var o=e.length,s=0,c=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var l=cB[s]||cB[65535];for(r=e.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=e.read_shift(1))&127)<<7*i;c=e.l+a;var u=l.f&&l.f(e,a,n);if(e.l=c,t(u,l,s))return}}}function bE(){var e=[],t=NS?256:2048,n=function(e){var t=Y(e);return _E(t,0),t},r=n(t),i=function(){r&&=(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),null)},a=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:a,push:function(e){i(),r=e,r.l??=r.length,a(t)},end:function(){return i(),HS(e)},_bufs:e}}function X(e,t,n,r){var i=+t,a;if(!isNaN(i)){r||=cB[i].p||(n||[]).length||0,a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var s=0;s!=4;++s)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&rE(n)&&e.push(n)}}function xE(e,t,n){var r=Dw(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function SE(e,t,n){var r=Dw(e);return r.s=xE(r.s,t.s,n),r.e=xE(r.e,t.s,n),r}function CE(e,t){if(e.cRel&&e.c<0)for(e=Dw(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Dw(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=FE(e);return!e.cRel&&e.cRel!=null&&(n=jE(n)),!e.rRel&&e.rRel!=null&&(n=DE(n)),n}function wE(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?``:`$`)+AE(e.s.c)+`:`+(e.e.cRel?``:`$`)+AE(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?``:`$`)+EE(e.s.r)+`:`+(e.e.rRel?``:`$`)+EE(e.e.r):CE(e.s,t.biff)+`:`+CE(e.e,t.biff)}function TE(e){return parseInt(OE(e),10)-1}function EE(e){return``+(e+1)}function DE(e){return e.replace(/([A-Z]|^)(\d+)$/,`$1$$$2`)}function OE(e){return e.replace(/\$(\d+)$/,`$1`)}function kE(e){for(var t=ME(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function AE(e){if(e<0)throw Error(`invalid column `+e);var t=``;for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jE(e){return e.replace(/^([A-Z])/,`$$$1`)}function ME(e){return e.replace(/^\$([A-Z])/,`$1`)}function NE(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,`$1,$2`).split(`,`)}function PE(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function FE(e){for(var t=e.c+1,n=``;t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function IE(e){var t=e.indexOf(`:`);return t==-1?{s:PE(e),e:PE(e)}:{s:PE(e.slice(0,t)),e:PE(e.slice(t+1))}}function LE(e,t){return t===void 0||typeof t==`number`?LE(e.s,e.e):(typeof e!=`string`&&(e=FE(e)),typeof t!=`string`&&(t=FE(t)),e==t?e:e+`:`+t)}function RE(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=e.length;for(n=0;r<a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function zE(e,t){var n=e.t==`d`&&t instanceof Date;if(e.z!=null)try{return e.w=XC(e.z,n?gw(t):t)}catch{}try{return e.w=XC((e.XF||{}).numFmtId||(n?14:0),n?gw(t):t)}catch{return``+t}}function BE(e,t,n){return e==null||e.t==null||e.t==`z`?``:e.w===void 0?(e.t==`d`&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t==`e`?GD[e.v]||e.v:t==null?zE(e,e.v):zE(e,t)):e.w}function VE(e,t){var n=t&&t.sheet?t.sheet:`Sheet1`,r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function HE(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;OS!=null&&i==null&&(i=OS);var a=e||(i?[]:{}),o=0,s=0;if(a&&r.origin!=null){if(typeof r.origin==`number`)o=r.origin;else{var c=typeof r.origin==`string`?PE(r.origin):r.origin;o=c.r,s=c.c}a[`!ref`]||=`A1:A1`}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a[`!ref`]){var u=RE(a[`!ref`]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),o==-1&&(l.e.r=o=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw Error(`aoa_to_sheet expects an array of arrays`);for(var f=0;f!=t[d].length;++f)if(t[d][f]!==void 0){var p={v:t[d][f]},m=o+d,h=s+f;if(l.s.r>m&&(l.s.r=m),l.s.c>h&&(l.s.c=h),l.e.r<m&&(l.e.r=m),l.e.c<h&&(l.e.c=h),t[d][f]&&typeof t[d][f]==`object`&&!Array.isArray(t[d][f])&&!(t[d][f]instanceof Date))p=t[d][f];else if(Array.isArray(p.v)&&(p.f=t[d][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t=`n`;else if(r.nullError)p.t=`e`,p.v=0;else if(r.sheetStubs)p.t=`z`;else continue;else typeof p.v==`number`?p.t=`n`:typeof p.v==`boolean`?p.t=`b`:p.v instanceof Date?(p.z=r.dateNF||iC[14],r.cellDates?(p.t=`d`,p.w=XC(p.z,gw(p.v))):(p.t=`n`,p.v=gw(p.v),p.w=XC(p.z,p.v))):p.t=`s`;if(i)a[m]||(a[m]=[]),a[m][h]&&a[m][h].z&&(p.z=a[m][h].z),a[m][h]=p;else{var g=FE({c:h,r:m});a[g]&&a[g].z&&(p.z=a[g].z),a[g]=p}}}return l.s.c<1e7&&(a[`!ref`]=LE(l)),a}function UE(e,t){return HE(null,e,t)}function WE(e){return e.read_shift(4,`i`)}function GE(e,t){return t||=Y(4),t.write_shift(4,e),t}function KE(e){var t=e.read_shift(4);return t===0?``:e.read_shift(t,`dbcs`)}function qE(e,t){var n=!1;return t??=(n=!0,Y(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,`dbcs`),n?t.slice(0,t.l):t}function JE(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function YE(e,t){return t||=Y(4),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function XE(e,t){var n=e.l,r=e.read_shift(1),i=KE(e),a=[],o={t:i,h:i};if(r&1){for(var s=e.read_shift(4),c=0;c!=s;++c)a.push(JE(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function ZE(e,t){var n=!1;return t??=(n=!0,Y(15+4*e.t.length)),t.write_shift(1,0),qE(e.t,t),n?t.slice(0,t.l):t}var QE=XE;function $E(e,t){var n=!1;return t??=(n=!0,Y(23+4*e.t.length)),t.write_shift(1,1),qE(e.t,t),t.write_shift(4,1),YE({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function eD(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function tD(e,t){return t??=Y(8),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function nD(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function rD(e,t){return t??=Y(4),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var iD=KE,aD=qE;function oD(e){var t=e.read_shift(4);return t===0||t===4294967295?``:e.read_shift(t,`dbcs`)}function sD(e,t){var n=!1;return t??=(n=!0,Y(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,`dbcs`),n?t.slice(0,t.l):t}var cD=KE,lD=oD,uD=sD;function dD(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?nE([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):lE(t,0)>>2;return n?i/100:i}function fD(e,t){t??=Y(4);var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw Error(`unsupported RkNumber `+e)}function pD(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function mD(e,t){return t||=Y(16),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var hD=pD,gD=mD;function _D(e){if(e.length-e.l<8)throw`XLS Xnum Buffer underflow`;return e.read_shift(8,`f`)}function vD(e,t){return(t||Y(8)).write_shift(8,e,`f`)}function yD(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,`i`),a=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var c=WD[r];c&&(t.rgb=_M(c));break;case 2:t.rgb=_M([a,o,s]);break;case 3:t.theme=r;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function bD(e,t){if(t||=Y(8),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index==null?e.theme==null?(t.write_shift(1,5),t.write_shift(1,0)):(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,2),t.write_shift(1,e.index));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||`FFFFFF`;typeof r==`number`&&(r=(`000000`+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function xD(e){var t=e.read_shift(1);return e.l++,{fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128}}function SD(e,t){t||=Y(2);var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function CD(e,t){var n={2:`BITMAP`,3:`METAFILEPICT`,8:`DIB`,14:`ENHMETAFILE`},r=e.read_shift(4);switch(r){case 0:return``;case 4294967295:case 4294967294:return n[e.read_shift(4)]||``}if(r>400)throw Error(`Unsupported Clipboard: `+r.toString(16));return e.l-=4,e.read_shift(0,t==1?`lpstr`:`lpwstr`)}function wD(e){return CD(e,1)}function TD(e){return CD(e,2)}var ED=2,DD=3,OD=11,kD=12,AD=19,jD=64,MD=65,ND=71,PD=4108,FD=4126,ID=80,LD=81,RD=[ID,LD],zD={1:{n:`CodePage`,t:ED},2:{n:`Category`,t:ID},3:{n:`PresentationFormat`,t:ID},4:{n:`ByteCount`,t:DD},5:{n:`LineCount`,t:DD},6:{n:`ParagraphCount`,t:DD},7:{n:`SlideCount`,t:DD},8:{n:`NoteCount`,t:DD},9:{n:`HiddenCount`,t:DD},10:{n:`MultimediaClipCount`,t:DD},11:{n:`ScaleCrop`,t:OD},12:{n:`HeadingPairs`,t:PD},13:{n:`TitlesOfParts`,t:FD},14:{n:`Manager`,t:ID},15:{n:`Company`,t:ID},16:{n:`LinksUpToDate`,t:OD},17:{n:`CharacterCount`,t:DD},19:{n:`SharedDoc`,t:OD},22:{n:`HyperlinksChanged`,t:OD},23:{n:`AppVersion`,t:DD,p:`version`},24:{n:`DigSig`,t:MD},26:{n:`ContentType`,t:ID},27:{n:`ContentStatus`,t:ID},28:{n:`Language`,t:ID},29:{n:`Version`,t:ID},255:{},2147483648:{n:`Locale`,t:AD},2147483651:{n:`Behavior`,t:AD},1919054434:{}},BD={1:{n:`CodePage`,t:ED},2:{n:`Title`,t:ID},3:{n:`Subject`,t:ID},4:{n:`Author`,t:ID},5:{n:`Keywords`,t:ID},6:{n:`Comments`,t:ID},7:{n:`Template`,t:ID},8:{n:`LastAuthor`,t:ID},9:{n:`RevNumber`,t:ID},10:{n:`EditTime`,t:jD},11:{n:`LastPrinted`,t:jD},12:{n:`CreatedDate`,t:jD},13:{n:`ModifiedDate`,t:jD},14:{n:`PageCount`,t:DD},15:{n:`WordCount`,t:DD},16:{n:`CharCount`,t:DD},17:{n:`Thumbnail`,t:ND},18:{n:`Application`,t:ID},19:{n:`DocSecurity`,t:DD},255:{},2147483648:{n:`Locale`,t:AD},2147483651:{n:`Behavior`,t:AD},1919054434:{}},VD={1:`US`,2:`CA`,3:``,7:`RU`,20:`EG`,30:`GR`,31:`NL`,32:`BE`,33:`FR`,34:`ES`,36:`HU`,39:`IT`,41:`CH`,43:`AT`,44:`GB`,45:`DK`,46:`SE`,47:`NO`,48:`PL`,49:`DE`,52:`MX`,55:`BR`,61:`AU`,64:`NZ`,66:`TH`,81:`JP`,82:`KR`,84:`VN`,86:`CN`,90:`TR`,105:`JS`,213:`DZ`,216:`MA`,218:`LY`,351:`PT`,354:`IS`,358:`FI`,420:`CZ`,886:`TW`,961:`LB`,962:`JO`,963:`SY`,964:`IQ`,965:`KW`,966:`SA`,971:`AE`,972:`IL`,974:`QA`,981:`IR`,65535:`US`},HD=[null,`solid`,`mediumGray`,`darkGray`,`lightGray`,`darkHorizontal`,`darkVertical`,`darkDown`,`darkUp`,`darkGrid`,`darkTrellis`,`lightHorizontal`,`lightVertical`,`lightDown`,`lightUp`,`lightGrid`,`lightTrellis`,`gray125`,`gray0625`];function UD(e){return e.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var WD=Dw(UD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),GD={0:`#NULL!`,7:`#DIV/0!`,15:`#VALUE!`,23:`#REF!`,29:`#NAME?`,36:`#NUM!`,42:`#N/A`,43:`#GETTING_DATA`,255:`#WTF?`},KD={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},qD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":`workbooks`,"application/vnd.ms-excel.sheet.macroEnabled.main+xml":`workbooks`,"application/vnd.ms-excel.sheet.binary.macroEnabled.main":`workbooks`,"application/vnd.ms-excel.addin.macroEnabled.main+xml":`workbooks`,"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":`workbooks`,"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":`sheets`,"application/vnd.ms-excel.worksheet":`sheets`,"application/vnd.ms-excel.binIndexWs":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":`charts`,"application/vnd.ms-excel.chartsheet":`charts`,"application/vnd.ms-excel.macrosheet+xml":`macros`,"application/vnd.ms-excel.macrosheet":`macros`,"application/vnd.ms-excel.intlmacrosheet":`TODO`,"application/vnd.ms-excel.binIndexMs":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":`dialogs`,"application/vnd.ms-excel.dialogsheet":`dialogs`,"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":`strs`,"application/vnd.ms-excel.sharedStrings":`strs`,"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":`styles`,"application/vnd.ms-excel.styles":`styles`,"application/vnd.openxmlformats-package.core-properties+xml":`coreprops`,"application/vnd.openxmlformats-officedocument.custom-properties+xml":`custprops`,"application/vnd.openxmlformats-officedocument.extended-properties+xml":`extprops`,"application/vnd.openxmlformats-officedocument.customXmlProperties+xml":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":`comments`,"application/vnd.ms-excel.comments":`comments`,"application/vnd.ms-excel.threadedcomments+xml":`threadedcomments`,"application/vnd.ms-excel.person+xml":`people`,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":`metadata`,"application/vnd.ms-excel.sheetMetadata":`metadata`,"application/vnd.ms-excel.pivotTable":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":`TODO`,"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":`TODO`,"application/vnd.ms-office.chartcolorstyle+xml":`TODO`,"application/vnd.ms-office.chartstyle+xml":`TODO`,"application/vnd.ms-office.chartex+xml":`TODO`,"application/vnd.ms-excel.calcChain":`calcchains`,"application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":`calcchains`,"application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":`TODO`,"application/vnd.ms-office.activeX":`TODO`,"application/vnd.ms-office.activeX+xml":`TODO`,"application/vnd.ms-excel.attachedToolbars":`TODO`,"application/vnd.ms-excel.connections":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":`TODO`,"application/vnd.ms-excel.externalLink":`links`,"application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":`links`,"application/vnd.ms-excel.pivotCacheDefinition":`TODO`,"application/vnd.ms-excel.pivotCacheRecords":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":`TODO`,"application/vnd.ms-excel.queryTable":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":`TODO`,"application/vnd.ms-excel.userNames":`TODO`,"application/vnd.ms-excel.revisionHeaders":`TODO`,"application/vnd.ms-excel.revisionLog":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":`TODO`,"application/vnd.ms-excel.tableSingleCells":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":`TODO`,"application/vnd.ms-excel.slicer":`TODO`,"application/vnd.ms-excel.slicerCache":`TODO`,"application/vnd.ms-excel.slicer+xml":`TODO`,"application/vnd.ms-excel.slicerCache+xml":`TODO`,"application/vnd.ms-excel.wsSortMap":`TODO`,"application/vnd.ms-excel.table":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":`TODO`,"application/vnd.openxmlformats-officedocument.theme+xml":`themes`,"application/vnd.openxmlformats-officedocument.themeOverride+xml":`TODO`,"application/vnd.ms-excel.Timeline+xml":`TODO`,"application/vnd.ms-excel.TimelineCache+xml":`TODO`,"application/vnd.ms-office.vbaProject":`vba`,"application/vnd.ms-office.vbaProjectSignature":`TODO`,"application/vnd.ms-office.volatileDependencies":`TODO`,"application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":`TODO`,"application/vnd.ms-excel.controlproperties+xml":`TODO`,"application/vnd.openxmlformats-officedocument.model+data":`TODO`,"application/vnd.ms-excel.Survey+xml":`TODO`,"application/vnd.openxmlformats-officedocument.drawing+xml":`drawings`,"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":`TODO`,"application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":`TODO`,"application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":`TODO`,"application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":`TODO`,"application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":`TODO`,"application/vnd.openxmlformats-officedocument.vmlDrawing":`TODO`,"application/vnd.openxmlformats-package.relationships+xml":`rels`,"application/vnd.openxmlformats-officedocument.oleObject":`TODO`,"image/png":`TODO`,sheet:`js`},JD={workbooks:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml`,xlsm:`application/vnd.ms-excel.sheet.macroEnabled.main+xml`,xlsb:`application/vnd.ms-excel.sheet.binary.macroEnabled.main`,xlam:`application/vnd.ms-excel.addin.macroEnabled.main+xml`,xltx:`application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml`},strs:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml`,xlsb:`application/vnd.ms-excel.sharedStrings`},comments:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml`,xlsb:`application/vnd.ms-excel.comments`},sheets:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml`,xlsb:`application/vnd.ms-excel.worksheet`},charts:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml`,xlsb:`application/vnd.ms-excel.chartsheet`},dialogs:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml`,xlsb:`application/vnd.ms-excel.dialogsheet`},macros:{xlsx:`application/vnd.ms-excel.macrosheet+xml`,xlsb:`application/vnd.ms-excel.macrosheet`},metadata:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml`,xlsb:`application/vnd.ms-excel.sheetMetadata`},styles:{xlsx:`application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml`,xlsb:`application/vnd.ms-excel.styles`}};function YD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:``}}function XD(e){var t=YD();if(!e||!e.match)return t;var n={};if((e.match(Yw)||[]).forEach(function(e){var r=Qw(e);switch(r[0].replace(Xw,`<`)){case`<?xml`:break;case`<Types`:t.xmlns=r[`xmlns`+(r[0].match(/<(\w+):/)||[``,``])[1]];break;case`<Default`:n[r.Extension]=r.ContentType;break;case`<Override`:t[qD[r.ContentType]]!==void 0&&t[qD[r.ContentType]].push(r.PartName);break}}),t.xmlns!==MT.CT)throw Error(`Unknown Namespace: `+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:``,t.sst=t.strs.length>0?t.strs[0]:``,t.style=t.styles.length>0?t.styles[0]:``,t.defaults=n,delete t.calcchains,t}function ZD(e,t){var n=mw(qD),r=[],i;r[r.length]=Kw,r[r.length]=J(`Types`,null,{xmlns:MT.CT,"xmlns:xsd":MT.xsd,"xmlns:xsi":MT.xsi}),r=r.concat([[`xml`,`application/xml`],[`bin`,`application/vnd.ms-excel.sheet.binary.macroEnabled.main`],[`vml`,`application/vnd.openxmlformats-officedocument.vmlDrawing`],[`data`,`application/vnd.openxmlformats-officedocument.model+data`],[`bmp`,`image/bmp`],[`png`,`image/png`],[`gif`,`image/gif`],[`emf`,`image/x-emf`],[`wmf`,`image/x-wmf`],[`jpg`,`image/jpeg`],[`jpeg`,`image/jpeg`],[`tif`,`image/tiff`],[`tiff`,`image/tiff`],[`pdf`,`application/pdf`],[`rels`,`application/vnd.openxmlformats-package.relationships+xml`]].map(function(e){return J(`Default`,null,{Extension:e[0],ContentType:e[1]})}));var a=function(n){e[n]&&e[n].length>0&&(i=e[n][0],r[r.length]=J(`Override`,null,{PartName:(i[0]==`/`?``:`/`)+i,ContentType:JD[n][t.bookType]||JD[n].xlsx}))},o=function(n){(e[n]||[]).forEach(function(e){r[r.length]=J(`Override`,null,{PartName:(e[0]==`/`?``:`/`)+e,ContentType:JD[n][t.bookType]||JD[n].xlsx})})},s=function(t){(e[t]||[]).forEach(function(e){r[r.length]=J(`Override`,null,{PartName:(e[0]==`/`?``:`/`)+e,ContentType:n[t][0]})})};return a(`workbooks`),o(`sheets`),o(`charts`),s(`themes`),[`strs`,`styles`].forEach(a),[`coreprops`,`extprops`,`custprops`].forEach(s),s(`vba`),s(`comments`),s(`threadedcomments`),s(`drawings`),o(`metadata`),s(`people`),r.length>2&&(r[r.length]=`</Types>`,r[1]=r[1].replace(`/>`,`>`)),r.join(``)}var QD={WB:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument`,SHEET:`http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument`,HLINK:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink`,VML:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing`,XPATH:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath`,XMISS:`http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing`,XLINK:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink`,CXML:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml`,CXMLP:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps`,CMNT:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments`,CORE_PROPS:`http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties`,EXT_PROPS:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties`,CUST_PROPS:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties`,SST:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings`,STY:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles`,THEME:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme`,CHART:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart`,CHARTEX:`http://schemas.microsoft.com/office/2014/relationships/chartEx`,CS:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet`,WS:[`http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet`,`http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet`],DS:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet`,MS:`http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet`,IMG:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/image`,DRAW:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing`,XLMETA:`http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata`,TCMNT:`http://schemas.microsoft.com/office/2017/10/relationships/threadedComment`,PEOPLE:`http://schemas.microsoft.com/office/2017/10/relationships/person`,VBA:`http://schemas.microsoft.com/office/2006/relationships/vbaProject`};function $D(e){var t=e.lastIndexOf(`/`);return e.slice(0,t+1)+`_rels/`+e.slice(t+1)+`.rels`}function eO(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!==`/`&&(t=`/`+t);var r={};return(e.match(Yw)||[]).forEach(function(e){var i=Qw(e);if(i[0]===`<Relationship`){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var o=i.TargetMode===`External`?i.Target:Gw(i.Target,t);n[o]=a,r[i.Id]=a}}),n[`!id`]=r,n}function tO(e){var t=[Kw,J(`Relationships`,null,{xmlns:MT.RELS})];return uw(e[`!id`]).forEach(function(n){t[t.length]=J(`Relationship`,null,e[`!id`][n])}),t.length>2&&(t[t.length]=`</Relationships>`,t[1]=t[1].replace(`/>`,`>`)),t.join(``)}function nO(e,t,n,r,i,a){if(i||={},e[`!id`]||={},e[`!idx`]||=1,t<0)for(t=e[`!idx`];e[`!id`][`rId`+t];++t);if(e[`!idx`]=t+1,i.Id=`rId`+t,i.Type=r,i.Target=n,a?i.TargetMode=a:[QD.HLINK,QD.XPATH,QD.XMISS].indexOf(i.Type)>-1&&(i.TargetMode=`External`),e[`!id`][i.Id])throw Error(`Cannot rewrite rId `+t);return e[`!id`][i.Id]=i,e[(`/`+i.Target).replace(`//`,`/`)]=i,t}var rO=`application/vnd.oasis.opendocument.spreadsheet`;function iO(e,t){for(var n=AT(e),r,i;r=jT.exec(n);)switch(r[3]){case`manifest`:break;case`file-entry`:if(i=Qw(r[0],!1),i.path==`/`&&i.type!==rO)throw Error(`This OpenDocument is not a spreadsheet`);break;case`encryption-data`:case`algorithm`:case`start-key-generation`:case`key-derivation`:throw Error(`Unsupported ODS Encryption`);default:if(t&&t.WTF)throw r}}function aO(e){var t=[Kw];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push(`  <manifest:file-entry manifest:full-path="`+e[n][0]+`" manifest:media-type="`+e[n][1]+`"/>
`);return t.push(`</manifest:manifest>`),t.join(``)}function oO(e,t,n){return[`  <rdf:Description rdf:about="`+e+`">
`,`    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/`+(n||`odf`)+`#`+t+`"/>
`,`  </rdf:Description>
`].join(``)}function sO(e,t){return[`  <rdf:Description rdf:about="`+e+`">
`,`    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="`+t+`"/>
`,`  </rdf:Description>
`].join(``)}function cO(e){var t=[Kw];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(oO(e[n][0],e[n][1])),t.push(sO(``,e[n][0]));return t.push(oO(``,`Document`,`pkg`)),t.push(`</rdf:RDF>`),t.join(``)}function lO(){return`<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS `+fS.version+`</meta:generator></office:meta></office:document-meta>`}var uO=[[`cp:category`,`Category`],[`cp:contentStatus`,`ContentStatus`],[`cp:keywords`,`Keywords`],[`cp:lastModifiedBy`,`LastAuthor`],[`cp:lastPrinted`,`LastPrinted`],[`cp:revision`,`RevNumber`],[`cp:version`,`Version`],[`dc:creator`,`Author`],[`dc:description`,`Comments`],[`dc:identifier`,`Identifier`],[`dc:language`,`Language`],[`dc:subject`,`Subject`],[`dc:title`,`Title`],[`dcterms:created`,`CreatedDate`,`date`],[`dcterms:modified`,`ModifiedDate`,`date`]],dO=(function(){for(var e=Array(uO.length),t=0;t<uO.length;++t){var n=uO[t],r=`(?:`+n[0].slice(0,n[0].indexOf(`:`))+`:)`+n[0].slice(n[0].indexOf(`:`)+1);e[t]=RegExp(`<`+r+`[^>]*>([\\s\\S]*?)</`+r+`>`)}return e})();function fO(e){var t={};e=_T(e);for(var n=0;n<uO.length;++n){var r=uO[n],i=e.match(dO[n]);i!=null&&i.length>0&&(t[r[1]]=nT(i[1])),r[2]===`date`&&t[r[1]]&&(t[r[1]]=Tw(t[r[1]]))}return t}function pO(e,t,n,r,i){i[e]!=null||t==null||t===``||(i[e]=t,t=aT(t),r[r.length]=n?J(e,t,n):ET(e,t))}function mO(e,t){var n=t||{},r=[Kw,J(`cp:coreProperties`,null,{"xmlns:cp":MT.CORE_PROPS,"xmlns:dc":MT.dc,"xmlns:dcterms":MT.dcterms,"xmlns:dcmitype":MT.dcmitype,"xmlns:xsi":MT.xsi})],i={};if(!e&&!n.Props)return r.join(``);e&&(e.CreatedDate!=null&&pO(`dcterms:created`,typeof e.CreatedDate==`string`?e.CreatedDate:OT(e.CreatedDate,n.WTF),{"xsi:type":`dcterms:W3CDTF`},r,i),e.ModifiedDate!=null&&pO(`dcterms:modified`,typeof e.ModifiedDate==`string`?e.ModifiedDate:OT(e.ModifiedDate,n.WTF),{"xsi:type":`dcterms:W3CDTF`},r,i));for(var a=0;a!=uO.length;++a){var o=uO[a],s=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;s===!0?s=`1`:s===!1?s=`0`:typeof s==`number`&&(s=String(s)),s!=null&&pO(o[0],s,null,r,i)}return r.length>2&&(r[r.length]=`</cp:coreProperties>`,r[1]=r[1].replace(`/>`,`>`)),r.join(``)}var hO=[[`Application`,`Application`,`string`],[`AppVersion`,`AppVersion`,`string`],[`Company`,`Company`,`string`],[`DocSecurity`,`DocSecurity`,`string`],[`Manager`,`Manager`,`string`],[`HyperlinksChanged`,`HyperlinksChanged`,`bool`],[`SharedDoc`,`SharedDoc`,`bool`],[`LinksUpToDate`,`LinksUpToDate`,`bool`],[`ScaleCrop`,`ScaleCrop`,`bool`],[`HeadingPairs`,`HeadingPairs`,`raw`],[`TitlesOfParts`,`TitlesOfParts`,`raw`]],gO=[`Worksheets`,`SheetNames`,`NamedRanges`,`DefinedNames`,`Chartsheets`,`ChartNames`];function _O(e,t,n,r){var i=[];if(typeof e==`string`)i=wT(e,r);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(e){return{v:e}}));var o=typeof t==`string`?wT(t,r).map(function(e){return e.v}):t,s=0,c=0;if(o.length>0)for(var l=0;l!==i.length;l+=2){switch(c=+i[l+1].v,i[l].v){case`Worksheets`:case``:case``:case` `:case``:case` `:case`Arbeitsbltter`:case`alma Sayfalar`:case`Feuilles de calcul`:case`Fogli di lavoro`:case`Folhas de clculo`:case`Planilhas`:case`Regneark`:case`Hojas de clculo`:case`Werkbladen`:n.Worksheets=c,n.SheetNames=o.slice(s,s+c);break;case`Named Ranges`:case`Rangos con nombre`:case``:case`Benannte Bereiche`:case`Navngivne omrder`:n.NamedRanges=c,n.DefinedNames=o.slice(s,s+c);break;case`Charts`:case`Diagramme`:n.Chartsheets=c,n.ChartNames=o.slice(s,s+c);break}s+=c}}function vO(e,t,n){var r={};return t||={},e=_T(e),hO.forEach(function(n){var i=(e.match(yT(n[0]))||[])[1];switch(n[2]){case`string`:i&&(t[n[1]]=nT(i));break;case`bool`:t[n[1]]=i===`true`;break;case`raw`:var a=e.match(RegExp(`<`+n[0]+`[^>]*>([\\s\\S]*?)</`+n[0]+`>`));a&&a.length>0&&(r[n[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&_O(r.HeadingPairs,r.TitlesOfParts,t,n),t}function yO(e){var t=[],n=J;return e||={},e.Application=`SheetJS`,t[t.length]=Kw,t[t.length]=J(`Properties`,null,{xmlns:MT.EXT_PROPS,"xmlns:vt":MT.vt}),hO.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case`string`:i=aT(String(e[r[1]]));break;case`bool`:i=e[r[1]]?`true`:`false`;break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n(`HeadingPairs`,n(`vt:vector`,n(`vt:variant`,`<vt:lpstr>Worksheets</vt:lpstr>`)+n(`vt:variant`,n(`vt:i4`,String(e.Worksheets))),{size:2,baseType:`variant`})),t[t.length]=n(`TitlesOfParts`,n(`vt:vector`,e.SheetNames.map(function(e){return`<vt:lpstr>`+aT(e)+`</vt:lpstr>`}).join(``),{size:e.Worksheets,baseType:`lpstr`})),t.length>2&&(t[t.length]=`</Properties>`,t[1]=t[1].replace(`/>`,`>`)),t.join(``)}var bO=/<[^>]+>[^<]*/g;function xO(e,t){var n={},r=``,i=e.match(bO);if(i)for(var a=0;a!=i.length;++a){var o=i[a],s=Qw(o);switch(s[0]){case`<?xml`:break;case`<Properties`:break;case`<property`:r=nT(s.name);break;case`</property>`:r=null;break;default:if(o.indexOf(`<vt:`)===0){var c=o.split(`>`),l=c[0].slice(4),u=c[1];switch(l){case`lpstr`:case`bstr`:case`lpwstr`:n[r]=nT(u);break;case`bool`:n[r]=fT(u);break;case`i1`:case`i2`:case`i4`:case`i8`:case`int`:case`uint`:n[r]=parseInt(u,10);break;case`r4`:case`r8`:case`decimal`:n[r]=parseFloat(u);break;case`filetime`:case`date`:n[r]=Tw(u);break;case`cy`:case`error`:n[r]=nT(u);break;default:if(l.slice(-1)==`/`)break;t.WTF&&typeof console<`u`&&console.warn(`Unexpected`,o,l,c)}}else if(o.slice(0,2)!==`</`&&t.WTF)throw Error(o)}}return n}function SO(e){var t=[Kw,J(`Properties`,null,{xmlns:MT.CUST_PROPS,"xmlns:vt":MT.vt})];if(!e)return t.join(``);var n=1;return uw(e).forEach(function(r){++n,t[t.length]=J(`property`,kT(e[r],!0),{fmtid:`{D5CDD505-2E9C-101B-9397-08002B2CF9AE}`,pid:n,name:aT(r)})}),t.length>2&&(t[t.length]=`</Properties>`,t[1]=t[1].replace(`/>`,`>`)),t.join(``)}var CO={Title:`Title`,Subject:`Subject`,Author:`Author`,Keywords:`Keywords`,Comments:`Description`,LastAuthor:`LastAuthor`,RevNumber:`Revision`,Application:`AppName`,LastPrinted:`LastPrinted`,CreatedDate:`Created`,ModifiedDate:`LastSaved`,Category:`Category`,Manager:`Manager`,Company:`Company`,AppVersion:`Version`,ContentStatus:`ContentStatus`,Identifier:`Identifier`,Language:`Language`},wO;function TO(e,t,n){wO||=fw(CO),t=wO[t]||t,e[t]=n}function EO(e,t){var n=[];return uw(CO).map(function(e){for(var t=0;t<uO.length;++t)if(uO[t][1]==e)return uO[t];for(t=0;t<hO.length;++t)if(hO[t][1]==e)return hO[t];throw e}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case`date`:i=new Date(i).toISOString().replace(/\.\d*Z/,`Z`);break}typeof i==`number`?i=String(i):i===!0||i===!1?i=i?`1`:`0`:i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,``)),n.push(ET(CO[r[1]]||r[1],i))}}),J(`DocumentProperties`,n.join(``),{xmlns:PT.o})}function DO(e,t){var n=[`Worksheets`,`SheetNames`],r=`CustomDocumentProperties`,i=[];return e&&uw(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<uO.length;++r)if(t==uO[r][1])return;for(r=0;r<hO.length;++r)if(t==hO[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var a=e[t],o=`string`;typeof a==`number`?(o=`float`,a=String(a)):a===!0||a===!1?(o=`boolean`,a=a?`1`:`0`):a=String(a),i.push(J(oT(t),a,{"dt:dt":o}))}}),t&&uw(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&!(e&&Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],a=`string`;typeof r==`number`?(a=`float`,r=String(r)):r===!0||r===!1?(a=`boolean`,r=r?`1`:`0`):r instanceof Date?(a=`dateTime.tz`,r=r.toISOString()):r=String(r),i.push(J(oT(n),r,{"dt:dt":a}))}}),`<`+r+` xmlns="`+PT.o+`">`+i.join(``)+`</`+r+`>`}function OO(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*2**32+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,``)}function kO(e){var t=(typeof e==`string`?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%2**32,r=(t-n)/2**32;n*=1e7,r*=1e7;var i=n/2**32|0;i>0&&(n%=2**32,r+=i);var a=Y(8);return a.write_shift(4,n),a.write_shift(4,r),a}function AO(e,t,n){var r=e.l,i=e.read_shift(0,`lpstr-cp`);if(n)for(;e.l-r&3;)++e.l;return i}function jO(e,t,n){var r=e.read_shift(0,`lpwstr`);return n&&(e.l+=4-(r.length+1&3)&3),r}function MO(e,t,n){return t===31?jO(e):AO(e,t,n)}function NO(e,t,n){return MO(e,t,n===!1?0:4)}function PO(e,t){if(!t)throw Error(`VtUnalignedString must have positive length`);return MO(e,t,0)}function FO(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,`lpwstr`).replace(WS,``),e.l-i&2&&(e.l+=2)}return n}function IO(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,`lpstr-cp`).replace(WS,``);return n}function LO(e){var t=e.l,n=HO(e,LD);return e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2),[n,HO(e,DD)]}function RO(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(LO(e));return n}function zO(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var a=e.read_shift(4),o=e.read_shift(4);r[a]=e.read_shift(o,t===1200?`utf16le`:`utf8`).replace(WS,``).replace(GS,`!`),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function BO(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function VO(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function HO(e,t,n){var r=e.read_shift(2),i,a=n||{};if(e.l+=2,t!==kD&&r!==t&&RD.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw Error(`Expected type `+t+` saw `+r);switch(t===kD?r:t){case 2:return i=e.read_shift(2,`i`),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,`i`),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return AO(e,r,4).replace(WS,``);case 31:return jO(e);case 64:return OO(e);case 65:return BO(e);case 71:return VO(e);case 80:return NO(e,r,!a.raw).replace(WS,``);case 81:return PO(e,r).replace(WS,``);case 4108:return RO(e);case 4126:case 4127:return r==4127?FO(e):IO(e);default:throw Error(`TypedPropertyValue unrecognized type `+t+` `+r)}}function UO(e,t){var n=Y(4),r=Y(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Y(8),r.write_shift(8,t,`f`);break;case 11:r.write_shift(4,t?1:0);break;case 64:r=kO(t);break;case 31:case 80:for(r=Y(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,`dbcs`);r.l!=r.length;)r.write_shift(1,0);break;default:throw Error(`TypedPropertyValue unrecognized type `+e+` `+t)}return HS([n,r])}function WO(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),a=[],o=0,s=0,c=-1,l={};for(o=0;o!=i;++o)a[o]=[e.read_shift(4),e.read_shift(4)+n];a.sort(function(e,t){return e[1]-t[1]});var u={};for(o=0;o!=i;++o){if(e.l!==a[o][1]){var d=!0;if(o>0&&t)switch(t[a[o-1][0]].t){case 2:e.l+2===a[o][1]&&(e.l+=2,d=!1);break;case 80:e.l<=a[o][1]&&(e.l=a[o][1],d=!1);break;case 4108:e.l<=a[o][1]&&(e.l=a[o][1],d=!1);break}if((!t||o==0)&&e.l<=a[o][1]&&(d=!1,e.l=a[o][1]),d)throw Error(`Read Error: Expected address `+a[o][1]+` at `+e.l+` :`+o)}if(t){var f=t[a[o][0]];if(u[f.n]=HO(e,f.t,{raw:!0}),f.p===`version`&&(u[f.n]=String(u[f.n]>>16)+`.`+(`0000`+String(u[f.n]&65535)).slice(-4)),f.n==`CodePage`)switch(u[f.n]){case 0:u[f.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yS(s=u[f.n]>>>0&65535);break;default:throw Error(`Unsupported CodePage: `+u[f.n])}}else if(a[o][0]===1){if(s=u.CodePage=HO(e,ED),yS(s),c!==-1){var p=e.l;e.l=a[c][1],l=zO(e,s),e.l=p}}else if(a[o][0]===0){if(s===0){c=o,e.l=a[o+1][1];continue}l=zO(e,s)}else{var m=l[a[o][0]],h;switch(e[e.l]){case 65:e.l+=4,h=BO(e);break;case 30:e.l+=4,h=NO(e,e[e.l-4]).replace(/\u0000+$/,``);break;case 31:e.l+=4,h=NO(e,e[e.l-4]).replace(/\u0000+$/,``);break;case 3:e.l+=4,h=e.read_shift(4,`i`);break;case 19:e.l+=4,h=e.read_shift(4);break;case 5:e.l+=4,h=e.read_shift(8,`f`);break;case 11:e.l+=4,h=$O(e,4);break;case 64:e.l+=4,h=Tw(OO(e));break;default:throw Error(`unparsed value: `+e[e.l])}u[m]=h}}return e.l=n+r,u}var GO=[`CodePage`,`Thumbnail`,`_PID_LINKBASE`,`_PID_HLINKS`,`SystemIdentifier`,`FMTID`];function KO(e){switch(typeof e){case`boolean`:return 11;case`number`:return(e|0)==e?3:5;case`string`:return 31;case`object`:if(e instanceof Date)return 64;break}return-1}function qO(e,t,n){var r=Y(8),i=[],a=[],o=8,s=0,c=Y(8),l=Y(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),a.push(c),i.push(l),o+=8+c.length,!t){l=Y(8),l.write_shift(4,0),i.unshift(l);var u=[Y(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for(c=Y(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,s+2),c.write_shift(4,d.length+1),c.write_shift(0,d,`dbcs`);c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=HS(u),a.unshift(c),o+=8+c.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(GO.indexOf(e[s][0])>-1||gO.indexOf(e[s][0])>-1)&&e[s][1]!=null){var f=e[s][1],p=0;if(t){p=+t[e[s][0]];var m=n[p];if(m.p==`version`&&typeof f==`string`){var h=f.split(`.`);f=(h[0]<<16)+(+h[1]||0)}c=UO(m.t,f)}else{var g=KO(f);g==-1&&(g=31,f=String(f)),c=UO(g,f)}a.push(c),l=Y(8),l.write_shift(4,t?p:2+s),i.push(l),o+=8+c.length}var _=8*(a.length+1);for(s=0;s<a.length;++s)i[s].write_shift(4,_),_+=a[s].length;return r.write_shift(4,o),r.write_shift(4,a.length),HS([r].concat(i,a))}function JO(e,t,n){var r=e.content;if(!r)return{};_E(r,0);var i,a,o,s,c=0;r.chk(`feff`,`Byte Order: `),r.read_shift(2);var l=r.read_shift(4),u=r.read_shift(16);if(u!==aw.utils.consts.HEADER_CLSID&&u!==n)throw Error(`Bad PropertySet CLSID `+u);if(i=r.read_shift(4),i!==1&&i!==2)throw Error(`Unrecognized #Sets: `+i);if(a=r.read_shift(16),s=r.read_shift(4),i===1&&s!==r.l)throw Error(`Length mismatch: `+s+` !== `+r.l);i===2&&(o=r.read_shift(16),c=r.read_shift(4));var d=WO(r,t),f={SystemIdentifier:l};for(var p in d)f[p]=d[p];if(f.FMTID=a,i===1)return f;if(c-r.l==2&&(r.l+=2),r.l!==c)throw Error(`Length mismatch 2: `+r.l+` !== `+c);var m;try{m=WO(r,null)}catch{}for(p in m)f[p]=m[p];return f.FMTID=[a,o],f}function YO(e,t,n,r,i,a){var o=Y(i?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,aw.utils.consts.HEADER_CLSID,`hex`),o.write_shift(4,i?2:1),o.write_shift(16,t,`hex`),o.write_shift(4,i?68:48);var c=qO(e,n,r);if(s.push(c),i){var l=qO(i,null,null);o.write_shift(16,a,`hex`),o.write_shift(4,68+c.length),s.push(l)}return HS(s)}function XO(e,t){return e.read_shift(t),null}function ZO(e,t){t||=Y(e);for(var n=0;n<e;++n)t.write_shift(1,0);return t}function QO(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw Error(`Slurp error`);return r}function $O(e,t){return e.read_shift(t)===1}function ek(e,t){return t||=Y(2),t.write_shift(2,+!!e),t}function tk(e){return e.read_shift(2,`u`)}function nk(e,t){return t||=Y(2),t.write_shift(2,e),t}function rk(e,t){return QO(e,t,tk)}function ik(e){var t=e.read_shift(1);return e.read_shift(1)===1?t:t===1}function ak(e,t,n){return n||=Y(2),n.write_shift(1,t==`e`?+e:+!!e),n.write_shift(1,t==`e`?1:0),n}function ok(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i=`sbcs-cont`,a=pS;n&&n.biff>=8&&(pS=1200),!n||n.biff==8?e.read_shift(1)&&(i=`dbcs-cont`):n.biff==12&&(i=`wstr`),n.biff>=2&&n.biff<=5&&(i=`cpstr`);var o=r?e.read_shift(r,i):``;return pS=a,o}function sk(e){var t=pS;pS=1200;var n=e.read_shift(2),r=e.read_shift(1),i=r&4,a=r&8,o=1+(r&1),s=0,c,l={};a&&(s=e.read_shift(2)),i&&(c=e.read_shift(4));var u=o==2?`dbcs-cont`:`sbcs-cont`,d=n===0?``:e.read_shift(n,u);return a&&(e.l+=4*s),i&&(e.l+=c),l.t=d,a||(l.raw=`<t>`+l.t+`</t>`,l.r=l.t),pS=t,l}function ck(e){var t=e.t||``,n=1,r=Y(3+(n>1?2:0));r.write_shift(2,t.length),r.write_shift(1,(n>1?8:0)|1),n>1&&r.write_shift(2,n);var i=Y(2*t.length);return i.write_shift(2*t.length,t,`utf16le`),HS([r,i])}function lk(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,`cpstr`);if(n.biff>=12)return e.read_shift(t,`dbcs-cont`)}return r=e.read_shift(1)===0?e.read_shift(t,`sbcs-cont`):e.read_shift(t,`dbcs-cont`),r}function uk(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,``):lk(e,r,n)}function dk(e,t,n){if(n.biff>5)return uk(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,``):e.read_shift(r,n.biff<=4||!e.lens?`cpstr`:`sbcs-cont`)}function fk(e,t,n){return n||=Y(3+2*e.length),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,`utf16le`),n}function pk(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function mk(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)===`795881f43b1d7f48af2c825dc4852763`&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,`utf16le`).replace(WS,``);return r&&(e.l+=24),i}function hk(e){for(var t=e.read_shift(2),n=``;t-- >0;)n+=`../`;var r=e.read_shift(0,`lpstr-ansi`);if(e.l+=2,e.read_shift(2)!=57005)throw Error(`Bad FileMoniker`);if(e.read_shift(4)===0)return n+r.replace(/\\/g,`/`);var i=e.read_shift(4);if(e.read_shift(2)!=3)throw Error(`Bad FileMoniker`);var a=e.read_shift(i>>1,`utf16le`).replace(WS,``);return n+a}function gk(e,t){var n=e.read_shift(16);switch(t-=16,n){case`e0c9ea79f9bace118c8200aa004ba90b`:return mk(e,t);case`0303000000000000c000000000000046`:return hk(e,t);default:throw Error(`Unsupported Moniker `+n)}}function _k(e){var t=e.read_shift(4);return t>0?e.read_shift(t,`utf16le`).replace(WS,``):``}function vk(e,t){t||=Y(6+e.length*2),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function yk(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw Error(`Unrecognized streamVersion: `+r);var i=e.read_shift(2);e.l+=2;var a,o,s,c,l=``,u,d;i&16&&(a=_k(e,n-e.l)),i&128&&(o=_k(e,n-e.l)),(i&257)==257&&(s=_k(e,n-e.l)),(i&257)==1&&(c=gk(e,n-e.l)),i&8&&(l=_k(e,n-e.l)),i&32&&(u=e.read_shift(16)),i&64&&(d=OO(e)),e.l=n;var f=o||s||c||``;f&&l&&(f+=`#`+l),f||=`#`+l,i&2&&f.charAt(0)==`/`&&f.charAt(1)!=`/`&&(f=`file://`+f);var p={Target:f};return u&&(p.guid=u),d&&(p.time=d),a&&(p.Tooltip=a),p}function bk(e){var t=Y(512),n=0,r=e.Target;r.slice(0,7)==`file://`&&(r=r.slice(7));var i=r.indexOf(`#`),a=i>-1?31:23;switch(r.charAt(0)){case`#`:a=28;break;case`.`:a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(a==28)r=r.slice(1),vk(r,t);else if(a&2){for(o=`e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b`.split(` `),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var s=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),a&8&&vk(i>-1?r.slice(i+1):``,t)}else{for(o=`03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46`.split(` `),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var c=0;r.slice(c*3,c*3+3)==`../`||r.slice(c*3,c*3+3)==`..\\`;)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),n=0;n<r.length-3*c;++n)t.write_shift(1,r.charCodeAt(n+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function xk(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function Sk(e,t){var n=xk(e,t);return n[3]=0,n}function Ck(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function wk(e,t,n,r){return r||=Y(6),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function Tk(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Ek(e,t,n){return t===0?``:dk(e,t,n)}function Dk(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,`i`),e.read_shift(r,`i`)]}function Ok(e){return[e.read_shift(2),dD(e)]}function kk(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=ok(e,t,n),a=e.read_shift(2);if(r-=e.l,a!==r)throw Error(`Malformed AddinUdf: padding = `+r+` != `+a);return e.l+=a,i}function Ak(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function jk(e,t){return t||=Y(8),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Mk(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var Nk=Mk;function Pk(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function Fk(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Ik(e){return e.l+=4,e.cf=e.read_shift(2),{}}function Lk(e){e.l+=2,e.l+=e.read_shift(2)}var Rk={0:Lk,4:Lk,5:Lk,6:Lk,7:Ik,8:Lk,9:Lk,10:Lk,11:Lk,12:Lk,13:Fk,14:Lk,15:Lk,16:Lk,17:Lk,18:Lk,19:Lk,20:Lk,21:Pk};function zk(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(Rk[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Bk(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw Error(`Unexpected BIFF Ver `+n.BIFFVer)}return e.read_shift(t),n}function Vk(e,t,n){var r=1536,i=16;switch(n.bookType){case`biff8`:break;case`biff5`:r=1280,i=8;break;case`biff4`:r=4,i=6;break;case`biff3`:r=3,i=6;break;case`biff2`:r=2,i=4;break;case`xla`:break;default:throw Error(`unsupported BIFF version`)}var a=Y(i);return a.write_shift(2,r),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Hk(e,t){return t===0||e.read_shift(2),1200}function Uk(e,t,n){if(n.enc)return e.l+=t,``;var r=e.l,i=dk(e,0,n);return e.read_shift(t+r-e.l),i}function Wk(e,t){var n=!t||t.biff==8,r=Y(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function Gk(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Kk(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a=`Worksheet`;break;case 1:a=`Macrosheet`;break;case 2:a=`Chartsheet`;break;case 6:a=`VBAModule`;break}var o=ok(e,0,n);return o.length===0&&(o=`Sheet1`),{pos:r,hs:i,dt:a,name:o}}function qk(e,t){var n=!t||t.biff>=8?2:1,r=Y(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?`sbcs`:`utf16le`);var i=r.slice(0,r.l);return i.l=r.l,i}function Jk(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),a=[],o=0;o!=i&&e.l<n;++o)a.push(sk(e));return a.Count=r,a.Unique=i,a}function Yk(e,t){var n=Y(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=ck(e[i],t);var a=HS([n].concat(r));return a.parts=[n.length].concat(r.map(function(e){return e.length})),a}function Xk(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function Zk(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function Qk(e){var t=Tk(e);if(t.type!=2211)throw Error(`Invalid Future Record `+t.type);return e.read_shift(4)!==0}function $k(e){return e.read_shift(2),e.read_shift(4)}function eA(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);return n&&n.biff==2&&(r=1-(i>>15),i&=32767),[{Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3},i]}function tA(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),c=e.read_shift(2),l=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:a,CurTab:o,FirstTab:s,Selected:c,TabRatio:l}}function nA(){var e=Y(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function rA(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:e.read_shift(2)&64}}function iA(e){var t=Y(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function aA(){}function oA(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=ok(e,0,n),r}function sA(e,t){var n=e.name||`Arial`,r=t&&t.biff==5,i=Y(r?15+n.length:16+2*n.length);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?`sbcs`:`utf16le`),i}function cA(e){var t=Ck(e);return t.isst=e.read_shift(4),t}function lA(e,t,n,r){var i=Y(10);return wk(e,t,r,i),i.write_shift(4,n),i}function uA(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Ck(e,6);return n.biff==2&&e.l++,i.val=uk(e,r-e.l,n),i}function dA(e,t,n,r,i){var a=!i||i.biff==8,o=Y(8+ +a+(1+a)*n.length);return wk(e,t,r,o),o.write_shift(2,n.length),a&&o.write_shift(1,1),o.write_shift((1+a)*n.length,n,a?`utf16le`:`sbcs`),o}function fA(e,t,n){return[e.read_shift(2),dk(e,0,n)]}function pA(e,t,n,r){var i=n&&n.biff==5;r||=Y(i?3+t.length:5+2*t.length),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?`sbcs`:`utf16le`);var a=r.length>r.l?r.slice(0,r.l):r;return a.l??=a.length,a}var mA=dk;function hA(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,a=e.read_shift(i),o=e.read_shift(i),s=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:a,c:s},e:{r:o,c}}}function gA(e,t){var n=t.biff==8||!t.biff?4:2,r=Y(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function _A(e){var t=e.read_shift(2),n=e.read_shift(2),r=Ok(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function vA(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(Ok(e));if(e.l!==n)throw Error(`MulRK read error`);var o=e.read_shift(2);if(a.length!=o-i+1)throw Error(`MulRK length mismatch`);return{r,c:i,C:o,rkrec:a}}function yA(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(e.read_shift(2));if(e.l!==n)throw Error(`MulBlank read error`);var o=e.read_shift(2);if(a.length!=o-i+1)throw Error(`MulBlank length mismatch`);return{r,c:i,C:o,ixfe:a}}function bA(e,t,n,r){var i={},a=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),c=e.read_shift(2);return i.patternType=HD[s>>26],r.cellStyles?(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=s&127,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1,i):i}function xA(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=bA(e,t,r.fStyle,n),r}function SA(e,t,n,r){var i=n&&n.biff==5;r||=Y(i?16:20),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function CA(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw Error(`Bad Gutters: `+t.join(`|`));return t}function wA(e){var t=Y(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function TA(e,t,n){var r=Ck(e,6);(n.biff==2||t==9)&&++e.l;var i=ik(e,2);return r.val=i,r.t=i===!0||i===!1?`b`:`e`,r}function EA(e,t,n,r,i,a){var o=Y(8);return wk(e,t,r,o),ak(n,a,o),o}function DA(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Ck(e,6);return r.val=_D(e,8),r}function OA(e,t,n,r){var i=Y(14);return wk(e,t,r,i),vD(n,i),i}var kA=Ek;function AA(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw Error(`Unexpected SupBook type: `+a);for(var o=lk(e,a),s=[];r>e.l;)s.push(uk(e));return[a,i,o,s]}function jA(e,t,n){var r=e.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=kk(e,t-2,n)),a.body=i||e.read_shift(t-2),typeof i==`string`&&(a.Name=i),a}var MA=[`_xlnm.Consolidate_Area`,`_xlnm.Auto_Open`,`_xlnm.Auto_Close`,`_xlnm.Extract`,`_xlnm.Database`,`_xlnm.Criteria`,`_xlnm.Print_Area`,`_xlnm.Print_Titles`,`_xlnm.Recorder`,`_xlnm.Data_Form`,`_xlnm.Auto_Activate`,`_xlnm.Auto_Deactivate`,`_xlnm.Sheet_Title`,`_xlnm._FilterDatabase`];function NA(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),c=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var l=lk(e,o,n);i&32&&(l=MA[l.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var d=r==e.l||s===0||!(u>0)?[]:oI(e,u,n,s);return{chKey:a,Name:l,itab:c,rgce:d}}function PA(e,t,n){if(n.biff<8)return FA(e,t,n);for(var r=[],i=e.l+t,a=e.read_shift(n.biff>8?4:2);a--!==0;)r.push(Dk(e,n.biff>8?12:6,n));if(e.l!=i)throw Error(`Bad ExternSheet: `+e.l+` != `+i);return r}function FA(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=ok(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function IA(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2);return[lk(e,r,n),lk(e,i,n)]}function LA(e,t,n){var r=Mk(e,6);e.l++;var i=e.read_shift(1);return t-=8,[sI(e,t,n),i,r]}function RA(e,t,n){var r=Nk(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,iI(e,t,n,r)]}function zA(e){return[e.read_shift(4)!==0,e.read_shift(4)!==0,e.read_shift(4)]}function BA(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=dk(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},s,o,a]}}function VA(e,t,n){return BA(e,t,n)}function HA(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(Ak(e,t));return n}function UA(e){var t=Y(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)jk(e[n],t);return t}function WA(e,t,n){if(n&&n.biff<8)return KA(e,t,n);var r=Pk(e,22);return{cmo:r,ft:zk(e,t-22,r[1])}}var GA={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function KA(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((GA[r]||vE)(e,t,n)),{cmo:[i,r,a],ft:o}}function qA(e,t,n){var r=e.l,i=``;try{e.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1];[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:pk(e,6,n);var o=e.read_shift(2);e.read_shift(2),tk(e,2);var s=e.read_shift(2);e.l+=s;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw Error(`TxO: bad continue record`);var l=e[e.l],u=lk(e,e.lens[c+1]-e.lens[c]-1);if(i+=u,i.length>=(l?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw Error(`cchText: `+o+` != `+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function JA(e,t){var n=Ak(e,8);return e.l+=16,[n,yk(e,t-24)]}function YA(e){var t=Y(24),n=PE(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r=`d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b`.split(` `),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return HS([t,bk(e[1])])}function XA(e,t){e.read_shift(2);var n=Ak(e,8),r=e.read_shift((t-10)/2,`dbcs-cont`);return r=r.replace(WS,``),[n,r]}function ZA(e){var t=e[1].Tooltip,n=Y(10+2*(t.length+1));n.write_shift(2,2048);var r=PE(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function QA(e){var t=[0,0],n=e.read_shift(2);return t[0]=VD[n]||n,n=e.read_shift(2),t[1]=VD[n]||n,t}function $A(e){return e||=Y(4),e.write_shift(2,1),e.write_shift(2,1),e}function ej(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Sk(e,8));return n}function tj(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Sk(e,8));return n}function nj(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function rj(e,t,n){if(!n.cellStyles)return vE(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var l={s:i,e:a,w:o,ixfe:s,flags:c};return(n.biff>=5||!n.biff)&&(l.level=c>>8&7),l}function ij(e,t){var n=Y(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function aj(e,t){var n={};return t<32?n:(e.l+=16,n.header=_D(e,8),n.footer=_D(e,8),e.l+=2,n)}function oj(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}function sj(e){for(var t=Y(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var cj=Ck,lj=rk,uj=uk;function dj(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function fj(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Ck(e,6);++e.l;var i=dk(e,t-7,n);return r.t=`str`,r.val=i,r}function pj(e){var t=Ck(e,6);++e.l;var n=_D(e,8);return t.t=`n`,t.val=n,t}function mj(e,t,n){var r=Y(15);return dB(r,e,t),r.write_shift(8,n,`f`),r}function hj(e){var t=Ck(e,6);++e.l;var n=e.read_shift(2);return t.t=`n`,t.val=n,t}function gj(e,t,n){var r=Y(9);return dB(r,e,t),r.write_shift(2,n),r}function _j(e){var t=e.read_shift(1);return t===0?(e.l++,``):e.read_shift(t,`sbcs-cont`)}function vj(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function yj(e,t,n){var r=e.l+t,i=Ck(e,6),a=lk(e,e.read_shift(2),n);return e.l=r,i.t=`str`,i.val=a,i}var bj=[2,3,48,49,131,139,140,245],xj=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=fw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=[],i=FS(1);switch(n.type){case`base64`:i=LS(MS(t));break;case`binary`:i=LS(t);break;case`buffer`:case`array`:i=t;break}_E(i,0);var a=i.read_shift(1),o=!!(a&136),s=!1,c=!1;switch(a){case 2:break;case 3:break;case 48:s=!0,o=!0;break;case 49:s=!0,o=!0;break;case 131:break;case 139:break;case 140:c=!0;break;case 245:break;default:throw Error(`DBF Unsupported Version: `+a.toString(16))}var l=0,u=521;a==2&&(l=i.read_shift(2)),i.l+=3,a!=2&&(l=i.read_shift(4)),l>1048576&&(l=1e6),a!=2&&(u=i.read_shift(2));var d=i.read_shift(2),f=n.codepage||1252;a!=2&&(i.l+=16,i.read_shift(1),i[i.l]!==0&&(f=e[i[i.l]]),i.l+=1,i.l+=2),c&&(i.l+=36);for(var p=[],m={},h=Math.min(i.length,a==2?521:u-10-(s?264:0)),g=c?32:11;i.l<h&&i[i.l]!=13;)switch(m={},m.name=DS.utils.decode(f,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,``),i.l+=g,m.type=String.fromCharCode(i.read_shift(1)),a!=2&&!c&&(m.offset=i.read_shift(4)),m.len=i.read_shift(1),a==2&&(m.offset=i.read_shift(2)),m.dec=i.read_shift(1),m.name.length&&p.push(m),a!=2&&(i.l+=c?13:14),m.type){case`B`:(!s||m.len!=8)&&n.WTF&&console.log(`Skipping `+m.name+`:`+m.type);break;case`G`:case`P`:n.WTF&&console.log(`Skipping `+m.name+`:`+m.type);break;case`+`:case`0`:case`@`:case`C`:case`D`:case`F`:case`I`:case`L`:case`M`:case`N`:case`O`:case`T`:case`Y`:break;default:throw Error(`Unknown Field Type: `+m.type)}if(i[i.l]!==13&&(i.l=u-1),i.read_shift(1)!==13)throw Error(`DBF Terminator not found `+i.l+` `+i[i.l]);i.l=u;var _=0,v=0;for(r[0]=[],v=0;v!=p.length;++v)r[0][v]=p[v].name;for(;l-- >0;){if(i[i.l]===42){i.l+=d;continue}for(++i.l,r[++_]=[],v=0,v=0;v!=p.length;++v){var y=i.slice(i.l,i.l+p[v].len);i.l+=p[v].len,_E(y,0);var b=DS.utils.decode(f,y);switch(p[v].type){case`C`:b.trim().length&&(r[_][v]=b.replace(/\s+$/,``));break;case`D`:b.length===8?r[_][v]=new Date(+b.slice(0,4),b.slice(4,6)-1,+b.slice(6,8)):r[_][v]=b;break;case`F`:r[_][v]=parseFloat(b.trim());break;case`+`:case`I`:r[_][v]=c?y.read_shift(-4,`i`)^2147483648:y.read_shift(4,`i`);break;case`L`:switch(b.trim().toUpperCase()){case`Y`:case`T`:r[_][v]=!0;break;case`N`:case`F`:r[_][v]=!1;break;case``:case`?`:break;default:throw Error(`DBF Unrecognized L:|`+b+`|`)}break;case`M`:if(!o)throw Error(`DBF Unexpected MEMO for type `+a.toString(16));r[_][v]=`##MEMO##`+(c?parseInt(b.trim(),10):y.read_shift(4));break;case`N`:b=b.replace(/\u0000/g,``).trim(),b&&b!=`.`&&(r[_][v]=+b||0);break;case`@`:r[_][v]=new Date(y.read_shift(-8,`f`)-621356832e5);break;case`T`:r[_][v]=new Date((y.read_shift(4)-2440588)*864e5+y.read_shift(4));break;case`Y`:r[_][v]=y.read_shift(4,`i`)/1e4+y.read_shift(4,`i`)/1e4*2**32;break;case`O`:r[_][v]=-y.read_shift(-8,`f`);break;case`B`:if(s&&p[v].len==8){r[_][v]=y.read_shift(8,`f`);break}case`G`:case`P`:y.l+=p[v].len;break;case`0`:if(p[v].name===`_NullFlags`)break;default:throw Error(`DBF Unsupported data type `+p[v].type)}}}if(a!=2&&i.l<i.length&&i[i.l++]!=26)throw Error(`DBF EOF Marker missing `+(i.l-1)+` of `+i.length+` `+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=p,r}function r(e,t){var r=t||{};r.dateNF||=`yyyymmdd`;var i=UE(n(e,r),r);return i[`!cols`]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,i}function i(e,t){try{return VE(r(e,t),t)}catch(e){if(t&&t.WTF)throw e}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(e,n){var r=n||{};if(+r.codepage>=0&&yS(+r.codepage),r.type==`string`)throw Error(`Cannot write DBF to JS string`);var i=bE(),o=sH(e,{header:1,raw:!0,cellDates:!0}),s=o[0],c=o.slice(1),l=e[`!cols`]||[],u=0,d=0,f=0,p=1;for(u=0;u<s.length;++u){if(((l[u]||{}).DBF||{}).name){s[u]=l[u].DBF.name,++f;continue}if(s[u]!=null){if(++f,typeof s[u]==`number`&&(s[u]=s[u].toString(10)),typeof s[u]!=`string`)throw Error(`DBF Invalid column name `+s[u]+` |`+typeof s[u]+`|`);if(s.indexOf(s[u])!==u){for(d=0;d<1024;++d)if(s.indexOf(s[u]+`_`+d)==-1){s[u]+=`_`+d;break}}}}var m=RE(e[`!ref`]),h=[],g=[],_=[];for(u=0;u<=m.e.c-m.s.c;++u){var v=``,y=``,b=0,x=[];for(d=0;d<c.length;++d)c[d][u]!=null&&x.push(c[d][u]);if(x.length==0||s[u]==null){h[u]=`?`;continue}for(d=0;d<x.length;++d){switch(typeof x[d]){case`number`:y=`B`;break;case`string`:y=`C`;break;case`boolean`:y=`L`;break;case`object`:y=x[d]instanceof Date?`D`:`C`;break;default:y=`C`}b=Math.max(b,String(x[d]).length),v=v&&v!=y?`C`:y}b>250&&(b=250),y=((l[u]||{}).DBF||{}).type,y==`C`&&l[u].DBF.len>b&&(b=l[u].DBF.len),v==`B`&&y==`N`&&(v=`N`,_[u]=l[u].DBF.dec,b=l[u].DBF.len),g[u]=v==`C`||y==`N`?b:a[v]||0,p+=g[u],h[u]=v}var S=i.next(32);for(S.write_shift(4,318902576),S.write_shift(4,c.length),S.write_shift(2,296+32*f),S.write_shift(2,p),u=0;u<4;++u)S.write_shift(4,0);for(S.write_shift(4,0|(+t[mS]||3)<<8),u=0,d=0;u<s.length;++u)if(s[u]!=null){var C=i.next(32),w=(s[u].slice(-10)+`\0\0\0\0\0\0\0\0\0\0\0`).slice(0,11);C.write_shift(1,w,`sbcs`),C.write_shift(1,h[u]==`?`?`C`:h[u],`sbcs`),C.write_shift(4,d),C.write_shift(1,g[u]||a[h[u]]||0),C.write_shift(1,_[u]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),d+=g[u]||a[h[u]]||0}var T=i.next(264);for(T.write_shift(4,13),u=0;u<65;++u)T.write_shift(4,0);for(u=0;u<c.length;++u){var E=i.next(p);for(E.write_shift(1,0),d=0;d<s.length;++d)if(s[d]!=null)switch(h[d]){case`L`:E.write_shift(1,c[u][d]==null?63:c[u][d]?84:70);break;case`B`:E.write_shift(8,c[u][d]||0,`f`);break;case`N`:var D=`0`;for(typeof c[u][d]==`number`&&(D=c[u][d].toFixed(_[d]||0)),f=0;f<g[d]-D.length;++f)E.write_shift(1,32);E.write_shift(1,D,`sbcs`);break;case`D`:c[u][d]?(E.write_shift(4,(`0000`+c[u][d].getFullYear()).slice(-4),`sbcs`),E.write_shift(2,(`00`+(c[u][d].getMonth()+1)).slice(-2),`sbcs`),E.write_shift(2,(`00`+c[u][d].getDate()).slice(-2),`sbcs`)):E.write_shift(8,`00000000`,`sbcs`);break;case`C`:var O=String(c[u][d]==null?``:c[u][d]).slice(0,g[d]);for(E.write_shift(1,O,`sbcs`),f=0;f<g[d]-O.length;++f)E.write_shift(1,32);break}}return i.next(1).write_shift(1,26),i.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),Sj=(function(){var e={AA:``,BA:``,CA:``,DA:195,HA:``,JA:197,AE:``,BE:``,CE:``,HE:``,AI:``,BI:``,CI:``,HI:``,AO:``,BO:``,CO:``,DO:213,HO:``,AU:``,BU:``,CU:``,HU:``,Aa:``,Ba:``,Ca:``,Da:227,Ha:``,Ja:229,Ae:``,Be:``,Ce:``,He:``,Ai:``,Bi:``,Ci:``,Hi:``,Ao:``,Bo:``,Co:``,Do:245,Ho:``,Au:``,Bu:``,Cu:``,Hu:``,KC:``,Kc:``,q:``,z:``,a:``,j:``,DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=RegExp(`\x1BN(`+uw(e).join(`|`).replace(/\|\|\|/,`|\\||`).replace(/([?()+])/g,`\\$1`)+`|\\|)`,`gm`),n=function(t,n){var r=e[n];return typeof r==`number`?ES(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return r==59?e:ES(r)};e[`|`]=254;function i(e,t){switch(t.type){case`base64`:return a(MS(e),t);case`binary`:return a(e,t);case`buffer`:return a(NS&&Buffer.isBuffer(e)?e.toString(`binary`):zS(e),t);case`array`:return a(Ew(e),t)}throw Error(`Unrecognized type `+t.type)}function a(e,i){var a=e.split(/[\n\r]+/),o=-1,s=-1,c=0,l=0,u=[],d=[],f=null,p={},m=[],h=[],g=[],_=0,v;for(+i.codepage>=0&&yS(+i.codepage);c!==a.length;++c){_=0;var y=a[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),b=y.replace(/;;/g,`\0`).split(`;`).map(function(e){return e.replace(/\u0000/g,`;`)}),x=b[0],S;if(y.length>0)switch(x){case`ID`:break;case`E`:break;case`B`:break;case`O`:break;case`W`:break;case`P`:b[1].charAt(0)==`P`&&d.push(y.slice(3).replace(/;;/g,`;`));break;case`C`:var C=!1,w=!1,T=!1,E=!1,D=-1,O=-1;for(l=1;l<b.length;++l)switch(b[l].charAt(0)){case`A`:break;case`X`:s=parseInt(b[l].slice(1))-1,w=!0;break;case`Y`:for(o=parseInt(b[l].slice(1))-1,w||(s=0),v=u.length;v<=o;++v)u[v]=[];break;case`K`:S=b[l].slice(1),S.charAt(0)===`"`?S=S.slice(1,S.length-1):S===`TRUE`?S=!0:S===`FALSE`?S=!1:isNaN(kw(S))?isNaN(jw(S).getDate())||(S=Tw(S)):(S=kw(S),f!==null&&GC(f)&&(S=bw(S))),DS!==void 0&&typeof S==`string`&&(i||{}).type!=`string`&&(i||{}).codepage&&(S=DS.utils.decode(i.codepage,S)),C=!0;break;case`E`:E=!0;var k=SP(b[l].slice(1),{r:o,c:s});u[o][s]=[u[o][s],k];break;case`S`:T=!0,u[o][s]=[u[o][s],`S5S`];break;case`G`:break;case`R`:D=parseInt(b[l].slice(1))-1;break;case`C`:O=parseInt(b[l].slice(1))-1;break;default:if(i&&i.WTF)throw Error(`SYLK bad record `+y)}if(C&&(u[o][s]&&u[o][s].length==2?u[o][s][0]=S:u[o][s]=S,f=null),T){if(E)throw Error(`SYLK shared formula cannot have own formula`);var A=D>-1&&u[D][O];if(!A||!A[1])throw Error(`SYLK shared formula cannot find base`);u[o][s][1]=TP(A[1],{r:o-D,c:s-O})}break;case`F`:var j=0;for(l=1;l<b.length;++l)switch(b[l].charAt(0)){case`X`:s=parseInt(b[l].slice(1))-1,++j;break;case`Y`:for(o=parseInt(b[l].slice(1))-1,v=u.length;v<=o;++v)u[v]=[];break;case`M`:_=parseInt(b[l].slice(1))/20;break;case`F`:break;case`G`:break;case`P`:f=d[parseInt(b[l].slice(1))];break;case`S`:break;case`D`:break;case`N`:break;case`W`:for(g=b[l].slice(1).split(` `),v=parseInt(g[0],10);v<=parseInt(g[1],10);++v)_=parseInt(g[2],10),h[v-1]=_===0?{hidden:!0}:{wch:_},AM(h[v-1]);break;case`C`:s=parseInt(b[l].slice(1))-1,h[s]||(h[s]={});break;case`R`:o=parseInt(b[l].slice(1))-1,m[o]||(m[o]={}),_>0?(m[o].hpt=_,m[o].hpx=NM(_)):_===0&&(m[o].hidden=!0);break;default:if(i&&i.WTF)throw Error(`SYLK bad record `+y)}j<1&&(f=null);break;default:if(i&&i.WTF)throw Error(`SYLK bad record `+y)}}return m.length>0&&(p[`!rows`]=m),h.length>0&&(p[`!cols`]=h),i&&i.sheetRows&&(u=u.slice(0,i.sheetRows)),[u,p]}function o(e,t){var n=i(e,t),r=n[0],a=n[1],o=UE(r,t);return uw(a).forEach(function(e){o[e]=a[e]}),o}function s(e,t){return VE(o(e,t),t)}function c(e,t,n,r){var i=`C;Y`+(n+1)+`;X`+(r+1)+`;K`;switch(e.t){case`n`:i+=e.v||0,e.f&&!e.F&&(i+=`;E`+wP(e.f,{r:n,c:r}));break;case`b`:i+=e.v?`TRUE`:`FALSE`;break;case`e`:i+=e.w||e.v;break;case`d`:i+=`"`+(e.w||e.v)+`"`;break;case`s`:i+=`"`+e.v.replace(/"/g,``).replace(/;/g,`;;`)+`"`;break}return i}function l(e,t){t.forEach(function(t,n){var r=`F;W`+(n+1)+` `+(n+1)+` `;t.hidden?r+=`0`:(typeof t.width==`number`&&!t.wpx&&(t.wpx=TM(t.width)),typeof t.wpx==`number`&&!t.wch&&(t.wch=EM(t.wpx)),typeof t.wch==`number`&&(r+=Math.round(t.wch))),r.charAt(r.length-1)!=` `&&e.push(r)})}function u(e,t){t.forEach(function(t,n){var r=`F;`;t.hidden?r+=`M0;`:t.hpt?r+=`M`+20*t.hpt+`;`:t.hpx&&(r+=`M`+20*MM(t.hpx)+`;`),r.length>2&&e.push(r+`R`+(n+1))})}function d(e,t){var n=[`ID;PWXL;N;E`],r=[],i=RE(e[`!ref`]),a,o=Array.isArray(e),s=`\r
`;n.push(`P;PGeneral`),n.push(`F;P0;DG0G8;M255`),e[`!cols`]&&l(n,e[`!cols`]),e[`!rows`]&&u(n,e[`!rows`]),n.push(`B;Y`+(i.e.r-i.s.r+1)+`;X`+(i.e.c-i.s.c+1)+`;D`+[i.s.c,i.s.r,i.e.c,i.e.r].join(` `));for(var d=i.s.r;d<=i.e.r;++d)for(var f=i.s.c;f<=i.e.c;++f){var p=FE({r:d,c:f});a=o?(e[d]||[])[f]:e[p],!(!a||a.v==null&&(!a.f||a.F))&&r.push(c(a,e,d,f,t))}return n.join(s)+s+r.join(s)+s+`E`+s}return{to_workbook:s,to_sheet:o,from_sheet:d}})(),Cj=(function(){function e(e,n){switch(n.type){case`base64`:return t(MS(e),n);case`binary`:return t(e,n);case`buffer`:return t(NS&&Buffer.isBuffer(e)?e.toString(`binary`):zS(e),n);case`array`:return t(Ew(e),n)}throw Error(`Unrecognized type `+n.type)}function t(e,t){for(var n=e.split(`
`),r=-1,i=-1,a=0,o=[];a!==n.length;++a){if(n[a].trim()===`BOT`){o[++r]=[],i=0;continue}if(!(r<0)){var s=n[a].trim().split(`,`),c=s[0],l=s[1];++a;for(var u=n[a]||``;(u.match(/["]/g)||[]).length&1&&a<n.length-1;)u+=`
`+n[++a];switch(u=u.trim(),+c){case-1:if(u===`BOT`){o[++r]=[],i=0;continue}else if(u!==`EOD`)throw Error(`Unrecognized DIF special command `+u);break;case 0:u===`TRUE`?o[r][i]=!0:u===`FALSE`?o[r][i]=!1:isNaN(kw(l))?isNaN(jw(l).getDate())?o[r][i]=l:o[r][i]=Tw(l):o[r][i]=kw(l),++i;break;case 1:u=u.slice(1,u.length-1),u=u.replace(/""/g,`"`),kS&&u&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),o[r][i++]=u===``?null:u;break}if(u===`EOD`)break}}return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function n(t,n){return UE(e(t,n),n)}function r(e,t){return VE(n(e,t),t)}return{to_workbook:r,to_sheet:n,from_sheet:(function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+`,`+r),e.push(`"`+i.replace(/"/g,`""`)+`"`)},t=function(e,t,n,r){e.push(t+`,`+n),e.push(t==1?`"`+r.replace(/"/g,`""`)+`"`:r)};return function(n){var r=[],i=RE(n[`!ref`]),a,o=Array.isArray(n);e(r,`TABLE`,0,1,`sheetjs`),e(r,`VECTORS`,0,i.e.r-i.s.r+1,``),e(r,`TUPLES`,0,i.e.c-i.s.c+1,``),e(r,`DATA`,0,0,``);for(var s=i.s.r;s<=i.e.r;++s){t(r,-1,0,`BOT`);for(var c=i.s.c;c<=i.e.c;++c){var l=FE({r:s,c});if(a=o?(n[s]||[])[c]:n[l],!a){t(r,1,0,``);continue}switch(a.t){case`n`:var u=kS?a.w:a.v;!u&&a.v!=null&&(u=a.v),u==null?kS&&a.f&&!a.F?t(r,1,0,`=`+a.f):t(r,1,0,``):t(r,0,u,`V`);break;case`b`:t(r,0,a.v?1:0,a.v?`TRUE`:`FALSE`);break;case`s`:t(r,1,0,!kS||isNaN(a.v)?a.v:`="`+a.v+`"`);break;case`d`:a.w||=XC(a.z||iC[14],gw(Tw(a.v))),kS?t(r,0,a.w,`V`):t(r,1,0,a.w);break;default:t(r,1,0,``)}}}return t(r,-1,0,`EOD`),r.join(`\r
`)}})()}})(),wj=(function(){function e(e){return e.replace(/\\b/g,`\\`).replace(/\\c/g,`:`).replace(/\\n/g,`
`)}function t(e){return e.replace(/\\/g,`\\b`).replace(/:/g,`\\c`).replace(/\n/g,`\\n`)}function n(t,n){for(var r=t.split(`
`),i=-1,a=-1,o=0,s=[];o!==r.length;++o){var c=r[o].trim().split(`:`);if(c[0]===`cell`){var l=PE(c[1]);if(s.length<=l.r)for(i=s.length;i<=l.r;++i)s[i]||(s[i]=[]);switch(i=l.r,a=l.c,c[2]){case`t`:s[i][a]=e(c[3]);break;case`v`:s[i][a]=+c[3];break;case`vtf`:var u=c[c.length-1];case`vtc`:switch(c[3]){case`nl`:s[i][a]=!!+c[4];break;default:s[i][a]=+c[4];break}c[2]==`vtf`&&(s[i][a]=[s[i][a],u])}}}return n&&n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}function r(e,t){return UE(n(e,t),t)}function i(e,t){return VE(r(e,t),t)}var a=[`socialcalc:version:1.5`,`MIME-Version: 1.0`,`Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave`].join(`
`),o=[`--SocialCalcSpreadsheetControlSave`,`Content-type: text/plain; charset=UTF-8`].join(`
`)+`
`,s=[`# SocialCalc Spreadsheet Control Save`,`part:sheet`].join(`
`),c=`--SocialCalcSpreadsheetControlSave--`;function l(e){if(!e||!e[`!ref`])return``;for(var n=[],r=[],i,a=``,o=IE(e[`!ref`]),s=Array.isArray(e),c=o.s.r;c<=o.e.r;++c)for(var l=o.s.c;l<=o.e.c;++l)if(a=FE({r:c,c:l}),i=s?(e[c]||[])[l]:e[a],!(!i||i.v==null||i.t===`z`)){switch(r=[`cell`,a,`t`],i.t){case`s`:case`str`:r.push(t(i.v));break;case`n`:i.f?(r[2]=`vtf`,r[3]=`n`,r[4]=i.v,r[5]=t(i.f)):(r[2]=`v`,r[3]=i.v);break;case`b`:r[2]=`vt`+(i.f?`f`:`c`),r[3]=`nl`,r[4]=i.v?`1`:`0`,r[5]=t(i.f||(i.v?`TRUE`:`FALSE`));break;case`d`:var u=gw(Tw(i.v));r[2]=`vtc`,r[3]=`nd`,r[4]=``+u,r[5]=i.w||XC(i.z||iC[14],u);break;case`e`:continue}n.push(r.join(`:`))}return n.push(`sheet:c:`+(o.e.c-o.s.c+1)+`:r:`+(o.e.r-o.s.r+1)+`:tvf:1`),n.push(`valueformat:1:text-wiki`),n.join(`
`)}function u(e){return[a,o,s,o,l(e),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),Tj=(function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:e===``||(e===`TRUE`?t[n][r]=!0:e===`FALSE`?t[n][r]=!1:isNaN(kw(e))?isNaN(jw(e).getDate())?t[n][r]=e:t[n][r]=Tw(e):t[n][r]=kw(e))}function t(t,n){var r=n||{},i=[];if(!t||t.length===0)return i;for(var a=t.split(/[\r\n]/),o=a.length-1;o>=0&&a[o].length===0;)--o;for(var s=10,c=0,l=0;l<=o;++l)c=a[l].indexOf(` `),c==-1?c=a[l].length:c++,s=Math.max(s,c);for(l=0;l<=o;++l){i[l]=[];var u=0;for(e(a[l].slice(0,s).trim(),i,l,u,r),u=1;u<=(a[l].length-s)/10+1;++u)e(a[l].slice(s+(u-1)*10,s+u*10).trim(),i,l,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}var n={44:`,`,9:`	`,59:`;`,124:`|`},r={44:3,9:2,59:1,124:0};function i(e){for(var t={},i=!1,a=0,o=0;a<e.length;++a)(o=e.charCodeAt(a))==34?i=!i:!i&&o in n&&(t[o]=(t[o]||0)+1);for(a in o=[],t)Object.prototype.hasOwnProperty.call(t,a)&&o.push([t[a],a]);if(!o.length)for(a in t=r,t)Object.prototype.hasOwnProperty.call(t,a)&&o.push([t[a],a]);return o.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),n[o.pop()[1]]||44}function a(e,t){var n=t||{},r=``;OS!=null&&n.dense==null&&(n.dense=OS);var a=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};e.slice(0,4)==`sep=`?e.charCodeAt(5)==13&&e.charCodeAt(6)==10?(r=e.charAt(4),e=e.slice(7)):e.charCodeAt(5)==13||e.charCodeAt(5)==10?(r=e.charAt(4),e=e.slice(6)):r=i(e.slice(0,1024)):r=n&&n.FS?n.FS:i(e.slice(0,1024));var s=0,c=0,l=0,u=0,d=0,f=r.charCodeAt(0),p=!1,m=0,h=e.charCodeAt(0);e=e.replace(/\r\n/gm,`
`);var g=n.dateNF==null?null:nw(n.dateNF);function _(){var t=e.slice(u,d),r={};if(t.charAt(0)==`"`&&t.charAt(t.length-1)==`"`&&(t=t.slice(1,-1).replace(/""/g,`"`)),t.length===0)r.t=`z`;else if(n.raw)r.t=`s`,r.v=t;else if(t.trim().length===0)r.t=`s`,r.v=t;else if(t.charCodeAt(0)==61)t.charCodeAt(1)==34&&t.charCodeAt(t.length-1)==34?(r.t=`s`,r.v=t.slice(2,-1).replace(/""/g,`"`)):DP(t)?(r.t=`n`,r.f=t.slice(1)):(r.t=`s`,r.v=t);else if(t==`TRUE`)r.t=`b`,r.v=!0;else if(t==`FALSE`)r.t=`b`,r.v=!1;else if(!isNaN(l=kw(t)))r.t=`n`,n.cellText!==!1&&(r.w=t),r.v=l;else if(!isNaN(jw(t).getDate())||g&&t.match(g)){r.z=n.dateNF||iC[14];var i=0;g&&t.match(g)&&(t=rw(t,n.dateNF,t.match(g)||[]),i=1),n.cellDates?(r.t=`d`,r.v=Tw(t,i)):(r.t=`n`,r.v=gw(Tw(t,i))),n.cellText!==!1&&(r.w=XC(r.z,r.v instanceof Date?gw(r.v):r.v)),n.cellNF||delete r.z}else r.t=`s`,r.v=t;if(r.t==`z`||(n.dense?(a[s]||(a[s]=[]),a[s][c]=r):a[FE({c,r:s})]=r),u=d+1,h=e.charCodeAt(u),o.e.c<c&&(o.e.c=c),o.e.r<s&&(o.e.r=s),m==f)++c;else if(c=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}outer:for(;d<e.length;++d)switch(m=e.charCodeAt(d)){case 34:h===34&&(p=!p);break;case f:case 10:case 13:if(!p&&_())break outer;break;default:break}return d-u>0&&_(),a[`!ref`]=LE(o),a}function o(e,n){return!(n&&n.PRN)||n.FS||e.slice(0,4)==`sep=`||e.indexOf(`	`)>=0||e.indexOf(`,`)>=0||e.indexOf(`;`)>=0?a(e,n):UE(t(e,n),n)}function s(e,t){var n=``,r=t.type==`string`?[0,0,0,0]:VV(e,t);switch(t.type){case`base64`:n=MS(e);break;case`binary`:n=e;break;case`buffer`:n=t.codepage==65001?e.toString(`utf8`):t.codepage&&DS!==void 0?DS.utils.decode(t.codepage,e):NS&&Buffer.isBuffer(e)?e.toString(`binary`):zS(e);break;case`array`:n=Ew(e);break;case`string`:n=e;break;default:throw Error(`Unrecognized type `+t.type)}return r[0]==239&&r[1]==187&&r[2]==191?n=_T(n.slice(3)):t.type!=`string`&&t.type!=`buffer`&&t.codepage==65001?n=_T(n):t.type==`binary`&&DS!==void 0&&t.codepage&&(n=DS.utils.decode(t.codepage,DS.utils.encode(28591,n))),n.slice(0,19)==`socialcalc:version:`?wj.to_sheet(t.type==`string`?n:_T(n),t):o(n,t)}function c(e,t){return VE(s(e,t),t)}function l(e){for(var t=[],n=RE(e[`!ref`]),r,i=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){for(var o=[],s=n.s.c;s<=n.e.c;++s){var c=FE({r:a,c:s});if(r=i?(e[a]||[])[s]:e[c],!r||r.v==null){o.push(`          `);continue}for(var l=(r.w||(BE(r),r.w)||``).slice(0,10);l.length<10;)l+=` `;o.push(l+(s===0?` `:``))}t.push(o.join(``))}return t.join(`
`)}return{to_workbook:c,to_sheet:s,from_sheet:l}})();function Ej(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=Sj.to_workbook(e,n);return n.WTF=r,i}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return Tj.to_workbook(e,t)}}var Dj=(function(){function e(e,t,n){if(e){_E(e,e.l||0);for(var r=n.Enum||I;e.l<e.length;){var i=e.read_shift(2),a=r[i]||r[65535],o=e.read_shift(2),s=e.l+o,c=a.f&&a.f(e,o,n);if(e.l=s,t(c,a,i))return}}}function t(e,t){switch(t.type){case`base64`:return n(LS(MS(e)),t);case`binary`:return n(LS(e),t);case`buffer`:case`array`:return n(e,t)}throw`Unsupported type `+t.type}function n(t,n){if(!t)return t;var r=n||{};OS!=null&&r.dense==null&&(r.dense=OS);var i=r.dense?[]:{},a=`Sheet1`,o=``,s=0,c={},l=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},f=r.sheetRows||0;if(t[2]==0&&(t[3]==8||t[3]==9)&&t.length>=16&&t[14]==5&&t[15]===108)throw Error(`Unsupported Works 3 for Mac file`);if(t[2]==2)r.Enum=I,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:d=e;break;case 204:e&&(o=e);break;case 222:o=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:n==14&&(e[2]&112)==112&&(e[2]&15)>1&&(e[2]&15)<15&&(e[1].z=r.dateNF||iC[14],r.cellDates&&(e[1].t=`d`,e[1].v=bw(e[1].v))),r.qpro&&e[3]>s&&(i[`!ref`]=LE(d),c[a]=i,l.push(a),i=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],a=o||`Sheet`+(s+1),o=``);var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[FE(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,e[1].z!=null&&(u.z=e[1].z),e[1].f!=null&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[FE(e[0])]=e[1];break;default:}},r);else if(t[2]==26||t[2]==14)r.Enum=L,t[2]==14&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(i[`!ref`]=LE(d),c[a]=i,l.push(a),i=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],a=`Sheet`+(s+1)),f>0&&e[0].r>=f)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[FE(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(a=e[1]);break;default:break}},r);else throw Error(`Unrecognized LOTUS BOF `+t[2]);if(i[`!ref`]=LE(d),c[o||a]=i,l.push(o||a),!u.length)return{SheetNames:l,Sheets:c};for(var p={},m=[],h=0;h<u.length;++h)c[l[h]]?(m.push(u[h]||l[h]),p[u[h]]=c[u[h]]||c[l[h]]):(m.push(u[h]),p[u[h]]={"!ref":`A1`});return{SheetNames:m,Sheets:p}}function r(e,t){var n=t||{};if(+n.codepage>=0&&yS(+n.codepage),n.type==`string`)throw Error(`Cannot write WK1 to JS string`);var r=bE(),i=RE(e[`!ref`]),o=Array.isArray(e),s=[];Z(r,0,a(1030)),Z(r,6,c(i));for(var l=Math.min(i.e.r,8191),u=i.s.r;u<=l;++u)for(var f=EE(u),m=i.s.c;m<=i.e.c;++m){u===i.s.r&&(s[m]=AE(m));var g=s[m]+f,_=o?(e[u]||[])[m]:e[g];if(!(!_||_.t==`z`))if(_.t==`n`)(_.v|0)==_.v&&_.v>=-32768&&_.v<=32767?Z(r,13,p(u,m,_.v)):Z(r,14,h(u,m,_.v));else{var v=BE(_);Z(r,15,d(u,m,v.slice(0,239)))}}return Z(r,1),r.end()}function i(e,t){var n=t||{};if(+n.codepage>=0&&yS(+n.codepage),n.type==`string`)throw Error(`Cannot write WK3 to JS string`);var r=bE();Z(r,0,o(e));for(var i=0,a=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})[`!ref`]&&Z(r,27,F(e.SheetNames[i],a++));var s=0;for(i=0;i<e.SheetNames.length;++i){var c=e.Sheets[e.SheetNames[i]];if(!(!c||!c[`!ref`])){for(var l=RE(c[`!ref`]),u=Array.isArray(c),d=[],f=Math.min(l.e.r,8191),p=l.s.r;p<=f;++p)for(var m=EE(p),h=l.s.c;h<=l.e.c;++h){p===l.s.r&&(d[h]=AE(h));var g=d[h]+m,_=u?(c[p]||[])[h]:c[g];if(!(!_||_.t==`z`))if(_.t==`n`)Z(r,23,E(p,h,s,_.v));else{var v=BE(_);Z(r,22,C(p,h,s,v.slice(0,239)))}}++s}}return Z(r,1),r.end()}function a(e){var t=Y(2);return t.write_shift(2,e),t}function o(e){var t=Y(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,a=0;a<e.SheetNames.length;++a){var o=e.SheetNames[a],s=e.Sheets[o];if(!(!s||!s[`!ref`])){++i;var c=IE(s[`!ref`]);n<c.e.r&&(n=c.e.r),r<c.e.c&&(r=c.e.c)}}return n>8191&&(n=8191),t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}function s(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return t==8&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),t==12&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),t==12&&n.qpro&&(e.l+=2),r.s.c==65535&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}function c(e){var t=Y(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}function l(e,t,n){var r=[{c:0,r:0},{t:`n`,v:0},0,0];return n.qpro&&n.vers!=20768?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function u(e,t,n){var r=e.l+t,i=l(e,t,n);if(i[1].t=`s`,n.vers==20768){e.l++;var a=e.read_shift(1);return i[1].v=e.read_shift(a,`utf8`),i}return n.qpro&&e.l++,i[1].v=e.read_shift(r-e.l,`cstr`),i}function d(e,t,n){var r=Y(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var a=n.charCodeAt(i);r.write_shift(1,a>=128?95:a)}return r.write_shift(1,0),r}function f(e,t,n){var r=l(e,t,n);return r[1].v=e.read_shift(2,`i`),r}function p(e,t,n){var r=Y(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,`i`),r}function m(e,t,n){var r=l(e,t,n);return r[1].v=e.read_shift(8,`f`),r}function h(e,t,n){var r=Y(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,`f`),r}function g(e,t,n){var r=e.l+t,i=l(e,t,n);if(i[1].v=e.read_shift(8,`f`),n.qpro)e.l=r;else{var a=e.read_shift(2);b(e.slice(e.l,e.l+a),i),e.l+=a}return i}function _(e,t,n){var r=t&32768;return t&=-32769,t=(r?e:0)+(t>=8192?t-16384:t),(r?``:`$`)+(n?AE(t):EE(t))}var v={51:[`FALSE`,0],52:[`TRUE`,0],70:[`LEN`,1],80:[`SUM`,69],81:[`AVERAGEA`,69],82:[`COUNTA`,69],83:[`MINA`,69],84:[`MAXA`,69],111:[`T`,1]},y=`.........+.-.*./.^.=.<>.<=.>=.<.>.....&.......`.split(`.`);function b(e,t){_E(e,0);for(var n=[],r=0,i=``,a=``,o=``,s=``;e.l<e.length;){var c=e[e.l++];switch(c){case 0:n.push(e.read_shift(8,`f`));break;case 1:a=_(t[0].c,e.read_shift(2),!0),i=_(t[0].r,e.read_shift(2),!1),n.push(a+i);break;case 2:var l=_(t[0].c,e.read_shift(2),!0),u=_(t[0].r,e.read_shift(2),!1);a=_(t[0].c,e.read_shift(2),!0),i=_(t[0].r,e.read_shift(2),!1),n.push(l+u+`:`+a+i);break;case 3:if(e.l<e.length){console.error(`WK1 premature formula end`);return}break;case 4:n.push(`(`+n.pop()+`)`);break;case 5:n.push(e.read_shift(2));break;case 6:for(var d=``;c=e[e.l++];)d+=String.fromCharCode(c);n.push(`"`+d.replace(/"/g,`""`)+`"`);break;case 8:n.push(`-`+n.pop());break;case 23:n.push(`+`+n.pop());break;case 22:n.push(`NOT(`+n.pop()+`)`);break;case 20:case 21:s=n.pop(),o=n.pop(),n.push([`AND`,`OR`][c-20]+`(`+o+`,`+s+`)`);break;default:if(c<32&&y[c])s=n.pop(),o=n.pop(),n.push(o+y[c]+s);else if(v[c]){if(r=v[c][1],r==69&&(r=e[e.l++]),r>n.length){console.error(`WK1 bad formula parse 0x`+c.toString(16)+`:|`+n.join(`|`)+`|`);return}var f=n.slice(-r);n.length-=r,n.push(v[c][0]+`(`+f.join(`,`)+`)`)}else if(c<=7)return console.error(`WK1 invalid opcode `+c.toString(16));else if(c<=24)return console.error(`WK1 unsupported op `+c.toString(16));else if(c<=30)return console.error(`WK1 invalid opcode `+c.toString(16));else if(c<=115)return console.error(`WK1 unsupported function opcode `+c.toString(16));else return console.error(`WK1 unrecognized opcode `+c.toString(16))}}n.length==1?t[1].f=``+n[0]:console.error(`WK1 bad formula parse |`+n.join(`|`)+`|`)}function x(e){var t=[{c:0,r:0},{t:`n`,v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function S(e,t){var n=x(e,t);return n[1].t=`s`,n[1].v=e.read_shift(t-4,`cstr`),n}function C(e,t,n,r){var i=Y(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var a=0;a<r.length;++a){var o=r.charCodeAt(a);i.write_shift(1,o>=128?95:o)}return i.write_shift(1,0),i}function w(e,t){var n=x(e,t);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(n[1].v&1)switch(r&7){case 0:r=(r>>3)*5e3;break;case 1:r=(r>>3)*500;break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64;break}return n[1].v=r,n}function T(e,t){var n=x(e,t),r=e.read_shift(4),i=e.read_shift(4),a=e.read_shift(2);if(a==65535)return r===0&&i===3221225472?(n[1].t=`e`,n[1].v=15):r===0&&i===3489660928?(n[1].t=`e`,n[1].v=42):n[1].v=0,n;var o=a&32768;return a=(a&32767)-16446,n[1].v=(1-o*2)*(i*2**(a+32)+r*2**a),n}function E(e,t,n,r){var i=Y(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),r==0)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var a=0,o=0,s=0,c=0;return r<0&&(a=1,r=-r),o=Math.log2(r)|0,r/=2**(o-31),c=r>>>0,c&2147483648||(r/=2,++o,c=r>>>0),r-=c,c|=2147483648,c>>>=0,r*=2**32,s=r>>>0,i.write_shift(4,s),i.write_shift(4,c),o+=16383+(a?32768:0),i.write_shift(2,o),i}function D(e,t){var n=T(e,14);return e.l+=t-14,n}function O(e,t){var n=x(e,t),r=e.read_shift(4);return n[1].v=r>>6,n}function k(e,t){var n=x(e,t),r=e.read_shift(8,`f`);return n[1].v=r,n}function A(e,t){var n=k(e,14);return e.l+=t-10,n}function j(e,t){return e[e.l+t-1]==0?e.read_shift(t,`cstr`):``}function M(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r=``;r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}function N(e,t,n){if(!(!n.qpro||t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,`cstr`)]}}function P(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(i==14e3){for(n[i]=[0,``],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}function F(e,t){var n=Y(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var I={0:{n:`BOF`,f:tk},1:{n:`EOF`},2:{n:`CALCMODE`},3:{n:`CALCORDER`},4:{n:`SPLIT`},5:{n:`SYNC`},6:{n:`RANGE`,f:s},7:{n:`WINDOW1`},8:{n:`COLW1`},9:{n:`WINTWO`},10:{n:`COLW2`},11:{n:`NAME`},12:{n:`BLANK`},13:{n:`INTEGER`,f},14:{n:`NUMBER`,f:m},15:{n:`LABEL`,f:u},16:{n:`FORMULA`,f:g},24:{n:`TABLE`},25:{n:`ORANGE`},26:{n:`PRANGE`},27:{n:`SRANGE`},28:{n:`FRANGE`},29:{n:`KRANGE1`},32:{n:`HRANGE`},35:{n:`KRANGE2`},36:{n:`PROTEC`},37:{n:`FOOTER`},38:{n:`HEADER`},39:{n:`SETUP`},40:{n:`MARGINS`},41:{n:`LABELFMT`},42:{n:`TITLES`},43:{n:`SHEETJS`},45:{n:`GRAPH`},46:{n:`NGRAPH`},47:{n:`CALCCOUNT`},48:{n:`UNFORMATTED`},49:{n:`CURSORW12`},50:{n:`WINDOW`},51:{n:`STRING`,f:u},55:{n:`PASSWORD`},56:{n:`LOCKED`},60:{n:`QUERY`},61:{n:`QUERYNAME`},62:{n:`PRINT`},63:{n:`PRINTNAME`},64:{n:`GRAPH2`},65:{n:`GRAPHNAME`},66:{n:`ZOOM`},67:{n:`SYMSPLIT`},68:{n:`NSROWS`},69:{n:`NSCOLS`},70:{n:`RULER`},71:{n:`NNAME`},72:{n:`ACOMM`},73:{n:`AMACRO`},74:{n:`PARSE`},102:{n:`PRANGES??`},103:{n:`RRANGES??`},104:{n:`FNAME??`},105:{n:`MRANGES??`},204:{n:`SHEETNAMECS`,f:j},222:{n:`SHEETNAMELP`,f:M},65535:{n:``}},L={0:{n:`BOF`},1:{n:`EOF`},2:{n:`PASSWORD`},3:{n:`CALCSET`},4:{n:`WINDOWSET`},5:{n:`SHEETCELLPTR`},6:{n:`SHEETLAYOUT`},7:{n:`COLUMNWIDTH`},8:{n:`HIDDENCOLUMN`},9:{n:`USERRANGE`},10:{n:`SYSTEMRANGE`},11:{n:`ZEROFORCE`},12:{n:`SORTKEYDIR`},13:{n:`FILESEAL`},14:{n:`DATAFILLNUMS`},15:{n:`PRINTMAIN`},16:{n:`PRINTSTRING`},17:{n:`GRAPHMAIN`},18:{n:`GRAPHSTRING`},19:{n:`??`},20:{n:`ERRCELL`},21:{n:`NACELL`},22:{n:`LABEL16`,f:S},23:{n:`NUMBER17`,f:T},24:{n:`NUMBER18`,f:w},25:{n:`FORMULA19`,f:D},26:{n:`FORMULA1A`},27:{n:`XFORMAT`,f:P},28:{n:`DTLABELMISC`},29:{n:`DTLABELCELL`},30:{n:`GRAPHWINDOW`},31:{n:`CPA`},32:{n:`LPLAUTO`},33:{n:`QUERY`},34:{n:`HIDDENSHEET`},35:{n:`??`},37:{n:`NUMBER25`,f:O},38:{n:`??`},39:{n:`NUMBER27`,f:k},40:{n:`FORMULA28`,f:A},142:{n:`??`},147:{n:`??`},150:{n:`??`},151:{n:`??`},152:{n:`??`},153:{n:`??`},154:{n:`??`},155:{n:`??`},156:{n:`??`},163:{n:`??`},174:{n:`??`},175:{n:`??`},176:{n:`??`},177:{n:`??`},184:{n:`??`},185:{n:`??`},186:{n:`??`},187:{n:`??`},188:{n:`??`},195:{n:`??`},201:{n:`??`},204:{n:`SHEETNAMECS`,f:j},205:{n:`??`},206:{n:`??`},207:{n:`??`},208:{n:`??`},256:{n:`??`},259:{n:`??`},260:{n:`??`},261:{n:`??`},262:{n:`??`},263:{n:`??`},265:{n:`??`},266:{n:`??`},267:{n:`??`},268:{n:`??`},270:{n:`??`},271:{n:`??`},384:{n:`??`},389:{n:`??`},390:{n:`??`},393:{n:`??`},396:{n:`??`},512:{n:`??`},514:{n:`??`},513:{n:`??`},516:{n:`??`},517:{n:`??`},640:{n:`??`},641:{n:`??`},642:{n:`??`},643:{n:`??`},644:{n:`??`},645:{n:`??`},646:{n:`??`},647:{n:`??`},648:{n:`??`},658:{n:`??`},659:{n:`??`},660:{n:`??`},661:{n:`??`},662:{n:`??`},665:{n:`??`},666:{n:`??`},768:{n:`??`},772:{n:`??`},1537:{n:`SHEETINFOQP`,f:N},1600:{n:`??`},1602:{n:`??`},1793:{n:`??`},1794:{n:`??`},1795:{n:`??`},1796:{n:`??`},1920:{n:`??`},2048:{n:`??`},2049:{n:`??`},2052:{n:`??`},2688:{n:`??`},10998:{n:`??`},12849:{n:`??`},28233:{n:`??`},28484:{n:`??`},65535:{n:``}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}})();function Oj(e){var t={},n=e.match(Yw),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=Qw(n[r]);switch(a[0].replace(/\w*:/g,``)){case`<condense`:break;case`<extend`:break;case`<shadow`:if(!a.val)break;case`<shadow>`:case`<shadow/>`:t.shadow=1;break;case`</shadow>`:break;case`<charset`:if(a.val==`1`)break;t.cp=gS[parseInt(a.val,10)];break;case`<outline`:if(!a.val)break;case`<outline>`:case`<outline/>`:t.outline=1;break;case`</outline>`:break;case`<rFont`:t.name=a.val;break;case`<sz`:t.sz=a.val;break;case`<strike`:if(!a.val)break;case`<strike>`:case`<strike/>`:t.strike=1;break;case`</strike>`:break;case`<u`:if(!a.val)break;switch(a.val){case`double`:t.uval=`double`;break;case`singleAccounting`:t.uval=`single-accounting`;break;case`doubleAccounting`:t.uval=`double-accounting`;break}case`<u>`:case`<u/>`:t.u=1;break;case`</u>`:break;case`<b`:if(a.val==`0`)break;case`<b>`:case`<b/>`:t.b=1;break;case`</b>`:break;case`<i`:if(a.val==`0`)break;case`<i>`:case`<i/>`:t.i=1;break;case`</i>`:break;case`<color`:a.rgb&&(t.color=a.rgb.slice(2,8));break;case`<color>`:case`<color/>`:case`</color>`:break;case`<family`:t.family=a.val;break;case`<family>`:case`<family/>`:case`</family>`:break;case`<vertAlign`:t.valign=a.val;break;case`<vertAlign>`:case`<vertAlign/>`:case`</vertAlign>`:break;case`<scheme`:break;case`<scheme>`:case`<scheme/>`:case`</scheme>`:break;case`<extLst`:case`<extLst>`:case`</extLst>`:break;case`<ext`:i=!0;break;case`</ext>`:i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw Error(`Unrecognized rich format `+a[0])}}return t}var kj=(function(){var e=yT(`t`),t=yT(`rPr`);function n(n){var r=n.match(e);if(!r)return{t:`s`,v:``};var i={t:`s`,v:nT(r[1])},a=n.match(t);return a&&(i.s=Oj(a[1])),i}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,``).split(i).map(n).filter(function(e){return e.v})}})(),Aj=(function(){var e=/(\r\n|\n)/g;function t(e,t,n){var r=[];e.u&&r.push(`text-decoration: underline;`),e.uval&&r.push(`text-underline-style:`+e.uval+`;`),e.sz&&r.push(`font-size:`+e.sz+`pt;`),e.outline&&r.push(`text-effect: outline;`),e.shadow&&r.push(`text-shadow: auto;`),t.push(`<span style="`+r.join(``)+`">`),e.b&&(t.push(`<b>`),n.push(`</b>`)),e.i&&(t.push(`<i>`),n.push(`</i>`)),e.strike&&(t.push(`<s>`),n.push(`</s>`));var i=e.valign||``;return i==`superscript`||i==`super`?i=`sup`:i==`subscript`&&(i=`sub`),i!=``&&(t.push(`<`+i+`>`),n.push(`</`+i+`>`)),n.push(`</span>`),e}function n(n){var r=[[],n.v,[]];return n.v?(n.s&&t(n.s,r[0],r[2]),r[0].join(``)+r[1].replace(e,`<br/>`)+r[2].join(``)):``}return function(e){return e.map(n).join(``)}})(),jj=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Mj=/<(?:\w+:)?r>/,Nj=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Pj(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=nT(_T(e.slice(e.indexOf(`>`)+1).split(/<\/(?:\w+:)?t>/)[0]||``)),r.r=_T(e),n&&(r.h=cT(r.t))):e.match(Mj)&&(r.r=_T(e),r.t=nT(_T((e.replace(Nj,``).match(jj)||[]).join(``).replace(Yw,``))),n&&(r.h=Aj(kj(r.r)))),r):{t:``}}var Fj=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Ij=/<(?:\w+:)?(?:si|sstItem)>/g,Lj=/<\/(?:\w+:)?(?:si|sstItem)>/;function Rj(e,t){var n=[],r=``;if(!e)return n;var i=e.match(Fj);if(i){r=i[2].replace(Ij,``).split(Lj);for(var a=0;a!=r.length;++a){var o=Pj(r[a].trim(),t);o!=null&&(n[n.length]=o)}i=Qw(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var zj=/^\s|\s$|[\t\n\r]/;function Bj(e,t){if(!t.bookSST)return``;var n=[Kw];n[n.length]=J(`sst`,null,{xmlns:NT[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],a=`<si>`;i.r?a+=i.r:(a+=`<t`,i.t||=``,i.t.match(zj)&&(a+=` xml:space="preserve"`),a+=`>`+aT(i.t)+`</t>`),a+=`</si>`,n[n.length]=a}return n.length>2&&(n[n.length]=`</sst>`,n[1]=n[1].replace(`/>`,`>`)),n.join(``)}function Vj(e){return[e.read_shift(4),e.read_shift(4)]}function Hj(e,t){var n=[],r=!1;return yE(e,function(e,i,a){switch(a){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||t.WTF)throw Error(`Unexpected record 0x`+a.toString(16))}}),n}function Uj(e,t){return t||=Y(8),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Wj=ZE;function Gj(e){var t=bE();X(t,159,Uj(e));for(var n=0;n<e.length;++n)X(t,19,Wj(e[n]));return X(t,160),t.end()}function Kj(e){if(DS!==void 0)return DS.utils.encode(mS,e);for(var t=[],n=e.split(``),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function qj(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function Jj(e){var t={};return t.id=e.read_shift(0,`lpp4`),t.R=qj(e,4),t.U=qj(e,4),t.W=qj(e,4),t}function Yj(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,`lpp4`)});if(r.name=e.read_shift(0,`lpp4`),r.comps=a,e.l!=n)throw Error(`Bad DataSpaceMapEntry: `+e.l+` != `+n);return r}function Xj(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(Yj(e));return t}function Zj(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,`lpp4`));return t}function Qj(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,`lpp4`),t.name=e.read_shift(0,`lpp4`),t.R=qj(e,4),t.U=qj(e,4),t.W=qj(e,4),t}function $j(e){var t=Qj(e);if(t.ename=e.read_shift(0,`8lpp4`),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw Error(`Bad !Primary record`);return t}function eM(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw`Unrecognized encryption algorithm: `+r.AlgID}if(!i)throw Error(`Encryption Flags/AlgID mismatch`);return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,`utf16le`),e.l=n,r}function tM(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function nM(e){var t=qj(e);switch(t.Minor){case 2:return[t.Minor,rM(e,t)];case 3:return[t.Minor,iM(e,t)];case 4:return[t.Minor,aM(e,t)]}throw Error(`ECMA-376 Encrypted file unrecognized Version: `+t.Minor)}function rM(e){if((e.read_shift(4)&63)!=36)throw Error(`EncryptionInfo mismatch`);return{t:`Std`,h:eM(e,e.read_shift(4)),v:tM(e,e.length-e.l)}}function iM(){throw Error(`File is password-protected: ECMA-376 Extensible`)}function aM(e){var t=[`saltSize`,`blockSize`,`keyBits`,`hashSize`,`cipherAlgorithm`,`cipherChaining`,`hashAlgorithm`,`saltValue`];e.l+=4;var n=e.read_shift(e.length-e.l,`utf8`),r={};return n.replace(Yw,function(e){var n=Qw(e);switch($w(n[0])){case`<?xml`:break;case`<encryption`:case`</encryption>`:break;case`<keyData`:t.forEach(function(e){r[e]=n[e]});break;case`<dataIntegrity`:r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case`<keyEncryptors>`:case`<keyEncryptors`:r.encs=[];break;case`</keyEncryptors>`:break;case`<keyEncryptor`:r.uri=n.uri;break;case`</keyEncryptor>`:break;case`<encryptedKey`:r.encs.push(n);break;default:throw n[0]}}),r}function oM(e,t){var n={},r=n.EncryptionVersionInfo=qj(e,4);if(t-=4,r.Minor!=2)throw Error(`unrecognized minor version code: `+r.Minor);if(r.Major>4||r.Major<2)throw Error(`unrecognized major version code: `+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=eM(e,i),t-=i,n.EncryptionVerifier=tM(e,t),n}function sM(e){var t={},n=t.EncryptionVersionInfo=qj(e,4);if(n.Major!=1||n.Minor!=1)throw`unrecognized version code `+n.Major+` : `+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function cM(e){var t=0,n,r=Kj(e),i=r.length+1,a,o,s,c,l;for(n=FS(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)o=n[a],s=t&16384?1:0,c=t<<1&32767,l=s|c,t=l^o;return t^52811}var lM=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e){return(e/2|e*128)&255},i=function(e,t){return r(e^t)},a=function(e){for(var r=t[e.length-1],i=104,a=e.length-1;a>=0;--a)for(var o=e[a],s=0;s!=7;++s)o&64&&(r^=n[i]),o*=2,--i;return r};return function(t){for(var n=Kj(t),r=a(n),o=n.length,s=FS(16),c=0;c!=16;++c)s[c]=0;var l,u,d;for((o&1)==1&&(l=r>>8,s[o]=i(e[0],l),--o,l=r&255,u=n[n.length-1],s[o]=i(u,l));o>0;)--o,l=r>>8,s[o]=i(n[o],l),--o,l=r&255,s[o]=i(n[o],l);for(o=15,d=15-n.length;d>0;)l=r>>8,s[o]=i(e[d],l),--o,--d,l=r&255,s[o]=i(n[o],l),--o,--d;return s}})(),uM=function(e,t,n,r,i){i||=t,r||=lM(e);var a,o;for(a=0;a!=t.length;++a)o=t[a],o^=r[n],o=(o>>5|o<<3)&255,i[a]=o,++n;return[i,n,r]},dM=function(e){var t=0,n=lM(e);return function(e){var r=uM(``,e,t,n);return t=r[1],r[0]}};function fM(e,t,n,r){var i={key:tk(e),verificationBytes:tk(e)};return n.password&&(i.verifier=cM(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=dM(n.password)),i}function pM(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=sM(e,t):r.Data=oM(e,t),r}function mM(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?pM(e,t-2,r):fM(e,n.biff>=8?t:t-2,n,r),r}var hM=(function(){function e(e,n){switch(n.type){case`base64`:return t(MS(e),n);case`binary`:return t(e,n);case`buffer`:return t(NS&&Buffer.isBuffer(e)?e.toString(`binary`):zS(e),n);case`array`:return t(Ew(e),n)}throw Error(`Unrecognized type `+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw Error(`RTF missing table`);var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach(function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r=/\\\w+\b/g,a=0,o,s=-1;o=r.exec(e);){switch(o[0]){case`\\cell`:var c=e.slice(a,r.lastIndex-o[0].length);if(c[0]==` `&&(c=c.slice(1)),++s,c.length){var l={v:c,t:`s`};Array.isArray(n)?n[t][s]=l:n[FE({r:t,c:s})]=l}break}a=r.lastIndex}s>i.e.c&&(i.e.c=s)}),n[`!ref`]=LE(i),n}function n(t,n){return VE(e(t,n),n)}function r(e){for(var t=[`{\\rtf1\\ansi`],n=RE(e[`!ref`]),r,i=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){t.push(`\\trowd\\trautofit1`);for(var o=n.s.c;o<=n.e.c;++o)t.push(`\\cellx`+(o+1));for(t.push(`\\pard\\intbl`),o=n.s.c;o<=n.e.c;++o){var s=FE({r:a,c:o});r=i?(e[a]||[])[o]:e[s],!(!r||r.v==null&&(!r.f||r.F))&&(t.push(` `+(r.w||(BE(r),r.w))),t.push(`\\cell`))}t.push(`\\pard\\intbl\\row`)}return t.join(``)+`}`}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function gM(e){var t=e.slice(e[0]===`#`?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function _M(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function vM(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o=i-a;if(o===0)return[0,0,t];var s=0,c=0,l=i+a;switch(c=o/(l>1?2-l:l),i){case t:s=((n-r)/o+6)%6;break;case n:s=(r-t)/o+2;break;case r:s=(t-n)/o+4;break}return[s/6,c,l/2]}function yM(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),a=r-i/2,o=[a,a,a],s=6*t,c;if(n!==0)switch(s|0){case 0:case 6:c=i*s,o[0]+=i,o[1]+=c;break;case 1:c=i*(2-s),o[0]+=c,o[1]+=i;break;case 2:c=i*(s-2),o[1]+=i,o[2]+=c;break;case 3:c=i*(4-s),o[1]+=c,o[2]+=i;break;case 4:c=i*(s-4),o[2]+=i,o[0]+=c;break;case 5:c=i*(6-s),o[2]+=c,o[0]+=i;break}for(var l=0;l!=3;++l)o[l]=Math.round(o[l]*255);return o}function bM(e,t){if(t===0)return e;var n=vM(gM(e));return t<0?n[2]*=1+t:n[2]=1-(1-n[2])*(1-t),_M(yM(n))}var xM=6,SM=15,CM=1,wM=xM;function TM(e){return Math.floor((e+Math.round(128/wM)/256)*wM)}function EM(e){return Math.floor((e-5)/wM*100+.5)/100}function DM(e){return Math.round((e*wM+5)/wM*256)/256}function OM(e){return DM(EM(TM(e)))}function kM(e){var t=Math.abs(e-OM(e)),n=wM;if(t>.005)for(wM=CM;wM<SM;++wM)Math.abs(e-OM(e))<=t&&(t=Math.abs(e-OM(e)),n=wM);wM=n}function AM(e){e.width?(e.wpx=TM(e.width),e.wch=EM(e.wpx),e.MDW=wM):e.wpx?(e.wch=EM(e.wpx),e.width=DM(e.wch),e.MDW=wM):typeof e.wch==`number`&&(e.width=DM(e.wch),e.wpx=TM(e.width),e.MDW=wM),e.customWidth&&delete e.customWidth}var jM=96;function MM(e){return e*96/jM}function NM(e){return e*jM/96}var PM={None:`none`,Solid:`solid`,Gray50:`mediumGray`,Gray75:`darkGray`,Gray25:`lightGray`,HorzStripe:`darkHorizontal`,VertStripe:`darkVertical`,ReverseDiagStripe:`darkDown`,DiagStripe:`darkUp`,DiagCross:`darkGrid`,ThickDiagCross:`darkTrellis`,ThinHorzStripe:`lightHorizontal`,ThinVertStripe:`lightVertical`,ThinReverseDiagStripe:`lightDown`,ThinHorzCross:`lightGrid`};function FM(e,t,n,r){t.Borders=[];var i={},a=!1;(e[0].match(Yw)||[]).forEach(function(e){var n=Qw(e);switch($w(n[0])){case`<borders`:case`<borders>`:case`</borders>`:break;case`<border`:case`<border>`:case`<border/>`:i={},n.diagonalUp&&(i.diagonalUp=fT(n.diagonalUp)),n.diagonalDown&&(i.diagonalDown=fT(n.diagonalDown)),t.Borders.push(i);break;case`</border>`:break;case`<left/>`:break;case`<left`:case`<left>`:break;case`</left>`:break;case`<right/>`:break;case`<right`:case`<right>`:break;case`</right>`:break;case`<top/>`:break;case`<top`:case`<top>`:break;case`</top>`:break;case`<bottom/>`:break;case`<bottom`:case`<bottom>`:break;case`</bottom>`:break;case`<diagonal`:case`<diagonal>`:case`<diagonal/>`:break;case`</diagonal>`:break;case`<horizontal`:case`<horizontal>`:case`<horizontal/>`:break;case`</horizontal>`:break;case`<vertical`:case`<vertical>`:case`<vertical/>`:break;case`</vertical>`:break;case`<start`:case`<start>`:case`<start/>`:break;case`</start>`:break;case`<end`:case`<end>`:case`<end/>`:break;case`</end>`:break;case`<color`:case`<color>`:break;case`<color/>`:case`</color>`:break;case`<extLst`:case`<extLst>`:case`</extLst>`:break;case`<ext`:a=!0;break;case`</ext>`:a=!1;break;default:if(r&&r.WTF&&!a)throw Error(`unrecognized `+n[0]+` in borders`)}})}function IM(e,t,n,r){t.Fills=[];var i={},a=!1;(e[0].match(Yw)||[]).forEach(function(e){var n=Qw(e);switch($w(n[0])){case`<fills`:case`<fills>`:case`</fills>`:break;case`<fill>`:case`<fill`:case`<fill/>`:i={},t.Fills.push(i);break;case`</fill>`:break;case`<gradientFill>`:break;case`<gradientFill`:case`</gradientFill>`:t.Fills.push(i),i={};break;case`<patternFill`:case`<patternFill>`:n.patternType&&(i.patternType=n.patternType);break;case`<patternFill/>`:case`</patternFill>`:break;case`<bgColor`:i.bgColor||={},n.indexed&&(i.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(i.bgColor.theme=parseInt(n.theme,10)),n.tint&&(i.bgColor.tint=parseFloat(n.tint)),n.rgb&&(i.bgColor.rgb=n.rgb.slice(-6));break;case`<bgColor/>`:case`</bgColor>`:break;case`<fgColor`:i.fgColor||={},n.theme&&(i.fgColor.theme=parseInt(n.theme,10)),n.tint&&(i.fgColor.tint=parseFloat(n.tint)),n.rgb!=null&&(i.fgColor.rgb=n.rgb.slice(-6));break;case`<fgColor/>`:case`</fgColor>`:break;case`<stop`:case`<stop/>`:break;case`</stop>`:break;case`<color`:case`<color/>`:break;case`</color>`:break;case`<extLst`:case`<extLst>`:case`</extLst>`:break;case`<ext`:a=!0;break;case`</ext>`:a=!1;break;default:if(r&&r.WTF&&!a)throw Error(`unrecognized `+n[0]+` in fills`)}})}function LM(e,t,n,r){t.Fonts=[];var i={},a=!1;(e[0].match(Yw)||[]).forEach(function(e){var o=Qw(e);switch($w(o[0])){case`<fonts`:case`<fonts>`:case`</fonts>`:break;case`<font`:case`<font>`:break;case`</font>`:case`<font/>`:t.Fonts.push(i),i={};break;case`<name`:o.val&&(i.name=_T(o.val));break;case`<name/>`:case`</name>`:break;case`<b`:i.bold=o.val?fT(o.val):1;break;case`<b/>`:i.bold=1;break;case`<i`:i.italic=o.val?fT(o.val):1;break;case`<i/>`:i.italic=1;break;case`<u`:switch(o.val){case`none`:i.underline=0;break;case`single`:i.underline=1;break;case`double`:i.underline=2;break;case`singleAccounting`:i.underline=33;break;case`doubleAccounting`:i.underline=34;break}break;case`<u/>`:i.underline=1;break;case`<strike`:i.strike=o.val?fT(o.val):1;break;case`<strike/>`:i.strike=1;break;case`<outline`:i.outline=o.val?fT(o.val):1;break;case`<outline/>`:i.outline=1;break;case`<shadow`:i.shadow=o.val?fT(o.val):1;break;case`<shadow/>`:i.shadow=1;break;case`<condense`:i.condense=o.val?fT(o.val):1;break;case`<condense/>`:i.condense=1;break;case`<extend`:i.extend=o.val?fT(o.val):1;break;case`<extend/>`:i.extend=1;break;case`<sz`:o.val&&(i.sz=+o.val);break;case`<sz/>`:case`</sz>`:break;case`<vertAlign`:o.val&&(i.vertAlign=o.val);break;case`<vertAlign/>`:case`</vertAlign>`:break;case`<family`:o.val&&(i.family=parseInt(o.val,10));break;case`<family/>`:case`</family>`:break;case`<scheme`:o.val&&(i.scheme=o.val);break;case`<scheme/>`:case`</scheme>`:break;case`<charset`:if(o.val==`1`)break;o.codepage=gS[parseInt(o.val,10)];break;case`<color`:if(i.color||={},o.auto&&(i.color.auto=fT(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var s=WD[i.color.index];i.color.index==81&&(s=WD[1]),s||=WD[1],i.color.rgb=s[0].toString(16)+s[1].toString(16)+s[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=bM(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case`<color/>`:case`</color>`:break;case`<AlternateContent`:a=!0;break;case`</AlternateContent>`:a=!1;break;case`<extLst`:case`<extLst>`:case`</extLst>`:break;case`<ext`:a=!0;break;case`</ext>`:a=!1;break;default:if(r&&r.WTF&&!a)throw Error(`unrecognized `+o[0]+` in fonts`)}})}function RM(e,t,n){t.NumberFmt=[];for(var r=uw(iC),i=0;i<r.length;++i)t.NumberFmt[r[i]]=iC[r[i]];var a=e[0].match(Yw);if(a)for(i=0;i<a.length;++i){var o=Qw(a[i]);switch($w(o[0])){case`<numFmts`:case`</numFmts>`:case`<numFmts/>`:case`<numFmts>`:break;case`<numFmt`:var s=nT(_T(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=s,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=s}ZC(s,c)}break;case`</numFmt>`:break;default:if(n.WTF)throw Error(`unrecognized `+o[0]+` in numFmts`)}}}function zM(e){var t=[`<numFmts>`];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=J(`numFmt`,null,{numFmtId:r,formatCode:aT(e[r])}))}),t.length===1?``:(t[t.length]=`</numFmts>`,t[0]=J(`numFmts`,null,{count:t.length-2}).replace(`/>`,`>`),t.join(``))}var BM=[`numFmtId`,`fillId`,`fontId`,`borderId`,`xfId`],VM=[`applyAlignment`,`applyBorder`,`applyFill`,`applyFont`,`applyNumberFormat`,`applyProtection`,`pivotButton`,`quotePrefix`];function HM(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(Yw)||[]).forEach(function(e){var a=Qw(e),o=0;switch($w(a[0])){case`<cellXfs`:case`<cellXfs>`:case`<cellXfs/>`:case`</cellXfs>`:break;case`<xf`:case`<xf/>`:for(r=a,delete r[0],o=0;o<BM.length;++o)r[BM[o]]&&(r[BM[o]]=parseInt(r[BM[o]],10));for(o=0;o<VM.length;++o)r[VM[o]]&&(r[VM[o]]=fT(r[VM[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case`</xf>`:break;case`<alignment`:case`<alignment/>`:var s={};a.vertical&&(s.vertical=a.vertical),a.horizontal&&(s.horizontal=a.horizontal),a.textRotation!=null&&(s.textRotation=a.textRotation),a.indent&&(s.indent=a.indent),a.wrapText&&(s.wrapText=fT(a.wrapText)),r.alignment=s;break;case`</alignment>`:break;case`<protection`:break;case`</protection>`:case`<protection/>`:break;case`<AlternateContent`:i=!0;break;case`</AlternateContent>`:i=!1;break;case`<extLst`:case`<extLst>`:case`</extLst>`:break;case`<ext`:i=!0;break;case`</ext>`:i=!1;break;default:if(n&&n.WTF&&!i)throw Error(`unrecognized `+a[0]+` in cellXfs`)}})}function UM(e){var t=[];return t[t.length]=J(`cellXfs`,null),e.forEach(function(e){t[t.length]=J(`xf`,null,e)}),t[t.length]=`</cellXfs>`,t.length===2?``:(t[0]=J(`cellXfs`,null,{count:t.length-2}).replace(`/>`,`>`),t.join(``))}var WM=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,o,s){var c={};if(!a)return c;a=a.replace(/<!--([\s\S]*?)-->/gm,``).replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,``);var l;return(l=a.match(e))&&RM(l,c,s),(l=a.match(r))&&LM(l,c,o,s),(l=a.match(n))&&IM(l,c,o,s),(l=a.match(i))&&FM(l,c,o,s),(l=a.match(t))&&HM(l,c,s),c}})();function GM(e,t){var n=[Kw,J(`styleSheet`,null,{xmlns:NT[0],"xmlns:vt":MT.vt})],r;return e.SSF&&(r=zM(e.SSF))!=null&&(n[n.length]=r),n[n.length]=`<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>`,n[n.length]=`<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>`,n[n.length]=`<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>`,n[n.length]=`<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>`,(r=UM(t.cellXfs))&&(n[n.length]=r),n[n.length]=`<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>`,n[n.length]=`<dxfs count="0"/>`,n[n.length]=`<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>`,n.length>2&&(n[n.length]=`</styleSheet>`,n[1]=n[1].replace(`/>`,`>`)),n.join(``)}function KM(e,t){return[e.read_shift(2),KE(e,t-2)]}function qM(e,t,n){n||=Y(6+4*t.length),n.write_shift(2,e),qE(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l??=n.length,r}function JM(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=xD(e,2,n);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),e.read_shift(2)===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign=`superscript`;break;case 2:r.vertAlign=`subscript`;break}var a=e.read_shift(1);a!=0&&(r.underline=a);var o=e.read_shift(1);o>0&&(r.family=o);var s=e.read_shift(1);switch(s>0&&(r.charset=s),e.l++,r.color=yD(e,8),e.read_shift(1)){case 1:r.scheme=`major`;break;case 2:r.scheme=`minor`;break}return r.name=KE(e,t-21),r}function YM(e,t){t||=Y(153),t.write_shift(2,e.sz*20),SD(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign==`superscript`?n=1:e.vertAlign==`subscript`&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),bD(e.color,t);var r=0;return e.scheme==`major`&&(r=1),e.scheme==`minor`&&(r=2),t.write_shift(1,r),qE(e.name,t),t.length>t.l?t.slice(0,t.l):t}var XM=[`none`,`solid`,`mediumGray`,`darkGray`,`lightGray`,`darkHorizontal`,`darkVertical`,`darkDown`,`darkUp`,`darkGrid`,`darkTrellis`,`lightHorizontal`,`lightVertical`,`lightDown`,`lightUp`,`lightGrid`,`lightTrellis`,`gray125`,`gray0625`],ZM,QM=vE;function $M(e,t){t||=Y(84),ZM||=fw(XM);var n=ZM[e.patternType];n??=40,t.write_shift(4,n);var r=0;if(n!=40)for(bD({auto:1},t),bD({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function eN(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function tN(e,t,n){return n||=Y(16),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function nN(e,t){return t||=Y(10),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var rN=vE;function iN(e,t){return t||=Y(51),t.write_shift(1,0),nN(null,t),nN(null,t),nN(null,t),nN(null,t),nN(null,t),t.length>t.l?t.slice(0,t.l):t}function aN(e,t){return t||=Y(52),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),sD(e.name||``,t),t.length>t.l?t.slice(0,t.l):t}function oN(e,t,n){var r=Y(2052);return r.write_shift(4,e),sD(t,r),sD(n,r),r.length>r.l?r.slice(0,r.l):r}function sN(e,t,n){var r={};for(var i in r.NumberFmt=[],iC)r.NumberFmt[i]=iC[i];r.CellXf=[],r.Fonts=[];var a=[],o=!1;return yE(e,function(e,i,s){switch(s){case 44:r.NumberFmt[e[0]]=e[1],ZC(e[1],e[0]);break;case 43:r.Fonts.push(e),e.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=bM(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(e);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(s),o=!0;break;case 38:a.pop(),o=!1;break;default:if(i.T>0)a.push(s);else if(i.T<0)a.pop();else if(!o||n.WTF&&a[a.length-1]!=37)throw Error(`Unexpected record 0x`+s.toString(16))}}),r}function cN(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)t[r]!=null&&++n}),n!=0&&(X(e,615,GE(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&X(e,44,qM(r,t[r]))}),X(e,616))}}function lN(e){var t=1;t!=0&&(X(e,611,GE(t)),X(e,43,YM({sz:12,color:{theme:1},name:`Calibri`,family:2,scheme:`minor`})),X(e,612))}function uN(e){var t=2;t!=0&&(X(e,603,GE(t)),X(e,45,$M({patternType:`none`})),X(e,45,$M({patternType:`gray125`})),X(e,604))}function dN(e){var t=1;t!=0&&(X(e,613,GE(t)),X(e,46,iN({})),X(e,614))}function fN(e){X(e,626,GE(1)),X(e,47,tN({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),X(e,627)}function pN(e,t){X(e,617,GE(t.length)),t.forEach(function(t){X(e,47,tN(t,0))}),X(e,618)}function mN(e){X(e,619,GE(1)),X(e,48,aN({xfId:0,builtinId:0,name:`Normal`})),X(e,620)}function hN(e){X(e,505,GE(0)),X(e,506)}function gN(e){X(e,508,oN(0,`TableStyleMedium9`,`PivotStyleMedium4`)),X(e,509)}function _N(e,t){var n=bE();return X(n,278),cN(n,e.SSF),lN(n,e),uN(n,e),dN(n,e),fN(n,e),pN(n,t.cellXfs),mN(n,e),hN(n,e),gN(n,e),X(n,279),n.end()}var vN=[`</a:lt1>`,`</a:dk1>`,`</a:lt2>`,`</a:dk2>`,`</a:accent1>`,`</a:accent2>`,`</a:accent3>`,`</a:accent4>`,`</a:accent5>`,`</a:accent6>`,`</a:hlink>`,`</a:folHlink>`];function yN(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Yw)||[]).forEach(function(e){var i=Qw(e);switch(i[0]){case`<a:clrScheme`:case`</a:clrScheme>`:break;case`<a:srgbClr`:r.rgb=i.val;break;case`<a:sysClr`:r.rgb=i.lastClr;break;case`<a:dk1>`:case`</a:dk1>`:case`<a:lt1>`:case`</a:lt1>`:case`<a:dk2>`:case`</a:dk2>`:case`<a:lt2>`:case`</a:lt2>`:case`<a:accent1>`:case`</a:accent1>`:case`<a:accent2>`:case`</a:accent2>`:case`<a:accent3>`:case`</a:accent3>`:case`<a:accent4>`:case`</a:accent4>`:case`<a:accent5>`:case`</a:accent5>`:case`<a:accent6>`:case`</a:accent6>`:case`<a:hlink>`:case`</a:hlink>`:case`<a:folHlink>`:case`</a:folHlink>`:i[0].charAt(1)===`/`?(t.themeElements.clrScheme[vN.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw Error(`Unrecognized `+i[0]+` in clrScheme`)}})}function bN(){}function xN(){}var SN=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,CN=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,wN=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function TN(e,t,n){t.themeElements={};var r;[[`clrScheme`,SN,yN],[`fontScheme`,CN,bN],[`fmtScheme`,wN,xN]].forEach(function(i){if(!(r=e.match(i[1])))throw Error(i[0]+` not found in themeElements`);i[2](r,t,n)})}var EN=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function DN(e,t){(!e||e.length===0)&&(e=ON());var n,r={};if(!(n=e.match(EN)))throw Error(`themeElements not found in theme`);return TN(n[0],r,t),r.raw=e,r}function ON(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw==`string`)return e.raw;var n=[Kw];return n[n.length]=`<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">`,n[n.length]=`<a:themeElements>`,n[n.length]=`<a:clrScheme name="Office">`,n[n.length]=`<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>`,n[n.length]=`<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>`,n[n.length]=`<a:dk2><a:srgbClr val="1F497D"/></a:dk2>`,n[n.length]=`<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>`,n[n.length]=`<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>`,n[n.length]=`<a:accent2><a:srgbClr val="C0504D"/></a:accent2>`,n[n.length]=`<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>`,n[n.length]=`<a:accent4><a:srgbClr val="8064A2"/></a:accent4>`,n[n.length]=`<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>`,n[n.length]=`<a:accent6><a:srgbClr val="F79646"/></a:accent6>`,n[n.length]=`<a:hlink><a:srgbClr val="0000FF"/></a:hlink>`,n[n.length]=`<a:folHlink><a:srgbClr val="800080"/></a:folHlink>`,n[n.length]=`</a:clrScheme>`,n[n.length]=`<a:fontScheme name="Office">`,n[n.length]=`<a:majorFont>`,n[n.length]=`<a:latin typeface="Cambria"/>`,n[n.length]=`<a:ea typeface=""/>`,n[n.length]=`<a:cs typeface=""/>`,n[n.length]=`<a:font script="Jpan" typeface=" "/>`,n[n.length]=`<a:font script="Hang" typeface=" "/>`,n[n.length]=`<a:font script="Hans" typeface=""/>`,n[n.length]=`<a:font script="Hant" typeface=""/>`,n[n.length]=`<a:font script="Arab" typeface="Times New Roman"/>`,n[n.length]=`<a:font script="Hebr" typeface="Times New Roman"/>`,n[n.length]=`<a:font script="Thai" typeface="Tahoma"/>`,n[n.length]=`<a:font script="Ethi" typeface="Nyala"/>`,n[n.length]=`<a:font script="Beng" typeface="Vrinda"/>`,n[n.length]=`<a:font script="Gujr" typeface="Shruti"/>`,n[n.length]=`<a:font script="Khmr" typeface="MoolBoran"/>`,n[n.length]=`<a:font script="Knda" typeface="Tunga"/>`,n[n.length]=`<a:font script="Guru" typeface="Raavi"/>`,n[n.length]=`<a:font script="Cans" typeface="Euphemia"/>`,n[n.length]=`<a:font script="Cher" typeface="Plantagenet Cherokee"/>`,n[n.length]=`<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>`,n[n.length]=`<a:font script="Tibt" typeface="Microsoft Himalaya"/>`,n[n.length]=`<a:font script="Thaa" typeface="MV Boli"/>`,n[n.length]=`<a:font script="Deva" typeface="Mangal"/>`,n[n.length]=`<a:font script="Telu" typeface="Gautami"/>`,n[n.length]=`<a:font script="Taml" typeface="Latha"/>`,n[n.length]=`<a:font script="Syrc" typeface="Estrangelo Edessa"/>`,n[n.length]=`<a:font script="Orya" typeface="Kalinga"/>`,n[n.length]=`<a:font script="Mlym" typeface="Kartika"/>`,n[n.length]=`<a:font script="Laoo" typeface="DokChampa"/>`,n[n.length]=`<a:font script="Sinh" typeface="Iskoola Pota"/>`,n[n.length]=`<a:font script="Mong" typeface="Mongolian Baiti"/>`,n[n.length]=`<a:font script="Viet" typeface="Times New Roman"/>`,n[n.length]=`<a:font script="Uigh" typeface="Microsoft Uighur"/>`,n[n.length]=`<a:font script="Geor" typeface="Sylfaen"/>`,n[n.length]=`</a:majorFont>`,n[n.length]=`<a:minorFont>`,n[n.length]=`<a:latin typeface="Calibri"/>`,n[n.length]=`<a:ea typeface=""/>`,n[n.length]=`<a:cs typeface=""/>`,n[n.length]=`<a:font script="Jpan" typeface=" "/>`,n[n.length]=`<a:font script="Hang" typeface=" "/>`,n[n.length]=`<a:font script="Hans" typeface=""/>`,n[n.length]=`<a:font script="Hant" typeface=""/>`,n[n.length]=`<a:font script="Arab" typeface="Arial"/>`,n[n.length]=`<a:font script="Hebr" typeface="Arial"/>`,n[n.length]=`<a:font script="Thai" typeface="Tahoma"/>`,n[n.length]=`<a:font script="Ethi" typeface="Nyala"/>`,n[n.length]=`<a:font script="Beng" typeface="Vrinda"/>`,n[n.length]=`<a:font script="Gujr" typeface="Shruti"/>`,n[n.length]=`<a:font script="Khmr" typeface="DaunPenh"/>`,n[n.length]=`<a:font script="Knda" typeface="Tunga"/>`,n[n.length]=`<a:font script="Guru" typeface="Raavi"/>`,n[n.length]=`<a:font script="Cans" typeface="Euphemia"/>`,n[n.length]=`<a:font script="Cher" typeface="Plantagenet Cherokee"/>`,n[n.length]=`<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>`,n[n.length]=`<a:font script="Tibt" typeface="Microsoft Himalaya"/>`,n[n.length]=`<a:font script="Thaa" typeface="MV Boli"/>`,n[n.length]=`<a:font script="Deva" typeface="Mangal"/>`,n[n.length]=`<a:font script="Telu" typeface="Gautami"/>`,n[n.length]=`<a:font script="Taml" typeface="Latha"/>`,n[n.length]=`<a:font script="Syrc" typeface="Estrangelo Edessa"/>`,n[n.length]=`<a:font script="Orya" typeface="Kalinga"/>`,n[n.length]=`<a:font script="Mlym" typeface="Kartika"/>`,n[n.length]=`<a:font script="Laoo" typeface="DokChampa"/>`,n[n.length]=`<a:font script="Sinh" typeface="Iskoola Pota"/>`,n[n.length]=`<a:font script="Mong" typeface="Mongolian Baiti"/>`,n[n.length]=`<a:font script="Viet" typeface="Arial"/>`,n[n.length]=`<a:font script="Uigh" typeface="Microsoft Uighur"/>`,n[n.length]=`<a:font script="Geor" typeface="Sylfaen"/>`,n[n.length]=`</a:minorFont>`,n[n.length]=`</a:fontScheme>`,n[n.length]=`<a:fmtScheme name="Office">`,n[n.length]=`<a:fillStyleLst>`,n[n.length]=`<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>`,n[n.length]=`<a:gradFill rotWithShape="1">`,n[n.length]=`<a:gsLst>`,n[n.length]=`<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>`,n[n.length]=`<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>`,n[n.length]=`<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>`,n[n.length]=`</a:gsLst>`,n[n.length]=`<a:lin ang="16200000" scaled="1"/>`,n[n.length]=`</a:gradFill>`,n[n.length]=`<a:gradFill rotWithShape="1">`,n[n.length]=`<a:gsLst>`,n[n.length]=`<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>`,n[n.length]=`<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>`,n[n.length]=`</a:gsLst>`,n[n.length]=`<a:lin ang="16200000" scaled="0"/>`,n[n.length]=`</a:gradFill>`,n[n.length]=`</a:fillStyleLst>`,n[n.length]=`<a:lnStyleLst>`,n[n.length]=`<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>`,n[n.length]=`<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>`,n[n.length]=`<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>`,n[n.length]=`</a:lnStyleLst>`,n[n.length]=`<a:effectStyleLst>`,n[n.length]=`<a:effectStyle>`,n[n.length]=`<a:effectLst>`,n[n.length]=`<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>`,n[n.length]=`</a:effectLst>`,n[n.length]=`</a:effectStyle>`,n[n.length]=`<a:effectStyle>`,n[n.length]=`<a:effectLst>`,n[n.length]=`<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>`,n[n.length]=`</a:effectLst>`,n[n.length]=`</a:effectStyle>`,n[n.length]=`<a:effectStyle>`,n[n.length]=`<a:effectLst>`,n[n.length]=`<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>`,n[n.length]=`</a:effectLst>`,n[n.length]=`<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>`,n[n.length]=`<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>`,n[n.length]=`</a:effectStyle>`,n[n.length]=`</a:effectStyleLst>`,n[n.length]=`<a:bgFillStyleLst>`,n[n.length]=`<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>`,n[n.length]=`<a:gradFill rotWithShape="1">`,n[n.length]=`<a:gsLst>`,n[n.length]=`<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>`,n[n.length]=`<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>`,n[n.length]=`<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>`,n[n.length]=`</a:gsLst>`,n[n.length]=`<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>`,n[n.length]=`</a:gradFill>`,n[n.length]=`<a:gradFill rotWithShape="1">`,n[n.length]=`<a:gsLst>`,n[n.length]=`<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>`,n[n.length]=`<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>`,n[n.length]=`</a:gsLst>`,n[n.length]=`<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>`,n[n.length]=`</a:gradFill>`,n[n.length]=`</a:bgFillStyleLst>`,n[n.length]=`</a:fmtScheme>`,n[n.length]=`</a:themeElements>`,n[n.length]=`<a:objectDefaults>`,n[n.length]=`<a:spDef>`,n[n.length]=`<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>`,n[n.length]=`</a:spDef>`,n[n.length]=`<a:lnDef>`,n[n.length]=`<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>`,n[n.length]=`</a:lnDef>`,n[n.length]=`</a:objectDefaults>`,n[n.length]=`<a:extraClrSchemeLst/>`,n[n.length]=`</a:theme>`,n.join(``)}function kN(e,t,n){var r=e.l+t;if(e.read_shift(4)!==124226){if(!n.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var a;try{a=Ww(i,{type:`array`})}catch{return}var o=zw(a,`theme/theme/theme1.xml`,!0);if(o)return DN(o,n)}}function AN(e){return e.read_shift(4)}function jN(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=MN(e,4);break;case 2:t.xclrValue=xk(e,4);break;case 3:t.xclrValue=AN(e,4);break;case 4:e.l+=4;break}return e.l+=8,t}function MN(e,t){return vE(e,t)}function NN(e,t){return vE(e,t)}function PN(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=jN(e,n);break;case 6:r[1]=NN(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw Error(`Unrecognized ExtProp type: `+t+` `+n)}return r}function FN(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(PN(e,n-e.l));return{ixfe:r,ext:a}}function IN(e,t){t.forEach(function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function LN(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:KE(e,t-8)}}function RN(e){var t=Y(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),qE(e.name,t),t.slice(0,t.l)}function zN(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function BN(e){var t=Y(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function VN(e,t){var n=Y(8+2*t.length);return n.write_shift(4,e),qE(t,n),n.slice(0,n.l)}function HN(e){return e.l+=4,e.read_shift(4)!=0}function UN(e,t){var n=Y(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}function WN(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],o=!1,s=2;return yE(e,function(e,t,n){switch(n){case 335:r.Types.push({name:e.name});break;case 51:e.forEach(function(e){s==1?r.Cell.push({type:r.Types[e[0]-1].name,index:e[1]}):s==0&&r.Value.push({type:r.Types[e[0]-1].name,index:e[1]})});break;case 337:s=e?1:0;break;case 338:s=2;break;case 35:a.push(n),o=!0;break;case 36:a.pop(),o=!1;break;default:if(!t.T&&(!o||i.WTF&&a[a.length-1]!=35))throw Error(`Unexpected record 0x`+n.toString(16))}}),r}function GN(){var e=bE();return X(e,332),X(e,334,GE(1)),X(e,335,RN({name:`XLDAPR`,version:12e4,flags:3496657072})),X(e,336),X(e,339,VN(1,`XLDAPR`)),X(e,52),X(e,35,GE(514)),X(e,4096,GE(0)),X(e,4097,nk(1)),X(e,36),X(e,53),X(e,340),X(e,337,UN(1,!0)),X(e,51,BN([[1,0]])),X(e,338),X(e,333),e.end()}function KN(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,a=2,o;return e.replace(Yw,function(e){var t=Qw(e);switch($w(t[0])){case`<?xml`:break;case`<metadata`:case`</metadata>`:break;case`<metadataTypes`:case`</metadataTypes>`:break;case`<metadataType`:r.Types.push({name:t.name});break;case`</metadataType>`:break;case`<futureMetadata`:for(var s=0;s<r.Types.length;++s)r.Types[s].name==t.name&&(o=r.Types[s]);break;case`</futureMetadata>`:break;case`<bk>`:break;case`</bk>`:break;case`<rc`:a==1?r.Cell.push({type:r.Types[t.t-1].name,index:+t.v}):a==0&&r.Value.push({type:r.Types[t.t-1].name,index:+t.v});break;case`</rc>`:break;case`<cellMetadata`:a=1;break;case`</cellMetadata>`:a=2;break;case`<valueMetadata`:a=0;break;case`</valueMetadata>`:a=2;break;case`<extLst`:case`<extLst>`:case`</extLst>`:case`<extLst/>`:break;case`<ext`:i=!0;break;case`</ext>`:i=!1;break;case`<rvb`:if(!o)break;o.offsets||=[],o.offsets.push(+t.i);break;default:if(!i&&n.WTF)throw Error(`unrecognized `+t[0]+` in metadata`)}return e}),r}function qN(){var e=[Kw];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join(``)}function JN(e){var t=[];if(!e)return t;var n=1;return(e.match(Yw)||[]).forEach(function(e){var r=Qw(e);switch(r[0]){case`<?xml`:break;case`<calcChain`:case`<calcChain>`:case`</calcChain>`:break;case`<c`:delete r[0],r.i?n=r.i:r.i=n,t.push(r);break}}),t}function YN(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=FE(n);var r=e.read_shift(1);return r&2&&(t.l=`1`),r&8&&(t.a=`1`),t}function XN(e,t,n){var r=[],i=!1;return yE(e,function(e,t,a){switch(a){case 63:r.push(e);break;default:if(!t.T&&(!i||n.WTF))throw Error(`Unexpected record 0x`+a.toString(16))}}),r}function ZN(e,t,n,r){if(!e)return e;var i=r||{},a=!1,o=!1;yE(e,function(e,t,n){if(!o)switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!t.T&&(!a||i.WTF))throw Error(`Unexpected record 0x`+n.toString(16))}},i)}function QN(e,t){if(!e)return`??`;var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||[``,``])[1];return t[`!id`][n].Target}var $N=1024;function eP(e,t){for(var n=[21600,21600],r=[`m0,0l0`,n[1],n[0],n[1],n[0],`0xe`].join(`,`),i=[J(`xml`,null,{"xmlns:v":PT.v,"xmlns:o":PT.o,"xmlns:x":PT.x,"xmlns:mv":PT.mv}).replace(/\/>/,`>`),J(`o:shapelayout`,J(`o:idmap`,null,{"v:ext":`edit`,data:e}),{"v:ext":`edit`}),J(`v:shapetype`,[J(`v:stroke`,null,{joinstyle:`miter`}),J(`v:path`,null,{gradientshapeok:`t`,"o:connecttype":`rect`})].join(``),{id:`_x0000_t202`,"o:spt":202,coordsize:n.join(`,`),path:r})];$N<e*1e3;)$N+=1e3;return t.forEach(function(e){var t=PE(e[0]),n={color2:`#BEFF82`,type:`gradient`};n.type==`gradient`&&(n.angle=`-180`);var r=J(`v:fill`,n.type==`gradient`?J(`o:fill`,null,{type:`gradientUnscaled`,"v:ext":`view`}):null,n);++$N,i=i.concat([`<v:shape`+DT({id:`_x0000_s`+$N,type:`#_x0000_t202`,style:`position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10`+(e[1].hidden?`;visibility:hidden`:``),fillcolor:`#ECFAD4`,strokecolor:`#edeaa1`})+`>`,r,J(`v:shadow`,null,{on:`t`,obscured:`t`}),J(`v:path`,null,{"o:connecttype":`none`}),`<v:textbox><div style="text-align:left"></div></v:textbox>`,`<x:ClientData ObjectType="Note">`,`<x:MoveWithCells/>`,`<x:SizeWithCells/>`,ET(`x:Anchor`,[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(`,`)),ET(`x:AutoFill`,`False`),ET(`x:Row`,String(t.r)),ET(`x:Column`,String(t.c)),e[1].hidden?``:`<x:Visible/>`,`</x:ClientData>`,`</v:shape>`])}),i.push(`</xml>`),i.join(``)}function tP(e,t,n,r){var i=Array.isArray(e),a;t.forEach(function(t){var o=PE(t.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[t.ref],!a){a={t:`z`},i?e[o.r][o.c]=a:e[t.ref]=a;var s=RE(e[`!ref`]||`BDWGO1000001:A1`);s.s.r>o.r&&(s.s.r=o.r),s.e.r<o.r&&(s.e.r=o.r),s.s.c>o.c&&(s.s.c=o.c),s.e.c<o.c&&(s.e.c=o.c);var c=LE(s);c!==e[`!ref`]&&(e[`!ref`]=c)}a.c||=[];var l={a:t.author,t:t.t,r:t.r,T:n};t.h&&(l.h=t.h);for(var u=a.c.length-1;u>=0;--u){if(!n&&a.c[u].T)return;n&&!a.c[u].T&&a.c.splice(u,1)}if(n&&r){for(u=0;u<r.length;++u)if(l.a==r[u].id){l.a=r[u].name||l.a;break}}a.c.push(l)})}function nP(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(e){if(!(e===``||e.trim()===``)){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(e){if(!(e===``||e.trim()===``)){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var a=Qw(i[0]),o={author:a.authorId&&n[a.authorId]||`sheetjsghost`,ref:a.ref,guid:a.guid},s=PE(a.ref);if(!(t.sheetRows&&t.sheetRows<=s.r)){var c=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),l=!!c&&!!c[1]&&Pj(c[1])||{r:``,t:``,h:``};o.r=l.r,l.r==`<t></t>`&&(l.t=l.h=``),o.t=(l.t||``).replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(o.h=l.h),r.push(o)}}}}),r}function rP(e){var t=[Kw,J(`comments`,null,{xmlns:NT[0]})],n=[];return t.push(`<authors>`),e.forEach(function(e){e[1].forEach(function(e){var r=aT(e.a);n.indexOf(r)==-1&&(n.push(r),t.push(`<author>`+r+`</author>`)),e.T&&e.ID&&n.indexOf(`tc=`+e.ID)==-1&&(n.push(`tc=`+e.ID),t.push(`<author>tc=`+e.ID+`</author>`))})}),n.length==0&&(n.push(`SheetJ5`),t.push(`<author>SheetJ5</author>`)),t.push(`</authors>`),t.push(`<commentList>`),e.forEach(function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf(`tc=`+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(aT(e.a))),i.push(e.t||``)}),t.push(`<comment ref="`+e[0]+`" authorId="`+r+`"><text>`),i.length<=1)t.push(ET(`t`,aT(i[0]||``)));else{for(var a=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)a+=`Reply:
    `+i[o]+`
`;t.push(ET(`t`,aT(a)))}t.push(`</text></comment>`)}),t.push(`</commentList>`),t.length>2&&(t[t.length]=`</comments>`,t[1]=t[1].replace(`/>`,`>`)),t.join(``)}function iP(e,t){var n=[],r=!1,i={},a=0;return e.replace(Yw,function(o,s){var c=Qw(o);switch($w(c[0])){case`<?xml`:break;case`<ThreadedComments`:break;case`</ThreadedComments>`:break;case`<threadedComment`:i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case`</threadedComment>`:i.t!=null&&n.push(i);break;case`<text>`:case`<text`:a=s+o.length;break;case`</text>`:i.t=e.slice(a,s).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case`<mentions`:case`<mentions>`:r=!0;break;case`</mentions>`:r=!1;break;case`<extLst`:case`<extLst>`:case`</extLst>`:case`<extLst/>`:break;case`<ext`:r=!0;break;case`</ext>`:r=!1;break;default:if(!r&&t.WTF)throw Error(`unrecognized `+c[0]+` in threaded comments`)}return o}),n}function aP(e,t,n){var r=[Kw,J(`ThreadedComments`,null,{xmlns:MT.TCMNT}).replace(/[\/]>/,`>`)];return e.forEach(function(e){var i=``;(e[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var s={ref:e[0],id:`{54EE7951-7262-4200-6969-`+(`000000000000`+ n.tcid++).slice(-12)+`}`};o==0?i=s.id:s.parentId=i,a.ID=s.id,a.a&&(s.personId=`{54EE7950-7262-4200-6969-`+(`000000000000`+t.indexOf(a.a)).slice(-12)+`}`),r.push(J(`threadedComment`,ET(`text`,a.t||``),s))})}),r.push(`</ThreadedComments>`),r.join(``)}function oP(e,t){var n=[],r=!1;return e.replace(Yw,function(e){var i=Qw(e);switch($w(i[0])){case`<?xml`:break;case`<personList`:break;case`</personList>`:break;case`<person`:n.push({name:i.displayname,id:i.id});break;case`</person>`:break;case`<extLst`:case`<extLst>`:case`</extLst>`:case`<extLst/>`:break;case`<ext`:r=!0;break;case`</ext>`:r=!1;break;default:if(!r&&t.WTF)throw Error(`unrecognized `+i[0]+` in threaded comments`)}return e}),n}function sP(e){var t=[Kw,J(`personList`,null,{xmlns:MT.TCMNT,"xmlns:x":NT[0]}).replace(/[\/]>/,`>`)];return e.forEach(function(e,n){t.push(J(`person`,null,{displayName:e,id:`{54EE7950-7262-4200-6969-`+(`000000000000`+n).slice(-12)+`}`,userId:e,providerId:`None`}))}),t.push(`</personList>`),t.join(``)}function cP(e){var t={};t.iauthor=e.read_shift(4);var n=hD(e,16);return t.rfx=n.s,t.ref=FE(n.s),e.l+=16,t}function lP(e,t){return t??=Y(36),t.write_shift(4,e[1].iauthor),gD(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var uP=KE;function dP(e){return qE(e.slice(0,54))}function fP(e,t){var n=[],r=[],i={},a=!1;return yE(e,function(e,o,s){switch(s){case 632:r.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||=``,delete i.rfx,n.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!o.T&&(!a||t.WTF))throw Error(`Unexpected record 0x`+s.toString(16))}}),n}function pP(e){var t=bE(),n=[];return X(t,628),X(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),X(t,632,dP(e.a)))})}),X(t,631),X(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a),X(t,635,lP([{s:PE(e[0]),e:PE(e[0])},r])),r.t&&r.t.length>0&&X(t,637,$E(r)),X(t,636),delete r.iauthor})}),X(t,634),X(t,629),t.end()}var mP=`application/vnd.ms-office.vbaProject`;function hP(e){var t=aw.utils.cfb_new({root:`R`});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)===`/`||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,`R`).replace(/\/_VBA_PROJECT_CUR\u0000*/,``);aw.utils.cfb_add(t,i,e.FileIndex[r].content)}}),aw.write(t)}function gP(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,`/_VBA_PROJECT_CUR/`);i.slice(-1)!==`/`&&aw.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var _P=[`xlsb`,`xlsm`,`xlam`,`biff8`,`xla`];function vP(){return{"!type":`dialog`}}function yP(){return{"!type":`dialog`}}function bP(){return{"!type":`macro`}}function xP(){return{"!type":`macro`}}var SP=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var a=!1,o=!1;r.length==0?o=!0:r.charAt(0)==`[`&&(o=!0,r=r.slice(1,-1)),i.length==0?a=!0:i.charAt(0)==`[`&&(a=!0,i=i.slice(1,-1));var s=r.length>0?parseInt(r,10)|0:0,c=i.length>0?parseInt(i,10)|0:0;return a?c+=t.c:--c,o?s+=t.r:--s,n+(a?``:`$`)+AE(c)+(o?``:`$`)+EE(s)}return function(r,i){return t=i,r.replace(e,n)}})(),CP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wP=(function(){return function(e,t){return e.replace(CP,function(e,n,r,i,a,o){var s=kE(i)-(r?0:t.c),c=TE(o)-(a?0:t.r),l=c==0?``:a?c+1:`[`+c+`]`,u=s==0?``:r?s+1:`[`+s+`]`;return n+`R`+l+`C`+u})}})();function TP(e,t){return e.replace(CP,function(e,n,r,i,a,o){return n+(r==`$`?r+i:AE(kE(i)+t.c))+(a==`$`?a+o:EE(TE(o)+t.r))})}function EP(e,t,n){var r=IE(t).s,i=PE(n);return TP(e,{r:i.r-r.r,c:i.c-r.c})}function DP(e){return e.length!=1}function OP(e){return e.replace(/_xlfn\./g,``)}function kP(e){e.l+=1}function AP(e,t){var n=e.read_shift(t==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function jP(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return MP(e,t,n);n.biff==12&&(r=4)}var i=e.read_shift(r),a=e.read_shift(r),o=AP(e,2),s=AP(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function MP(e){var t=AP(e,2),n=AP(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function NP(e,t,n){if(n.biff<8)return MP(e,t,n);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),a=AP(e,2),o=AP(e,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function PP(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return FP(e,t,n);var r=e.read_shift(n&&n.biff==12?4:2),i=AP(e,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function FP(e){var t=AP(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function IP(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function LP(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return RP(e,t,n);var i=e.read_shift(r>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a-=16384;return{r:i,c:a,cRel:o,rRel:s}}function RP(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t-=16384),i==1&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}function zP(e,t,n){return[(e[e.l++]&96)>>5,jP(e,n.biff>=2&&n.biff<=5?6:8,n)]}function BP(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,`i`),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return[r,i,jP(e,a,n)]}function VP(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function HP(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[r,i]}function UP(e,t,n){return[(e[e.l++]&96)>>5,NP(e,t-1,n)]}function WP(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function GP(e){var t=e[e.l+1]&1;return e.l+=4,[t,1]}function KP(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function qP(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function JP(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function YP(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function XP(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function ZP(e){return[e.read_shift(1),e.read_shift(1)]}function QP(e){return e.read_shift(2),ZP(e,2)}function $P(e){return e.read_shift(2),ZP(e,2)}function eF(e,t,n){var r=(e[e.l]&96)>>5;return e.l+=1,[r,PP(e,0,n)]}function tF(e,t,n){var r=(e[e.l]&96)>>5;return e.l+=1,[r,LP(e,0,n)]}function nF(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);return n&&n.biff==5&&(e.l+=12),[r,i,PP(e,0,n)]}function rF(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[yI[i],vI[i],r]}function iF(e,t,n){var r=e[e.l++],i=e.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:aF(e);return[i,(a[0]===0?vI:_I)[a[1]]]}function aF(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function oF(e,t,n){e.l+=n&&n.biff==2?3:4}function sF(e,t,n){return e.l++,n&&n.biff==12?[e.read_shift(4,`i`),0]:[e.read_shift(2),e.read_shift(n&&n.biff==2?1:2)]}function cF(e){return e.l++,GD[e.read_shift(1)]}function lF(e){return e.l++,e.read_shift(2)}function uF(e){return e.l++,e.read_shift(1)!==0}function dF(e){return e.l++,_D(e,8)}function fF(e,t,n){return e.l++,ok(e,t-1,n)}function pF(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=$O(e,1)?`TRUE`:`FALSE`,t!=12&&(e.l+=7);break;case 37:case 16:n[1]=GD[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=_D(e,8);break;case 2:n[1]=dk(e,0,{biff:t>0&&t<8?2:t});break;default:throw Error(`Bad SerAr: `+n[0])}return n}function mF(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?hD:Ak)(e,8));return i}function hF(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=pF(e,n.biff);return o}function gF(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,a]}function _F(e,t,n){return n.biff==5?vF(e,t,n):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}function vF(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,`i`);e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function yF(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&n.biff==2?3:4,[r,e.read_shift(n&&n.biff==2?1:2)]}function bF(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&n.biff==2?1:2)]}function xF(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function SF(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[r,i]}var CF=vE,wF=vE,TF=vE;function EF(e,t,n){return e.l+=2,[IP(e,4,n)]}function DF(e){return e.l+=6,[]}var OF=EF,kF=DF,AF=DF,jF=EF;function MF(e){return e.l+=2,[tk(e),e.read_shift(2)&1]}var NF=EF,PF=MF,FF=DF,IF=EF,LF=EF,RF=[`Data`,`All`,`Headers`,`??`,`?Data2`,`??`,`?DataHeaders`,`??`,`Totals`,`??`,`??`,`??`,`?DataTotals`,`??`,`??`,`??`,`?Current`];function zF(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=RF[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:a}}function BF(e){return e.l+=2,[e.read_shift(4)]}function VF(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,[`PTGSHEET`]}function HF(e,t,n){return e.l+=n.biff==2?4:5,[`PTGENDSHEET`]}function UF(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}function WF(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}function GF(e){return e.l+=4,[0,0]}var KF={1:{n:`PtgExp`,f:sF},2:{n:`PtgTbl`,f:TF},3:{n:`PtgAdd`,f:kP},4:{n:`PtgSub`,f:kP},5:{n:`PtgMul`,f:kP},6:{n:`PtgDiv`,f:kP},7:{n:`PtgPower`,f:kP},8:{n:`PtgConcat`,f:kP},9:{n:`PtgLt`,f:kP},10:{n:`PtgLe`,f:kP},11:{n:`PtgEq`,f:kP},12:{n:`PtgGe`,f:kP},13:{n:`PtgGt`,f:kP},14:{n:`PtgNe`,f:kP},15:{n:`PtgIsect`,f:kP},16:{n:`PtgUnion`,f:kP},17:{n:`PtgRange`,f:kP},18:{n:`PtgUplus`,f:kP},19:{n:`PtgUminus`,f:kP},20:{n:`PtgPercent`,f:kP},21:{n:`PtgParen`,f:kP},22:{n:`PtgMissArg`,f:kP},23:{n:`PtgStr`,f:fF},26:{n:`PtgSheet`,f:VF},27:{n:`PtgEndSheet`,f:HF},28:{n:`PtgErr`,f:cF},29:{n:`PtgBool`,f:uF},30:{n:`PtgInt`,f:lF},31:{n:`PtgNum`,f:dF},32:{n:`PtgArray`,f:WP},33:{n:`PtgFunc`,f:rF},34:{n:`PtgFuncVar`,f:iF},35:{n:`PtgName`,f:gF},36:{n:`PtgRef`,f:eF},37:{n:`PtgArea`,f:zP},38:{n:`PtgMemArea`,f:yF},39:{n:`PtgMemErr`,f:CF},40:{n:`PtgMemNoMem`,f:wF},41:{n:`PtgMemFunc`,f:bF},42:{n:`PtgRefErr`,f:xF},43:{n:`PtgAreaErr`,f:VP},44:{n:`PtgRefN`,f:tF},45:{n:`PtgAreaN`,f:UP},46:{n:`PtgMemAreaN`,f:UF},47:{n:`PtgMemNoMemN`,f:WF},57:{n:`PtgNameX`,f:_F},58:{n:`PtgRef3d`,f:nF},59:{n:`PtgArea3d`,f:BP},60:{n:`PtgRefErr3d`,f:SF},61:{n:`PtgAreaErr3d`,f:HP},255:{}},qF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},JF={1:{n:`PtgElfLel`,f:MF},2:{n:`PtgElfRw`,f:IF},3:{n:`PtgElfCol`,f:OF},6:{n:`PtgElfRwV`,f:LF},7:{n:`PtgElfColV`,f:jF},10:{n:`PtgElfRadical`,f:NF},11:{n:`PtgElfRadicalS`,f:FF},13:{n:`PtgElfColS`,f:kF},15:{n:`PtgElfColSV`,f:AF},16:{n:`PtgElfRadicalLel`,f:PF},25:{n:`PtgList`,f:zF},29:{n:`PtgSxName`,f:BF},255:{}},YF={0:{n:`PtgAttrNoop`,f:GF},1:{n:`PtgAttrSemi`,f:XP},2:{n:`PtgAttrIf`,f:JP},4:{n:`PtgAttrChoose`,f:KP},8:{n:`PtgAttrGoto`,f:qP},16:{n:`PtgAttrSum`,f:oF},32:{n:`PtgAttrBaxcel`,f:GP},33:{n:`PtgAttrBaxcel`,f:GP},64:{n:`PtgAttrSpace`,f:QP},65:{n:`PtgAttrSpaceSemi`,f:$P},128:{n:`PtgAttrIfError`,f:YP},255:{}};function XF(e,t,n,r){if(r.biff<8)return vE(e,t);for(var i=e.l+t,a=[],o=0;o!==n.length;++o)switch(n[o][0]){case`PtgArray`:n[o][1]=hF(e,0,r),a.push(n[o][1]);break;case`PtgMemArea`:n[o][2]=mF(e,n[o][1],r),a.push(n[o][2]);break;case`PtgExp`:r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),a.push(n[o][1]));break;case`PtgList`:case`PtgElfRadicalS`:case`PtgElfColS`:case`PtgElfColSV`:throw`Unsupported `+n[o][0];default:break}return t=i-e.l,t!==0&&a.push(vE(e,t)),a}function ZF(e,t,n){for(var r=e.l+t,i,a,o=[];r!=e.l;)t=r-e.l,a=e[e.l],i=KF[a]||KF[qF[a]],(a===24||a===25)&&(i=(a===24?JF:YF)[e[e.l+1]]),!i||!i.f?vE(e,t):o.push([i.n,i.f(e,t,n)]);return o}function QF(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],a=0;a<r.length;++a){var o=r[a];if(o)switch(o[0]){case 2:i.push(`"`+o[1].replace(/"/g,`""`)+`"`);break;default:i.push(o[1])}else i.push(``)}t.push(i.join(`,`))}return t.join(`;`)}var $F={PtgAdd:`+`,PtgConcat:`&`,PtgDiv:`/`,PtgEq:`=`,PtgGe:`>=`,PtgGt:`>`,PtgLe:`<=`,PtgLt:`<`,PtgMul:`*`,PtgNe:`<>`,PtgPower:`^`,PtgSub:`-`};function eI(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw Error(`empty sheet name`);return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?`'`+e+`'`:e}function tI(e,t,n){if(!e)return`SH33TJSERR0`;if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return`SH33TJSERR6`;var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?``:e.XTI[t-1];if(!r)return`SH33TJSERR1`;var i=``;if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?`#REF`:e.SheetNames[r[1]],r[1]==r[2]?i:i+`:`+e.SheetNames[r[2]];case 358:return n.SID==null?`SH33TJSSAME`+e[r[0]][0]:e.SheetNames[n.SID];case 355:default:return`SH33TJSSRC`+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?`#REF`:e.SheetNames[r[1]]||`SH33TJSERR3`,r[1]==r[2]?i:i+`:`+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(`;;`);default:return e[r[0]][0][3]?(i=r[1]==-1?`#REF`:e[r[0]][0][3][r[1]]||`SH33TJSERR4`,r[1]==r[2]?i:i+`:`+e[r[0]][0][3][r[2]]):`SH33TJSERR2`}}function nI(e,t,n){var r=tI(e,t,n);return r==`#REF`?r:eI(r,n)}function rI(e,t,n,r,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],c,l,u,d=0,f=0,p,m=``;if(!e[0]||!e[0][0])return``;for(var h=-1,g=``,_=0,v=e[0].length;_<v;++_){var y=e[0][_];switch(y[0]){case`PtgUminus`:s.push(`-`+s.pop());break;case`PtgUplus`:s.push(`+`+s.pop());break;case`PtgPercent`:s.push(s.pop()+`%`);break;case`PtgAdd`:case`PtgConcat`:case`PtgDiv`:case`PtgEq`:case`PtgGe`:case`PtgGt`:case`PtgLe`:case`PtgLt`:case`PtgMul`:case`PtgNe`:case`PtgPower`:case`PtgSub`:if(c=s.pop(),l=s.pop(),h>=0){switch(e[0][h][1][0]){case 0:g=Ow(` `,e[0][h][1][1]);break;case 1:g=Ow(`\r`,e[0][h][1][1]);break;default:if(g=``,i.WTF)throw Error(`Unexpected PtgAttrSpaceType `+e[0][h][1][0])}l+=g,h=-1}s.push(l+$F[y[0]]+c);break;case`PtgIsect`:c=s.pop(),l=s.pop(),s.push(l+` `+c);break;case`PtgUnion`:c=s.pop(),l=s.pop(),s.push(l+`,`+c);break;case`PtgRange`:c=s.pop(),l=s.pop(),s.push(l+`:`+c);break;case`PtgAttrChoose`:break;case`PtgAttrGoto`:break;case`PtgAttrIf`:break;case`PtgAttrIfError`:break;case`PtgRef`:u=xE(y[1][1],o,i),s.push(CE(u,a));break;case`PtgRefN`:u=n?xE(y[1][1],n,i):y[1][1],s.push(CE(u,a));break;case`PtgRef3d`:d=y[1][1],u=xE(y[1][2],o,i),m=nI(r,d,i),s.push(m+`!`+CE(u,a));break;case`PtgFunc`:case`PtgFuncVar`:var b=y[1][0],x=y[1][1];b||=0,b&=127;var S=b==0?[]:s.slice(-b);s.length-=b,x===`User`&&(x=S.shift()),s.push(x+`(`+S.join(`,`)+`)`);break;case`PtgBool`:s.push(y[1]?`TRUE`:`FALSE`);break;case`PtgInt`:s.push(y[1]);break;case`PtgNum`:s.push(String(y[1]));break;case`PtgStr`:s.push(`"`+y[1].replace(/"/g,`""`)+`"`);break;case`PtgErr`:s.push(y[1]);break;case`PtgAreaN`:p=SE(y[1][1],n?{s:n}:o,i),s.push(wE(p,i));break;case`PtgArea`:p=SE(y[1][1],o,i),s.push(wE(p,i));break;case`PtgArea3d`:d=y[1][1],p=y[1][2],m=nI(r,d,i),s.push(m+`!`+wE(p,i));break;case`PtgAttrSum`:s.push(`SUM(`+s.pop()+`)`);break;case`PtgAttrBaxcel`:case`PtgAttrSemi`:break;case`PtgName`:f=y[1][2];var C=(r.names||[])[f-1]||(r[0]||[])[f],w=C?C.Name:`SH33TJSNAME`+String(f);w&&w.slice(0,6)==`_xlfn.`&&!i.xlfn&&(w=w.slice(6)),s.push(w);break;case`PtgNameX`:var T=y[1][1];f=y[1][2];var E;if(i.biff<=5)T<0&&(T=-T),r[T]&&(E=r[T][f]);else{var D=``;if(((r[T]||[])[0]||[])[0]==14849||(((r[T]||[])[0]||[])[0]==1025?r[T][f]&&r[T][f].itab>0&&(D=r.SheetNames[r[T][f].itab-1]+`!`):D=r.SheetNames[f-1]+`!`),r[T]&&r[T][f])D+=r[T][f].Name;else if(r[0]&&r[0][f])D+=r[0][f].Name;else{var O=(tI(r,T,i)||``).split(`;;`);O[f-1]?D=O[f-1]:D+=`SH33TJSERRX`}s.push(D);break}E||={Name:`SH33TJSERRY`},s.push(E.Name);break;case`PtgParen`:var k=`(`,A=`)`;if(h>=0){switch(g=``,e[0][h][1][0]){case 2:k=Ow(` `,e[0][h][1][1])+k;break;case 3:k=Ow(`\r`,e[0][h][1][1])+k;break;case 4:A=Ow(` `,e[0][h][1][1])+A;break;case 5:A=Ow(`\r`,e[0][h][1][1])+A;break;default:if(i.WTF)throw Error(`Unexpected PtgAttrSpaceType `+e[0][h][1][0])}h=-1}s.push(k+s.pop()+A);break;case`PtgRefErr`:s.push(`#REF!`);break;case`PtgRefErr3d`:s.push(`#REF!`);break;case`PtgExp`:u={c:y[1][1],r:y[1][0]};var j={c:n.c,r:n.r};if(r.sharedf[FE(u)]){var M=r.sharedf[FE(u)];s.push(rI(M,o,j,r,i))}else{var N=!1;for(c=0;c!=r.arrayf.length;++c)if(l=r.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){s.push(rI(l[1],o,j,r,i)),N=!0;break}N||s.push(y[1])}break;case`PtgArray`:s.push(`{`+QF(y[1])+`}`);break;case`PtgMemArea`:break;case`PtgAttrSpace`:case`PtgAttrSpaceSemi`:h=_;break;case`PtgTbl`:break;case`PtgMemErr`:break;case`PtgMissArg`:s.push(``);break;case`PtgAreaErr`:s.push(`#REF!`);break;case`PtgAreaErr3d`:s.push(`#REF!`);break;case`PtgList`:s.push(`Table`+y[1].idx+`[#`+y[1].rt+`]`);break;case`PtgMemAreaN`:case`PtgMemNoMemN`:case`PtgAttrNoop`:case`PtgSheet`:case`PtgEndSheet`:break;case`PtgMemFunc`:break;case`PtgMemNoMem`:break;case`PtgElfCol`:case`PtgElfColS`:case`PtgElfColSV`:case`PtgElfColV`:case`PtgElfLel`:case`PtgElfRadical`:case`PtgElfRadicalLel`:case`PtgElfRadicalS`:case`PtgElfRw`:case`PtgElfRwV`:throw Error(`Unsupported ELFs`);case`PtgSxName`:throw Error(`Unrecognized Formula Token: `+String(y));default:throw Error(`Unrecognized Formula Token: `+String(y))}if(i.biff!=3&&h>=0&&[`PtgAttrSpace`,`PtgAttrSpaceSemi`,`PtgAttrGoto`].indexOf(e[0][_][0])==-1){y=e[0][h];var P=!0;switch(y[1][0]){case 4:P=!1;case 0:g=Ow(` `,y[1][1]);break;case 5:P=!1;case 1:g=Ow(`\r`,y[1][1]);break;default:if(g=``,i.WTF)throw Error(`Unexpected PtgAttrSpaceType `+y[1][0])}s.push((P?g:``)+s.pop()+(P?``:g)),h=-1}}if(s.length>1&&i.WTF)throw Error(`bad formula stack`);return s[0]}function iI(e,t,n){var r=e.l+t,i=n.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],vE(e,t-2)];var s=ZF(e,o,n);return t!==o+i&&(a=XF(e,t-o-i,s,n)),e.l=r,[s,a]}function aI(e,t,n){var r=e.l+t,i=n.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],vE(e,t-2)];var s=ZF(e,o,n);return t!==o+i&&(a=XF(e,t-o-i,s,n)),e.l=r,[s,a]}function oI(e,t,n,r){var i=e.l+t,a=ZF(e,r,n),o;return i!==e.l&&(o=XF(e,i-e.l,a,n)),[a,o]}function sI(e,t,n){var r=e.l+t,i,a=e.read_shift(2),o=ZF(e,a,n);return a==65535?[[],vE(e,t-2)]:(t!==a+2&&(i=XF(e,r-a-2,o,n)),[o,i])}function cI(e){var t;if(oE(e,e.l+6)!==65535)return[_D(e),`n`];switch(e[e.l]){case 0:return e.l+=8,[`String`,`s`];case 1:return t=e[e.l+2]===1,e.l+=8,[t,`b`];case 2:return t=e[e.l+2],e.l+=8,[t,`e`];case 3:return e.l+=8,[``,`s`]}return[]}function lI(e){if(e==null){var t=Y(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e==`number`)return vD(e);return vD(0)}function uI(e,t,n){var r=e.l+t,i=Ck(e,6);n.biff==2&&++e.l;var a=cI(e,8),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var s=aI(e,r-e.l,n);return{cell:i,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function dI(e,t,n,r,i){var a=wk(t,n,i),o=lI(e.v),s=Y(6);s.write_shift(2,33),s.write_shift(4,0);for(var c=Y(e.bf.length),l=0;l<e.bf.length;++l)c[l]=e.bf[l];return HS([a,o,s,c])}function fI(e,t,n){var r=ZF(e,e.read_shift(4),n),i=e.read_shift(4);return[r,i>0?XF(e,i,r,n):null]}var pI=fI,mI=fI,hI=fI,gI=fI,_I={0:`BEEP`,1:`OPEN`,2:`OPEN.LINKS`,3:`CLOSE.ALL`,4:`SAVE`,5:`SAVE.AS`,6:`FILE.DELETE`,7:`PAGE.SETUP`,8:`PRINT`,9:`PRINTER.SETUP`,10:`QUIT`,11:`NEW.WINDOW`,12:`ARRANGE.ALL`,13:`WINDOW.SIZE`,14:`WINDOW.MOVE`,15:`FULL`,16:`CLOSE`,17:`RUN`,22:`SET.PRINT.AREA`,23:`SET.PRINT.TITLES`,24:`SET.PAGE.BREAK`,25:`REMOVE.PAGE.BREAK`,26:`FONT`,27:`DISPLAY`,28:`PROTECT.DOCUMENT`,29:`PRECISION`,30:`A1.R1C1`,31:`CALCULATE.NOW`,32:`CALCULATION`,34:`DATA.FIND`,35:`EXTRACT`,36:`DATA.DELETE`,37:`SET.DATABASE`,38:`SET.CRITERIA`,39:`SORT`,40:`DATA.SERIES`,41:`TABLE`,42:`FORMAT.NUMBER`,43:`ALIGNMENT`,44:`STYLE`,45:`BORDER`,46:`CELL.PROTECTION`,47:`COLUMN.WIDTH`,48:`UNDO`,49:`CUT`,50:`COPY`,51:`PASTE`,52:`CLEAR`,53:`PASTE.SPECIAL`,54:`EDIT.DELETE`,55:`INSERT`,56:`FILL.RIGHT`,57:`FILL.DOWN`,61:`DEFINE.NAME`,62:`CREATE.NAMES`,63:`FORMULA.GOTO`,64:`FORMULA.FIND`,65:`SELECT.LAST.CELL`,66:`SHOW.ACTIVE.CELL`,67:`GALLERY.AREA`,68:`GALLERY.BAR`,69:`GALLERY.COLUMN`,70:`GALLERY.LINE`,71:`GALLERY.PIE`,72:`GALLERY.SCATTER`,73:`COMBINATION`,74:`PREFERRED`,75:`ADD.OVERLAY`,76:`GRIDLINES`,77:`SET.PREFERRED`,78:`AXES`,79:`LEGEND`,80:`ATTACH.TEXT`,81:`ADD.ARROW`,82:`SELECT.CHART`,83:`SELECT.PLOT.AREA`,84:`PATTERNS`,85:`MAIN.CHART`,86:`OVERLAY`,87:`SCALE`,88:`FORMAT.LEGEND`,89:`FORMAT.TEXT`,90:`EDIT.REPEAT`,91:`PARSE`,92:`JUSTIFY`,93:`HIDE`,94:`UNHIDE`,95:`WORKSPACE`,96:`FORMULA`,97:`FORMULA.FILL`,98:`FORMULA.ARRAY`,99:`DATA.FIND.NEXT`,100:`DATA.FIND.PREV`,101:`FORMULA.FIND.NEXT`,102:`FORMULA.FIND.PREV`,103:`ACTIVATE`,104:`ACTIVATE.NEXT`,105:`ACTIVATE.PREV`,106:`UNLOCKED.NEXT`,107:`UNLOCKED.PREV`,108:`COPY.PICTURE`,109:`SELECT`,110:`DELETE.NAME`,111:`DELETE.FORMAT`,112:`VLINE`,113:`HLINE`,114:`VPAGE`,115:`HPAGE`,116:`VSCROLL`,117:`HSCROLL`,118:`ALERT`,119:`NEW`,120:`CANCEL.COPY`,121:`SHOW.CLIPBOARD`,122:`MESSAGE`,124:`PASTE.LINK`,125:`APP.ACTIVATE`,126:`DELETE.ARROW`,127:`ROW.HEIGHT`,128:`FORMAT.MOVE`,129:`FORMAT.SIZE`,130:`FORMULA.REPLACE`,131:`SEND.KEYS`,132:`SELECT.SPECIAL`,133:`APPLY.NAMES`,134:`REPLACE.FONT`,135:`FREEZE.PANES`,136:`SHOW.INFO`,137:`SPLIT`,138:`ON.WINDOW`,139:`ON.DATA`,140:`DISABLE.INPUT`,142:`OUTLINE`,143:`LIST.NAMES`,144:`FILE.CLOSE`,145:`SAVE.WORKBOOK`,146:`DATA.FORM`,147:`COPY.CHART`,148:`ON.TIME`,149:`WAIT`,150:`FORMAT.FONT`,151:`FILL.UP`,152:`FILL.LEFT`,153:`DELETE.OVERLAY`,155:`SHORT.MENUS`,159:`SET.UPDATE.STATUS`,161:`COLOR.PALETTE`,162:`DELETE.STYLE`,163:`WINDOW.RESTORE`,164:`WINDOW.MAXIMIZE`,166:`CHANGE.LINK`,167:`CALCULATE.DOCUMENT`,168:`ON.KEY`,169:`APP.RESTORE`,170:`APP.MOVE`,171:`APP.SIZE`,172:`APP.MINIMIZE`,173:`APP.MAXIMIZE`,174:`BRING.TO.FRONT`,175:`SEND.TO.BACK`,185:`MAIN.CHART.TYPE`,186:`OVERLAY.CHART.TYPE`,187:`SELECT.END`,188:`OPEN.MAIL`,189:`SEND.MAIL`,190:`STANDARD.FONT`,191:`CONSOLIDATE`,192:`SORT.SPECIAL`,193:`GALLERY.3D.AREA`,194:`GALLERY.3D.COLUMN`,195:`GALLERY.3D.LINE`,196:`GALLERY.3D.PIE`,197:`VIEW.3D`,198:`GOAL.SEEK`,199:`WORKGROUP`,200:`FILL.GROUP`,201:`UPDATE.LINK`,202:`PROMOTE`,203:`DEMOTE`,204:`SHOW.DETAIL`,206:`UNGROUP`,207:`OBJECT.PROPERTIES`,208:`SAVE.NEW.OBJECT`,209:`SHARE`,210:`SHARE.NAME`,211:`DUPLICATE`,212:`APPLY.STYLE`,213:`ASSIGN.TO.OBJECT`,214:`OBJECT.PROTECTION`,215:`HIDE.OBJECT`,216:`SET.EXTRACT`,217:`CREATE.PUBLISHER`,218:`SUBSCRIBE.TO`,219:`ATTRIBUTES`,220:`SHOW.TOOLBAR`,222:`PRINT.PREVIEW`,223:`EDIT.COLOR`,224:`SHOW.LEVELS`,225:`FORMAT.MAIN`,226:`FORMAT.OVERLAY`,227:`ON.RECALC`,228:`EDIT.SERIES`,229:`DEFINE.STYLE`,240:`LINE.PRINT`,243:`ENTER.DATA`,249:`GALLERY.RADAR`,250:`MERGE.STYLES`,251:`EDITION.OPTIONS`,252:`PASTE.PICTURE`,253:`PASTE.PICTURE.LINK`,254:`SPELLING`,256:`ZOOM`,259:`INSERT.OBJECT`,260:`WINDOW.MINIMIZE`,265:`SOUND.NOTE`,266:`SOUND.PLAY`,267:`FORMAT.SHAPE`,268:`EXTEND.POLYGON`,269:`FORMAT.AUTO`,272:`GALLERY.3D.BAR`,273:`GALLERY.3D.SURFACE`,274:`FILL.AUTO`,276:`CUSTOMIZE.TOOLBAR`,277:`ADD.TOOL`,278:`EDIT.OBJECT`,279:`ON.DOUBLECLICK`,280:`ON.ENTRY`,281:`WORKBOOK.ADD`,282:`WORKBOOK.MOVE`,283:`WORKBOOK.COPY`,284:`WORKBOOK.OPTIONS`,285:`SAVE.WORKSPACE`,288:`CHART.WIZARD`,289:`DELETE.TOOL`,290:`MOVE.TOOL`,291:`WORKBOOK.SELECT`,292:`WORKBOOK.ACTIVATE`,293:`ASSIGN.TO.TOOL`,295:`COPY.TOOL`,296:`RESET.TOOL`,297:`CONSTRAIN.NUMERIC`,298:`PASTE.TOOL`,302:`WORKBOOK.NEW`,305:`SCENARIO.CELLS`,306:`SCENARIO.DELETE`,307:`SCENARIO.ADD`,308:`SCENARIO.EDIT`,309:`SCENARIO.SHOW`,310:`SCENARIO.SHOW.NEXT`,311:`SCENARIO.SUMMARY`,312:`PIVOT.TABLE.WIZARD`,313:`PIVOT.FIELD.PROPERTIES`,314:`PIVOT.FIELD`,315:`PIVOT.ITEM`,316:`PIVOT.ADD.FIELDS`,318:`OPTIONS.CALCULATION`,319:`OPTIONS.EDIT`,320:`OPTIONS.VIEW`,321:`ADDIN.MANAGER`,322:`MENU.EDITOR`,323:`ATTACH.TOOLBARS`,324:`VBAActivate`,325:`OPTIONS.CHART`,328:`VBA.INSERT.FILE`,330:`VBA.PROCEDURE.DEFINITION`,336:`ROUTING.SLIP`,338:`ROUTE.DOCUMENT`,339:`MAIL.LOGON`,342:`INSERT.PICTURE`,343:`EDIT.TOOL`,344:`GALLERY.DOUGHNUT`,350:`CHART.TREND`,352:`PIVOT.ITEM.PROPERTIES`,354:`WORKBOOK.INSERT`,355:`OPTIONS.TRANSITION`,356:`OPTIONS.GENERAL`,370:`FILTER.ADVANCED`,373:`MAIL.ADD.MAILER`,374:`MAIL.DELETE.MAILER`,375:`MAIL.REPLY`,376:`MAIL.REPLY.ALL`,377:`MAIL.FORWARD`,378:`MAIL.NEXT.LETTER`,379:`DATA.LABEL`,380:`INSERT.TITLE`,381:`FONT.PROPERTIES`,382:`MACRO.OPTIONS`,383:`WORKBOOK.HIDE`,384:`WORKBOOK.UNHIDE`,385:`WORKBOOK.DELETE`,386:`WORKBOOK.NAME`,388:`GALLERY.CUSTOM`,390:`ADD.CHART.AUTOFORMAT`,391:`DELETE.CHART.AUTOFORMAT`,392:`CHART.ADD.DATA`,393:`AUTO.OUTLINE`,394:`TAB.ORDER`,395:`SHOW.DIALOG`,396:`SELECT.ALL`,397:`UNGROUP.SHEETS`,398:`SUBTOTAL.CREATE`,399:`SUBTOTAL.REMOVE`,400:`RENAME.OBJECT`,412:`WORKBOOK.SCROLL`,413:`WORKBOOK.NEXT`,414:`WORKBOOK.PREV`,415:`WORKBOOK.TAB.SPLIT`,416:`FULL.SCREEN`,417:`WORKBOOK.PROTECT`,420:`SCROLLBAR.PROPERTIES`,421:`PIVOT.SHOW.PAGES`,422:`TEXT.TO.COLUMNS`,423:`FORMAT.CHARTTYPE`,424:`LINK.FORMAT`,425:`TRACER.DISPLAY`,430:`TRACER.NAVIGATE`,431:`TRACER.CLEAR`,432:`TRACER.ERROR`,433:`PIVOT.FIELD.GROUP`,434:`PIVOT.FIELD.UNGROUP`,435:`CHECKBOX.PROPERTIES`,436:`LABEL.PROPERTIES`,437:`LISTBOX.PROPERTIES`,438:`EDITBOX.PROPERTIES`,439:`PIVOT.REFRESH`,440:`LINK.COMBO`,441:`OPEN.TEXT`,442:`HIDE.DIALOG`,443:`SET.DIALOG.FOCUS`,444:`ENABLE.OBJECT`,445:`PUSHBUTTON.PROPERTIES`,446:`SET.DIALOG.DEFAULT`,447:`FILTER`,448:`FILTER.SHOW.ALL`,449:`CLEAR.OUTLINE`,450:`FUNCTION.WIZARD`,451:`ADD.LIST.ITEM`,452:`SET.LIST.ITEM`,453:`REMOVE.LIST.ITEM`,454:`SELECT.LIST.ITEM`,455:`SET.CONTROL.VALUE`,456:`SAVE.COPY.AS`,458:`OPTIONS.LISTS.ADD`,459:`OPTIONS.LISTS.DELETE`,460:`SERIES.AXES`,461:`SERIES.X`,462:`SERIES.Y`,463:`ERRORBAR.X`,464:`ERRORBAR.Y`,465:`FORMAT.CHART`,466:`SERIES.ORDER`,467:`MAIL.LOGOFF`,468:`CLEAR.ROUTING.SLIP`,469:`APP.ACTIVATE.MICROSOFT`,470:`MAIL.EDIT.MAILER`,471:`ON.SHEET`,472:`STANDARD.WIDTH`,473:`SCENARIO.MERGE`,474:`SUMMARY.INFO`,475:`FIND.FILE`,476:`ACTIVE.CELL.FONT`,477:`ENABLE.TIPWIZARD`,478:`VBA.MAKE.ADDIN`,480:`INSERTDATATABLE`,481:`WORKGROUP.OPTIONS`,482:`MAIL.SEND.MAILER`,485:`AUTOCORRECT`,489:`POST.DOCUMENT`,491:`PICKLIST`,493:`VIEW.SHOW`,494:`VIEW.DEFINE`,495:`VIEW.DELETE`,509:`SHEET.BACKGROUND`,510:`INSERT.MAP.OBJECT`,511:`OPTIONS.MENONO`,517:`MSOCHECKS`,518:`NORMAL`,519:`LAYOUT`,520:`RM.PRINT.AREA`,521:`CLEAR.PRINT.AREA`,522:`ADD.PRINT.AREA`,523:`MOVE.BRK`,545:`HIDECURR.NOTE`,546:`HIDEALL.NOTES`,547:`DELETE.NOTE`,548:`TRAVERSE.NOTES`,549:`ACTIVATE.NOTES`,620:`PROTECT.REVISIONS`,621:`UNPROTECT.REVISIONS`,647:`OPTIONS.ME`,653:`WEB.PUBLISH`,667:`NEWWEBQUERY`,673:`PIVOT.TABLE.CHART`,753:`OPTIONS.SAVE`,755:`OPTIONS.SPELL`,808:`HIDEALL.INKANNOTS`},vI={0:`COUNT`,1:`IF`,2:`ISNA`,3:`ISERROR`,4:`SUM`,5:`AVERAGE`,6:`MIN`,7:`MAX`,8:`ROW`,9:`COLUMN`,10:`NA`,11:`NPV`,12:`STDEV`,13:`DOLLAR`,14:`FIXED`,15:`SIN`,16:`COS`,17:`TAN`,18:`ATAN`,19:`PI`,20:`SQRT`,21:`EXP`,22:`LN`,23:`LOG10`,24:`ABS`,25:`INT`,26:`SIGN`,27:`ROUND`,28:`LOOKUP`,29:`INDEX`,30:`REPT`,31:`MID`,32:`LEN`,33:`VALUE`,34:`TRUE`,35:`FALSE`,36:`AND`,37:`OR`,38:`NOT`,39:`MOD`,40:`DCOUNT`,41:`DSUM`,42:`DAVERAGE`,43:`DMIN`,44:`DMAX`,45:`DSTDEV`,46:`VAR`,47:`DVAR`,48:`TEXT`,49:`LINEST`,50:`TREND`,51:`LOGEST`,52:`GROWTH`,53:`GOTO`,54:`HALT`,55:`RETURN`,56:`PV`,57:`FV`,58:`NPER`,59:`PMT`,60:`RATE`,61:`MIRR`,62:`IRR`,63:`RAND`,64:`MATCH`,65:`DATE`,66:`TIME`,67:`DAY`,68:`MONTH`,69:`YEAR`,70:`WEEKDAY`,71:`HOUR`,72:`MINUTE`,73:`SECOND`,74:`NOW`,75:`AREAS`,76:`ROWS`,77:`COLUMNS`,78:`OFFSET`,79:`ABSREF`,80:`RELREF`,81:`ARGUMENT`,82:`SEARCH`,83:`TRANSPOSE`,84:`ERROR`,85:`STEP`,86:`TYPE`,87:`ECHO`,88:`SET.NAME`,89:`CALLER`,90:`DEREF`,91:`WINDOWS`,92:`SERIES`,93:`DOCUMENTS`,94:`ACTIVE.CELL`,95:`SELECTION`,96:`RESULT`,97:`ATAN2`,98:`ASIN`,99:`ACOS`,100:`CHOOSE`,101:`HLOOKUP`,102:`VLOOKUP`,103:`LINKS`,104:`INPUT`,105:`ISREF`,106:`GET.FORMULA`,107:`GET.NAME`,108:`SET.VALUE`,109:`LOG`,110:`EXEC`,111:`CHAR`,112:`LOWER`,113:`UPPER`,114:`PROPER`,115:`LEFT`,116:`RIGHT`,117:`EXACT`,118:`TRIM`,119:`REPLACE`,120:`SUBSTITUTE`,121:`CODE`,122:`NAMES`,123:`DIRECTORY`,124:`FIND`,125:`CELL`,126:`ISERR`,127:`ISTEXT`,128:`ISNUMBER`,129:`ISBLANK`,130:`T`,131:`N`,132:`FOPEN`,133:`FCLOSE`,134:`FSIZE`,135:`FREADLN`,136:`FREAD`,137:`FWRITELN`,138:`FWRITE`,139:`FPOS`,140:`DATEVALUE`,141:`TIMEVALUE`,142:`SLN`,143:`SYD`,144:`DDB`,145:`GET.DEF`,146:`REFTEXT`,147:`TEXTREF`,148:`INDIRECT`,149:`REGISTER`,150:`CALL`,151:`ADD.BAR`,152:`ADD.MENU`,153:`ADD.COMMAND`,154:`ENABLE.COMMAND`,155:`CHECK.COMMAND`,156:`RENAME.COMMAND`,157:`SHOW.BAR`,158:`DELETE.MENU`,159:`DELETE.COMMAND`,160:`GET.CHART.ITEM`,161:`DIALOG.BOX`,162:`CLEAN`,163:`MDETERM`,164:`MINVERSE`,165:`MMULT`,166:`FILES`,167:`IPMT`,168:`PPMT`,169:`COUNTA`,170:`CANCEL.KEY`,171:`FOR`,172:`WHILE`,173:`BREAK`,174:`NEXT`,175:`INITIATE`,176:`REQUEST`,177:`POKE`,178:`EXECUTE`,179:`TERMINATE`,180:`RESTART`,181:`HELP`,182:`GET.BAR`,183:`PRODUCT`,184:`FACT`,185:`GET.CELL`,186:`GET.WORKSPACE`,187:`GET.WINDOW`,188:`GET.DOCUMENT`,189:`DPRODUCT`,190:`ISNONTEXT`,191:`GET.NOTE`,192:`NOTE`,193:`STDEVP`,194:`VARP`,195:`DSTDEVP`,196:`DVARP`,197:`TRUNC`,198:`ISLOGICAL`,199:`DCOUNTA`,200:`DELETE.BAR`,201:`UNREGISTER`,204:`USDOLLAR`,205:`FINDB`,206:`SEARCHB`,207:`REPLACEB`,208:`LEFTB`,209:`RIGHTB`,210:`MIDB`,211:`LENB`,212:`ROUNDUP`,213:`ROUNDDOWN`,214:`ASC`,215:`DBCS`,216:`RANK`,219:`ADDRESS`,220:`DAYS360`,221:`TODAY`,222:`VDB`,223:`ELSE`,224:`ELSE.IF`,225:`END.IF`,226:`FOR.CELL`,227:`MEDIAN`,228:`SUMPRODUCT`,229:`SINH`,230:`COSH`,231:`TANH`,232:`ASINH`,233:`ACOSH`,234:`ATANH`,235:`DGET`,236:`CREATE.OBJECT`,237:`VOLATILE`,238:`LAST.ERROR`,239:`CUSTOM.UNDO`,240:`CUSTOM.REPEAT`,241:`FORMULA.CONVERT`,242:`GET.LINK.INFO`,243:`TEXT.BOX`,244:`INFO`,245:`GROUP`,246:`GET.OBJECT`,247:`DB`,248:`PAUSE`,251:`RESUME`,252:`FREQUENCY`,253:`ADD.TOOLBAR`,254:`DELETE.TOOLBAR`,255:`User`,256:`RESET.TOOLBAR`,257:`EVALUATE`,258:`GET.TOOLBAR`,259:`GET.TOOL`,260:`SPELLING.CHECK`,261:`ERROR.TYPE`,262:`APP.TITLE`,263:`WINDOW.TITLE`,264:`SAVE.TOOLBAR`,265:`ENABLE.TOOL`,266:`PRESS.TOOL`,267:`REGISTER.ID`,268:`GET.WORKBOOK`,269:`AVEDEV`,270:`BETADIST`,271:`GAMMALN`,272:`BETAINV`,273:`BINOMDIST`,274:`CHIDIST`,275:`CHIINV`,276:`COMBIN`,277:`CONFIDENCE`,278:`CRITBINOM`,279:`EVEN`,280:`EXPONDIST`,281:`FDIST`,282:`FINV`,283:`FISHER`,284:`FISHERINV`,285:`FLOOR`,286:`GAMMADIST`,287:`GAMMAINV`,288:`CEILING`,289:`HYPGEOMDIST`,290:`LOGNORMDIST`,291:`LOGINV`,292:`NEGBINOMDIST`,293:`NORMDIST`,294:`NORMSDIST`,295:`NORMINV`,296:`NORMSINV`,297:`STANDARDIZE`,298:`ODD`,299:`PERMUT`,300:`POISSON`,301:`TDIST`,302:`WEIBULL`,303:`SUMXMY2`,304:`SUMX2MY2`,305:`SUMX2PY2`,306:`CHITEST`,307:`CORREL`,308:`COVAR`,309:`FORECAST`,310:`FTEST`,311:`INTERCEPT`,312:`PEARSON`,313:`RSQ`,314:`STEYX`,315:`SLOPE`,316:`TTEST`,317:`PROB`,318:`DEVSQ`,319:`GEOMEAN`,320:`HARMEAN`,321:`SUMSQ`,322:`KURT`,323:`SKEW`,324:`ZTEST`,325:`LARGE`,326:`SMALL`,327:`QUARTILE`,328:`PERCENTILE`,329:`PERCENTRANK`,330:`MODE`,331:`TRIMMEAN`,332:`TINV`,334:`MOVIE.COMMAND`,335:`GET.MOVIE`,336:`CONCATENATE`,337:`POWER`,338:`PIVOT.ADD.DATA`,339:`GET.PIVOT.TABLE`,340:`GET.PIVOT.FIELD`,341:`GET.PIVOT.ITEM`,342:`RADIANS`,343:`DEGREES`,344:`SUBTOTAL`,345:`SUMIF`,346:`COUNTIF`,347:`COUNTBLANK`,348:`SCENARIO.GET`,349:`OPTIONS.LISTS.GET`,350:`ISPMT`,351:`DATEDIF`,352:`DATESTRING`,353:`NUMBERSTRING`,354:`ROMAN`,355:`OPEN.DIALOG`,356:`SAVE.DIALOG`,357:`VIEW.GET`,358:`GETPIVOTDATA`,359:`HYPERLINK`,360:`PHONETIC`,361:`AVERAGEA`,362:`MAXA`,363:`MINA`,364:`STDEVPA`,365:`VARPA`,366:`STDEVA`,367:`VARA`,368:`BAHTTEXT`,369:`THAIDAYOFWEEK`,370:`THAIDIGIT`,371:`THAIMONTHOFYEAR`,372:`THAINUMSOUND`,373:`THAINUMSTRING`,374:`THAISTRINGLENGTH`,375:`ISTHAIDIGIT`,376:`ROUNDBAHTDOWN`,377:`ROUNDBAHTUP`,378:`THAIYEAR`,379:`RTD`,380:`CUBEVALUE`,381:`CUBEMEMBER`,382:`CUBEMEMBERPROPERTY`,383:`CUBERANKEDMEMBER`,384:`HEX2BIN`,385:`HEX2DEC`,386:`HEX2OCT`,387:`DEC2BIN`,388:`DEC2HEX`,389:`DEC2OCT`,390:`OCT2BIN`,391:`OCT2HEX`,392:`OCT2DEC`,393:`BIN2DEC`,394:`BIN2OCT`,395:`BIN2HEX`,396:`IMSUB`,397:`IMDIV`,398:`IMPOWER`,399:`IMABS`,400:`IMSQRT`,401:`IMLN`,402:`IMLOG2`,403:`IMLOG10`,404:`IMSIN`,405:`IMCOS`,406:`IMEXP`,407:`IMARGUMENT`,408:`IMCONJUGATE`,409:`IMAGINARY`,410:`IMREAL`,411:`COMPLEX`,412:`IMSUM`,413:`IMPRODUCT`,414:`SERIESSUM`,415:`FACTDOUBLE`,416:`SQRTPI`,417:`QUOTIENT`,418:`DELTA`,419:`GESTEP`,420:`ISEVEN`,421:`ISODD`,422:`MROUND`,423:`ERF`,424:`ERFC`,425:`BESSELJ`,426:`BESSELK`,427:`BESSELY`,428:`BESSELI`,429:`XIRR`,430:`XNPV`,431:`PRICEMAT`,432:`YIELDMAT`,433:`INTRATE`,434:`RECEIVED`,435:`DISC`,436:`PRICEDISC`,437:`YIELDDISC`,438:`TBILLEQ`,439:`TBILLPRICE`,440:`TBILLYIELD`,441:`PRICE`,442:`YIELD`,443:`DOLLARDE`,444:`DOLLARFR`,445:`NOMINAL`,446:`EFFECT`,447:`CUMPRINC`,448:`CUMIPMT`,449:`EDATE`,450:`EOMONTH`,451:`YEARFRAC`,452:`COUPDAYBS`,453:`COUPDAYS`,454:`COUPDAYSNC`,455:`COUPNCD`,456:`COUPNUM`,457:`COUPPCD`,458:`DURATION`,459:`MDURATION`,460:`ODDLPRICE`,461:`ODDLYIELD`,462:`ODDFPRICE`,463:`ODDFYIELD`,464:`RANDBETWEEN`,465:`WEEKNUM`,466:`AMORDEGRC`,467:`AMORLINC`,468:`CONVERT`,724:`SHEETJS`,469:`ACCRINT`,470:`ACCRINTM`,471:`WORKDAY`,472:`NETWORKDAYS`,473:`GCD`,474:`MULTINOMIAL`,475:`LCM`,476:`FVSCHEDULE`,477:`CUBEKPIMEMBER`,478:`CUBESET`,479:`CUBESETCOUNT`,480:`IFERROR`,481:`COUNTIFS`,482:`SUMIFS`,483:`AVERAGEIF`,484:`AVERAGEIFS`},yI={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function bI(e){return e.slice(0,3)==`of:`&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,``),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,``)}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,`$1`),e.replace(/[;~]/g,`,`).replace(/\|/g,`;`)}function xI(e){return(`of:=`+e.replace(CP,`$1[.$2$3$4$5]`).replace(/\]:\[/g,`:`)).replace(/;/g,`|`).replace(/,/g,`;`)}function SI(e){var t=e.split(`:`);return[t[0].split(`.`)[0],t[0].split(`.`)[1]+(t.length>1?`:`+(t[1].split(`.`)[1]||t[1].split(`.`)[0]):``)]}function CI(e){return e.replace(/\./,`!`)}var wI={},TI={},EI=typeof Map<`u`;function DI(e,t,n){var r=0,i=e.length;if(n){if(EI?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var a=EI?n.get(t):n[t];r<a.length;++r)if(e[a[r]].t===t)return e.Count++,a[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(EI?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function OI(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(wM=t.MDW),t.width==null?t.wpx==null?t.wch!=null&&(r=t.wch):r=EM(t.wpx):n.customWidth=1,r>-1?(n.width=DM(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function kI(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t==`xlml`&&(n=[1,1,1,1,.5,.5]),e.left??=n[0],e.right??=n[1],e.top??=n[2],e.bottom??=n[3],e.header??=n[4],e.footer??=n[5]}}function AI(e,t,n){var r=n.revssf[t.z==null?`General`:t.z],i=60,a=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){ZC(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===r)return i;return e[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function jI(e,t,n,r,i,a){try{r.cellNF&&(e.z=iC[t])}catch(e){if(r.WTF)throw e}if(!(e.t===`z`&&!r.cellStyles)){if(e.t===`d`&&typeof e.v==`string`&&(e.v=Tw(e.v)),(!r||r.cellText!==!1)&&e.t!==`z`)try{if(iC[t]??ZC(ew[t]||`General`,t),e.t===`e`)e.w=e.w||GD[e.v];else if(t===0)if(e.t===`n`)(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_C(e.v);else if(e.t===`d`){var o=gw(e.v);(o|0)===o?e.w=o.toString(10):e.w=_C(o)}else if(e.v===void 0)return``;else e.w=vC(e.v,TI);else e.t===`d`?e.w=XC(t,gw(e.v),TI):e.w=XC(t,e.v,TI)}catch(e){if(r.WTF)throw e}if(r.cellStyles&&n!=null)try{e.s=a.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=bM(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=bM(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(e){if(r.WTF&&a.Fills)throw e}}}function MI(e,t,n){if(e&&e[`!ref`]){var r=RE(e[`!ref`]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw Error(`Bad range (`+n+`): `+e[`!ref`])}}function NI(e,t){var n=RE(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e[`!ref`]=LE(n))}var PI=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,FI=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,II=/<(?:\w:)?hyperlink [^>]*>/gm,LI=/"(\w*:\w*)"/,RI=/<(?:\w:)?col\b[^>]*[\/]?>/g,zI=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,BI=/<(?:\w:)?pageMargins[^>]*\/>/g,VI=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,HI=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,UI=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function WI(e,t,n,r,i,a,o){if(!e)return e;r||={"!id":{}},OS!=null&&t.dense==null&&(t.dense=OS);var s=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l=``,u=``,d=e.match(FI);d?(l=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):l=u=e;var f=l.match(VI);f?KI(f[0],s,i,n):(f=l.match(HI))&&qI(f[0],f[1]||``,s,i,n,o,a);var p=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=l.slice(p,p+50).match(LI);m&&NI(s,m[1])}var h=l.match(UI);h&&h[1]&&oL(h[1],i);var g=[];if(t.cellStyles){var _=l.match(RI);_&&tL(g,_)}d&&lL(d[1],s,t,c,a,o);var v=u.match(zI);v&&(s[`!autofilter`]=rL(v[0]));var y=[],b=u.match(PI);if(b)for(p=0;p!=b.length;++p)y[p]=RE(b[p].slice(b[p].indexOf(`"`)+1));var x=u.match(II);x&&QI(s,x,r);var S=u.match(BI);if(S&&(s[`!margins`]=$I(Qw(S[0]))),!s[`!ref`]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(s[`!ref`]=LE(c)),t.sheetRows>0&&s[`!ref`]){var C=RE(s[`!ref`]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>c.e.r&&(C.e.r=c.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>c.e.c&&(C.e.c=c.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),s[`!fullref`]=s[`!ref`],s[`!ref`]=LE(C))}return g.length>0&&(s[`!cols`]=g),y.length>0&&(s[`!merges`]=y),s}function GI(e){if(e.length===0)return``;for(var t=`<mergeCells count="`+e.length+`">`,n=0;n!=e.length;++n)t+=`<mergeCell ref="`+LE(e[n])+`"/>`;return t+`</mergeCells>`}function KI(e,t,n,r){var i=Qw(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=nT(_T(i.codeName)))}function qI(e,t,n,r,i){KI(e.slice(0,e.indexOf(`>`)),n,r,i)}function JI(e,t,n,r,i){var a=!1,o={},s=null;if(r.bookType!==`xlsx`&&t.vbaraw){var c=t.SheetNames[n];try{t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}a=!0,o.codeName=vT(aT(c))}if(e&&e[`!outline`]){var l={summaryBelow:1,summaryRight:1};e[`!outline`].above&&(l.summaryBelow=0),e[`!outline`].left&&(l.summaryRight=0),s=(s||``)+J(`outlinePr`,null,l)}!a&&!s||(i[i.length]=J(`sheetPr`,s,o))}var YI=[`objects`,`scenarios`,`selectLockedCells`,`selectUnlockedCells`],XI=[`formatColumns`,`formatRows`,`formatCells`,`insertColumns`,`insertRows`,`insertHyperlinks`,`deleteColumns`,`deleteRows`,`sort`,`autoFilter`,`pivotTables`];function ZI(e){var t={sheet:1};return YI.forEach(function(n){e[n]!=null&&e[n]&&(t[n]=`1`)}),XI.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]=`0`)}),e.password&&(t.password=cM(e.password).toString(16).toUpperCase()),J(`sheetProtection`,null,t)}function QI(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var a=Qw(_T(t[i]),!0);if(!a.ref)return;var o=((n||{})[`!id`]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+=`#`+nT(a.location))):(a.Target=`#`+nT(a.location),o={Target:a.Target,TargetMode:`Internal`}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=RE(a.ref),c=s.s.r;c<=s.e.r;++c)for(var l=s.s.c;l<=s.e.c;++l){var u=FE({c:l,r:c});r?(e[c]||(e[c]=[]),e[c][l]||(e[c][l]={t:`z`,v:void 0}),e[c][l].l=a):(e[u]||(e[u]={t:`z`,v:void 0}),e[u].l=a)}}}function $I(e){var t={};return[`left`,`right`,`top`,`bottom`,`header`,`footer`].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function eL(e){return kI(e),J(`pageMargins`,null,e)}function tL(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Qw(t[r],!0);i.hidden&&=fT(i.hidden);var a=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,kM(i.width)),AM(i);a<=o;)e[a++]=Dw(i)}}function nL(e,t){for(var n=[`<cols>`],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=J(`col`,null,OI(i,r)));return n[n.length]=`</cols>`,n.join(``)}function rL(e){return{ref:(e.match(/ref="([^"]*)"/)||[])[1]}}function iL(e,t,n,r){var i=typeof e.ref==`string`?e.ref:LE(e.ref);n.Workbook||={Sheets:[]},n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=IE(i);o.s.r==o.e.r&&(o.e.r=IE(t[`!ref`]).e.r,i=LE(o));for(var s=0;s<a.length;++s){var c=a[s];if(c.Name==`_xlnm._FilterDatabase`&&c.Sheet==r){c.Ref=`'`+n.SheetNames[r]+`'!`+i;break}}return s==a.length&&a.push({Name:`_xlnm._FilterDatabase`,Sheet:r,Ref:`'`+n.SheetNames[r]+`'!`+i}),J(`autoFilter`,null,{ref:i})}var aL=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function oL(e,t){t.Views||=[{}],(e.match(aL)||[]).forEach(function(e,n){var r=Qw(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),fT(r.rightToLeft)&&(t.Views[n].RTL=!0)})}function sL(e,t,n,r){var i={workbookViewId:`0`};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?`1`:`0`),J(`sheetViews`,J(`sheetView`,null,i),{})}function cL(e,t,n,r){if(e.c&&n[`!comments`].push([t,e.c]),e.v===void 0&&typeof e.f!=`string`||e.t===`z`&&!e.f)return``;var i=``,a=e.t,o=e.v;if(e.t!==`z`)switch(e.t){case`b`:i=e.v?`1`:`0`;break;case`n`:i=``+e.v;break;case`e`:i=GD[e.v];break;case`d`:r&&r.cellDates?i=Tw(e.v,-1).toISOString():(e=Dw(e),e.t=`n`,i=``+(e.v=gw(Tw(e.v)))),e.z===void 0&&(e.z=iC[14]);break;default:i=e.v;break}var s=ET(`v`,aT(i)),c={r:t},l=AI(r.cellXfs,e,r);switch(l!==0&&(c.s=l),e.t){case`n`:break;case`d`:c.t=`d`;break;case`b`:c.t=`b`;break;case`e`:c.t=`e`;break;case`z`:break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw Error(`Text length must not exceed 32767 characters`);if(r&&r.bookSST){s=ET(`v`,``+DI(r.Strings,e.v,r.revStrings)),c.t=`s`;break}c.t=`str`;break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f==`string`&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:`array`,ref:e.F}:null;s=J(`f`,aT(e.f),u)+(e.v==null?``:s)}return e.l&&n[`!links`].push([t,e.l]),e.D&&(c.cm=1),J(`c`,s,c)}var lL=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=yT(`v`),o=yT(`f`);return function(s,c,l,u,d,f){for(var p=0,m=``,h=[],g=[],_=0,v=0,y=0,b=``,x,S,C=0,w=0,T,E,D=0,O=0,k=Array.isArray(f.CellXf),A,j=[],M=[],N=Array.isArray(c),P=[],F={},I=!1,L=!!l.sheetStubs,R=s.split(t),z=0,ee=R.length;z!=ee;++z){m=R[z].trim();var B=m.length;if(B!==0){var V=0;outa:for(p=0;p<B;++p)switch(m[p]){case`>`:if(m[p-1]!=`/`){++p;break outa}if(l&&l.cellStyles){if(S=Qw(m.slice(V,p),!0),C=S.r==null?C+1:parseInt(S.r,10),w=-1,l.sheetRows&&l.sheetRows<C)continue;F={},I=!1,S.ht&&(I=!0,F.hpt=parseFloat(S.ht),F.hpx=NM(F.hpt)),S.hidden==`1`&&(I=!0,F.hidden=!0),S.outlineLevel!=null&&(I=!0,F.level=+S.outlineLevel),I&&(P[C-1]=F)}break;case`<`:V=p;break}if(V>=p)break;if(S=Qw(m.slice(V,p),!0),C=S.r==null?C+1:parseInt(S.r,10),w=-1,!(l.sheetRows&&l.sheetRows<C)){u.s.r>C-1&&(u.s.r=C-1),u.e.r<C-1&&(u.e.r=C-1),l&&l.cellStyles&&(F={},I=!1,S.ht&&(I=!0,F.hpt=parseFloat(S.ht),F.hpx=NM(F.hpt)),S.hidden==`1`&&(I=!0,F.hidden=!0),S.outlineLevel!=null&&(I=!0,F.level=+S.outlineLevel),I&&(P[C-1]=F)),h=m.slice(p).split(e);for(var te=0;te!=h.length&&h[te].trim().charAt(0)==`<`;++te);for(h=h.slice(te),p=0;p!=h.length;++p)if(m=h[p].trim(),m.length!==0){if(g=m.match(n),_=p,v=0,y=0,m=`<c `+(m.slice(0,1)==`<`?`>`:``)+m,g!=null&&g.length===2){for(_=0,b=g[1],v=0;v!=b.length&&!((y=b.charCodeAt(v)-64)<1||y>26);++v)_=26*_+y;--_,w=_}else ++w;for(v=0;v!=m.length&&m.charCodeAt(v)!==62;++v);if(++v,S=Qw(m.slice(0,v),!0),S.r||=FE({r:C-1,c:w}),b=m.slice(v),x={t:``},(g=b.match(a))!=null&&g[1]!==``&&(x.v=nT(g[1])),l.cellFormula){if((g=b.match(o))!=null&&g[1]!==``){if(x.f=nT(_T(g[1])).replace(/\r\n/g,`
`),l.xlfn||(x.f=OP(x.f)),g[0].indexOf(`t="array"`)>-1)x.F=(b.match(i)||[])[1],x.F.indexOf(`:`)>-1&&j.push([RE(x.F),x.F]);else if(g[0].indexOf(`t="shared"`)>-1){E=Qw(g[0]);var H=nT(_T(g[1]));l.xlfn||(H=OP(H)),M[parseInt(E.si,10)]=[E,H,S.r]}}else (g=b.match(/<f[^>]*\/>/))&&(E=Qw(g[0]),M[E.si]&&(x.f=EP(M[E.si][1],M[E.si][2],S.r)));var ne=PE(S.r);for(v=0;v<j.length;++v)ne.r>=j[v][0].s.r&&ne.r<=j[v][0].e.r&&ne.c>=j[v][0].s.c&&ne.c<=j[v][0].e.c&&(x.F=j[v][1])}if(S.t==null&&x.v===void 0)if(x.f||x.F)x.v=0,x.t=`n`;else if(L)x.t=`z`;else continue;else x.t=S.t||`n`;switch(u.s.c>w&&(u.s.c=w),u.e.c<w&&(u.e.c=w),x.t){case`n`:if(x.v==``||x.v==null){if(!L)continue;x.t=`z`}else x.v=parseFloat(x.v);break;case`s`:if(x.v===void 0){if(!L)continue;x.t=`z`}else T=wI[parseInt(x.v,10)],x.v=T.t,x.r=T.r,l.cellHTML&&(x.h=T.h);break;case`str`:x.t=`s`,x.v=x.v==null?``:_T(x.v),l.cellHTML&&(x.h=cT(x.v));break;case`inlineStr`:g=b.match(r),x.t=`s`,g!=null&&(T=Pj(g[1]))?(x.v=T.t,l.cellHTML&&(x.h=T.h)):x.v=``;break;case`b`:x.v=fT(x.v);break;case`d`:l.cellDates?x.v=Tw(x.v,1):(x.v=gw(Tw(x.v,1)),x.t=`n`);break;case`e`:(!l||l.cellText!==!1)&&(x.w=x.v),x.v=KD[x.v];break}if(D=O=0,A=null,k&&S.s!==void 0&&(A=f.CellXf[S.s],A!=null&&(A.numFmtId!=null&&(D=A.numFmtId),l.cellStyles&&A.fillId!=null&&(O=A.fillId))),jI(x,D,O,l,d,f),l.cellDates&&k&&x.t==`n`&&GC(iC[D])&&(x.t=`d`,x.v=bw(x.v)),S.cm&&l.xlmeta){var re=(l.xlmeta.Cell||[])[S.cm-1];re&&re.type==`XLDAPR`&&(x.D=!0)}if(N){var ie=PE(S.r);c[ie.r]||(c[ie.r]=[]),c[ie.r][ie.c]=x}else c[S.r]=x}}}}P.length>0&&(c[`!rows`]=P)}})();function uL(e,t,n,r){var i=[],a=[],o=RE(e[`!ref`]),s=``,c,l=``,u=[],d=0,f=0,p=e[`!rows`],m=Array.isArray(e),h={r:l},g,_=-1;for(f=o.s.c;f<=o.e.c;++f)u[f]=AE(f);for(d=o.s.r;d<=o.e.r;++d){for(a=[],l=EE(d),f=o.s.c;f<=o.e.c;++f){c=u[f]+l;var v=m?(e[d]||[])[f]:e[c];v!==void 0&&(s=cL(v,c,e,t,n,r))!=null&&a.push(s)}(a.length>0||p&&p[d])&&(h={r:l},p&&p[d]&&(g=p[d],g.hidden&&(h.hidden=1),_=-1,g.hpx?_=MM(g.hpx):g.hpt&&(_=g.hpt),_>-1&&(h.ht=_,h.customHeight=1),g.level&&(h.outlineLevel=g.level)),i[i.length]=J(`row`,a.join(``),h))}if(p)for(;d<p.length;++d)p&&p[d]&&(h={r:d+1},g=p[d],g.hidden&&(h.hidden=1),_=-1,g.hpx?_=MM(g.hpx):g.hpt&&(_=g.hpt),_>-1&&(h.ht=_,h.customHeight=1),g.level&&(h.outlineLevel=g.level),i[i.length]=J(`row`,``,h));return i.join(``)}function dL(e,t,n,r){var i=[Kw,J(`worksheet`,null,{xmlns:NT[0],"xmlns:r":MT.r})],a=n.SheetNames[e],o=0,s=``,c=n.Sheets[a];c??={};var l=c[`!ref`]||`A1`,u=RE(l);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw Error(`Range `+l+` exceeds format limit A1:XFD1048576`);u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=LE(u)}r||={},c[`!comments`]=[];var d=[];JI(c,n,e,t,i),i[i.length]=J(`dimension`,null,{ref:l}),i[i.length]=sL(c,t,e,n),t.sheetFormat&&(i[i.length]=J(`sheetFormatPr`,null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||`16`,baseColWidth:t.sheetFormat.baseColWidth||`10`,outlineLevelRow:t.sheetFormat.outlineLevelRow||`7`})),c[`!cols`]!=null&&c[`!cols`].length>0&&(i[i.length]=nL(c,c[`!cols`])),i[o=i.length]=`<sheetData/>`,c[`!links`]=[],c[`!ref`]!=null&&(s=uL(c,t,e,n,r),s.length>0&&(i[i.length]=s)),i.length>o+1&&(i[i.length]=`</sheetData>`,i[o]=i[o].replace(`/>`,`>`)),c[`!protect`]&&(i[i.length]=ZI(c[`!protect`])),c[`!autofilter`]!=null&&(i[i.length]=iL(c[`!autofilter`],c,n,e)),c[`!merges`]!=null&&c[`!merges`].length>0&&(i[i.length]=GI(c[`!merges`]));var f=-1,p,m=-1;return c[`!links`].length>0&&(i[i.length]=`<hyperlinks>`,c[`!links`].forEach(function(e){e[1].Target&&(p={ref:e[0]},e[1].Target.charAt(0)!=`#`&&(m=nO(r,-1,aT(e[1].Target).replace(/#.*$/,``),QD.HLINK),p[`r:id`]=`rId`+m),(f=e[1].Target.indexOf(`#`))>-1&&(p.location=aT(e[1].Target.slice(f+1))),e[1].Tooltip&&(p.tooltip=aT(e[1].Tooltip)),i[i.length]=J(`hyperlink`,null,p))}),i[i.length]=`</hyperlinks>`),delete c[`!links`],c[`!margins`]!=null&&(i[i.length]=eL(c[`!margins`])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=ET(`ignoredErrors`,J(`ignoredError`,null,{numberStoredAsText:1,sqref:l}))),d.length>0&&(m=nO(r,-1,`../drawings/drawing`+(e+1)+`.xml`,QD.DRAW),i[i.length]=J(`drawing`,null,{"r:id":`rId`+m}),c[`!drawing`]=d),c[`!comments`].length>0&&(m=nO(r,-1,`../drawings/vmlDrawing`+(e+1)+`.vml`,QD.VML),i[i.length]=J(`legacyDrawing`,null,{"r:id":`rId`+m}),c[`!legacy`]=m),i.length>1&&(i[i.length]=`</worksheet>`,i[1]=i[1].replace(`/>`,`>`)),i.join(``)}function fL(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function pL(e,t,n){var r=Y(145),i=(n[`!rows`]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var a=320;i.hpx?a=MM(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var s=0,c=r.l;r.l+=4;for(var l={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,f=-1,p=u<<10;p<u+1<<10;++p)l.c=p,(Array.isArray(n)?(n[l.r]||[])[l.c]:n[FE(l)])&&(d<0&&(d=p),f=p);d<0||(++s,r.write_shift(4,d),r.write_shift(4,f))}var m=r.l;return r.l=c,r.write_shift(4,s),r.l=m,r.length>r.l?r.slice(0,r.l):r}function mL(e,t,n,r){var i=pL(r,n,t);(i.length>17||(t[`!rows`]||[])[r])&&X(e,0,i)}var hL=hD,gL=gD;function _L(){}function vL(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=iD(e,t-19),n}function yL(e,t,n){n??=Y(84+4*e.length);var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return bD({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),aD(e,n),n.slice(0,n.l)}function bL(e){return[eD(e)]}function xL(e,t,n){return n??=Y(8),tD(t,n)}function SL(e){return[nD(e)]}function CL(e,t,n){return n??=Y(4),rD(t,n)}function wL(e){return[eD(e),e.read_shift(1),`b`]}function TL(e,t,n){return n??=Y(9),tD(t,n),n.write_shift(1,e.v?1:0),n}function EL(e){return[nD(e),e.read_shift(1),`b`]}function DL(e,t,n){return n??=Y(5),rD(t,n),n.write_shift(1,e.v?1:0),n}function OL(e){return[eD(e),e.read_shift(1),`e`]}function kL(e,t,n){return n??=Y(9),tD(t,n),n.write_shift(1,e.v),n}function AL(e){return[nD(e),e.read_shift(1),`e`]}function jL(e,t,n){return n??=Y(8),rD(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function ML(e){return[eD(e),e.read_shift(4),`s`]}function NL(e,t,n){return n??=Y(12),tD(t,n),n.write_shift(4,t.v),n}function PL(e){return[nD(e),e.read_shift(4),`s`]}function FL(e,t,n){return n??=Y(8),rD(t,n),n.write_shift(4,t.v),n}function IL(e){return[eD(e),_D(e),`n`]}function LL(e,t,n){return n??=Y(16),tD(t,n),vD(e.v,n),n}function RL(e){return[nD(e),_D(e),`n`]}function zL(e,t,n){return n??=Y(12),rD(t,n),vD(e.v,n),n}function BL(e){return[eD(e),dD(e),`n`]}function VL(e,t,n){return n??=Y(12),tD(t,n),fD(e.v,n),n}function HL(e){return[nD(e),dD(e),`n`]}function UL(e,t,n){return n??=Y(8),rD(t,n),fD(e.v,n),n}function WL(e){return[eD(e),XE(e),`is`]}function GL(e){return[eD(e),KE(e),`str`]}function KL(e,t,n){return n??=Y(12+4*e.v.length),tD(t,n),qE(e.v,n),n.length>n.l?n.slice(0,n.l):n}function qL(e){return[nD(e),KE(e),`str`]}function JL(e,t,n){return n??=Y(8+4*e.v.length),rD(t,n),qE(e.v,n),n.length>n.l?n.slice(0,n.l):n}function YL(e,t,n){var r=e.l+t,i=eD(e);i.r=n[`!row`];var a=[i,e.read_shift(1),`b`];return n.cellFormula?(e.l+=2,a[3]=rI(mI(e,r-e.l,n),null,i,n.supbooks,n)):e.l=r,a}function XL(e,t,n){var r=e.l+t,i=eD(e);i.r=n[`!row`];var a=[i,e.read_shift(1),`e`];return n.cellFormula?(e.l+=2,a[3]=rI(mI(e,r-e.l,n),null,i,n.supbooks,n)):e.l=r,a}function ZL(e,t,n){var r=e.l+t,i=eD(e);i.r=n[`!row`];var a=[i,_D(e),`n`];return n.cellFormula?(e.l+=2,a[3]=rI(mI(e,r-e.l,n),null,i,n.supbooks,n)):e.l=r,a}function QL(e,t,n){var r=e.l+t,i=eD(e);i.r=n[`!row`];var a=[i,KE(e),`str`];return n.cellFormula?(e.l+=2,a[3]=rI(mI(e,r-e.l,n),null,i,n.supbooks,n)):e.l=r,a}var $L=hD,eR=gD;function tR(e,t){return t??=Y(4),t.write_shift(4,e),t}function nR(e,t){var n=e.l+t,r=hD(e,16),i=oD(e),a=KE(e),o=KE(e),s=KE(e);e.l=n;var c={rfx:r,relId:i,loc:a,display:s};return o&&(c.Tooltip=o),c}function rR(e,t){var n=Y(50+4*(e[1].Target.length+(e[1].Tooltip||``).length));gD({s:PE(e[0]),e:PE(e[0])},n),uD(`rId`+t,n);var r=e[1].Target.indexOf(`#`);return qE((r==-1?``:e[1].Target.slice(r+1))||``,n),qE(e[1].Tooltip||``,n),qE(``,n),n.slice(0,n.l)}function iR(){}function aR(e,t,n){var r=e.l+t,i=pD(e,16),a=e.read_shift(1),o=[i];return o[2]=a,n.cellFormula?o[1]=pI(e,r-e.l,n):e.l=r,o}function oR(e,t,n){var r=e.l+t,i=[hD(e,16)];return n.cellFormula&&(i[1]=gI(e,r-e.l,n)),e.l=r,i}function sR(e,t,n){n??=Y(18);var r=OI(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width==`number`&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var cR=[`left`,`right`,`top`,`bottom`,`header`,`footer`];function lR(e){var t={};return cR.forEach(function(n){t[n]=_D(e,8)}),t}function uR(e,t){return t??=Y(48),kI(e),cR.forEach(function(n){vD(e[n],t)}),t}function dR(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function fR(e,t,n){n??=Y(30);var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function pR(e){var t=Y(24);return t.write_shift(4,4),t.write_shift(4,1),gD(e,t),t}function mR(e,t){return t??=Y(66),t.write_shift(2,e.password?cM(e.password):0),t.write_shift(4,1),[[`objects`,!1],[`scenarios`,!1],[`formatCells`,!0],[`formatColumns`,!0],[`formatRows`,!0],[`insertColumns`,!0],[`insertRows`,!0],[`insertHyperlinks`,!0],[`deleteColumns`,!0],[`deleteRows`,!0],[`selectLockedCells`,!1],[`sort`,!0],[`autoFilter`,!0],[`pivotTables`,!0],[`selectUnlockedCells`,!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function hR(){}function gR(){}function _R(e,t,n,r,i,a,o){if(!e)return e;var s=t||{};r||={"!id":{}},OS!=null&&s.dense==null&&(s.dense=OS);var c=s.dense?[]:{},l,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=[],f=!1,p=!1,m,h,g,_,v,y,b,x,S,C=[];s.biff=12,s[`!row`]=0;var w=0,T=!1,E=[],D={},O=s.supbooks||i.supbooks||[[]];if(O.sharedf=D,O.arrayf=E,O.SheetNames=i.SheetNames||i.Sheets.map(function(e){return e.name}),!s.supbooks&&(s.supbooks=O,i.Names))for(var k=0;k<i.Names.length;++k)O[0][k+1]=i.Names[k];var A=[],j=[],M=!1;cB[16]={n:`BrtShortReal`,f:RL};var N,P;if(yE(e,function(e,t,k){if(!p)switch(k){case 148:l=e;break;case 0:m=e,s.sheetRows&&s.sheetRows<=m.r&&(p=!0),x=EE(_=m.r),s[`!row`]=m.r,(e.hidden||e.hpt||e.level!=null)&&(e.hpt&&(e.hpx=NM(e.hpt)),j[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(h={t:e[2]},e[2]){case`n`:h.v=e[1];break;case`s`:b=wI[e[1]],h.v=b.t,h.r=b.r;break;case`b`:h.v=!!e[1];break;case`e`:h.v=e[1],s.cellText!==!1&&(h.w=GD[h.v]);break;case`str`:h.t=`s`,h.v=e[1];break;case`is`:h.t=`s`,h.v=e[1].t;break}if((g=o.CellXf[e[0].iStyleRef])&&jI(h,g.numFmtId,null,s,a,o),v=e[0].c==-1?v+1:e[0].c,s.dense?(c[_]||(c[_]=[]),c[_][v]=h):c[AE(v)+x]=h,s.cellFormula){for(T=!1,w=0;w<E.length;++w){var F=E[w];m.r>=F[0].s.r&&m.r<=F[0].e.r&&v>=F[0].s.c&&v<=F[0].e.c&&(h.F=LE(F[0]),T=!0)}!T&&e.length>3&&(h.f=e[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>v&&(u.s.c=v),u.e.r<m.r&&(u.e.r=m.r),u.e.c<v&&(u.e.c=v),s.cellDates&&g&&h.t==`n`&&GC(iC[g.numFmtId])){var I=cC(h.v);I&&(h.t=`d`,h.v=new Date(I.y,I.m-1,I.d,I.H,I.M,I.S,I.u))}N&&=(N.type==`XLDAPR`&&(h.D=!0),void 0),P&&=void 0;break;case 1:case 12:if(!s.sheetStubs||f)break;h={t:`z`,v:void 0},v=e[0].c==-1?v+1:e[0].c,s.dense?(c[_]||(c[_]=[]),c[_][v]=h):c[AE(v)+x]=h,u.s.r>m.r&&(u.s.r=m.r),u.s.c>v&&(u.s.c=v),u.e.r<m.r&&(u.e.r=m.r),u.e.c<v&&(u.e.c=v),N&&=(N.type==`XLDAPR`&&(h.D=!0),void 0),P&&=void 0;break;case 176:C.push(e);break;case 49:N=((s.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=r[`!id`][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+=`#`+e.loc),e.Rel=L):e.relId==``&&(e.Target=`#`+e.loc),_=e.rfx.s.r;_<=e.rfx.e.r;++_)for(v=e.rfx.s.c;v<=e.rfx.e.c;++v)s.dense?(c[_]||(c[_]=[]),c[_][v]||(c[_][v]={t:`z`,v:void 0}),c[_][v].l=e):(y=FE({c:v,r:_}),c[y]||(c[y]={t:`z`,v:void 0}),c[y].l=e);break;case 426:if(!s.cellFormula)break;E.push(e),S=s.dense?c[_][v]:c[AE(v)+x],S.f=rI(e[1],u,{r:m.r,c:v},O,s),S.F=LE(e[0]);break;case 427:if(!s.cellFormula)break;D[FE(e[0].s)]=e[1],S=s.dense?c[_][v]:c[AE(v)+x],S.f=rI(e[1],u,{r:m.r,c:v},O,s);break;case 60:if(!s.cellStyles)break;for(;e.e>=e.s;)A[e.e--]={width:e.w/256,hidden:!!(e.flags&1),level:e.level},M||(M=!0,kM(e.w/256)),AM(A[e.e+1]);break;case 161:c[`!autofilter`]={ref:LE(e)};break;case 476:c[`!margins`]=e;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name),(e.above||e.left)&&(c[`!outline`]={above:e.above,left:e.left});break;case 137:i.Views||=[{}],i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:d.push(k),f=!0;break;case 38:d.pop(),f=!1;break;default:if(!t.T&&(!f||s.WTF))throw Error(`Unexpected record 0x`+k.toString(16))}},s),delete s.supbooks,delete s[`!row`],!c[`!ref`]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c[`!ref`]=LE(l||u)),s.sheetRows&&c[`!ref`]){var F=RE(c[`!ref`]);s.sheetRows<=+F.e.r&&(F.e.r=s.sheetRows-1,F.e.r>u.e.r&&(F.e.r=u.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>u.e.c&&(F.e.c=u.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),c[`!fullref`]=c[`!ref`],c[`!ref`]=LE(F))}return C.length>0&&(c[`!merges`]=C),A.length>0&&(c[`!cols`]=A),j.length>0&&(c[`!rows`]=j),c}function vR(e,t,n,r,i,a,o){if(t.v===void 0)return!1;var s=``;switch(t.t){case`b`:s=t.v?`1`:`0`;break;case`d`:t=Dw(t),t.z=t.z||iC[14],t.v=gw(Tw(t.v)),t.t=`n`;break;case`n`:case`e`:s=``+t.v;break;default:s=t.v;break}var c={r:n,c:r};switch(c.s=AI(i.cellXfs,t,i),t.l&&a[`!links`].push([FE(c),t.l]),t.c&&a[`!comments`].push([FE(c),t.c]),t.t){case`s`:case`str`:return i.bookSST?(s=DI(i.Strings,t.v,i.revStrings),c.t=`s`,c.v=s,o?X(e,18,FL(t,c)):X(e,7,NL(t,c))):(c.t=`str`,o?X(e,17,JL(t,c)):X(e,6,KL(t,c))),!0;case`n`:return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?X(e,13,UL(t,c)):X(e,2,VL(t,c)):o?X(e,16,zL(t,c)):X(e,5,LL(t,c)),!0;case`b`:return c.t=`b`,o?X(e,15,DL(t,c)):X(e,4,TL(t,c)),!0;case`e`:return c.t=`e`,o?X(e,14,jL(t,c)):X(e,3,kL(t,c)),!0}return o?X(e,12,CL(t,c)):X(e,1,xL(t,c)),!0}function yR(e,t,n,r){var i=RE(t[`!ref`]||`A1`),a,o=``,s=[];X(e,145);var c=Array.isArray(t),l=i.e.r;t[`!rows`]&&(l=Math.max(i.e.r,t[`!rows`].length-1));for(var u=i.s.r;u<=l;++u){o=EE(u),mL(e,t,i,u);var d=!1;if(u<=i.e.r)for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(s[f]=AE(f)),a=s[f]+o;var p=c?(t[u]||[])[f]:t[a];if(!p){d=!1;continue}d=vR(e,p,u,f,r,t,d)}}X(e,146)}function bR(e,t){!t||!t[`!merges`]||(X(e,177,tR(t[`!merges`].length)),t[`!merges`].forEach(function(t){X(e,176,eR(t))}),X(e,178))}function xR(e,t){!t||!t[`!cols`]||(X(e,390),t[`!cols`].forEach(function(t,n){t&&X(e,60,sR(n,t))}),X(e,391))}function SR(e,t){!t||!t[`!ref`]||(X(e,648),X(e,649,pR(RE(t[`!ref`]))),X(e,650))}function CR(e,t,n){t[`!links`].forEach(function(t){t[1].Target&&X(e,494,rR(t,nO(n,-1,t[1].Target.replace(/#.*$/,``),QD.HLINK)))}),delete t[`!links`]}function wR(e,t,n,r){if(t[`!comments`].length>0){var i=nO(r,-1,`../drawings/vmlDrawing`+(n+1)+`.vml`,QD.VML);X(e,551,uD(`rId`+i)),t[`!legacy`]=i}}function TR(e,t,n,r){if(t[`!autofilter`]){var i=t[`!autofilter`],a=typeof i.ref==`string`?i.ref:LE(i.ref);n.Workbook||={Sheets:[]},n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=IE(a);s.s.r==s.e.r&&(s.e.r=IE(t[`!ref`]).e.r,a=LE(s));for(var c=0;c<o.length;++c){var l=o[c];if(l.Name==`_xlnm._FilterDatabase`&&l.Sheet==r){l.Ref=`'`+n.SheetNames[r]+`'!`+a;break}}c==o.length&&o.push({Name:`_xlnm._FilterDatabase`,Sheet:r,Ref:`'`+n.SheetNames[r]+`'!`+a}),X(e,161,gD(RE(a))),X(e,162)}}function ER(e,t,n){X(e,133),X(e,137,fR(t,n)),X(e,138),X(e,134)}function DR(e,t){t[`!protect`]&&X(e,535,mR(t[`!protect`]))}function OR(e,t,n,r){var i=bE(),a=n.SheetNames[e],o=n.Sheets[a]||{},s=a;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch{}var c=RE(o[`!ref`]||`A1`);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw Error(`Range `+(o[`!ref`]||`A1`)+` exceeds format limit A1:XFD1048576`);c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o[`!links`]=[],o[`!comments`]=[],X(i,129),(n.vbaraw||o[`!outline`])&&X(i,147,yL(s,o[`!outline`])),X(i,148,gL(c)),ER(i,o,n.Workbook),xR(i,o,e,t,n),yR(i,o,e,t,n),DR(i,o),TR(i,o,n,e),bR(i,o),CR(i,o,r),o[`!margins`]&&X(i,476,uR(o[`!margins`])),(!t||t.ignoreEC||t.ignoreEC==null)&&SR(i,o),wR(i,o,e,r),X(i,130),i.end()}function kR(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(e){var r=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);r&&(t[+r[1]]=n?+r[2]:r[2])});var i=nT((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||[``,`General`])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(e){r=e.replace(/<.*?>/g,``)}),[t,i,r]}function AR(e,t,n,r,i,a){var o=a||{"!type":`chart`};if(!e)return a;var s=0,c=0,l=`A`,u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var t=kR(e);u.s.r=u.s.c=0,u.e.c=s,l=AE(s),t[0].forEach(function(e,n){o[l+EE(n)]={t:`n`,v:e,z:t[1]},c=n}),u.e.r<c&&(u.e.r=c),++s}),s>0&&(o[`!ref`]=LE(u)),o}function jR(e,t,n,r,i){if(!e)return e;r||={"!id":{}};var a={"!type":`chart`,"!drawel":null,"!rel":``},o,s=e.match(VI);return s&&KI(s[0],a,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(a[`!rel`]=o[1]),r[`!id`][a[`!rel`]]&&(a[`!drawel`]=r[`!id`][a[`!rel`]]),a}function MR(e,t){return e.l+=10,{name:KE(e,t-10)}}function NR(e,t,n,r,i){if(!e)return e;r||={"!id":{}};var a={"!type":`chart`,"!drawel":null,"!rel":``},o=[],s=!1;return yE(e,function(e,r,c){switch(c){case 550:a[`!rel`]=e;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(c);break;case 38:o.pop();break;default:if(r.T>0)o.push(c);else if(r.T<0)o.pop();else if(!s||t.WTF)throw Error(`Unexpected record 0x`+c.toString(16))}},t),r[`!id`][a[`!rel`]]&&(a[`!drawel`]=r[`!id`][a[`!rel`]]),a}var PR=[[`allowRefreshQuery`,!1,`bool`],[`autoCompressPictures`,!0,`bool`],[`backupFile`,!1,`bool`],[`checkCompatibility`,!1,`bool`],[`CodeName`,``],[`date1904`,!1,`bool`],[`defaultThemeVersion`,0,`int`],[`filterPrivacy`,!1,`bool`],[`hidePivotFieldList`,!1,`bool`],[`promptedSolutions`,!1,`bool`],[`publishItems`,!1,`bool`],[`refreshAllConnections`,!1,`bool`],[`saveExternalLinkValues`,!0,`bool`],[`showBorderUnselectedTables`,!0,`bool`],[`showInkAnnotation`,!0,`bool`],[`showObjects`,`all`],[`showPivotChartFilter`,!1,`bool`],[`updateLinks`,`userSet`]],FR=[[`activeTab`,0,`int`],[`autoFilterDateGrouping`,!0,`bool`],[`firstSheet`,0,`int`],[`minimized`,!1,`bool`],[`showHorizontalScroll`,!0,`bool`],[`showSheetTabs`,!0,`bool`],[`showVerticalScroll`,!0,`bool`],[`tabRatio`,600,`int`],[`visibility`,`visible`]],IR=[],LR=[[`calcCompleted`,`true`],[`calcMode`,`auto`],[`calcOnSave`,`true`],[`concurrentCalc`,`true`],[`fullCalcOnLoad`,`false`],[`fullPrecision`,`true`],[`iterate`,`false`],[`iterateCount`,`100`],[`iterateDelta`,`0.001`],[`refMode`,`A1`]];function RR(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var a=t[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case`bool`:typeof r[a[0]]==`string`&&(r[a[0]]=fT(r[a[0]]));break;case`int`:typeof r[a[0]]==`string`&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function zR(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case`bool`:typeof e[r[0]]==`string`&&(e[r[0]]=fT(e[r[0]]));break;case`int`:typeof e[r[0]]==`string`&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function BR(e){zR(e.WBProps,PR),zR(e.CalcPr,LR),RR(e.WBView,FR),RR(e.Sheets,IR),TI.date1904=fT(e.WBProps.date1904)}function VR(e){return!e.Workbook||!e.Workbook.WBProps?`false`:fT(e.Workbook.WBProps.date1904)?`true`:`false`}var HR=`][*?/\\`.split(``);function UR(e,t){if(e.length>31){if(t)return!1;throw Error(`Sheet names cannot exceed 31 chars`)}var n=!0;return HR.forEach(function(r){if(e.indexOf(r)!=-1){if(!t)throw Error(`Sheet name cannot contain : \\ / ? * [ ]`);n=!1}}),n}function WR(e,t,n){e.forEach(function(r,i){UR(r);for(var a=0;a<i;++a)if(r==e[a])throw Error(`Duplicate Sheet Name: `+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw Error(`Bad Code Name: Worksheet`+o)}})}function GR(e){if(!e||!e.SheetNames||!e.Sheets)throw Error(`Invalid Workbook`);if(!e.SheetNames.length)throw Error(`Workbook is empty`);var t=e.Workbook&&e.Workbook.Sheets||[];WR(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)MI(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var KR=/<\w+:workbook/;function qR(e,t){if(!e)throw Error(`Could not find file`);var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:``},r=!1,i=`xmlns`,a={},o=0;if(e.replace(Yw,function(s,c){var l=Qw(s);switch($w(l[0])){case`<?xml`:break;case`<workbook`:s.match(KR)&&(i=`xmlns`+s.match(/<(\w+):/)[1]),n.xmlns=l[i];break;case`</workbook>`:break;case`<fileVersion`:delete l[0],n.AppVersion=l;break;case`<fileVersion/>`:case`</fileVersion>`:break;case`<fileSharing`:break;case`<fileSharing/>`:break;case`<workbookPr`:case`<workbookPr/>`:PR.forEach(function(e){if(l[e[0]]!=null)switch(e[2]){case`bool`:n.WBProps[e[0]]=fT(l[e[0]]);break;case`int`:n.WBProps[e[0]]=parseInt(l[e[0]],10);break;default:n.WBProps[e[0]]=l[e[0]]}}),l.codeName&&(n.WBProps.CodeName=_T(l.codeName));break;case`</workbookPr>`:break;case`<workbookProtection`:break;case`<workbookProtection/>`:break;case`<bookViews`:case`<bookViews>`:case`</bookViews>`:break;case`<workbookView`:case`<workbookView/>`:delete l[0],n.WBView.push(l);break;case`</workbookView>`:break;case`<sheets`:case`<sheets>`:case`</sheets>`:break;case`<sheet`:switch(l.state){case`hidden`:l.Hidden=1;break;case`veryHidden`:l.Hidden=2;break;default:l.Hidden=0}delete l.state,l.name=nT(_T(l.name)),delete l[0],n.Sheets.push(l);break;case`</sheet>`:break;case`<functionGroups`:case`<functionGroups/>`:break;case`<functionGroup`:break;case`<externalReferences`:case`</externalReferences>`:case`<externalReferences>`:break;case`<externalReference`:break;case`<definedNames/>`:break;case`<definedNames>`:case`<definedNames`:r=!0;break;case`</definedNames>`:r=!1;break;case`<definedName`:a={},a.Name=_T(l.name),l.comment&&(a.Comment=l.comment),l.localSheetId&&(a.Sheet=+l.localSheetId),fT(l.hidden||`0`)&&(a.Hidden=!0),o=c+s.length;break;case`</definedName>`:a.Ref=nT(_T(e.slice(o,c))),n.Names.push(a);break;case`<definedName/>`:break;case`<calcPr`:delete l[0],n.CalcPr=l;break;case`<calcPr/>`:delete l[0],n.CalcPr=l;break;case`</calcPr>`:break;case`<oleSize`:break;case`<customWorkbookViews>`:case`</customWorkbookViews>`:case`<customWorkbookViews`:break;case`<customWorkbookView`:case`</customWorkbookView>`:break;case`<pivotCaches>`:case`</pivotCaches>`:case`<pivotCaches`:break;case`<pivotCache`:break;case`<smartTagPr`:case`<smartTagPr/>`:break;case`<smartTagTypes`:case`<smartTagTypes>`:case`</smartTagTypes>`:break;case`<smartTagType`:break;case`<webPublishing`:case`<webPublishing/>`:break;case`<fileRecoveryPr`:case`<fileRecoveryPr/>`:break;case`<webPublishObjects>`:case`<webPublishObjects`:case`</webPublishObjects>`:break;case`<webPublishObject`:break;case`<extLst`:case`<extLst>`:case`</extLst>`:case`<extLst/>`:break;case`<ext`:r=!0;break;case`</ext>`:r=!1;break;case`<ArchID`:break;case`<AlternateContent`:case`<AlternateContent>`:r=!0;break;case`</AlternateContent>`:r=!1;break;case`<revisionPtr`:break;default:if(!r&&t.WTF)throw Error(`unrecognized `+l[0]+` in workbook`)}return s}),NT.indexOf(n.xmlns)===-1)throw Error(`Unknown Namespace: `+n.xmlns);return BR(n),n}function JR(e){var t=[Kw];t[t.length]=J(`workbook`,null,{xmlns:NT[0],"xmlns:r":MT.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:`ThisWorkbook`};e.Workbook&&e.Workbook.WBProps&&(PR.forEach(function(t){e.Workbook.WBProps[t[0]]!=null&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=J(`workbookPr`,null,r);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]=`<bookViews>`,a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]=`<workbookView firstSheet="`+a+`" activeTab="`+a+`"/>`,t[t.length]=`</bookViews>`}for(t[t.length]=`<sheets>`,a=0;a!=e.SheetNames.length;++a){var o={name:aT(e.SheetNames[a].slice(0,31))};if(o.sheetId=``+(a+1),o[`r:id`]=`rId`+(a+1),i[a])switch(i[a].Hidden){case 1:o.state=`hidden`;break;case 2:o.state=`veryHidden`;break}t[t.length]=J(`sheet`,null,o)}return t[t.length]=`</sheets>`,n&&(t[t.length]=`<definedNames>`,e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),e.Sheet!=null&&(n.localSheetId=``+e.Sheet),e.Hidden&&(n.hidden=`1`),e.Ref&&(t[t.length]=J(`definedName`,aT(e.Ref),n))}),t[t.length]=`</definedNames>`),t.length>2&&(t[t.length]=`</workbook>`,t[1]=t[1].replace(`/>`,`>`)),t.join(``)}function YR(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=lD(e,t-8),n.name=KE(e),n}function XR(e,t){return t||=Y(127),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),uD(e.strRelID,t),qE(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ZR(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?KE(e):``;return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=[`all`,`placeholders`,`none`][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=[`userSet`,`never`,`always`][r>>8&3],n}function QR(e,t){t||=Y(72);var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),aD(e&&e.CodeName||`ThisWorkbook`,t),t.slice(0,t.l)}function $R(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function ez(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=cD(e),o=hI(e,0,n),s=oD(e);e.l=r;var c={Name:a,Ptg:o};return i<268435455&&(c.Sheet=i),s&&(c.Comment=s),c}function tz(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:``},r=[],i=!1;t||={},t.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],cB[16]={n:`BrtFRTArchID$`,f:$R},yE(e,function(e,s,c){switch(c){case 156:o.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:e.Sheet!=null&&(t.SID=e.Sheet),e.Ref=rI(e.Ptg,null,null,o,t),delete t.SID,delete e.Ptg,a.push(e);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([c,e]):o[0]=[c,e],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(e),o.XTI=o.XTI.concat(e);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(c),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!s.T&&(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35))throw Error(`Unexpected record 0x`+c.toString(16))}},t),BR(n),n.Names=a,n.supbooks=o,n}function nz(e,t){X(e,143);for(var n=0;n!=t.SheetNames.length;++n)X(e,156,XR({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:`rId`+(n+1),name:t.SheetNames[n]}));X(e,144)}function rz(e,t){t||=Y(127);for(var n=0;n!=4;++n)t.write_shift(4,0);return qE(`SheetJS`,t),qE(fS.version,t),qE(fS.version,t),qE(`7262`,t),t.length>t.l?t.slice(0,t.l):t}function iz(e,t){return t||=Y(29),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}function az(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(X(e,135),X(e,158,iz(i)),X(e,136))}}function oz(e,t){var n=bE();return X(n,131),X(n,128,rz()),X(n,153,QR(e.Workbook&&e.Workbook.WBProps||null)),az(n,e,t),nz(n,e,t),X(n,132),n.end()}function sz(e,t,n){return t.slice(-4)===`.bin`?tz(e,n):qR(e,n)}function cz(e,t,n,r,i,a,o,s){return t.slice(-4)===`.bin`?_R(e,r,n,i,a,o,s):WI(e,r,n,i,a,o,s)}function lz(e,t,n,r,i,a,o,s){return t.slice(-4)===`.bin`?NR(e,r,n,i,a,o,s):jR(e,r,n,i,a,o,s)}function uz(e,t,n,r,i,a,o,s){return t.slice(-4)===`.bin`?bP(e,r,n,i,a,o,s):xP(e,r,n,i,a,o,s)}function dz(e,t,n,r,i,a,o,s){return t.slice(-4)===`.bin`?vP(e,r,n,i,a,o,s):yP(e,r,n,i,a,o,s)}function fz(e,t,n,r){return t.slice(-4)===`.bin`?sN(e,n,r):WM(e,n,r)}function pz(e,t,n){return DN(e,n)}function mz(e,t,n){return t.slice(-4)===`.bin`?Hj(e,n):Rj(e,n)}function hz(e,t,n){return t.slice(-4)===`.bin`?fP(e,n):nP(e,n)}function gz(e,t,n){return t.slice(-4)===`.bin`?XN(e,t,n):JN(e,t,n)}function _z(e,t,n,r){if(n.slice(-4)===`.bin`)return ZN(e,t,n,r)}function vz(e,t,n){return t.slice(-4)===`.bin`?WN(e,t,n):KN(e,t,n)}function yz(e,t,n){return(t.slice(-4)===`.bin`?oz:JR)(e,n)}function bz(e,t,n,r,i){return(t.slice(-4)===`.bin`?OR:dL)(e,n,r,i)}function xz(e,t,n){return(t.slice(-4)===`.bin`?_N:GM)(e,n)}function Sz(e,t,n){return(t.slice(-4)===`.bin`?Gj:Bj)(e,n)}function Cz(e,t,n){return(t.slice(-4)===`.bin`?pP:rP)(e,n)}function wz(e){return(e.slice(-4)===`.bin`?GN:qN)()}var Tz=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Ez=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Dz(e,t){var n=e.split(/\s+/),r=[];if(t||(r[0]=n[0]),n.length===1)return r;var i=e.match(Tz),a,o,s,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(Ez),(o=a[1].indexOf(`:`))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(s=a[1].slice(0,6)===`xmlns:`?`xmlns`+a[1].slice(6):a[1].slice(o+1),r[s]=a[2].slice(1,a[2].length-1));return r}function Oz(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(Tz),i,a,o,s;if(r)for(s=0;s!=r.length;++s)i=r[s].match(Ez),(a=i[1].indexOf(`:`))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(o=i[1].slice(0,6)===`xmlns:`?`xmlns`+i[1].slice(6):i[1].slice(a+1),n[o]=i[2].slice(1,i[2].length-1));return n}var kz;function Az(e,t){var n=kz[e]||nT(e);return n===`General`?vC(t):XC(n,t)}function jz(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||[``,``])[1]){case`boolean`:i=fT(r);break;case`i2`:case`int`:i=parseInt(r,10);break;case`r4`:case`float`:i=parseFloat(r);break;case`date`:case`dateTime.tz`:i=Tw(r);break;case`i8`:case`string`:case`fixed`:case`uuid`:case`bin.base64`:break;default:throw Error(`bad custprop:`+n[0])}e[nT(t)]=i}function Mz(e,t,n){if(e.t!==`z`){if(!n||n.cellText!==!1)try{e.t===`e`?e.w=e.w||GD[e.v]:t===`General`?e.t===`n`?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_C(e.v):e.w=vC(e.v):e.w=Az(t||`General`,e.v)}catch(e){if(n.WTF)throw e}try{var r=kz[t]||t||`General`;if(n.cellNF&&(e.z=r),n.cellDates&&e.t==`n`&&GC(r)){var i=cC(e.v);i&&(e.t=`d`,e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(e){if(n.WTF)throw e}}}function Nz(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=PM[r.Pattern]||r.Pattern)}e[t.ID]=t}function Pz(e,t,n,r,i,a,o,s,c,l){var u=`General`,d=r.StyleID,f={};l||={};var p=[],m=0;for(d===void 0&&s&&(d=s.StyleID),d===void 0&&o&&(d=o.StyleID);a[d]!==void 0&&(a[d].nf&&(u=a[d].nf),a[d].Interior&&p.push(a[d].Interior),a[d].Parent);)d=a[d].Parent;switch(n.Type){case`Boolean`:r.t=`b`,r.v=fT(e);break;case`String`:r.t=`s`,r.r=uT(nT(e)),r.v=e.indexOf(`<`)>-1?nT(t||e).replace(/<.*?>/g,``):r.r;break;case`DateTime`:e.slice(-1)!=`Z`&&(e+=`Z`),r.v=(Tw(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v===r.v?r.v<60&&--r.v:r.v=nT(e),(!u||u==`General`)&&(u=`yyyy-mm-dd`);case`Number`:r.v===void 0&&(r.v=+e),r.t||=`n`;break;case`Error`:r.t=`e`,r.v=KD[e],l.cellText!==!1&&(r.w=e);break;default:e==``&&t==``?r.t=`z`:(r.t=`s`,r.v=uT(t||e));break}if(Mz(r,u,l),l.cellFormula!==!1)if(r.Formula){var h=nT(r.Formula);h.charCodeAt(0)==61&&(h=h.slice(1)),r.f=SP(h,i),delete r.Formula,r.ArrayRange==`RC`?r.F=SP(`RC:RC`,i):r.ArrayRange&&(r.F=SP(r.ArrayRange,i),c.push([RE(r.F),r.F]))}else for(m=0;m<c.length;++m)i.r>=c[m][0].s.r&&i.r<=c[m][0].e.r&&i.c>=c[m][0].s.c&&i.c<=c[m][0].e.c&&(r.F=c[m][1]);l.cellStyles&&(p.forEach(function(e){!f.patternType&&e.patternType&&(f.patternType=e.patternType)}),r.s=f),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Fz(e){e.t=e.v||``,e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Iz(e,t){var n=t||{};$C();var r=wS(AT(e));(n.type==`binary`||n.type==`array`||n.type==`base64`)&&(r=DS===void 0?_T(r):DS.utils.decode(65001,xS(r)));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,``),(i.indexOf(`>`)&1023)>Math.min(i.indexOf(`,`)&1023,i.indexOf(`;`)&1023)){var o=Dw(n);return o.type=`string`,Tj.to_workbook(r,o)}if(i.indexOf(`<?xml`)==-1&&[`html`,`table`,`head`,`meta`,`script`,`style`,`div`].forEach(function(e){i.indexOf(`<`+e)>=0&&(a=!0)}),a)return MB(r,n);kz={"General Number":`General`,"General Date":iC[22],"Long Date":`dddd, mmmm dd, yyyy`,"Medium Date":iC[15],"Short Date":iC[14],"Long Time":iC[19],"Medium Time":iC[18],"Short Time":iC[20],Currency:`"$"#,##0.00_);[Red]\\("$"#,##0.00\\)`,Fixed:iC[2],Standard:iC[4],Percent:iC[10],Scientific:iC[11],"Yes/No":`"Yes";"Yes";"No";@`,"True/False":`"True";"True";"False";@`,"On/Off":`"Yes";"Yes";"No";@`};var s,c=[],l;OS!=null&&n.dense==null&&(n.dense=OS);var u={},d=[],f=n.dense?[]:{},p=``,m={},h={},g=Dz(`<Data ss:Type="String">`),_=0,v=0,y=0,b={s:{r:2e6,c:2e6},e:{r:0,c:0}},x={},S={},C=``,w=0,T=[],E={},D={},O=0,k=[],A=[],j={},M=[],N,P=!1,F=[],I=[],L={},R=0,z=0,ee={Sheets:[],WBProps:{date1904:!1}},B={};jT.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,``);for(var V=``;s=jT.exec(r);)switch(s[3]=(V=s[3]).toLowerCase()){case`data`:if(V==`data`){if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`))}else s[0].charAt(s[0].length-2)!==`/`&&c.push([s[3],!0]);break}if(c[c.length-1][1])break;s[1]===`/`?Pz(r.slice(_,s.index),C,g,c[c.length-1][0]==`comment`?j:m,{c:v,r:y},x,M[v],h,F,n):(C=``,g=Dz(s[0]),_=s.index+s[0].length);break;case`cell`:if(s[1]===`/`)if(A.length>0&&(m.c=A),(!n.sheetRows||n.sheetRows>y)&&m.v!==void 0&&(n.dense?(f[y]||(f[y]=[]),f[y][v]=m):f[AE(v)+EE(y)]=m),m.HRef&&(m.l={Target:nT(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(R=v+(parseInt(m.MergeAcross,10)|0),z=y+(parseInt(m.MergeDown,10)|0),T.push({s:{c:v,r:y},e:{c:R,r:z}})),!n.sheetStubs)m.MergeAcross?v=R+1:++v;else if(m.MergeAcross||m.MergeDown){for(var te=v;te<=R;++te)for(var H=y;H<=z;++H)(te>v||H>y)&&(n.dense?(f[H]||(f[H]=[]),f[H][te]={t:`z`}):f[AE(te)+EE(H)]={t:`z`});v=R+1}else ++v;else m=Oz(s[0]),m.Index&&(v=m.Index-1),v<b.s.c&&(b.s.c=v),v>b.e.c&&(b.e.c=v),s[0].slice(-2)===`/>`&&++v,A=[];break;case`row`:s[1]===`/`||s[0].slice(-2)===`/>`?(y<b.s.r&&(b.s.r=y),y>b.e.r&&(b.e.r=y),s[0].slice(-2)===`/>`&&(h=Dz(s[0]),h.Index&&(y=h.Index-1)),v=0,++y):(h=Dz(s[0]),h.Index&&(y=h.Index-1),L={},(h.AutoFitHeight==`0`||h.Height)&&(L.hpx=parseInt(h.Height,10),L.hpt=MM(L.hpx),I[y]=L),h.Hidden==`1`&&(L.hidden=!0,I[y]=L));break;case`worksheet`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`));d.push(p),b.s.r<=b.e.r&&b.s.c<=b.e.c&&(f[`!ref`]=LE(b),n.sheetRows&&n.sheetRows<=b.e.r&&(f[`!fullref`]=f[`!ref`],b.e.r=n.sheetRows-1,f[`!ref`]=LE(b))),T.length&&(f[`!merges`]=T),M.length>0&&(f[`!cols`]=M),I.length>0&&(f[`!rows`]=I),u[p]=f}else b={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=v=0,c.push([s[3],!1]),l=Dz(s[0]),p=nT(l.Name),f=n.dense?[]:{},T=[],F=[],I=[],B={name:p,Hidden:0},ee.Sheets.push(B);break;case`table`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`))}else if(s[0].slice(-2)==`/>`)break;else c.push([s[3],!1]),M=[],P=!1;break;case`style`:s[1]===`/`?Nz(x,S,n):S=Dz(s[0]);break;case`numberformat`:S.nf=nT(Dz(s[0]).Format||`General`),kz[S.nf]&&(S.nf=kz[S.nf]);for(var ne=0;ne!=392&&iC[ne]!=S.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(iC[ne]==null){ZC(S.nf,ne);break}}break;case`column`:if(c[c.length-1][0]!==`table`)break;if(N=Dz(s[0]),N.Hidden&&(N.hidden=!0,delete N.Hidden),N.Width&&(N.wpx=parseInt(N.Width,10)),!P&&N.wpx>10){P=!0,wM=xM;for(var re=0;re<M.length;++re)M[re]&&AM(M[re])}P&&AM(N),M[N.Index-1||M.length]=N;for(var ie=0;ie<+N.Span;++ie)M[M.length]=Dw(N);break;case`namedrange`:if(s[1]===`/`)break;ee.Names||=[];var U=Qw(s[0]),ae={Name:U.Name,Ref:SP(U.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(ae.Sheet=ee.Sheets.length-1),ee.Names.push(ae);break;case`namedcell`:break;case`b`:break;case`i`:break;case`u`:break;case`s`:break;case`em`:break;case`h2`:break;case`h3`:break;case`sub`:break;case`sup`:break;case`span`:break;case`alignment`:break;case`borders`:break;case`border`:break;case`font`:if(s[0].slice(-2)===`/>`)break;s[1]===`/`?C+=r.slice(w,s.index):w=s.index+s[0].length;break;case`interior`:if(!n.cellStyles)break;S.Interior=Dz(s[0]);break;case`protection`:break;case`author`:case`title`:case`description`:case`created`:case`keywords`:case`subject`:case`category`:case`company`:case`lastauthor`:case`lastsaved`:case`lastprinted`:case`version`:case`revision`:case`totaltime`:case`hyperlinkbase`:case`manager`:case`contentstatus`:case`identifier`:case`language`:case`appname`:if(s[0].slice(-2)===`/>`)break;s[1]===`/`?TO(E,V,r.slice(O,s.index)):O=s.index+s[0].length;break;case`paragraphs`:break;case`styles`:case`workbook`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`))}else c.push([s[3],!1]);break;case`comment`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`));Fz(j),A.push(j)}else c.push([s[3],!1]),l=Dz(s[0]),j={a:l.Author};break;case`autofilter`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`))}else s[0].charAt(s[0].length-2)!==`/`&&(f[`!autofilter`]={ref:SP(Dz(s[0]).Range).replace(/\$/g,``)},c.push([s[3],!0]));break;case`name`:break;case`datavalidation`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`))}else s[0].charAt(s[0].length-2)!==`/`&&c.push([s[3],!0]);break;case`pixelsperinch`:break;case`componentoptions`:case`documentproperties`:case`customdocumentproperties`:case`officedocumentsettings`:case`pivottable`:case`pivotcache`:case`names`:case`mapinfo`:case`pagebreaks`:case`querytable`:case`sorting`:case`schema`:case`conditionalformatting`:case`smarttagtype`:case`smarttags`:case`excelworkbook`:case`workbookoptions`:case`worksheetoptions`:if(s[1]===`/`){if((l=c.pop())[0]!==s[3])throw Error(`Bad state: `+l.join(`|`))}else s[0].charAt(s[0].length-2)!==`/`&&c.push([s[3],!0]);break;case`null`:break;default:if(c.length==0&&s[3]==`document`||c.length==0&&s[3]==`uof`)return WB(r,n);var oe=!0;switch(c[c.length-1][0]){case`officedocumentsettings`:switch(s[3]){case`allowpng`:break;case`removepersonalinformation`:break;case`downloadcomponents`:break;case`locationofcomponents`:break;case`colors`:break;case`color`:break;case`index`:break;case`rgb`:break;case`targetscreensize`:break;case`readonlyrecommended`:break;default:oe=!1}break;case`componentoptions`:switch(s[3]){case`toolbar`:break;case`hideofficelogo`:break;case`spreadsheetautofit`:break;case`label`:break;case`caption`:break;case`maxheight`:break;case`maxwidth`:break;case`nextsheetnumber`:break;default:oe=!1}break;case`excelworkbook`:switch(s[3]){case`date1904`:ee.WBProps.date1904=!0;break;case`windowheight`:break;case`windowwidth`:break;case`windowtopx`:break;case`windowtopy`:break;case`tabratio`:break;case`protectstructure`:break;case`protectwindow`:break;case`protectwindows`:break;case`activesheet`:break;case`displayinknotes`:break;case`firstvisiblesheet`:break;case`supbook`:break;case`sheetname`:break;case`sheetindex`:break;case`sheetindexfirst`:break;case`sheetindexlast`:break;case`dll`:break;case`acceptlabelsinformulas`:break;case`donotsavelinkvalues`:break;case`iteration`:break;case`maxiterations`:break;case`maxchange`:break;case`path`:break;case`xct`:break;case`count`:break;case`selectedsheets`:break;case`calculation`:break;case`uncalced`:break;case`startupprompt`:break;case`crn`:break;case`externname`:break;case`formula`:break;case`colfirst`:break;case`collast`:break;case`wantadvise`:break;case`boolean`:break;case`error`:break;case`text`:break;case`ole`:break;case`noautorecover`:break;case`publishobjects`:break;case`donotcalculatebeforesave`:break;case`number`:break;case`refmoder1c1`:break;case`embedsavesmarttags`:break;default:oe=!1}break;case`workbookoptions`:switch(s[3]){case`owcversion`:break;case`height`:break;case`width`:break;default:oe=!1}break;case`worksheetoptions`:switch(s[3]){case`visible`:if(s[0].slice(-2)!==`/>`)if(s[1]===`/`)switch(r.slice(O,s.index)){case`SheetHidden`:B.Hidden=1;break;case`SheetVeryHidden`:B.Hidden=2;break}else O=s.index+s[0].length;break;case`header`:f[`!margins`]||kI(f[`!margins`]={},`xlml`),isNaN(+Qw(s[0]).Margin)||(f[`!margins`].header=+Qw(s[0]).Margin);break;case`footer`:f[`!margins`]||kI(f[`!margins`]={},`xlml`),isNaN(+Qw(s[0]).Margin)||(f[`!margins`].footer=+Qw(s[0]).Margin);break;case`pagemargins`:var W=Qw(s[0]);f[`!margins`]||kI(f[`!margins`]={},`xlml`),isNaN(+W.Top)||(f[`!margins`].top=+W.Top),isNaN(+W.Left)||(f[`!margins`].left=+W.Left),isNaN(+W.Right)||(f[`!margins`].right=+W.Right),isNaN(+W.Bottom)||(f[`!margins`].bottom=+W.Bottom);break;case`displayrighttoleft`:ee.Views||=[],ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case`freezepanes`:break;case`frozennosplit`:break;case`splithorizontal`:case`splitvertical`:break;case`donotdisplaygridlines`:break;case`activerow`:break;case`activecol`:break;case`toprowbottompane`:break;case`leftcolumnrightpane`:break;case`unsynced`:break;case`print`:break;case`printerrors`:break;case`panes`:break;case`scale`:break;case`pane`:break;case`number`:break;case`layout`:break;case`pagesetup`:break;case`selected`:break;case`protectobjects`:break;case`enableselection`:break;case`protectscenarios`:break;case`validprinterinfo`:break;case`horizontalresolution`:break;case`verticalresolution`:break;case`numberofcopies`:break;case`activepane`:break;case`toprowvisible`:break;case`leftcolumnvisible`:break;case`fittopage`:break;case`rangeselection`:break;case`papersizeindex`:break;case`pagelayoutzoom`:break;case`pagebreakzoom`:break;case`filteron`:break;case`fitwidth`:break;case`fitheight`:break;case`commentslayout`:break;case`zoom`:break;case`lefttoright`:break;case`gridlines`:break;case`allowsort`:break;case`allowfilter`:break;case`allowinsertrows`:break;case`allowdeleterows`:break;case`allowinsertcols`:break;case`allowdeletecols`:break;case`allowinserthyperlinks`:break;case`allowformatcells`:break;case`allowsizecols`:break;case`allowsizerows`:break;case`nosummaryrowsbelowdetail`:f[`!outline`]||={},f[`!outline`].above=!0;break;case`tabcolorindex`:break;case`donotdisplayheadings`:break;case`showpagelayoutzoom`:break;case`nosummarycolumnsrightdetail`:f[`!outline`]||={},f[`!outline`].left=!0;break;case`blackandwhite`:break;case`donotdisplayzeros`:break;case`displaypagebreak`:break;case`rowcolheadings`:break;case`donotdisplayoutline`:break;case`noorientation`:break;case`allowusepivottables`:break;case`zeroheight`:break;case`viewablerange`:break;case`selection`:break;case`protectcontents`:break;default:oe=!1}break;case`pivottable`:case`pivotcache`:switch(s[3]){case`immediateitemsondrop`:break;case`showpagemultipleitemlabel`:break;case`compactrowindent`:break;case`location`:break;case`pivotfield`:break;case`orientation`:break;case`layoutform`:break;case`layoutsubtotallocation`:break;case`layoutcompactrow`:break;case`position`:break;case`pivotitem`:break;case`datatype`:break;case`datafield`:break;case`sourcename`:break;case`parentfield`:break;case`ptlineitems`:break;case`ptlineitem`:break;case`countofsameitems`:break;case`item`:break;case`itemtype`:break;case`ptsource`:break;case`cacheindex`:break;case`consolidationreference`:break;case`filename`:break;case`reference`:break;case`nocolumngrand`:break;case`norowgrand`:break;case`blanklineafteritems`:break;case`hidden`:break;case`subtotal`:break;case`basefield`:break;case`mapchilditems`:break;case`function`:break;case`refreshonfileopen`:break;case`printsettitles`:break;case`mergelabels`:break;case`defaultversion`:break;case`refreshname`:break;case`refreshdate`:break;case`refreshdatecopy`:break;case`versionlastrefresh`:break;case`versionlastupdate`:break;case`versionupdateablemin`:break;case`versionrefreshablemin`:break;case`calculation`:break;default:oe=!1}break;case`pagebreaks`:switch(s[3]){case`colbreaks`:break;case`colbreak`:break;case`rowbreaks`:break;case`rowbreak`:break;case`colstart`:break;case`colend`:break;case`rowend`:break;default:oe=!1}break;case`autofilter`:switch(s[3]){case`autofiltercolumn`:break;case`autofiltercondition`:break;case`autofilterand`:break;case`autofilteror`:break;default:oe=!1}break;case`querytable`:switch(s[3]){case`id`:break;case`autoformatfont`:break;case`autoformatpattern`:break;case`querysource`:break;case`querytype`:break;case`enableredirections`:break;case`refreshedinxl9`:break;case`urlstring`:break;case`htmltables`:break;case`connection`:break;case`commandtext`:break;case`refreshinfo`:break;case`notitles`:break;case`nextid`:break;case`columninfo`:break;case`overwritecells`:break;case`donotpromptforfile`:break;case`textwizardsettings`:break;case`source`:break;case`number`:break;case`decimal`:break;case`thousandseparator`:break;case`trailingminusnumbers`:break;case`formatsettings`:break;case`fieldtype`:break;case`delimiters`:break;case`tab`:break;case`comma`:break;case`autoformatname`:break;case`versionlastedit`:break;case`versionlastrefresh`:break;default:oe=!1}break;case`datavalidation`:switch(s[3]){case`range`:break;case`type`:break;case`min`:break;case`max`:break;case`sort`:break;case`descending`:break;case`order`:break;case`casesensitive`:break;case`value`:break;case`errorstyle`:break;case`errormessage`:break;case`errortitle`:break;case`inputmessage`:break;case`inputtitle`:break;case`combohide`:break;case`inputhide`:break;case`condition`:break;case`qualifier`:break;case`useblank`:break;case`value1`:break;case`value2`:break;case`format`:break;case`cellrangelist`:break;default:oe=!1}break;case`sorting`:case`conditionalformatting`:switch(s[3]){case`range`:break;case`type`:break;case`min`:break;case`max`:break;case`sort`:break;case`descending`:break;case`order`:break;case`casesensitive`:break;case`value`:break;case`errorstyle`:break;case`errormessage`:break;case`errortitle`:break;case`cellrangelist`:break;case`inputmessage`:break;case`inputtitle`:break;case`combohide`:break;case`inputhide`:break;case`condition`:break;case`qualifier`:break;case`useblank`:break;case`value1`:break;case`value2`:break;case`format`:break;default:oe=!1}break;case`mapinfo`:case`schema`:case`data`:switch(s[3]){case`map`:break;case`entry`:break;case`range`:break;case`xpath`:break;case`field`:break;case`xsdtype`:break;case`filteron`:break;case`aggregate`:break;case`elementtype`:break;case`attributetype`:break;case`schema`:case`element`:case`complextype`:case`datatype`:case`all`:case`attribute`:case`extends`:break;case`row`:break;default:oe=!1}break;case`smarttags`:break;default:oe=!1;break}if(oe||s[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw`Unrecognized tag: `+s[3]+`|`+c.join(`|`);if(c[c.length-1][0]===`customdocumentproperties`){if(s[0].slice(-2)===`/>`)break;s[1]===`/`?jz(D,V,k,r.slice(O,s.index)):(k=s,O=s.index+s[0].length);break}if(n.WTF)throw`Unrecognized tag: `+s[3]+`|`+c.join(`|`)}var se={};return!n.bookSheets&&!n.bookProps&&(se.Sheets=u),se.SheetNames=d,se.Workbook=ee,se.SSF=Dw(iC),se.Props=E,se.Custprops=D,se}function Lz(e,t){switch(AV(t||={}),t.type||`base64`){case`base64`:return Iz(MS(e),t);case`binary`:case`buffer`:case`file`:return Iz(e,t);case`array`:return Iz(zS(e),t)}}function Rz(e,t){var n=[];return e.Props&&n.push(EO(e.Props,t)),e.Custprops&&n.push(DO(e.Props,e.Custprops,t)),n.join(``)}function zz(){return``}function Bz(e,t){var n=[`<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>`];return t.cellXfs.forEach(function(e,t){var r=[];r.push(J(`NumberFormat`,null,{"ss:Format":aT(iC[e.numFmtId])}));var i={"ss:ID":`s`+(21+t)};n.push(J(`Style`,r.join(``),i))}),J(`Styles`,n.join(``))}function Vz(e){return J(`NamedRange`,null,{"ss:Name":e.Name,"ss:RefersTo":`=`+wP(e.Ref,{r:0,c:0})})}function Hz(e){if(!((e||{}).Workbook||{}).Names)return``;for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet??(i.Name.match(/^_xlfn\./)||n.push(Vz(i)))}return J(`Names`,n.join(``))}function Uz(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return``;for(var i=r.Workbook.Names,a=[],o=0;o<i.length;++o){var s=i[o];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||a.push(Vz(s)))}return a.join(``)}function Wz(e,t,n,r){if(!e)return``;var i=[];if(e[`!margins`]&&(i.push(`<PageSetup>`),e[`!margins`].header&&i.push(J(`Header`,null,{"x:Margin":e[`!margins`].header})),e[`!margins`].footer&&i.push(J(`Footer`,null,{"x:Margin":e[`!margins`].footer})),i.push(J(`PageMargins`,null,{"x:Bottom":e[`!margins`].bottom||`0.75`,"x:Left":e[`!margins`].left||`0.7`,"x:Right":e[`!margins`].right||`0.7`,"x:Top":e[`!margins`].top||`0.75`})),i.push(`</PageSetup>`)),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(J(`Visible`,r.Workbook.Sheets[n].Hidden==1?`SheetHidden`:`SheetVeryHidden`,{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push(`<Selected/>`)}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push(`<DisplayRightToLeft/>`),e[`!protect`]&&(i.push(ET(`ProtectContents`,`True`)),e[`!protect`].objects&&i.push(ET(`ProtectObjects`,`True`)),e[`!protect`].scenarios&&i.push(ET(`ProtectScenarios`,`True`)),e[`!protect`].selectLockedCells!=null&&!e[`!protect`].selectLockedCells?i.push(ET(`EnableSelection`,`NoSelection`)):e[`!protect`].selectUnlockedCells!=null&&!e[`!protect`].selectUnlockedCells&&i.push(ET(`EnableSelection`,`UnlockedCells`)),[[`formatCells`,`AllowFormatCells`],[`formatColumns`,`AllowSizeCols`],[`formatRows`,`AllowSizeRows`],[`insertColumns`,`AllowInsertCols`],[`insertRows`,`AllowInsertRows`],[`insertHyperlinks`,`AllowInsertHyperlinks`],[`deleteColumns`,`AllowDeleteCols`],[`deleteRows`,`AllowDeleteRows`],[`sort`,`AllowSort`],[`autoFilter`,`AllowFilter`],[`pivotTables`,`AllowUsePivotTables`]].forEach(function(t){e[`!protect`][t[0]]&&i.push(`<`+t[1]+`/>`)})),i.length==0?``:J(`WorksheetOptions`,i.join(``),{xmlns:PT.x})}function Gz(e){return e.map(function(e){return J(`Comment`,J(`ss:Data`,dT(e.t||``),{xmlns:`http://www.w3.org/TR/REC-html40`}),{"ss:Author":e.a})}).join(``)}function Kz(e,t,n,r,i,a,o){if(!e||e.v==null&&e.f==null)return``;var s={};if(e.f&&(s[`ss:Formula`]=`=`+aT(wP(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=PE(e.F.slice(t.length+1));s[`ss:ArrayRange`]=`RC:R`+(c.r==o.r?``:`[`+(c.r-o.r)+`]`)+`C`+(c.c==o.c?``:`[`+(c.c-o.c)+`]`)}if(e.l&&e.l.Target&&(s[`ss:HRef`]=aT(e.l.Target),e.l.Tooltip&&(s[`x:HRefScreenTip`]=aT(e.l.Tooltip))),n[`!merges`])for(var l=n[`!merges`],u=0;u!=l.length;++u)l[u].s.c!=o.c||l[u].s.r!=o.r||(l[u].e.c>l[u].s.c&&(s[`ss:MergeAcross`]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(s[`ss:MergeDown`]=l[u].e.r-l[u].s.r));var d=``,f=``;switch(e.t){case`z`:if(!r.sheetStubs)return``;break;case`n`:d=`Number`,f=String(e.v);break;case`b`:d=`Boolean`,f=e.v?`1`:`0`;break;case`e`:d=`Error`,f=GD[e.v];break;case`d`:d=`DateTime`,f=new Date(e.v).toISOString(),e.z??=e.z||iC[14];break;case`s`:d=`String`,f=lT(e.v||``);break}s[`ss:StyleID`]=`s`+(21+AI(r.cellXfs,e,r)),s[`ss:Index`]=o.c+1;var p=e.v==null?``:f,m=e.t==`z`?``:`<Data ss:Type="`+d+`">`+p+`</Data>`;return(e.c||[]).length>0&&(m+=Gz(e.c)),J(`Cell`,m,s)}function qz(e,t){var n=`<Row ss:Index="`+(e+1)+`"`;return t&&(t.hpt&&!t.hpx&&(t.hpx=NM(t.hpt)),t.hpx&&(n+=` ss:AutoFitHeight="0" ss:Height="`+t.hpx+`"`),t.hidden&&(n+=` ss:Hidden="1"`)),n+`>`}function Jz(e,t,n,r){if(!e[`!ref`])return``;var i=RE(e[`!ref`]),a=e[`!merges`]||[],o=0,s=[];e[`!cols`]&&e[`!cols`].forEach(function(e,t){AM(e);var n=!!e.width,r=OI(t,e),i={"ss:Index":t+1};n&&(i[`ss:Width`]=TM(r.width)),e.hidden&&(i[`ss:Hidden`]=`1`),s.push(J(`Column`,null,i))});for(var c=Array.isArray(e),l=i.s.r;l<=i.e.r;++l){for(var u=[qz(l,(e[`!rows`]||[])[l])],d=i.s.c;d<=i.e.c;++d){var f=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>d)&&!(a[o].s.r>l)&&!(a[o].e.c<d)&&!(a[o].e.r<l)){(a[o].s.c!=d||a[o].s.r!=l)&&(f=!0);break}if(!f){var p={r:l,c:d},m=FE(p),h=c?(e[l]||[])[d]:e[m];u.push(Kz(h,m,e,t,n,r,p))}}u.push(`</Row>`),u.length>2&&s.push(u.join(``))}return s.join(``)}function Yz(e,t,n){var r=[],i=n.SheetNames[e],a=n.Sheets[i],o=a?Uz(a,t,e,n):``;return o.length>0&&r.push(`<Names>`+o+`</Names>`),o=a?Jz(a,t,e,n):``,o.length>0&&r.push(`<Table>`+o+`</Table>`),r.push(Wz(a,t,e,n)),r.join(``)}function Xz(e,t){t||={},e.SSF||=Dw(iC),e.SSF&&($C(),QC(e.SSF),t.revssf=pw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],AI(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Rz(e,t)),n.push(zz(e,t)),n.push(``),n.push(``);for(var r=0;r<e.SheetNames.length;++r)n.push(J(`Worksheet`,Yz(r,t,e),{"ss:Name":aT(e.SheetNames[r])}));return n[2]=Bz(e,t),n[3]=Hz(e,t),Kw+J(`Workbook`,n.join(``),{xmlns:PT.ss,"xmlns:o":PT.o,"xmlns:x":PT.x,"xmlns:ss":PT.ss,"xmlns:dt":PT.dt,"xmlns:html":PT.html})}function Zz(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,`lpstr-ansi`),t.AnsiClipboardFormat=wD(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,`lpstr-ansi`),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=TD(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,`lpwstr`)}var Qz=[60,1084,2066,2165,2175];function $z(e,t,n,r,i){var a=r,o=[],s=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(s)}o.push(s),n.l+=a;for(var c=oE(n,n.l),l=lB[c],u=0;l!=null&&Qz.indexOf(c)>-1;)a=oE(n,n.l+2),u=n.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),s=n.slice(u,n.l+4+a),o.push(s),n.l+=4+a,l=lB[c=oE(n,n.l)];var d=HS(o);_E(d,0);var f=0;d.lens=[];for(var p=0;p<o.length;++p)d.lens.push(f),f+=o[p].length;if(d.length<r)throw`XLS Record 0x`+e.toString(16)+` Truncated: `+d.length+` < `+r;return t.f(d,d.length,i)}function eB(e,t,n){if(e.t!==`z`&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=iC[r])}catch(e){if(t.WTF)throw e}if(!t||t.cellText!==!1)try{e.t===`e`?e.w=e.w||GD[e.v]:r===0||r==`General`?e.t===`n`?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_C(e.v):e.w=vC(e.v):e.w=XC(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(e){if(t.WTF)throw e}if(t.cellDates&&r&&e.t==`n`&&GC(iC[r]||String(r))){var i=cC(e.v);i&&(e.t=`d`,e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function tB(e,t,n){return{v:e,ixfe:t,t:n}}function nB(e,t){var n={opts:{}},r={};OS!=null&&t.dense==null&&(t.dense=OS);var i=t.dense?[]:{},a={},o={},s=null,c=[],l=``,u={},d,f=``,p,m,h,g,_={},v=[],y,b,x=[],S=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},w={},T=function(e){return e<8?WD[e]:e<64&&S[e-8]||WD[e]},E=function(e,t,n){var r=t.XF.data;if(!(!r||!r.patternType||!n||!n.cellStyles)){t.s={},t.s.patternType=r.patternType;var i;(i=_M(T(r.icvFore)))&&(t.s.fgColor={rgb:i}),(i=_M(T(r.icvBack)))&&(t.s.bgColor={rgb:i})}},D=function(e,t,n){if(!(L>1)&&!(n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&E(e,t,n),delete t.ixfe,delete t.XF,d=e,f=FE(e),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),e.r<o.s.r&&(o.s.r=e.r),e.c<o.s.c&&(o.s.c=e.c),e.r+1>o.e.r&&(o.e.r=e.r+1),e.c+1>o.e.c&&(o.e.c=e.c+1),n.cellFormula&&t.f){for(var r=0;r<v.length;++r)if(!(v[r][0].s.c>e.c||v[r][0].s.r>e.r)&&!(v[r][0].e.c<e.c||v[r][0].e.r<e.r)){t.F=LE(v[r][0]),(v[r][0].s.c!=e.c||v[r][0].s.r!=e.r)&&delete t.f,t.f&&=``+rI(v[r][1],o,e,F,O);break}}n.dense?(i[e.r]||(i[e.r]=[]),i[e.r][e.c]=t):i[f]=t}},O={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:v,rrtabid:[],lastuser:``,biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var k,A=[],j=[],M=[],N=[],P=!1,F=[];F.SheetNames=O.snames,F.sharedf=O.sharedf,F.arrayf=O.arrayf,F.names=[],F.XTI=[];var I=0,L=0,R=0,z=[],ee=[],B;O.codepage=1200,yS(1200);for(var V=!1;e.l<e.length-1;){var te=e.l,H=e.read_shift(2);if(H===0&&I===10)break;var ne=e.l===e.length?0:e.read_shift(2),re=lB[H];if(re&&re.f){if(t.bookSheets&&I===133&&H!==133)break;if(I=H,re.r===2||re.r==12){var ie=e.read_shift(2);if(ne-=2,!O.enc&&ie!==H&&((ie&255)<<8|ie>>8)!==H)throw Error(`rt mismatch: `+ie+`!=`+H);re.r==12&&(e.l+=10,ne-=10)}var U={};if(U=H===10?re.f(e,ne,O):$z(H,re,e,ne,O),L==0&&[9,521,1033,2057].indexOf(I)===-1)continue;switch(H){case 34:n.opts.Date1904=C.WBProps.date1904=U;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(O.enc||(e.l=0),O.enc=U,!t.password)throw Error(`File is password-protected`);if(U.valid==null)throw Error(`Encryption scheme unsupported`);if(!U.valid)throw Error(`Password is incorrect`);break;case 92:O.lastuser=U;break;case 66:var ae=Number(U);switch(ae){case 21010:ae=1200;break;case 32768:ae=1e4;break;case 32769:ae=1252;break}yS(O.codepage=ae),V=!0;break;case 317:O.rrtabid=U;break;case 25:O.winlocked=U;break;case 439:n.opts.RefreshAll=U;break;case 12:n.opts.CalcCount=U;break;case 16:n.opts.CalcDelta=U;break;case 17:n.opts.CalcIter=U;break;case 13:n.opts.CalcMode=U;break;case 14:n.opts.CalcPrecision=U;break;case 95:n.opts.CalcSaveRecalc=U;break;case 15:O.CalcRefMode=U;break;case 2211:n.opts.FullCalc=U;break;case 129:U.fDialog&&(i[`!type`]=`dialog`),U.fBelow||((i[`!outline`]||={}).above=!0),U.fRight||((i[`!outline`]||={}).left=!0);break;case 224:x.push(U);break;case 430:F.push([U]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(U);break;case 24:case 536:B={Name:U.Name,Ref:rI(U.rgce,o,null,F,O)},U.itab>0&&(B.Sheet=U.itab-1),F.names.push(B),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(U),U.Name==`_xlnm._FilterDatabase`&&U.itab>0&&U.rgce&&U.rgce[0]&&U.rgce[0][0]&&U.rgce[0][0][0]==`PtgArea3d`&&(ee[U.itab-1]={ref:LE(U.rgce[0][0][1][2])});break;case 22:O.ExternCount=U;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(U),F.XTI=F.XTI.concat(U);break;case 2196:if(O.biff<8)break;B!=null&&(B.Comment=U[1]);break;case 18:i[`!protect`]=U;break;case 19:U!==0&&O.WTF&&console.error(`Password verifier: `+U);break;case 133:a[U.pos]=U,O.snames.push(U.name);break;case 10:if(--L)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i[`!ref`]=LE(o),t.sheetRows&&t.sheetRows<=o.e.r){var oe=o.e.r;o.e.r=t.sheetRows-1,i[`!fullref`]=i[`!ref`],i[`!ref`]=LE(o),o.e.r=oe}o.e.r++,o.e.c++}A.length>0&&(i[`!merges`]=A),j.length>0&&(i[`!objects`]=j),M.length>0&&(i[`!cols`]=M),N.length>0&&(i[`!rows`]=N),C.Sheets.push(w)}l===``?u=i:r[l]=i,i=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[H]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[U.BIFFVer]||8),O.biffguess=U.BIFFVer==0,U.BIFFVer==0&&U.dt==4096&&(O.biff=5,V=!0,yS(O.codepage=28591)),O.biff==8&&U.BIFFVer==0&&U.dt==16&&(O.biff=2),L++)break;if(i=t.dense?[]:{},O.biff<8&&!V&&(V=!0,yS(O.codepage=t.codepage||1252)),O.biff<5||U.BIFFVer==0&&U.dt==4096){l===``&&(l=`Sheet1`),o={s:{r:0,c:0},e:{r:0,c:0}};var W={pos:e.l-ne,name:l};a[W.pos]=W,O.snames.push(l)}else l=(a[te]||{name:``}).name;U.dt==32&&(i[`!type`]=`chart`),U.dt==64&&(i[`!type`]=`macro`),A=[],j=[],O.arrayf=v=[],M=[],N=[],P=!1,w={Hidden:(a[te]||{hs:0}).hs,name:l};break;case 515:case 3:case 2:i[`!type`]==`chart`&&(t.dense?(i[U.r]||[])[U.c]:i[FE({c:U.c,r:U.r})])&&++U.c,y={ixfe:U.ixfe,XF:x[U.ixfe]||{},v:U.val,t:`n`},R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:U.c,r:U.r},y,t);break;case 5:case 517:y={ixfe:U.ixfe,XF:x[U.ixfe],v:U.val,t:U.t},R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:U.c,r:U.r},y,t);break;case 638:y={ixfe:U.ixfe,XF:x[U.ixfe],v:U.rknum,t:`n`},R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:U.c,r:U.r},y,t);break;case 189:for(var se=U.c;se<=U.C;++se){var ce=U.rkrec[se-U.c][0];y={ixfe:ce,XF:x[ce],v:U.rkrec[se-U.c][1],t:`n`},R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:se,r:U.r},y,t)}break;case 6:case 518:case 1030:if(U.val==`String`){s=U;break}if(y=tB(U.val,U.cell.ixfe,U.tt),y.XF=x[y.ixfe],t.cellFormula){var le=U.formula;if(le&&le[0]&&le[0][0]&&le[0][0][0]==`PtgExp`){var ue=le[0][0][1][0],de=le[0][0][1][1],fe=FE({r:ue,c:de});_[fe]?y.f=``+rI(U.formula,o,U.cell,F,O):y.F=((t.dense?(i[ue]||[])[de]:i[fe])||{}).F}else y.f=``+rI(U.formula,o,U.cell,F,O)}R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D(U.cell,y,t),s=U;break;case 7:case 519:if(s)s.val=U,y=tB(U,s.cell.ixfe,`s`),y.XF=x[y.ixfe],t.cellFormula&&(y.f=``+rI(s.formula,o,s.cell,F,O)),R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D(s.cell,y,t),s=null;else throw Error(`String record expects Formula`);break;case 33:case 545:v.push(U);var pe=FE(U[0].s);if(p=t.dense?(i[U[0].s.r]||[])[U[0].s.c]:i[pe],t.cellFormula&&p){if(!s||!pe||!p)break;p.f=``+rI(U[1],o,U[0],F,O),p.F=LE(U[0])}break;case 1212:if(!t.cellFormula)break;if(f){if(!s)break;_[FE(s.cell)]=U[0],p=t.dense?(i[s.cell.r]||[])[s.cell.c]:i[FE(s.cell)],(p||{}).f=``+rI(U[0],o,d,F,O)}break;case 253:y=tB(c[U.isst].t,U.ixfe,`s`),c[U.isst].h&&(y.h=c[U.isst].h),y.XF=x[y.ixfe],R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:U.c,r:U.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:U.ixfe,XF:x[U.ixfe],t:`z`},R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:U.c,r:U.r},y,t));break;case 190:if(t.sheetStubs)for(var me=U.c;me<=U.C;++me){var he=U.ixfe[me-U.c];y={ixfe:he,XF:x[he],t:`z`},R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:me,r:U.r},y,t)}break;case 214:case 516:case 4:y=tB(U.val,U.ixfe,`s`),y.XF=x[y.ixfe],R>0&&(y.z=z[y.ixfe>>8&63]),eB(y,t,n.opts.Date1904),D({c:U.c,r:U.r},y,t);break;case 0:case 512:L===1&&(o=U);break;case 252:c=U;break;case 1054:if(O.biff==4){z[R++]=U[1];for(var ge=0;ge<R+163&&iC[ge]!=U[1];++ge);ge>=163&&ZC(U[1],R+163)}else ZC(U[1],U[0]);break;case 30:z[R++]=U;for(var _e=0;_e<R+163&&iC[_e]!=U;++_e);_e>=163&&ZC(U,R+163);break;case 229:A=A.concat(U);break;case 93:j[U.cmo[0]]=O.lastobj=U;break;case 438:O.lastobj.TxO=U;break;case 127:O.lastobj.ImData=U;break;case 440:for(g=U[0].s.r;g<=U[0].e.r;++g)for(h=U[0].s.c;h<=U[0].e.c;++h)p=t.dense?(i[g]||[])[h]:i[FE({c:h,r:g})],p&&(p.l=U[1]);break;case 2048:for(g=U[0].s.r;g<=U[0].e.r;++g)for(h=U[0].s.c;h<=U[0].e.c;++h)p=t.dense?(i[g]||[])[h]:i[FE({c:h,r:g})],p&&p.l&&(p.l.Tooltip=U[1]);break;case 28:if(O.biff<=5&&O.biff>=2)break;p=t.dense?(i[U[0].r]||[])[U[0].c]:i[FE(U[0])];var ve=j[U[2]];p||(t.dense?(i[U[0].r]||(i[U[0].r]=[]),p=i[U[0].r][U[0].c]={t:`z`}):p=i[FE(U[0])]={t:`z`},o.e.r=Math.max(o.e.r,U[0].r),o.s.r=Math.min(o.s.r,U[0].r),o.e.c=Math.max(o.e.c,U[0].c),o.s.c=Math.min(o.s.c,U[0].c)),p.c||=[],m={a:U[1],t:ve.TxO.t},p.c.push(m);break;case 2173:IN(x[U.ixfe],U.ext);break;case 125:if(!O.cellStyles)break;for(;U.e>=U.s;)M[U.e--]={width:U.w/256,level:U.level||0,hidden:!!(U.flags&1)},P||(P=!0,kM(U.w/256)),AM(M[U.e+1]);break;case 520:var ye={};U.level!=null&&(N[U.r]=ye,ye.level=U.level),U.hidden&&(N[U.r]=ye,ye.hidden=!0),U.hpt&&(N[U.r]=ye,ye.hpt=U.hpt,ye.hpx=NM(U.hpt));break;case 38:case 39:case 40:case 41:i[`!margins`]||kI(i[`!margins`]={}),i[`!margins`][{38:`left`,39:`right`,40:`top`,41:`bottom`}[H]]=U;break;case 161:i[`!margins`]||kI(i[`!margins`]={}),i[`!margins`].header=U.header,i[`!margins`].footer=U.footer;break;case 574:U.RTL&&(C.Views[0].RTL=!0);break;case 146:S=U;break;case 2198:k=U;break;case 140:b=U;break;case 442:l?w.CodeName=U||w.name:C.WBProps.CodeName=U||`ThisWorkbook`;break}}else re||console.error(`Missing Info for XLS Record 0x`+H.toString(16)),e.l+=ne}return n.SheetNames=uw(a).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return a[e].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u[`!ref`]?(n.SheetNames.push(`Sheet1`),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&ee.forEach(function(e,t){n.Sheets[n.SheetNames[t]][`!autofilter`]=e}),n.Strings=c,n.SSF=Dw(iC),O.enc&&(n.Encryption=O.enc),k&&(n.Themes=k),n.Metadata={},b!==void 0&&(n.Metadata.Country=b),F.names.length>0&&(C.Names=F.names),n.Workbook=C,n}var rB={SI:`e0859ff2f94f6810ab9108002b27b3d9`,DSI:`02d5cdd59c2e1b10939708002b2cf9ae`,UDI:`05d5cdd59c2e1b10939708002b2cf9ae`};function iB(e,t,n){var r=aw.find(e,`/!DocumentSummaryInformation`);if(r&&r.size>0)try{var i=JO(r,zD,rB.DSI);for(var a in i)t[a]=i[a]}catch(e){if(n.WTF)throw e}var o=aw.find(e,`/!SummaryInformation`);if(o&&o.size>0)try{var s=JO(o,BD,rB.SI);for(var c in s)t[c]??(t[c]=s[c])}catch(e){if(n.WTF)throw e}t.HeadingPairs&&t.TitlesOfParts&&(_O(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function aB(e,t){var n=[],r=[],i=[],a=0,o,s=dw(zD,`n`),c=dw(BD,`n`);if(e.Props)for(o=uw(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(s,o[a])?n:Object.prototype.hasOwnProperty.call(c,o[a])?r:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=uw(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(s,o[a])?n:Object.prototype.hasOwnProperty.call(c,o[a])?r:i).push([o[a],e.Custprops[o[a]]]);var l=[];for(a=0;a<i.length;++a)GO.indexOf(i[a][0])>-1||gO.indexOf(i[a][0])>-1||i[a][1]!=null&&l.push(i[a]);r.length&&aw.utils.cfb_add(t,`/SummaryInformation`,YO(r,rB.SI,c,BD)),(n.length||l.length)&&aw.utils.cfb_add(t,`/DocumentSummaryInformation`,YO(n,rB.DSI,s,zD,l.length?l:null,rB.UDI))}function oB(e,t){t||={},AV(t),bS(),t.codepage&&_S(t.codepage);var n,r;if(e.FullPaths){if(aw.find(e,`/encryption`))throw Error(`File is password-protected`);n=aw.find(e,`!CompObj`),r=aw.find(e,`/Workbook`)||aw.find(e,`/Book`)}else{switch(t.type){case`base64`:e=LS(MS(e));break;case`binary`:e=LS(e);break;case`buffer`:break;case`array`:Array.isArray(e)||(e=Array.prototype.slice.call(e));break}_E(e,0),r={content:e}}var i,a;if(n&&Zz(n),t.bookProps&&!t.bookSheets)i={};else{var o=NS?`buffer`:`array`;if(r&&r.content)i=nB(r.content,t);else if((a=aw.find(e,`PerfectOffice_MAIN`))&&a.content)i=Dj.to_workbook(a.content,(t.type=o,t));else if((a=aw.find(e,`NativeContent_MAIN`))&&a.content)i=Dj.to_workbook(a.content,(t.type=o,t));else if((a=aw.find(e,`MN0`))&&a.content)throw Error(`Unsupported Works 4 for Mac file`);else throw Error(`Cannot find Workbook stream`);t.bookVBA&&e.FullPaths&&aw.find(e,`/_VBA_PROJECT_CUR/VBA/dir`)&&(i.vbaraw=hP(e))}var s={};return e.FullPaths&&iB(e,s,t),i.Props=i.Custprops=s,t.bookFiles&&(i.cfb=e),i}function sB(e,t){var n=t||{},r=aw.utils.cfb_new({root:`R`}),i=`/Workbook`;switch(n.bookType||`xls`){case`xls`:n.bookType=`biff8`;case`xla`:n.bookType||=`xla`;case`biff8`:i=`/Workbook`,n.biff=8;break;case`biff5`:i=`/Book`,n.biff=5;break;default:throw Error(`invalid type `+n.bookType+` for XLS CFB`)}return aw.utils.cfb_add(r,i,DB(e,n)),n.biff==8&&(e.Props||e.Custprops)&&aB(e,r),n.biff==8&&e.vbaraw&&gP(r,aw.read(e.vbaraw,{type:typeof e.vbaraw==`string`?`binary`:`buffer`})),r}var cB={0:{f:fL},1:{f:bL},2:{f:BL},3:{f:OL},4:{f:wL},5:{f:IL},6:{f:GL},7:{f:ML},8:{f:QL},9:{f:ZL},10:{f:YL},11:{f:XL},12:{f:SL},13:{f:HL},14:{f:AL},15:{f:EL},16:{f:RL},17:{f:qL},18:{f:PL},19:{f:XE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ez},40:{},42:{},43:{f:JM},44:{f:KM},45:{f:QM},46:{f:rN},47:{f:eN},48:{},49:{f:WE},50:{},51:{f:zN},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:rj},62:{f:WL},63:{f:YN},64:{f:hR},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vE,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:dR},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vL},148:{f:hL,p:16},151:{f:iR},152:{},153:{f:ZR},154:{},155:{},156:{f:YR},157:{},158:{},159:{T:1,f:Vj},160:{T:-1},161:{T:1,f:hD},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$L},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:LN},336:{T:-1},337:{f:HN,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:PA},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:aR},427:{f:oR},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lR},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:_L},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:nR},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uP},633:{T:1},634:{T:-1},635:{T:1,f:cP},636:{T:-1},637:{f:QE},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:MR},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gR},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:``}},lB={6:{f:uI},10:{f:XO},12:{f:tk},13:{f:tk},14:{f:$O},15:{f:$O},16:{f:_D},17:{f:$O},18:{f:$O},19:{f:tk},20:{f:kA},21:{f:kA},23:{f:PA},24:{f:NA},25:{f:$O},26:{},27:{},28:{f:VA},29:{},34:{f:$O},35:{f:jA},38:{f:_D},39:{f:_D},40:{f:_D},41:{f:_D},42:{f:$O},43:{f:$O},47:{f:mM},49:{f:oA},51:{f:tk},60:{},61:{f:tA},64:{f:$O},65:{f:aA},66:{f:tk},77:{},80:{},81:{},82:{},85:{f:tk},89:{},90:{},91:{},92:{f:Uk},93:{f:WA},94:{},95:{f:$O},96:{},97:{},99:{f:$O},125:{f:rj},128:{f:CA},129:{f:Gk},130:{f:tk},131:{f:$O},132:{f:$O},133:{f:Kk},134:{},140:{f:QA},141:{f:tk},144:{},146:{f:tj},151:{},152:{},153:{},154:{},155:{},156:{f:tk},157:{},158:{},160:{f:lj},161:{f:aj},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:vA},190:{f:yA},193:{f:XO},197:{},198:{},199:{},200:{},201:{},202:{f:$O},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:tk},220:{},221:{f:$O},222:{},224:{f:xA},225:{f:Hk},226:{f:XO},227:{},229:{f:HA},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Jk},253:{f:cA},255:{f:Xk},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:rk},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$O},353:{f:XO},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:AA},431:{f:$O},432:{},433:{},434:{},437:{},438:{f:qA},439:{f:$O},440:{f:JA},441:{},442:{f:uk},443:{},444:{f:tk},445:{},446:{},448:{f:XO},449:{f:$k,r:2},450:{f:XO},512:{f:hA},513:{f:cj},515:{f:DA},516:{f:uA},517:{f:TA},519:{f:uj},520:{f:Zk},523:{},545:{f:RA},549:{f:eA},566:{},574:{f:rA},638:{f:_A},659:{},1048:{},1054:{f:fA},1084:{},1212:{f:LA},2048:{f:XA},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Bk},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:XO},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:nj,r:12},2173:{f:FN,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$O,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:IA,r:12},2197:{},2198:{f:kN,r:12},2199:{},2200:{},2201:{},2202:{f:zA,r:12},2203:{f:XO},2204:{},2205:{},2206:{},2207:{},2211:{f:Qk},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:tk},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:oj},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:ej},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:hA},1:{},2:{f:hj},3:{f:pj},4:{f:fj},5:{f:TA},7:{f:_j},8:{},9:{f:Bk},11:{},22:{f:tk},30:{f:mA},31:{},32:{},33:{f:RA},36:{},37:{f:eA},50:{f:vj},62:{},52:{},67:{},68:{f:tk},69:{},86:{},126:{},127:{f:dj},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:yj},223:{},234:{},354:{},421:{},518:{f:uI},521:{f:Bk},536:{f:NA},547:{f:jA},561:{},579:{},1030:{f:uI},1033:{f:Bk},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Z(e,t,n,r){var i=t;if(!isNaN(i)){var a=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&rE(n)&&e.push(n)}}function uB(e,t,n,r){var i=r||(n||[]).length||0;if(i<=8224)return Z(e,t,n,i);var a=t;if(!isNaN(a)){for(var o=n.parts||[],s=0,c=0,l=0;l+(o[s]||8224)<=8224;)l+=o[s]||8224,s++;var u=e.next(4);for(u.write_shift(2,a),u.write_shift(2,l),e.push(n.slice(c,c+l)),c+=l;c<i;){for(u=e.next(4),u.write_shift(2,60),l=0;l+(o[s]||8224)<=8224;)l+=o[s]||8224,s++;u.write_shift(2,l),e.push(n.slice(c,c+l)),c+=l}}}function dB(e,t,n){return e||=Y(7),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function fB(e,t,n,r){var i=Y(9);return dB(i,e,t),ak(n,r||`b`,i),i}function pB(e,t,n){var r=Y(8+2*n.length);return dB(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,`sbcs`),r.l<r.length?r.slice(0,r.l):r}function mB(e,t,n,r){if(t.v!=null)switch(t.t){case`d`:case`n`:var i=t.t==`d`?gw(Tw(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Z(e,2,gj(n,r,i)):Z(e,3,mj(n,r,i));return;case`b`:case`e`:Z(e,5,fB(n,r,t.v,t.t));return;case`s`:case`str`:Z(e,4,pB(n,r,(t.v||``).slice(0,255)));return}Z(e,1,dB(null,n,r))}function hB(e,t,n,r){var i=Array.isArray(t),a=RE(t[`!ref`]||`A1`),o,s=``,c=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw Error(`Range `+(t[`!ref`]||`A1`)+` exceeds format limit A1:IV16384`);a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=LE(a)}for(var l=a.s.r;l<=a.e.r;++l){s=EE(l);for(var u=a.s.c;u<=a.e.c;++u){l===a.s.r&&(c[u]=AE(u)),o=c[u]+s;var d=i?(t[l]||[])[u]:t[o];d&&mB(e,d,l,u,r)}}}function gB(e,t){var n=t||{};OS!=null&&n.dense==null&&(n.dense=OS);for(var r=bE(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw Error(`Sheet not found: `+n.sheet);return Z(r,n.biff==4?1033:n.biff==3?521:9,Vk(e,16,n)),hB(r,e.Sheets[e.SheetNames[i]],i,n,e),Z(r,10),r.end()}function _B(e,t,n){Z(e,49,sA({sz:12,color:{theme:1},name:`Arial`,family:2,scheme:`minor`},n))}function vB(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Z(e,1054,pA(i,t[i],n))})}function yB(e,t){var n=Y(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Z(e,2151,n),n=Y(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),jk(RE(t[`!ref`]||`A1`),n),n.write_shift(4,4),Z(e,2152,n)}function bB(e,t){for(var n=0;n<16;++n)Z(e,224,SA({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Z(e,224,SA(n,0,t))})}function xB(e,t){for(var n=0;n<t[`!links`].length;++n){var r=t[`!links`][n];Z(e,440,YA(r)),r[1].Tooltip&&Z(e,2048,ZA(r))}delete t[`!links`]}function SB(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&Z(e,125,ij(OI(r,t),r))})}}function CB(e,t,n,r,i){var a=16+AI(i.cellXfs,t,i);if(t.v==null&&!t.bf){Z(e,513,wk(n,r,a));return}if(t.bf)Z(e,6,dI(t,n,r,i,a));else switch(t.t){case`d`:case`n`:Z(e,515,OA(n,r,t.t==`d`?gw(Tw(t.v)):t.v,a,i));break;case`b`:case`e`:Z(e,517,EA(n,r,t.v,a,i,t.t));break;case`s`:case`str`:i.bookSST?Z(e,253,lA(n,r,DI(i.Strings,t.v,i.revStrings),a,i)):Z(e,516,dA(n,r,(t.v||``).slice(0,255),a,i));break;default:Z(e,513,wk(n,r,a))}}function wB(e,t,n){var r=bE(),i=n.SheetNames[e],a=n.Sheets[i]||{},o=(n||{}).Workbook||{},s=(o.Sheets||[])[e]||{},c=Array.isArray(a),l=t.biff==8,u,d=``,f=[],p=RE(a[`!ref`]||`A1`),m=l?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw Error(`Range `+(a[`!ref`]||`A1`)+` exceeds format limit A1:IV16384`);p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}Z(r,2057,Vk(n,16,t)),Z(r,13,nk(1)),Z(r,12,nk(100)),Z(r,15,ek(!0)),Z(r,17,ek(!1)),Z(r,16,vD(.001)),Z(r,95,ek(!0)),Z(r,42,ek(!1)),Z(r,43,ek(!1)),Z(r,130,nk(1)),Z(r,128,wA([0,0])),Z(r,131,ek(!1)),Z(r,132,ek(!1)),l&&SB(r,a[`!cols`]),Z(r,512,gA(p,t)),l&&(a[`!links`]=[]);for(var h=p.s.r;h<=p.e.r;++h){d=EE(h);for(var g=p.s.c;g<=p.e.c;++g){h===p.s.r&&(f[g]=AE(g)),u=f[g]+d;var _=c?(a[h]||[])[g]:a[u];_&&(CB(r,_,h,g,t),l&&_.l&&a[`!links`].push([u,_.l]))}}var v=s.CodeName||s.name||i;return l&&Z(r,574,iA((o.Views||[])[0])),l&&(a[`!merges`]||[]).length&&Z(r,229,UA(a[`!merges`])),l&&xB(r,a),Z(r,442,fk(v,t)),l&&yB(r,a),Z(r,10),r.end()}function TB(e,t,n){var r=bE(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},s=n.biff==8,c=n.biff==5;Z(r,2057,Vk(e,5,n)),n.bookType==`xla`&&Z(r,135),Z(r,225,s?nk(1200):null),Z(r,193,ZO(2)),c&&Z(r,191),c&&Z(r,192),Z(r,226),Z(r,92,Wk(`SheetJS`,n)),Z(r,66,nk(s?1200:1252)),s&&Z(r,353,nk(0)),s&&Z(r,448),Z(r,317,sj(e.SheetNames.length)),s&&e.vbaraw&&Z(r,211),s&&e.vbaraw&&Z(r,442,fk(o.CodeName||`ThisWorkbook`,n)),Z(r,156,nk(17)),Z(r,25,ek(!1)),Z(r,18,ek(!1)),Z(r,19,nk(0)),s&&Z(r,431,ek(!1)),s&&Z(r,444,nk(0)),Z(r,61,nA(n)),Z(r,64,ek(!1)),Z(r,141,nk(0)),Z(r,34,ek(VR(e)==`true`)),Z(r,14,ek(!0)),s&&Z(r,439,ek(!1)),Z(r,218,nk(0)),_B(r,e,n),vB(r,e.SSF,n),bB(r,n),s&&Z(r,352,ek(!1));var l=r.end(),u=bE();s&&Z(u,140,$A()),s&&n.Strings&&uB(u,252,Yk(n.Strings,n)),Z(u,10);var d=u.end(),f=bE(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(s?12:11)+(s?2:1)*e.SheetNames[m].length;var h=l.length+p+d.length;for(m=0;m<e.SheetNames.length;++m){var g=a[m]||{};Z(f,133,qk({pos:h,hs:g.Hidden||0,dt:0,name:e.SheetNames[m]},n)),h+=t[m].length}var _=f.end();if(p!=_.length)throw Error(`BS8 `+p+` != `+_.length);var v=[];return l.length&&v.push(l),_.length&&v.push(_),d.length&&v.push(d),HS(v)}function EB(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Dw(iC)),e&&e.SSF&&($C(),QC(e.SSF),n.revssf=pw(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,jV(n),n.cellXfs=[],AI(n.cellXfs,{},{revssf:{General:0}}),e.Props||={};for(var i=0;i<e.SheetNames.length;++i)r[r.length]=wB(i,n,e);return r.unshift(TB(e,r,n)),HS(r)}function DB(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];!r||!r[`!ref`]||IE(r[`!ref`]).e.c>255&&typeof console<`u`&&console.error&&console.error(`Worksheet '`+e.SheetNames[n]+`' extends beyond column IV (255).  Data may be lost.`)}var i=t||{};switch(i.biff||2){case 8:case 5:return EB(e,t);case 4:case 3:case 2:return gB(e,t)}throw Error(`invalid type `+i.bookType+` for BIFF`)}function OB(e,t){var n=t||{};OS!=null&&n.dense==null&&(n.dense=OS);var r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,``);var i=e.match(/<table/i);if(!i)throw Error(`Invalid HTML: could not find <table>`);var a=e.match(/<\/table/i),o=i.index,s=a&&a.index||e.length,c=Mw(e.slice(o,s),/(:?<tr[^>]*>)/i,`<tr>`),l=-1,u=0,d=0,f=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(o=0;o<c.length;++o){var h=c[o].trim(),g=h.slice(0,3).toLowerCase();if(g==`<tr`){if(++l,n.sheetRows&&n.sheetRows<=l){--l;break}u=0;continue}if(!(g!=`<td`&&g!=`<th`)){var _=h.split(/<\/t[dh]>/i);for(s=0;s<_.length;++s){var v=_[s].trim();if(v.match(/<t[dh]/i)){for(var y=v,b=0;y.charAt(0)==`<`&&(b=y.indexOf(`>`))>-1;)y=y.slice(b+1);for(var x=0;x<m.length;++x){var S=m[x];S.s.c==u&&S.s.r<l&&l<=S.e.r&&(u=S.e.c+1,x=-1)}var C=Qw(v.slice(0,v.indexOf(`>`)));f=C.colspan?+C.colspan:1,((d=+C.rowspan)>1||f>1)&&m.push({s:{r:l,c:u},e:{r:l+(d||1)-1,c:u+f-1}});var w=C.t||C[`data-t`]||``;if(!y.length){u+=f;continue}if(y=bT(y),p.s.r>l&&(p.s.r=l),p.e.r<l&&(p.e.r=l),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!y.length){u+=f;continue}var T={t:`s`,v:y};n.raw||!y.trim().length||w==`s`||(y===`TRUE`?T={t:`b`,v:!0}:y===`FALSE`?T={t:`b`,v:!1}:isNaN(kw(y))?isNaN(jw(y).getDate())||(T={t:`d`,v:Tw(y)},n.cellDates||(T={t:`n`,v:gw(T.v)}),T.z=n.dateNF||iC[14]):T={t:`n`,v:kw(y)}),n.dense?(r[l]||(r[l]=[]),r[l][u]=T):r[FE({r:l,c:u})]=T,u+=f}}}}return r[`!ref`]=LE(p),m.length&&(r[`!merges`]=m),r}function kB(e,t,n,r){for(var i=e[`!merges`]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>n||i[l].s.c>o)&&!(i[l].e.r<n||i[l].e.c<o)){if(i[l].s.r<n||i[l].s.c<o){s=-1;break}s=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(s<0)){var u=FE({r:n,c:o}),d=r.dense?(e[n]||[])[o]:e[u],f=d&&d.v!=null&&(d.h||cT(d.w||(BE(d),d.w)||``))||``,p={};s>1&&(p.rowspan=s),c>1&&(p.colspan=c),r.editable?f=`<span contenteditable="true">`+f+`</span>`:d&&(p[`data-t`]=d&&d.t||`z`,d.v!=null&&(p[`data-v`]=d.v),d.z!=null&&(p[`data-z`]=d.z),d.l&&(d.l.Target||`#`).charAt(0)!=`#`&&(f=`<a href="`+d.l.Target+`">`+f+`</a>`)),p.id=(r.id||`sjs`)+`-`+u,a.push(J(`td`,f,p))}}return`<tr>`+a.join(``)+`</tr>`}var AB=`<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>`,jB=`</body></html>`;function MB(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw Error(`Invalid HTML: could not find <table>`);if(n.length==1)return VE(OB(n[0],t),t);var r=_H();return n.forEach(function(e,n){vH(r,OB(e,t),`Sheet`+(n+1))}),r}function NB(e,t,n){return[].join(``)+`<table`+(n&&n.id?` id="`+n.id+`"`:``)+`>`}function PB(e,t){var n=t||{},r=n.header==null?AB:n.header,i=n.footer==null?jB:n.footer,a=[r],o=IE(e[`!ref`]);n.dense=Array.isArray(e),a.push(NB(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)a.push(kB(e,o,s,n));return a.push(`</table>`+i),a.join(``)}function FB(e,t,n){var r=n||{};OS!=null&&(r.dense=OS);var i=0,a=0;if(r.origin!=null)if(typeof r.origin==`number`)i=r.origin;else{var o=typeof r.origin==`string`?PE(r.origin):r.origin;i=o.r,a=o.c}var s=t.getElementsByTagName(`tr`),c=Math.min(r.sheetRows||1e7,s.length),l={s:{r:0,c:0},e:{r:i,c:a}};if(e[`!ref`]){var u=IE(e[`!ref`]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),i==-1&&(l.e.r=i=u.e.r+1)}var d=[],f=0,p=e[`!rows`]||=[],m=0,h=0,g=0,_=0,v=0,y=0;for(e[`!cols`]||=[];m<s.length&&h<c;++m){var b=s[m];if(RB(b)){if(r.display)continue;p[h]={hidden:!0}}var x=b.children;for(g=_=0;g<x.length;++g){var S=x[g];if(!(r.display&&RB(S))){var C=S.hasAttribute(`data-v`)?S.getAttribute(`data-v`):S.hasAttribute(`v`)?S.getAttribute(`v`):bT(S.innerHTML),w=S.getAttribute(`data-z`)||S.getAttribute(`z`);for(f=0;f<d.length;++f){var T=d[f];T.s.c==_+a&&T.s.r<h+i&&h+i<=T.e.r&&(_=T.e.c+1-a,f=-1)}y=+S.getAttribute(`colspan`)||1,((v=+S.getAttribute(`rowspan`)||1)>1||y>1)&&d.push({s:{r:h+i,c:_+a},e:{r:h+i+(v||1)-1,c:_+a+(y||1)-1}});var E={t:`s`,v:C},D=S.getAttribute(`data-t`)||S.getAttribute(`t`)||``;C!=null&&(C.length==0?E.t=D||`z`:r.raw||C.trim().length==0||D==`s`||(C===`TRUE`?E={t:`b`,v:!0}:C===`FALSE`?E={t:`b`,v:!1}:isNaN(kw(C))?isNaN(jw(C).getDate())||(E={t:`d`,v:Tw(C)},r.cellDates||(E={t:`n`,v:gw(E.v)}),E.z=r.dateNF||iC[14]):E={t:`n`,v:kw(C)})),E.z===void 0&&w!=null&&(E.z=w);var O=``,k=S.getElementsByTagName(`A`);if(k&&k.length)for(var A=0;A<k.length&&!(k[A].hasAttribute(`href`)&&(O=k[A].getAttribute(`href`),O.charAt(0)!=`#`));++A);O&&O.charAt(0)!=`#`&&(E.l={Target:O}),r.dense?(e[h+i]||(e[h+i]=[]),e[h+i][_+a]=E):e[FE({c:_+a,r:h+i})]=E,l.e.c<_+a&&(l.e.c=_+a),_+=y}}++h}return d.length&&(e[`!merges`]=(e[`!merges`]||[]).concat(d)),l.e.r=Math.max(l.e.r,h-1+i),e[`!ref`]=LE(l),h>=c&&(e[`!fullref`]=LE((l.e.r=s.length-m+h-1+i,l))),e}function IB(e,t){return FB((t||{}).dense?[]:{},e,t)}function LB(e,t){return VE(IB(e,t),t)}function RB(e){var t=``,n=zB(e);return n&&(t=n(e).getPropertyValue(`display`)),t||=e.style&&e.style.display,t===`none`}function zB(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle==`function`?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle==`function`?getComputedStyle:null}function BB(e){return[nT(e.replace(/[\t\r\n]/g,` `).trim().replace(/ +/g,` `).replace(/<text:s\/>/g,` `).replace(/<text:s text:c="(\d+)"\/>/g,function(e,t){return Array(parseInt(t,10)+1).join(` `)}).replace(/<text:tab[^>]*\/>/g,`	`).replace(/<text:line-break\/>/g,`
`).replace(/<[^>]*>/g,``))]}var VB={day:[`d`,`dd`],month:[`m`,`mm`],year:[`y`,`yy`],hours:[`h`,`hh`],minutes:[`m`,`mm`],seconds:[`s`,`ss`],"am-pm":[`A/P`,`AM/PM`],"day-of-week":[`ddd`,`dddd`],era:[`e`,`ee`],quarter:[`\\Qm`,`m\\"th quarter"`]};function HB(e,t){var n=t||{};OS!=null&&n.dense==null&&(n.dense=OS);var r=AT(e),i=[],a,o,s={name:``},c=``,l=0,u,d,f={},p=[],m=n.dense?[]:{},h,g,_={value:``},v=``,y=0,b,x=[],S=-1,C=-1,w={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,E={},D=[],O={},k=0,A=0,j=[],M=1,N=1,P=[],F={Names:[]},I={},L=[``,``],R=[],z={},ee=``,B=0,V=!1,te=!1,H=0;for(jT.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,``).replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,``);h=jT.exec(r);)switch(h[3]=h[3].replace(/_.*$/,``)){case`table`:case``:h[1]===`/`?(w.e.c>=w.s.c&&w.e.r>=w.s.r?m[`!ref`]=LE(w):m[`!ref`]=`A1:A1`,n.sheetRows>0&&n.sheetRows<=w.e.r&&(m[`!fullref`]=m[`!ref`],w.e.r=n.sheetRows-1,m[`!ref`]=LE(w)),D.length&&(m[`!merges`]=D),j.length&&(m[`!rows`]=j),u.name=u.||u.name,typeof JSON<`u`&&JSON.stringify(u),p.push(u.name),f[u.name]=m,te=!1):h[0].charAt(h[0].length-2)!==`/`&&(u=Qw(h[0],!1),S=C=-1,w.s.r=w.s.c=1e7,w.e.r=w.e.c=0,m=n.dense?[]:{},D=[],j=[],te=!0);break;case`table-row-group`:h[1]===`/`?--T:++T;break;case`table-row`:case``:if(h[1]===`/`){S+=M,M=1;break}if(d=Qw(h[0],!1),d.?S=d.-1:S==-1&&(S=0),M=+d[`number-rows-repeated`]||1,M<10)for(H=0;H<M;++H)T>0&&(j[S+H]={level:T});C=-1;break;case`covered-table-cell`:h[1]!==`/`&&++C,n.sheetStubs&&(n.dense?(m[S]||(m[S]=[]),m[S][C]={t:`z`}):m[FE({r:S,c:C})]={t:`z`}),v=``,x=[];break;case`table-cell`:case``:if(h[0].charAt(h[0].length-2)===`/`)++C,_=Qw(h[0],!1),N=parseInt(_[`number-columns-repeated`]||`1`,10),g={t:`z`,v:null},_.formula&&n.cellFormula!=0&&(g.f=bI(nT(_.formula))),(_.||_[`value-type`])==`string`&&(g.t=`s`,g.v=nT(_[`string-value`]||``),n.dense?(m[S]||(m[S]=[]),m[S][C]=g):m[FE({r:S,c:C})]=g),C+=N-1;else if(h[1]!==`/`){++C,v=``,y=0,x=[],N=1;var ne=M?S+M-1:S;if(C>w.e.c&&(w.e.c=C),C<w.s.c&&(w.s.c=C),S<w.s.r&&(w.s.r=S),ne>w.e.r&&(w.e.r=ne),_=Qw(h[0],!1),R=[],z={},g={t:_.||_[`value-type`],v:null},n.cellFormula)if(_.formula&&=nT(_.formula),_[`number-matrix-columns-spanned`]&&_[`number-matrix-rows-spanned`]&&(k=parseInt(_[`number-matrix-rows-spanned`],10)||0,A=parseInt(_[`number-matrix-columns-spanned`],10)||0,O={s:{r:S,c:C},e:{r:S+k-1,c:C+A-1}},g.F=LE(O),P.push([O,g.F])),_.formula)g.f=bI(_.formula);else for(H=0;H<P.length;++H)S>=P[H][0].s.r&&S<=P[H][0].e.r&&C>=P[H][0].s.c&&C<=P[H][0].e.c&&(g.F=P[H][1]);switch((_[`number-columns-spanned`]||_[`number-rows-spanned`])&&(k=parseInt(_[`number-rows-spanned`],10)||0,A=parseInt(_[`number-columns-spanned`],10)||0,O={s:{r:S,c:C},e:{r:S+k-1,c:C+A-1}},D.push(O)),_[`number-columns-repeated`]&&(N=parseInt(_[`number-columns-repeated`],10)),g.t){case`boolean`:g.t=`b`,g.v=fT(_[`boolean-value`]);break;case`float`:g.t=`n`,g.v=parseFloat(_.value);break;case`percentage`:g.t=`n`,g.v=parseFloat(_.value);break;case`currency`:g.t=`n`,g.v=parseFloat(_.value);break;case`date`:g.t=`d`,g.v=Tw(_[`date-value`]),n.cellDates||(g.t=`n`,g.v=gw(g.v)),g.z=`m/d/yy`;break;case`time`:g.t=`n`,g.v=xw(_[`time-value`])/86400,n.cellDates&&(g.t=`d`,g.v=bw(g.v)),g.z=`HH:MM:SS`;break;case`number`:g.t=`n`,g.v=parseFloat(_.);break;default:if(g.t===`string`||g.t===`text`||!g.t)g.t=`s`,_[`string-value`]!=null&&(v=nT(_[`string-value`]),x=[]);else throw Error(`Unsupported value type `+g.t)}}else{if(V=!1,g.t===`s`&&(g.v=v||``,x.length&&(g.R=x),V=y==0),I.Target&&(g.l=I),R.length>0&&(g.c=R,R=[]),v&&n.cellText!==!1&&(g.w=v),V&&(g.t=`z`,delete g.v),(!V||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var re=0;re<M;++re){if(N=parseInt(_[`number-columns-repeated`]||`1`,10),n.dense)for(m[S+re]||(m[S+re]=[]),m[S+re][C]=re==0?g:Dw(g);--N>0;)m[S+re][C+N]=Dw(g);else for(m[FE({r:S+re,c:C})]=g;--N>0;)m[FE({r:S+re,c:C+N})]=Dw(g);w.e.c<=C&&(w.e.c=C)}N=parseInt(_[`number-columns-repeated`]||`1`,10),C+=N-1,N=0,g={},v=``,x=[]}I={};break;case`document`:case`document-content`:case``:case`spreadsheet`:case``:case`scripts`:case`styles`:case`font-face-decls`:case`master-styles`:if(h[1]===`/`){if((a=i.pop())[0]!==h[3])throw`Bad state: `+a}else h[0].charAt(h[0].length-2)!==`/`&&i.push([h[3],!0]);break;case`annotation`:if(h[1]===`/`){if((a=i.pop())[0]!==h[3])throw`Bad state: `+a;z.t=v,x.length&&(z.R=x),z.a=ee,R.push(z)}else h[0].charAt(h[0].length-2)!==`/`&&i.push([h[3],!1]);ee=``,B=0,v=``,y=0,x=[];break;case`creator`:h[1]===`/`?ee=r.slice(B,h.index):B=h.index+h[0].length;break;case`meta`:case``:case`settings`:case`config-item-set`:case`config-item-map-indexed`:case`config-item-map-entry`:case`config-item-map-named`:case`shapes`:case`frame`:case`text-box`:case`image`:case`data-pilot-tables`:case`list-style`:case`form`:case`dde-links`:case`event-listeners`:case`chart`:if(h[1]===`/`){if((a=i.pop())[0]!==h[3])throw`Bad state: `+a}else h[0].charAt(h[0].length-2)!==`/`&&i.push([h[3],!1]);v=``,y=0,x=[];break;case`scientific-number`:break;case`currency-symbol`:break;case`currency-style`:break;case`number-style`:case`percentage-style`:case`date-style`:case`time-style`:if(h[1]===`/`){if(E[s.name]=c,(a=i.pop())[0]!==h[3])throw`Bad state: `+a}else h[0].charAt(h[0].length-2)!==`/`&&(c=``,s=Qw(h[0],!1),i.push([h[3],!0]));break;case`script`:break;case`libraries`:break;case`automatic-styles`:break;case`default-style`:case`page-layout`:break;case`style`:break;case`map`:break;case`font-face`:break;case`paragraph-properties`:break;case`table-properties`:break;case`table-column-properties`:break;case`table-row-properties`:break;case`table-cell-properties`:break;case`number`:switch(i[i.length-1][0]){case`time-style`:case`date-style`:o=Qw(h[0],!1),c+=VB[h[3]][o.style===`long`?1:0];break}break;case`fraction`:break;case`day`:case`month`:case`year`:case`era`:case`day-of-week`:case`week-of-year`:case`quarter`:case`hours`:case`minutes`:case`seconds`:case`am-pm`:switch(i[i.length-1][0]){case`time-style`:case`date-style`:o=Qw(h[0],!1),c+=VB[h[3]][o.style===`long`?1:0];break}break;case`boolean-style`:break;case`boolean`:break;case`text-style`:break;case`text`:if(h[0].slice(-2)===`/>`)break;if(h[1]===`/`)switch(i[i.length-1][0]){case`number-style`:case`date-style`:case`time-style`:c+=r.slice(l,h.index);break}else l=h.index+h[0].length;break;case`named-range`:o=Qw(h[0],!1),L=SI(o[`cell-range-address`]);var ie={Name:o.name,Ref:L[0]+`!`+L[1]};te&&(ie.Sheet=p.length),F.Names.push(ie);break;case`text-content`:break;case`text-properties`:break;case`embedded-text`:break;case`body`:case``:break;case`forms`:break;case`table-column`:break;case`table-header-rows`:break;case`table-rows`:break;case`table-column-group`:break;case`table-header-columns`:break;case`table-columns`:break;case`null-date`:break;case`graphic-properties`:break;case`calculation-settings`:break;case`named-expressions`:break;case`label-range`:break;case`label-ranges`:break;case`named-expression`:break;case`sort`:break;case`sort-by`:break;case`sort-groups`:break;case`tab`:break;case`line-break`:break;case`span`:break;case`p`:case``:if([`master-styles`].indexOf(i[i.length-1][0])>-1)break;if(h[1]===`/`&&(!_||!_[`string-value`])){var U=BB(r.slice(y,h.index),b);v=(v.length>0?v+`
`:``)+U[0]}else b=Qw(h[0],!1),y=h.index+h[0].length;break;case`s`:break;case`database-range`:if(h[1]===`/`)break;try{L=SI(Qw(h[0])[`target-range-address`]),f[L[0]][`!autofilter`]={ref:L[1]}}catch{}break;case`date`:break;case`object`:break;case`title`:case``:break;case`desc`:break;case`binary-data`:break;case`table-source`:break;case`scenario`:break;case`iteration`:break;case`content-validations`:break;case`content-validation`:break;case`help-message`:break;case`error-message`:break;case`database-ranges`:break;case`filter`:break;case`filter-and`:break;case`filter-or`:break;case`filter-condition`:break;case`list-level-style-bullet`:break;case`list-level-style-number`:break;case`list-level-properties`:break;case`sender-firstname`:case`sender-lastname`:case`sender-initials`:case`sender-title`:case`sender-position`:case`sender-email`:case`sender-phone-private`:case`sender-fax`:case`sender-company`:case`sender-phone-work`:case`sender-street`:case`sender-city`:case`sender-postal-code`:case`sender-country`:case`sender-state-or-province`:case`author-name`:case`author-initials`:case`chapter`:case`file-name`:case`template-name`:case`sheet-name`:break;case`event-listener`:break;case`initial-creator`:case`creation-date`:case`print-date`:case`generator`:case`document-statistic`:case`user-defined`:case`editing-duration`:case`editing-cycles`:break;case`config-item`:break;case`page-number`:break;case`page-count`:break;case`time`:break;case`cell-range-source`:break;case`detective`:break;case`operation`:break;case`highlighted-range`:break;case`data-pilot-table`:case`source-cell-range`:case`source-service`:case`data-pilot-field`:case`data-pilot-level`:case`data-pilot-subtotals`:case`data-pilot-subtotal`:case`data-pilot-members`:case`data-pilot-member`:case`data-pilot-display-info`:case`data-pilot-sort-info`:case`data-pilot-layout-info`:case`data-pilot-field-reference`:case`data-pilot-groups`:case`data-pilot-group`:case`data-pilot-group-member`:break;case`rect`:break;case`dde-connection-decls`:case`dde-connection-decl`:case`dde-link`:case`dde-source`:break;case`properties`:break;case`property`:break;case`a`:if(h[1]!==`/`){if(I=Qw(h[0],!1),!I.href)break;I.Target=nT(I.href),delete I.href,I.Target.charAt(0)==`#`&&I.Target.indexOf(`.`)>-1?(L=SI(I.Target.slice(1)),I.Target=`#`+L[0]+`!`+L[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case`table-protection`:break;case`data-pilot-grand-total`:break;case`office-document-common-attrs`:break;default:switch(h[2]){case`dc:`:case`calcext:`:case`loext:`:case`ooo:`:case`chartooo:`:case`draw:`:case`style:`:case`chart:`:case`form:`:case`uof:`:case`:`:case`:`:break;default:if(n.WTF)throw Error(h)}}var ae={Sheets:f,SheetNames:p,Workbook:F};return n.bookSheets&&delete ae.Sheets,ae}function UB(e,t){t||={},Iw(e,`META-INF/manifest.xml`)&&iO(Rw(e,`META-INF/manifest.xml`),t);var n=zw(e,`content.xml`);if(!n)throw Error(`Missing content.xml in ODS / UOF file`);var r=HB(_T(n),t);return Iw(e,`meta.xml`)&&(r.Props=fO(Rw(e,`meta.xml`))),r}function WB(e,t){return HB(e,t)}var GB=(function(){var e=[`<office:master-styles>`,`<style:master-page style:name="mp1" style:page-layout-name="mp1">`,`<style:header/>`,`<style:header-left style:display="false"/>`,`<style:footer/>`,`<style:footer-left style:display="false"/>`,`</style:master-page>`,`</office:master-styles>`].join(``),t=`<office:document-styles `+DT({"xmlns:office":`urn:oasis:names:tc:opendocument:xmlns:office:1.0`,"xmlns:table":`urn:oasis:names:tc:opendocument:xmlns:table:1.0`,"xmlns:style":`urn:oasis:names:tc:opendocument:xmlns:style:1.0`,"xmlns:text":`urn:oasis:names:tc:opendocument:xmlns:text:1.0`,"xmlns:draw":`urn:oasis:names:tc:opendocument:xmlns:drawing:1.0`,"xmlns:fo":`urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,"xmlns:dc":`http://purl.org/dc/elements/1.1/`,"xmlns:number":`urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0`,"xmlns:svg":`urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0`,"xmlns:of":`urn:oasis:names:tc:opendocument:xmlns:of:1.2`,"office:version":`1.2`})+`>`+e+`</office:document-styles>`;return function(){return Kw+t}})(),KB=(function(){var e=function(e){return aT(e).replace(/  +/g,function(e){return`<text:s text:c="`+e.length+`"/>`}).replace(/\t/g,`<text:tab/>`).replace(/\n/g,`</text:p><text:p>`).replace(/^ /,`<text:s/>`).replace(/ $/,`<text:s/>`)},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(r,i,a){var o=[];o.push(`      <table:table table:name="`+aT(i.SheetNames[a])+`" table:style-name="ta1">
`);var s=0,c=0,l=IE(r[`!ref`]||`A1`),u=r[`!merges`]||[],d=0,f=Array.isArray(r);if(r[`!cols`])for(c=0;c<=l.e.c;++c)o.push(`        <table:table-column`+(r[`!cols`][c]?` table:style-name="co`+r[`!cols`][c].ods+`"`:``)+`></table:table-column>
`);var p=``,m=r[`!rows`]||[];for(s=0;s<l.s.r;++s)p=m[s]?` table:style-name="ro`+m[s].ods+`"`:``,o.push(`        <table:table-row`+p+`></table:table-row>
`);for(;s<=l.e.r;++s){for(p=m[s]?` table:style-name="ro`+m[s].ods+`"`:``,o.push(`        <table:table-row`+p+`>
`),c=0;c<l.s.c;++c)o.push(t);for(;c<=l.e.c;++c){var h=!1,g={},_=``;for(d=0;d!=u.length;++d)if(!(u[d].s.c>c)&&!(u[d].s.r>s)&&!(u[d].e.c<c)&&!(u[d].e.r<s)){(u[d].s.c!=c||u[d].s.r!=s)&&(h=!0),g[`table:number-columns-spanned`]=u[d].e.c-u[d].s.c+1,g[`table:number-rows-spanned`]=u[d].e.r-u[d].s.r+1;break}if(h){o.push(n);continue}var v=FE({r:s,c}),y=f?(r[s]||[])[c]:r[v];if(y&&y.f&&(g[`table:formula`]=aT(xI(y.f)),y.F&&y.F.slice(0,v.length)==v)){var b=IE(y.F);g[`table:number-matrix-columns-spanned`]=b.e.c-b.s.c+1,g[`table:number-matrix-rows-spanned`]=b.e.r-b.s.r+1}if(!y){o.push(t);continue}switch(y.t){case`b`:_=y.v?`TRUE`:`FALSE`,g[`office:value-type`]=`boolean`,g[`office:boolean-value`]=y.v?`true`:`false`;break;case`n`:_=y.w||String(y.v||0),g[`office:value-type`]=`float`,g[`office:value`]=y.v||0;break;case`s`:case`str`:_=y.v==null?``:y.v,g[`office:value-type`]=`string`;break;case`d`:_=y.w||Tw(y.v).toISOString(),g[`office:value-type`]=`date`,g[`office:date-value`]=Tw(y.v).toISOString(),g[`table:style-name`]=`ce1`;break;default:o.push(t);continue}var x=e(_);if(y.l&&y.l.Target){var S=y.l.Target;S=S.charAt(0)==`#`?`#`+CI(S.slice(1)):S,S.charAt(0)!=`#`&&!S.match(/^\w+:/)&&(S=`../`+S),x=J(`text:a`,x,{"xlink:href":S.replace(/&/g,`&amp;`)})}o.push(`          `+J(`table:table-cell`,J(`text:p`,x,{}),g)+`
`)}o.push(`        </table:table-row>
`)}return o.push(`      </table:table>
`),o.join(``)},i=function(e,t){e.push(` <office:automatic-styles>
`),e.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),e.push(`   <number:month number:style="long"/>
`),e.push(`   <number:text>/</number:text>
`),e.push(`   <number:day number:style="long"/>
`),e.push(`   <number:text>/</number:text>
`),e.push(`   <number:year/>
`),e.push(`  </number:date-style>
`);var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t[`!cols`]){for(var r=0;r<t[`!cols`].length;++r)if(t[`!cols`][r]){var i=t[`!cols`][r];if(i.width==null&&i.wpx==null&&i.wch==null)continue;AM(i),i.ods=n;var a=t[`!cols`][r].wpx+`px`;e.push(`  <style:style style:name="co`+n+`" style:family="table-column">
`),e.push(`   <style:table-column-properties fo:break-before="auto" style:column-width="`+a+`"/>
`),e.push(`  </style:style>
`),++n}}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t[`!rows`]){for(var n=0;n<t[`!rows`].length;++n)if(t[`!rows`][n]){t[`!rows`][n].ods=r;var i=t[`!rows`][n].hpx+`px`;e.push(`  <style:style style:name="ro`+r+`" style:family="table-row">
`),e.push(`   <style:table-row-properties fo:break-before="auto" style:row-height="`+i+`"/>
`),e.push(`  </style:style>
`),++r}}}),e.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),e.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),e.push(`  </style:style>
`),e.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),e.push(` </office:automatic-styles>
`)};return function(e,t){var n=[Kw],a=DT({"xmlns:office":`urn:oasis:names:tc:opendocument:xmlns:office:1.0`,"xmlns:table":`urn:oasis:names:tc:opendocument:xmlns:table:1.0`,"xmlns:style":`urn:oasis:names:tc:opendocument:xmlns:style:1.0`,"xmlns:text":`urn:oasis:names:tc:opendocument:xmlns:text:1.0`,"xmlns:draw":`urn:oasis:names:tc:opendocument:xmlns:drawing:1.0`,"xmlns:fo":`urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,"xmlns:dc":`http://purl.org/dc/elements/1.1/`,"xmlns:meta":`urn:oasis:names:tc:opendocument:xmlns:meta:1.0`,"xmlns:number":`urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0`,"xmlns:presentation":`urn:oasis:names:tc:opendocument:xmlns:presentation:1.0`,"xmlns:svg":`urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0`,"xmlns:chart":`urn:oasis:names:tc:opendocument:xmlns:chart:1.0`,"xmlns:dr3d":`urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0`,"xmlns:math":`http://www.w3.org/1998/Math/MathML`,"xmlns:form":`urn:oasis:names:tc:opendocument:xmlns:form:1.0`,"xmlns:script":`urn:oasis:names:tc:opendocument:xmlns:script:1.0`,"xmlns:ooo":`http://openoffice.org/2004/office`,"xmlns:ooow":`http://openoffice.org/2004/writer`,"xmlns:oooc":`http://openoffice.org/2004/calc`,"xmlns:dom":`http://www.w3.org/2001/xml-events`,"xmlns:xforms":`http://www.w3.org/2002/xforms`,"xmlns:xsd":`http://www.w3.org/2001/XMLSchema`,"xmlns:xsi":`http://www.w3.org/2001/XMLSchema-instance`,"xmlns:sheet":`urn:oasis:names:tc:opendocument:sh33tjs:1.0`,"xmlns:rpt":`http://openoffice.org/2005/report`,"xmlns:of":`urn:oasis:names:tc:opendocument:xmlns:of:1.2`,"xmlns:xhtml":`http://www.w3.org/1999/xhtml`,"xmlns:grddl":`http://www.w3.org/2003/g/data-view#`,"xmlns:tableooo":`http://openoffice.org/2009/table`,"xmlns:drawooo":`http://openoffice.org/2010/draw`,"xmlns:calcext":`urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0`,"xmlns:loext":`urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0`,"xmlns:field":`urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0`,"xmlns:formx":`urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0`,"xmlns:css3t":`http://www.w3.org/TR/css3-text/`,"office:version":`1.2`}),o=DT({"xmlns:config":`urn:oasis:names:tc:opendocument:xmlns:config:1.0`,"office:mimetype":`application/vnd.oasis.opendocument.spreadsheet`});t.bookType==`fods`?(n.push(`<office:document`+a+o+`>
`),n.push(lO().replace(/office:document-meta/g,`office:meta`))):n.push(`<office:document-content`+a+`>
`),i(n,e),n.push(`  <office:body>
`),n.push(`    <office:spreadsheet>
`);for(var s=0;s!=e.SheetNames.length;++s)n.push(r(e.Sheets[e.SheetNames[s]],e,s,t));return n.push(`    </office:spreadsheet>
`),n.push(`  </office:body>
`),t.bookType==`fods`?n.push(`</office:document>`):n.push(`</office:document-content>`),n.join(``)}})();function qB(e,t){if(t.bookType==`fods`)return KB(e,t);var n=Uw(),r=``,i=[],a=[];return r=`mimetype`,Hw(n,r,`application/vnd.oasis.opendocument.spreadsheet`),r=`content.xml`,Hw(n,r,KB(e,t)),i.push([r,`text/xml`]),a.push([r,`ContentFile`]),r=`styles.xml`,Hw(n,r,GB(e,t)),i.push([r,`text/xml`]),a.push([r,`StylesFile`]),r=`meta.xml`,Hw(n,r,Kw+lO()),i.push([r,`text/xml`]),a.push([r,`MetadataFile`]),r=`manifest.rdf`,Hw(n,r,cO(a)),i.push([r,`application/rdf+xml`]),r=`META-INF/manifest.xml`,Hw(n,r,aO(i)),n}function JB(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function YB(e){return typeof TextDecoder<`u`?new TextDecoder().decode(e):_T(zS(e))}function XB(e){return typeof TextEncoder<`u`?new TextEncoder().encode(e):LS(vT(e))}function ZB(e,t){outer:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue outer;return!0}return!1}function QB(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function $B(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function eV(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*10**(n-6176)}function tV(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/10**(r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=n>=0?0:128}function nV(e,t){var n=t?t[0]:0,r=e[n]&127;varint:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*2**28,++n,e[n++]<128)||(r+=(e[n]&127)*2**35,++n,e[n++]<128)||(r+=(e[n]&127)*2**42,++n,e[n++]<128)))break varint;return t&&(t[0]=n),r}function rV(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;sz:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break sz;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function iV(e){var t=0,n=e[t]&127;varint:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break varint;n|=(e[t]&127)<<28}return n}function aV(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=nV(e,n),a=i&7;i=Math.floor(i/8);var o=0,s;if(i==0)break;switch(a){case 0:for(var c=n[0];e[n[0]++]>=128;);s=e.slice(c,n[0]);break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=nV(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw Error(`PB Type ${a} for Field ${i} at offset ${r}`)}var l={data:s,type:a};t[i]==null?t[i]=[l]:t[i].push(l)}return t}function oV(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(rV(n*8+e.type)),e.type==2&&t.push(rV(e.data.length)),t.push(e.data))})}),QB(t)}function sV(e,t){return e?.map(function(e){return t(e.data)})||[]}function cV(e){for(var t=[],n=[0];n[0]<e.length;){var r=nV(e,n),i=aV(e.slice(n[0],n[0]+r));n[0]+=r;var a={id:iV(i[1][0].data),messages:[]};i[2].forEach(function(t){var r=aV(t.data),i=iV(r[3][0].data);a.messages.push({meta:r,data:e.slice(n[0],n[0]+i)}),n[0]+=i}),i[3]?.[0]&&(a.merge=iV(i[3][0].data)>>>0>0),t.push(a)}return t}function lV(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:rV(e.id),type:0}],n[2]=[],e.merge!=null&&(n[3]=[{data:rV(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:rV(e.data.length)}],n[2].push({data:oV(e.meta),type:2})});var i=oV(n);t.push(rV(i.length)),t.push(i),r.forEach(function(e){return t.push(e)})}),QB(t)}function uV(e,t){if(e!=0)throw Error(`Unexpected Snappy chunk type ${e}`);for(var n=[0],r=nV(t,n),i=[];n[0]<t.length;){var a=t[n[0]]&3;if(a==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var c=0,l=0;if(a==1?(l=(t[n[0]]>>2&7)+4,c=(t[n[0]++]&224)<<3,c|=t[n[0]++]):(l=(t[n[0]++]>>2)+1,a==2?(c=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(c=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[QB(i)],c==0)throw Error(`Invalid offset 0`);if(c>i[0].length)throw Error(`Invalid offset beyond length`);if(l>=c)for(i.push(i[0].slice(-c)),l-=c;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-c,-c+l))}}var u=QB(i);if(u.length!=r)throw Error(`Unexpected length: ${u.length} != ${r}`);return u}function dV(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(uV(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw Error(`data is not a valid framed stream!`);return QB(t)}function fV(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var a=rV(r),o=a.length;t.push(a),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return QB(t)}function pV(e,t,n,r){var i=JB(e),a=i.getUint32(4,!0),o=(r>1?12:8)+$B(a&(r>1?3470:398))*4,s=-1,c=-1,l=NaN,u=new Date(2001,0,1);a&512&&(s=i.getUint32(o,!0),o+=4),o+=$B(a&(r>1?12288:4096))*4,a&16&&(c=i.getUint32(o,!0),o+=4),a&32&&(l=i.getFloat64(o,!0),o+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var d;switch(e[2]){case 0:break;case 2:d={t:`n`,v:l};break;case 3:d={t:`s`,v:t[c]};break;case 5:d={t:`d`,v:u};break;case 6:d={t:`b`,v:l>0};break;case 7:d={t:`n`,v:l/86400};break;case 8:d={t:`e`,v:0};break;case 9:if(s>-1)d={t:`s`,v:n[s]};else if(c>-1)d={t:`s`,v:t[c]};else if(!isNaN(l))d={t:`n`,v:l};else throw Error(`Unsupported cell type ${e.slice(0,4)}`);break;default:throw Error(`Unsupported cell type ${e.slice(0,4)}`)}return d}function mV(e,t,n){var r=JB(e),i=r.getUint32(8,!0),a=12,o=-1,s=-1,c=NaN,l=NaN,u=new Date(2001,0,1);i&1&&(c=eV(e,a),a+=16),i&2&&(l=r.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(s=r.getUint32(a,!0),a+=4),i&16&&(o=r.getUint32(a,!0),a+=4);var d;switch(e[1]){case 0:break;case 2:d={t:`n`,v:c};break;case 3:d={t:`s`,v:t[s]};break;case 5:d={t:`d`,v:u};break;case 6:d={t:`b`,v:l>0};break;case 7:d={t:`n`,v:l/86400};break;case 8:d={t:`e`,v:0};break;case 9:if(o>-1)d={t:`s`,v:n[o]};else throw Error(`Unsupported cell type ${e[1]} : ${i&31} : ${e.slice(0,4)}`);break;case 10:d={t:`n`,v:c};break;default:throw Error(`Unsupported cell type ${e[1]} : ${i&31} : ${e.slice(0,4)}`)}return d}function hV(e,t){var n=new Uint8Array(32),r=JB(n),i=12,a=0;switch(n[0]=5,e.t){case`n`:n[1]=2,tV(n,i,e.v),a|=1,i+=16;break;case`b`:n[1]=6,r.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case`s`:if(t.indexOf(e.v)==-1)throw Error(`Value ${e.v} missing from SST!`);n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw`unsupported cell type `+e.t}return r.setUint32(8,a,!0),n.slice(0,i)}function gV(e,t){var n=new Uint8Array(32),r=JB(n),i=12,a=0;switch(n[0]=3,e.t){case`n`:n[2]=2,r.setFloat64(i,e.v,!0),a|=32,i+=8;break;case`b`:n[2]=6,r.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case`s`:if(t.indexOf(e.v)==-1)throw Error(`Value ${e.v} missing from SST!`);n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw`unsupported cell type `+e.t}return r.setUint32(4,a,!0),n.slice(0,i)}function _V(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return pV(e,t,n,e[0]);case 5:return mV(e,t,n);default:throw Error(`Unsupported payload version ${e[0]}`)}}function vV(e){return nV(aV(e)[1][0].data)}function yV(e,t){var n=aV(t.data),r=iV(n[1][0].data),i=n[3],a=[];return(i||[]).forEach(function(t){var n=aV(t.data),i=iV(n[1][0].data)>>>0;switch(r){case 1:a[i]=YB(n[3][0].data);break;case 8:var o=e[vV(n[9][0].data)][0],s=e[vV(aV(o.data)[1][0].data)][0],c=iV(s.meta[1][0].data);if(c!=2001)throw Error(`2000 unexpected reference to ${c}`);a[i]=aV(s.data)[3].map(function(e){return YB(e.data)}).join(``);break}}),a}function bV(e,t){var n=aV(e),r=iV(n[1][0].data)>>>0,i=iV(n[2][0].data)>>>0,a=n[8]?.[0]?.data&&iV(n[8][0].data)>0||!1,o,s;if(n[7]?.[0]?.data&&t!=0)o=n[7]?.[0]?.data,s=n[6]?.[0]?.data;else if(n[4]?.[0]?.data&&t!=1)o=n[4]?.[0]?.data,s=n[3]?.[0]?.data;else throw`NUMBERS Tile missing ${t} cell storage`;for(var c=a?4:1,l=JB(o),u=[],d=0;d<o.length/2;++d){var f=l.getUint16(d*2,!0);f<65535&&u.push([d,f])}if(u.length!=i)throw`Expected ${i} cells, found ${u.length}`;var p=[];for(d=0;d<u.length-1;++d)p[u[d][0]]=s.subarray(u[d][1]*c,u[d+1][1]*c);return u.length>=1&&(p[u[u.length-1][0]]=s.subarray(u[u.length-1][1]*c)),{R:r,cells:p}}function xV(e,t){var n=aV(t.data),r=n?.[7]?.[0]?iV(n[7][0].data)>>>0>0?1:0:-1,i=sV(n[5],function(e){return bV(e,r)});return{nrows:iV(n[4][0].data)>>>0,data:i.reduce(function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach(function(n,r){if(e[t.R][r])throw Error(`Duplicate cell r=${t.R} c=${r}`);e[t.R][r]=n}),e},[])}}function SV(e,t,n){var r=aV(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(iV(r[6][0].data)>>>0)-1,i.e.r<0)throw Error(`Invalid row varint ${r[6][0].data}`);if(i.e.c=(iV(r[7][0].data)>>>0)-1,i.e.c<0)throw Error(`Invalid col varint ${r[7][0].data}`);n[`!ref`]=LE(i);var a=aV(r[4][0].data),o=yV(e,e[vV(a[4][0].data)][0]),s=a[17]?.[0]?yV(e,e[vV(a[17][0].data)][0]):[],c=aV(a[3][0].data),l=0;c[1].forEach(function(t){var r=e[vV(aV(t.data)[2][0].data)][0],i=iV(r.meta[1][0].data);if(i!=6002)throw Error(`6001 unexpected reference to ${i}`);var a=xV(e,r);a.data.forEach(function(e,t){e.forEach(function(e,r){var i=FE({r:l+t,c:r}),a=_V(e,o,s);a&&(n[i]=a)})}),l+=a.nrows})}function CV(e,t){var n=aV(t.data),r={"!ref":`A1`},i=e[vV(n[2][0].data)],a=iV(i[0].meta[1][0].data);if(a!=6001)throw Error(`6000 unexpected reference to ${a}`);return SV(e,i[0],r),r}function wV(e,t){var n=aV(t.data),r={name:n[1]?.[0]?YB(n[1][0].data):``,sheets:[]};return sV(n[2],vV).forEach(function(t){e[t].forEach(function(t){iV(t.meta[1][0].data)==6e3&&r.sheets.push(CV(e,t))})}),r}function TV(e,t){var n=_H();if(sV(aV(t.data)[1],vV).forEach(function(t){e[t].forEach(function(t){if(iV(t.meta[1][0].data)==2){var r=wV(e,t);r.sheets.forEach(function(e,t){vH(n,e,t==0?r.name:r.name+`_`+t,!0)})}})}),n.SheetNames.length==0)throw Error(`Empty NUMBERS file`);return n}function EV(e){var t={},n=[];if(e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw Error(`Unsupported password protection`)}),e.FileIndex.forEach(function(e){if(e.name.match(/\.iwa$/)){var r;try{r=dV(e.content)}catch(t){return console.log(`?? `+e.content.length+` `+(t.message||t))}var i;try{i=cV(r)}catch(e){return console.log(`## `+(e.message||e))}i.forEach(function(e){t[e.id]=e.messages,n.push(e.id)})}}),!n.length)throw Error(`File has no messages`);var r=(t?.[1]?.[0]?.meta?.[1])?.[0].data&&iV(t[1][0].meta[1][0].data)==1&&t[1][0];if(r||n.forEach(function(e){t[e].forEach(function(e){if(iV(e.meta[1][0].data)>>>0==1)if(!r)r=e;else throw Error(`Document has multiple roots`)})}),!r)throw Error(`Cannot find Document root`);return TV(t,r)}function DV(e,t,n){if(!e[6]?.[0]||!e[7]?.[0])throw`Mutation only works on post-BNC storages!`;if(e[8]?.[0]?.data&&iV(e[8][0].data)>0)throw`Math only works with normal offsets`;for(var r=0,i=JB(e[7][0].data),a=0,o=[],s=JB(e[4][0].data),c=0,l=[],u=0;u<t.length;++u){if(t[u]==null){i.setUint16(u*2,65535,!0),s.setUint16(u*2,65535);continue}i.setUint16(u*2,a,!0),s.setUint16(u*2,c,!0);var d,f;switch(typeof t[u]){case`string`:d=hV({t:`s`,v:t[u]},n),f=gV({t:`s`,v:t[u]},n);break;case`number`:d=hV({t:`n`,v:t[u]},n),f=gV({t:`n`,v:t[u]},n);break;case`boolean`:d=hV({t:`b`,v:t[u]},n),f=gV({t:`b`,v:t[u]},n);break;default:throw Error(`Unsupported value `+t[u])}o.push(d),a+=d.length,l.push(f),c+=f.length,++r}for(e[2][0].data=rV(r);u<e[7][0].data.length/2;++u)i.setUint16(u*2,65535,!0),s.setUint16(u*2,65535,!0);return e[6][0].data=QB(o),e[3][0].data=QB(l),r}function OV(e,t){if(!t||!t.numbers)throw Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error(`The Numbers writer currently writes only the first table`);var r=IE(n[`!ref`]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error(`The Numbers writer is currently limited to ${LE(r)}`);var a=sH(n,{range:r,header:1}),o=[`~Sh33tJ5~`];a.forEach(function(e){return e.forEach(function(e){typeof e==`string`&&o.push(e)})});var s={},c=[],l=aw.read(t.numbers,{type:`base64`});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];if(t.type==2&&t.name.match(/\.iwa/)){var r=t.content;cV(dV(r)).forEach(function(e){c.push(e.id),s[e.id]={deps:[],location:n,type:iV(e.messages[0].meta[1][0].data)}})}}),c.sort(function(e,t){return e-t});var u=c.filter(function(e){return e>1}).map(function(e){return[e,rV(e)]});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&cV(dV(t.content)).forEach(function(e){e.messages.forEach(function(t){u.forEach(function(t){e.messages.some(function(e){return iV(e.meta[1][0].data)!=11006&&ZB(e.data,t[1])})&&s[t[0]].deps.push(e.id)})})})});for(var d=aw.find(l,s[1].location),f=cV(dV(d.content)),p,m=0;m<f.length;++m){var h=f[m];h.id==1&&(p=h)}var g=vV(aV(p.messages[0].data)[1][0].data);for(d=aw.find(l,s[g].location),f=cV(dV(d.content)),m=0;m<f.length;++m)h=f[m],h.id==g&&(p=h);for(g=vV(aV(p.messages[0].data)[2][0].data),d=aw.find(l,s[g].location),f=cV(dV(d.content)),m=0;m<f.length;++m)h=f[m],h.id==g&&(p=h);for(g=vV(aV(p.messages[0].data)[2][0].data),d=aw.find(l,s[g].location),f=cV(dV(d.content)),m=0;m<f.length;++m)h=f[m],h.id==g&&(p=h);var _=aV(p.messages[0].data);_[6][0].data=rV(r.e.r+1),_[7][0].data=rV(r.e.c+1);for(var v=vV(_[46][0].data),y=aw.find(l,s[v].location),b=cV(dV(y.content)),x=0;x<b.length&&b[x].id!=v;++x);if(b[x].id!=v)throw`Bad ColumnRowUIDMapArchive`;var S=aV(b[x].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var C=0;C<=r.e.c;++C){var w=[];w[1]=w[2]=[{type:0,data:rV(C+420690)}],S[1].push({type:2,data:oV(w)}),S[2].push({type:0,data:rV(C)}),S[3].push({type:0,data:rV(C)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=r.e.r;++T)w=[],w[1]=w[2]=[{type:0,data:rV(T+726270)}],S[4].push({type:2,data:oV(w)}),S[5].push({type:0,data:rV(T)}),S[6].push({type:0,data:rV(T)});b[x].messages[0].data=oV(S),y.content=fV(lV(b)),y.size=y.content.length,delete _[46];var E=aV(_[4][0].data);E[7][0].data=rV(r.e.r+1);var D=vV(aV(E[1][0].data)[2][0].data);if(y=aw.find(l,s[D].location),b=cV(dV(y.content)),b[0].id!=D)throw`Bad HeaderStorageBucket`;var O=aV(b[0].messages[0].data);for(T=0;T<a.length;++T){var k=aV(O[2][0].data);k[1][0].data=rV(T),k[4][0].data=rV(a[T].length),O[2][T]={type:O[2][0].type,data:oV(k)}}b[0].messages[0].data=oV(O),y.content=fV(lV(b)),y.size=y.content.length;var A=vV(E[2][0].data);if(y=aw.find(l,s[A].location),b=cV(dV(y.content)),b[0].id!=A)throw`Bad HeaderStorageBucket`;for(O=aV(b[0].messages[0].data),C=0;C<=r.e.c;++C)k=aV(O[2][0].data),k[1][0].data=rV(C),k[4][0].data=rV(r.e.r+1),O[2][C]={type:O[2][0].type,data:oV(k)};b[0].messages[0].data=oV(O),y.content=fV(lV(b)),y.size=y.content.length;var j=vV(E[4][0].data);(function(){for(var e=aw.find(l,s[j].location),t=cV(dV(e.content)),n,r=0;r<t.length;++r){var i=t[r];i.id==j&&(n=i)}var a=aV(n.messages[0].data);a[3]=[];var c=[];o.forEach(function(e,t){c[1]=[{type:0,data:rV(t)}],c[2]=[{type:0,data:rV(1)}],c[3]=[{type:2,data:XB(e)}],a[3].push({type:2,data:oV(c)})}),n.messages[0].data=oV(a),e.content=fV(lV(t)),e.size=e.content.length})();var M=aV(E[3][0].data),N=M[1][0];delete M[2];var P=aV(N.data),F=vV(P[2][0].data);return(function(){for(var e=aw.find(l,s[F].location),t=cV(dV(e.content)),n,i=0;i<t.length;++i){var c=t[i];c.id==F&&(n=c)}var u=aV(n.messages[0].data);delete u[6],delete M[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var f=0,p=0;p<=r.e.r;++p){var m=aV(d);f+=DV(m,a[p],o),m[1][0].data=rV(p),u[5].push({data:oV(m),type:2})}u[1]=[{type:0,data:rV(r.e.c+1)}],u[2]=[{type:0,data:rV(r.e.r+1)}],u[3]=[{type:0,data:rV(f)}],u[4]=[{type:0,data:rV(r.e.r+1)}],n.messages[0].data=oV(u),e.content=fV(lV(t)),e.size=e.content.length})(),N.data=oV(P),E[3][0].data=oV(M),_[4][0].data=oV(E),p.messages[0].data=oV(_),d.content=fV(lV(f)),d.size=d.content.length,l}function kV(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];t[r[0]]===void 0&&(t[r[0]]=r[1]),r[2]===`n`&&(t[r[0]]=Number(t[r[0]]))}}}function AV(e){kV([[`cellNF`,!1],[`cellHTML`,!0],[`cellFormula`,!0],[`cellStyles`,!1],[`cellText`,!0],[`cellDates`,!1],[`sheetStubs`,!1],[`sheetRows`,0,`n`],[`bookDeps`,!1],[`bookSheets`,!1],[`bookProps`,!1],[`bookFiles`,!1],[`bookVBA`,!1],[`password`,``],[`WTF`,!1]])(e)}function jV(e){kV([[`cellDates`,!1],[`bookSST`,!1],[`bookType`,`xlsx`],[`compression`,!1],[`WTF`,!1]])(e)}function MV(e){return QD.WS.indexOf(e)>-1?`sheet`:QD.CS&&e==QD.CS?`chart`:QD.DS&&e==QD.DS?`dialog`:QD.MS&&e==QD.MS?`macro`:e&&e.length?e:`sheet`}function NV(e,t){if(!e)return 0;try{e=t.map(function(t){return t.id||=t.strRelID,[t.name,e[`!id`][t.id].Target,MV(e[`!id`][t.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function PV(e,t,n,r,i,a,o,s,c,l,u,d){try{a[r]=eO(zw(e,n,!0),t);var f=Rw(e,t),p;switch(s){case`sheet`:p=cz(f,t,i,c,a[r],l,u,d);break;case`chart`:if(p=lz(f,t,i,c,a[r],l,u,d),!p||!p[`!drawel`])break;var m=Gw(p[`!drawel`].Target,t),h=$D(m),g=Gw(QN(zw(e,m,!0),eO(zw(e,h,!0),m)),m),_=$D(g);p=AR(zw(e,g,!0),g,c,eO(zw(e,_,!0),g),l,p);break;case`macro`:p=uz(f,t,i,c,a[r],l,u,d);break;case`dialog`:p=dz(f,t,i,c,a[r],l,u,d);break;default:throw Error(`Unrecognized sheet type `+s)}o[r]=p;var v=[];a&&a[r]&&uw(a[r]).forEach(function(n){var i=``;if(a[r][n].Type==QD.CMNT){i=Gw(a[r][n].Target,t);var o=hz(Rw(e,i,!0),i,c);if(!o||!o.length)return;tP(p,o,!1)}a[r][n].Type==QD.TCMNT&&(i=Gw(a[r][n].Target,t),v=v.concat(iP(Rw(e,i,!0),c)))}),v&&v.length&&tP(p,v,!0,c.people||[])}catch(e){if(c.WTF)throw e}}function FV(e){return e.charAt(0)==`/`?e.slice(1):e}function IV(e,t){if($C(),t||={},AV(t),Iw(e,`META-INF/manifest.xml`)||Iw(e,`objectdata.xml`))return UB(e,t);if(Iw(e,`Index/Document.iwa`)){if(typeof Uint8Array>`u`)throw Error(`NUMBERS file parsing requires Uint8Array support`);if(EV!==void 0){if(e.FileIndex)return EV(e);var n=aw.utils.cfb_new();return Vw(e).forEach(function(t){Hw(n,t,Bw(e,t))}),EV(n)}throw Error(`Unsupported NUMBERS file`)}if(!Iw(e,`[Content_Types].xml`))throw Iw(e,`index.xml.gz`)?Error(`Unsupported NUMBERS 08 file`):Iw(e,`index.xml`)?Error(`Unsupported NUMBERS 09 file`):Error(`Unsupported ZIP file`);var r=Vw(e),i=XD(zw(e,`[Content_Types].xml`)),a=!1,o,s;if(i.workbooks.length===0&&(s=`xl/workbook.xml`,Rw(e,s,!0)&&i.workbooks.push(s)),i.workbooks.length===0){if(s=`xl/workbook.bin`,!Rw(e,s,!0))throw Error(`Could not find workbook`);i.workbooks.push(s),a=!0}i.workbooks[0].slice(-3)==`bin`&&(a=!0);var c={},l={};if(!t.bookSheets&&!t.bookProps){if(wI=[],i.sst)try{wI=mz(Rw(e,FV(i.sst)),i.sst,t)}catch(e){if(t.WTF)throw e}t.cellStyles&&i.themes.length&&(c=pz(zw(e,i.themes[0].replace(/^\//,``),!0)||``,i.themes[0],t)),i.style&&(l=fz(Rw(e,FV(i.style)),i.style,c,t))}i.links.map(function(n){try{var r=eO(zw(e,$D(FV(n))),n);return _z(Rw(e,FV(n)),r,n,t)}catch{}});var u=sz(Rw(e,FV(i.workbooks[0])),i.workbooks[0],t),d={},f=``;i.coreprops.length&&(f=Rw(e,FV(i.coreprops[0]),!0),f&&(d=fO(f)),i.extprops.length!==0&&(f=Rw(e,FV(i.extprops[0]),!0),f&&vO(f,d,t)));var p={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(f=zw(e,FV(i.custprops[0]),!0),f&&(p=xO(f,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(e){return e.name}):d.Worksheets&&d.SheetNames.length>0&&(o=d.SheetNames),t.bookProps&&(m.Props=d,m.Custprops=p),t.bookSheets&&o!==void 0&&(m.SheetNames=o),t.bookSheets?m.SheetNames:t.bookProps))return m;o={};var h={};t.bookDeps&&i.calcchain&&(h=gz(Rw(e,FV(i.calcchain)),i.calcchain,t));var g=0,_={},v,y,b=u.Sheets;d.Worksheets=b.length,d.SheetNames=[];for(var x=0;x!=b.length;++x)d.SheetNames[x]=b[x].name;var S=a?`bin`:`xml`,C=i.workbooks[0].lastIndexOf(`/`),w=(i.workbooks[0].slice(0,C+1)+`_rels/`+i.workbooks[0].slice(C+1)+`.rels`).replace(/^\//,``);Iw(e,w)||(w=`xl/_rels/workbook.`+S+`.rels`);var T=eO(zw(e,w,!0),w.replace(/_rels.*/,`s5s`));(i.metadata||[]).length>=1&&(t.xlmeta=vz(Rw(e,FV(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=oP(Rw(e,FV(i.people[0])),t)),T&&=NV(T,u.Sheets);var E=Rw(e,`xl/worksheets/sheet.xml`,!0)?1:0;wsloop:for(g=0;g!=d.Worksheets;++g){var D=`sheet`;if(T&&T[g]?(v=`xl/`+T[g][1].replace(/[\/]?xl\//,``),Iw(e,v)||(v=T[g][1]),Iw(e,v)||(v=w.replace(/_rels\/.*$/,``)+T[g][1]),D=T[g][2]):(v=`xl/worksheets/sheet`+(g+1-E)+`.`+S,v=v.replace(/sheet0\./,`sheet.`)),y=v.replace(/^(.*)(\/)([^\/]*)$/,`$1/_rels/$3.rels`),t&&t.sheets!=null)switch(typeof t.sheets){case`number`:if(g!=t.sheets)continue wsloop;break;case`string`:if(d.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue wsloop;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var O=!1,k=0;k!=t.sheets.length;++k)typeof t.sheets[k]==`number`&&t.sheets[k]==g&&(O=1),typeof t.sheets[k]==`string`&&t.sheets[k].toLowerCase()==d.SheetNames[g].toLowerCase()&&(O=1);if(!O)continue wsloop}}PV(e,v,y,d.SheetNames[g],g,_,o,D,t,u,c,l)}return m={Directory:i,Workbook:u,Props:d,Custprops:p,Deps:h,Sheets:o,SheetNames:d.SheetNames,Strings:wI,Styles:l,Themes:c,SSF:Dw(iC)},t&&t.bookFiles&&(e.files?(m.keys=r,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(t,n){t=t.replace(/^Root Entry[\/]/,``),m.keys.push(t),m.files[t]=e.FileIndex[n]}))),t&&t.bookVBA&&(i.vba.length>0?m.vbaraw=Rw(e,FV(i.vba[0]),!0):i.defaults&&i.defaults.bin===mP&&(m.vbaraw=Rw(e,`xl/vbaProject.bin`,!0))),m}function LV(e,t){var n=t||{},r=`Workbook`,i=aw.find(e,r);try{if(r=`/!DataSpaces/Version`,i=aw.find(e,r),!i||!i.content||(Jj(i.content),r=`/!DataSpaces/DataSpaceMap`,i=aw.find(e,r),!i||!i.content))throw Error(`ECMA-376 Encrypted file missing `+r);var a=Xj(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!==`StrongEncryptionDataSpace`||a[0].comps[0].v!==`EncryptedPackage`)throw Error(`ECMA-376 Encrypted file bad `+r);if(r=`/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace`,i=aw.find(e,r),!i||!i.content)throw Error(`ECMA-376 Encrypted file missing `+r);var o=Zj(i.content);if(o.length!=1||o[0]!=`StrongEncryptionTransform`)throw Error(`ECMA-376 Encrypted file bad `+r);if(r=`/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary`,i=aw.find(e,r),!i||!i.content)throw Error(`ECMA-376 Encrypted file missing `+r);$j(i.content)}catch{}if(r=`/EncryptionInfo`,i=aw.find(e,r),!i||!i.content)throw Error(`ECMA-376 Encrypted file missing `+r);var s=nM(i.content);if(r=`/EncryptedPackage`,i=aw.find(e,r),!i||!i.content)throw Error(`ECMA-376 Encrypted file missing `+r);if(s[0]==4&&typeof decrypt_agile<`u`)return decrypt_agile(s[1],i.content,n.password||``,n);if(s[0]==2&&typeof decrypt_std76<`u`)return decrypt_std76(s[1],i.content,n.password||``,n);throw Error(`File is password-protected`)}function RV(e,t){return t.bookType==`ods`?qB(e,t):t.bookType==`numbers`?OV(e,t):t.bookType==`xlsb`?zV(e,t):BV(e,t)}function zV(e,t){$N=1024,e&&!e.SSF&&(e.SSF=Dw(iC)),e&&e.SSF&&($C(),QC(e.SSF),t.revssf=pw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,EI?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType==`xlsb`?`bin`:`xml`,r=_P.indexOf(t.bookType)>-1,i=YD();jV(t||={});var a=Uw(),o=``,s=0;if(t.cellXfs=[],AI(t.cellXfs,{},{revssf:{General:0}}),e.Props||={},o=`docProps/core.xml`,Hw(a,o,mO(e.Props,t)),i.coreprops.push(o),nO(t.rels,2,o,QD.CORE_PROPS),o=`docProps/app.xml`,!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],l=0;l<e.SheetNames.length;++l)(e.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(e.SheetNames[l]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Hw(a,o,yO(e.Props,t)),i.extprops.push(o),nO(t.rels,3,o,QD.EXT_PROPS),e.Custprops!==e.Props&&uw(e.Custprops||{}).length>0&&(o=`docProps/custom.xml`,Hw(a,o,SO(e.Custprops,t)),i.custprops.push(o),nO(t.rels,4,o,QD.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];switch((d||{})[`!type`]||`sheet`){case`chart`:default:o=`xl/worksheets/sheet`+s+`.`+n,Hw(a,o,bz(s-1,o,t,e,u)),i.sheets.push(o),nO(t.wbrels,-1,`worksheets/sheet`+s+`.`+n,QD.WS[0])}if(d){var f=d[`!comments`],p=!1,m=``;f&&f.length>0&&(m=`xl/comments`+s+`.`+n,Hw(a,m,Cz(f,m,t)),i.comments.push(m),nO(u,-1,`../comments`+s+`.`+n,QD.CMNT),p=!0),d[`!legacy`]&&p&&Hw(a,`xl/drawings/vmlDrawing`+s+`.vml`,eP(s,d[`!comments`])),delete d[`!comments`],delete d[`!legacy`]}u[`!id`].rId1&&Hw(a,$D(o),tO(u))}return t.Strings!=null&&t.Strings.length>0&&(o=`xl/sharedStrings.`+n,Hw(a,o,Sz(t.Strings,o,t)),i.strs.push(o),nO(t.wbrels,-1,`sharedStrings.`+n,QD.SST)),o=`xl/workbook.`+n,Hw(a,o,yz(e,o,t)),i.workbooks.push(o),nO(t.rels,1,o,QD.WB),o=`xl/theme/theme1.xml`,Hw(a,o,ON(e.Themes,t)),i.themes.push(o),nO(t.wbrels,-1,`theme/theme1.xml`,QD.THEME),o=`xl/styles.`+n,Hw(a,o,xz(e,o,t)),i.styles.push(o),nO(t.wbrels,-1,`styles.`+n,QD.STY),e.vbaraw&&r&&(o=`xl/vbaProject.bin`,Hw(a,o,e.vbaraw),i.vba.push(o),nO(t.wbrels,-1,`vbaProject.bin`,QD.VBA)),o=`xl/metadata.`+n,Hw(a,o,wz(o)),i.metadata.push(o),nO(t.wbrels,-1,`metadata.`+n,QD.XLMETA),Hw(a,`[Content_Types].xml`,ZD(i,t)),Hw(a,`_rels/.rels`,tO(t.rels)),Hw(a,`xl/_rels/workbook.`+n+`.rels`,tO(t.wbrels)),delete t.revssf,delete t.ssf,a}function BV(e,t){$N=1024,e&&!e.SSF&&(e.SSF=Dw(iC)),e&&e.SSF&&($C(),QC(e.SSF),t.revssf=pw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,EI?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=`xml`,r=_P.indexOf(t.bookType)>-1,i=YD();jV(t||={});var a=Uw(),o=``,s=0;if(t.cellXfs=[],AI(t.cellXfs,{},{revssf:{General:0}}),e.Props||={},o=`docProps/core.xml`,Hw(a,o,mO(e.Props,t)),i.coreprops.push(o),nO(t.rels,2,o,QD.CORE_PROPS),o=`docProps/app.xml`,!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],l=0;l<e.SheetNames.length;++l)(e.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(e.SheetNames[l]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Hw(a,o,yO(e.Props,t)),i.extprops.push(o),nO(t.rels,3,o,QD.EXT_PROPS),e.Custprops!==e.Props&&uw(e.Custprops||{}).length>0&&(o=`docProps/custom.xml`,Hw(a,o,SO(e.Custprops,t)),i.custprops.push(o),nO(t.rels,4,o,QD.CUST_PROPS));var u=[`SheetJ5`];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},f=e.Sheets[e.SheetNames[s-1]];switch((f||{})[`!type`]||`sheet`){case`chart`:default:o=`xl/worksheets/sheet`+s+`.`+n,Hw(a,o,dL(s-1,t,e,d)),i.sheets.push(o),nO(t.wbrels,-1,`worksheets/sheet`+s+`.`+n,QD.WS[0])}if(f){var p=f[`!comments`],m=!1,h=``;if(p&&p.length>0){var g=!1;p.forEach(function(e){e[1].forEach(function(e){e.T==1&&(g=!0)})}),g&&(h=`xl/threadedComments/threadedComment`+s+`.`+n,Hw(a,h,aP(p,u,t)),i.threadedcomments.push(h),nO(d,-1,`../threadedComments/threadedComment`+s+`.`+n,QD.TCMNT)),h=`xl/comments`+s+`.`+n,Hw(a,h,rP(p,t)),i.comments.push(h),nO(d,-1,`../comments`+s+`.`+n,QD.CMNT),m=!0}f[`!legacy`]&&m&&Hw(a,`xl/drawings/vmlDrawing`+s+`.vml`,eP(s,f[`!comments`])),delete f[`!comments`],delete f[`!legacy`]}d[`!id`].rId1&&Hw(a,$D(o),tO(d))}return t.Strings!=null&&t.Strings.length>0&&(o=`xl/sharedStrings.`+n,Hw(a,o,Bj(t.Strings,t)),i.strs.push(o),nO(t.wbrels,-1,`sharedStrings.`+n,QD.SST)),o=`xl/workbook.`+n,Hw(a,o,JR(e,t)),i.workbooks.push(o),nO(t.rels,1,o,QD.WB),o=`xl/theme/theme1.xml`,Hw(a,o,ON(e.Themes,t)),i.themes.push(o),nO(t.wbrels,-1,`theme/theme1.xml`,QD.THEME),o=`xl/styles.`+n,Hw(a,o,GM(e,t)),i.styles.push(o),nO(t.wbrels,-1,`styles.`+n,QD.STY),e.vbaraw&&r&&(o=`xl/vbaProject.bin`,Hw(a,o,e.vbaraw),i.vba.push(o),nO(t.wbrels,-1,`vbaProject.bin`,QD.VBA)),o=`xl/metadata.`+n,Hw(a,o,qN()),i.metadata.push(o),nO(t.wbrels,-1,`metadata.`+n,QD.XLMETA),u.length>1&&(o=`xl/persons/person.xml`,Hw(a,o,sP(u,t)),i.people.push(o),nO(t.wbrels,-1,`persons/person.xml`,QD.PEOPLE)),Hw(a,`[Content_Types].xml`,ZD(i,t)),Hw(a,`_rels/.rels`,tO(t.rels)),Hw(a,`xl/_rels/workbook.`+n+`.rels`,tO(t.wbrels)),delete t.revssf,delete t.ssf,a}function VV(e,t){var n=``;switch((t||{}).type||`base64`){case`buffer`:return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case`base64`:n=MS(e.slice(0,12));break;case`binary`:n=e;break;case`array`:return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw Error(`Unrecognized type `+(t&&t.type||`undefined`))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function HV(e,t){return aw.find(e,`EncryptedPackage`)?LV(e,t):oB(e,t)}function UV(e,t){var n,r=e,i=t||{};return i.type||=NS&&Buffer.isBuffer(e)?`buffer`:`base64`,n=Ww(r,i),IV(n,i)}function WV(e,t){var n=0;main:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Lz(e.slice(n),t);default:break main}return Tj.to_workbook(e,t)}function GV(e,t){var n=``,r=VV(e,t);switch(t.type){case`base64`:n=MS(e);break;case`binary`:n=e;break;case`buffer`:n=e.toString(`binary`);break;case`array`:n=Ew(e);break;default:throw Error(`Unrecognized type `+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=_T(n)),t.type=`binary`,WV(n,t)}function KV(e,t){var n=e;return t.type==`base64`&&(n=MS(n)),n=DS.utils.decode(1200,n.slice(2),`str`),t.type=`binary`,WV(n,t)}function qV(e){return e.match(/[^\x00-\x7F]/)?vT(e):e}function JV(e,t,n,r){return r?(n.type=`string`,Tj.to_workbook(e,n)):Tj.to_workbook(t,n)}function YV(e,t){bS();var n=t||{};if(typeof ArrayBuffer<`u`&&e instanceof ArrayBuffer)return YV(new Uint8Array(e),(n=Dw(n),n.type=`array`,n));typeof Uint8Array<`u`&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<`u`?`buffer`:`array`);var r=e,i=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),TI={},n.dateNF&&(TI.dateNF=n.dateNF),n.type||=NS&&Buffer.isBuffer(e)?`buffer`:`base64`,n.type==`file`&&(n.type=NS?`buffer`:`binary`,r=lw(e),typeof Uint8Array<`u`&&!NS&&(n.type=`array`)),n.type==`string`&&(a=!0,n.type=`binary`,n.codepage=65001,r=qV(e)),n.type==`array`&&typeof Uint8Array<`u`&&e instanceof Uint8Array&&typeof ArrayBuffer<`u`){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo=`bar`,!s.foo)return n=Dw(n),n.type=`array`,YV(VS(r),n)}switch((i=VV(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return HV(aw.read(r,n),n);break;case 9:if(i[1]<=8)return oB(r,n);break;case 60:return Lz(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw Error(`TIFF Image File is not a spreadsheet`);if(i[1]===68)return Ej(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Cj.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?UV(r,n):JV(e,r,n,a);case 239:return i[3]===60?Lz(r,n):JV(e,r,n,a);case 255:if(i[1]===254)return KV(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Dj.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Dj.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return xj.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return hM.to_workbook(r,n);break;case 10:case 13:case 32:return GV(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw Error(`PNG Image File is not a spreadsheet`);break}return bj.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?xj.to_workbook(r,n):JV(e,r,n,a)}function XV(e,t){switch(t.type){case`base64`:case`binary`:break;case`buffer`:case`array`:t.type=``;break;case`file`:return cw(t.file,aw.write(e,{type:NS?`buffer`:``}));case`string`:throw Error(`'string' output type invalid for '`+t.bookType+`' files`);default:throw Error(`Unrecognized type `+t.type)}return aw.write(e,t)}function ZV(e,t){var n=Dw(t||{});return QV(RV(e,n),n)}function QV(e,t){var n={},r=NS?`nodebuffer`:typeof Uint8Array<`u`?`array`:`string`;if(t.compression&&(n.compression=`DEFLATE`),t.password)n.type=r;else switch(t.type){case`base64`:n.type=`base64`;break;case`binary`:n.type=`string`;break;case`string`:throw Error(`'string' output type invalid for '`+t.bookType+`' files`);case`buffer`:case`file`:n.type=r;break;default:throw Error(`Unrecognized type `+t.type)}var i=e.FullPaths?aw.write(e,{fileType:`zip`,type:{nodebuffer:`buffer`,string:`binary`}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<`u`&&typeof i==`string`){if(t.type==`binary`||t.type==`base64`)return i;i=new Uint8Array(RS(i))}return t.password&&typeof encrypt_agile<`u`?XV(encrypt_agile(i,t.password),t):t.type===`file`?cw(t.file,i):t.type==`string`?_T(i):i}function $V(e,t){var n=t||{};return XV(sB(e,n),n)}function eH(e,t,n){n||=``;var r=n+e;switch(t.type){case`base64`:return jS(vT(r));case`binary`:return vT(r);case`string`:return e;case`file`:return cw(t.file,r,`utf8`);case`buffer`:return NS?PS(r,`utf8`):typeof TextEncoder<`u`?new TextEncoder().encode(r):eH(r,{type:`binary`}).split(``).map(function(e){return e.charCodeAt(0)})}throw Error(`Unrecognized type `+t.type)}function tH(e,t){switch(t.type){case`base64`:return jS(e);case`binary`:return e;case`string`:return e;case`file`:return cw(t.file,e,`binary`);case`buffer`:return NS?PS(e,`binary`):e.split(``).map(function(e){return e.charCodeAt(0)})}throw Error(`Unrecognized type `+t.type)}function nH(e,t){switch(t.type){case`string`:case`base64`:case`binary`:for(var n=``,r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type==`base64`?jS(n):t.type==`string`?_T(n):n;case`file`:return cw(t.file,e);case`buffer`:return e;default:throw Error(`Unrecognized type `+t.type)}}function rH(e,t){bS(),GR(e);var n=Dw(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type==`array`){n.type=`binary`;var r=rH(e,n);return n.type=`array`,RS(r)}var i=0;if(n.sheet&&(i=typeof n.sheet==`number`?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw Error(`Sheet not found: `+n.sheet+` : `+typeof n.sheet);switch(n.bookType||`xlsb`){case`xml`:case`xlml`:return eH(Xz(e,n),n);case`slk`:case`sylk`:return eH(Sj.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case`htm`:case`html`:return eH(PB(e.Sheets[e.SheetNames[i]],n),n);case`txt`:return tH(dH(e.Sheets[e.SheetNames[i]],n),n);case`csv`:return eH(uH(e.Sheets[e.SheetNames[i]],n),n,``);case`dif`:return eH(Cj.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case`dbf`:return nH(xj.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case`prn`:return eH(Tj.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case`rtf`:return eH(hM.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case`eth`:return eH(wj.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case`fods`:return eH(qB(e,n),n);case`wk1`:return nH(Dj.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case`wk3`:return nH(Dj.book_to_wk3(e,n),n);case`biff2`:n.biff||=2;case`biff3`:n.biff||=3;case`biff4`:return n.biff||=4,nH(DB(e,n),n);case`biff5`:n.biff||=5;case`biff8`:case`xla`:case`xls`:return n.biff||=8,$V(e,n);case`xlsx`:case`xlsm`:case`xlam`:case`xlsb`:case`numbers`:case`ods`:return ZV(e,n);default:throw Error(`Unrecognized bookType |`+n.bookType+`|`)}}function iH(e){if(!e.bookType){var t={xls:`biff8`,htm:`html`,slk:`sylk`,socialcalc:`eth`,Sh33tJS:`WTF`},n=e.file.slice(e.file.lastIndexOf(`.`)).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function aH(e,t,n){var r=n||{};return r.type=`file`,r.file=t,iH(r),rH(e,r)}function oH(e,t,n,r,i,a,o,s){var c=EE(n),l=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,`raw`),d=!0,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,`__rowNum__`,{value:n,enumerable:!1})}catch{f.__rowNum__=n}else f.__rowNum__=n;if(!o||e[n])for(var p=t.s.c;p<=t.e.c;++p){var m=o?e[n][p]:e[r[p]+c];if(m===void 0||m.t===void 0){if(l===void 0)continue;a[p]!=null&&(f[a[p]]=l);continue}var h=m.v;switch(m.t){case`z`:if(h==null)break;continue;case`e`:h=h==0?null:void 0;break;case`s`:case`d`:case`b`:case`n`:break;default:throw Error(`unrecognized type `+m.t)}if(a[p]!=null){if(h==null)if(m.t==`e`&&h===null)f[a[p]]=null;else if(l!==void 0)f[a[p]]=l;else if(u&&h===null)f[a[p]]=null;else continue;else f[a[p]]=u&&(m.t!==`n`||m.t===`n`&&s.rawNumbers!==!1)?h:BE(m,h,s);h!=null&&(d=!1)}}return{row:f,isempty:d}}function sH(e,t){if(e==null||e[`!ref`]==null)return[];var n={t:`n`,v:0},r=0,i=1,a=[],o=0,s=``,c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},u=l.range==null?e[`!ref`]:l.range;switch(l.header===1?r=1:l.header===`A`?r=2:Array.isArray(l.header)?r=3:l.header??(r=0),typeof u){case`string`:c=RE(u);break;case`number`:c=RE(e[`!ref`]),c.s.r=u;break;default:c=u}r>0&&(i=0);var d=EE(c.s.r),f=[],p=[],m=0,h=0,g=Array.isArray(e),_=c.s.r,v=0,y={};g&&!e[_]&&(e[_]=[]);var b=l.skipHidden&&e[`!cols`]||[],x=l.skipHidden&&e[`!rows`]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(b[v]||{}).hidden)switch(f[v]=AE(v),n=g?e[_][v]:e[f[v]+d],r){case 1:a[v]=v-c.s.c;break;case 2:a[v]=f[v];break;case 3:a[v]=l.header[v-c.s.c];break;default:if(n??={w:`__EMPTY`,t:`s`},s=o=BE(n,null,l),h=y[o]||0,!h)y[o]=1;else{do s=o+`_`+ h++;while(y[s]);y[o]=h,y[s]=1}a[v]=s}for(_=c.s.r+i;_<=c.e.r;++_)if(!(x[_]||{}).hidden){var S=oH(e,c,_,f,r,a,g,l);(S.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(p[m++]=S.row)}return p.length=m,p}var cH=/"/g;function lH(e,t,n,r,i,a,o,s){for(var c=!0,l=[],u=``,d=EE(n),f=t.s.c;f<=t.e.c;++f)if(r[f]){var p=s.dense?(e[n]||[])[f]:e[r[f]+d];if(p==null)u=``;else if(p.v!=null){c=!1,u=``+(s.rawNumbers&&p.t==`n`?p.v:BE(p,null,s));for(var m=0,h=0;m!==u.length;++m)if((h=u.charCodeAt(m))===i||h===a||h===34||s.forceQuotes){u=`"`+u.replace(cH,`""`)+`"`;break}u==`ID`&&(u=`"ID"`)}else p.f!=null&&!p.F?(c=!1,u=`=`+p.f,u.indexOf(`,`)>=0&&(u=`"`+u.replace(cH,`""`)+`"`)):u=``;l.push(u)}return s.blankrows===!1&&c?null:l.join(o)}function uH(e,t){var n=[],r=t??{};if(e==null||e[`!ref`]==null)return``;var i=RE(e[`!ref`]),a=r.FS===void 0?`,`:r.FS,o=a.charCodeAt(0),s=r.RS===void 0?`
`:r.RS,c=s.charCodeAt(0),l=RegExp((a==`|`?`\\|`:a)+`+$`),u=``,d=[];r.dense=Array.isArray(e);for(var f=r.skipHidden&&e[`!cols`]||[],p=r.skipHidden&&e[`!rows`]||[],m=i.s.c;m<=i.e.c;++m)(f[m]||{}).hidden||(d[m]=AE(m));for(var h=0,g=i.s.r;g<=i.e.r;++g)(p[g]||{}).hidden||(u=lH(e,i,g,d,o,c,a,r),u!=null&&(r.strip&&(u=u.replace(l,``)),(u||r.blankrows!==!1)&&n.push((h++?s:``)+u)));return delete r.dense,n.join(``)}function dH(e,t){t||={},t.FS=`	`,t.RS=`
`;var n=uH(e,t);return DS===void 0||t.type==`string`?n:``+DS.utils.encode(1200,n,`str`)}function fH(e){var t=``,n,r=``;if(e==null||e[`!ref`]==null)return[];var i=RE(e[`!ref`]),a=``,o=[],s,c=[],l=Array.isArray(e);for(s=i.s.c;s<=i.e.c;++s)o[s]=AE(s);for(var u=i.s.r;u<=i.e.r;++u)for(a=EE(u),s=i.s.c;s<=i.e.c;++s)if(t=o[s]+a,n=l?(e[u]||[])[s]:e[t],r=``,n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(`:`)==-1&&(t=t+`:`+t)}if(n.f!=null)r=n.f;else if(n.t==`z`)continue;else if(n.t==`n`&&n.v!=null)r=``+n.v;else if(n.t==`b`)r=n.v?`TRUE`:`FALSE`;else if(n.w!==void 0)r=`'`+n.w;else if(n.v===void 0)continue;else r=n.t==`s`?`'`+n.v:``+n.v;c[c.length]=t+`=`+r}return c}function pH(e,t,n){var r=n||{},i=+!r.skipHeader,a=e||{},o=0,s=0;if(a&&r.origin!=null)if(typeof r.origin==`number`)o=r.origin;else{var c=typeof r.origin==`string`?PE(r.origin):r.origin;o=c.r,s=c.c}var l,u={s:{c:0,r:0},e:{c:s,r:o+t.length-1+i}};if(a[`!ref`]){var d=RE(a[`!ref`]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(o=d.e.r+1,u.e.r=o+t.length-1+i)}else o==-1&&(o=0,u.e.r=t.length-1+i);var f=r.header||[],p=0;t.forEach(function(e,t){uw(e).forEach(function(n){(p=f.indexOf(n))==-1&&(f[p=f.length]=n);var c=e[n],u=`z`,d=``,m=FE({c:s+p,r:o+t+i});l=hH(a,m),c&&typeof c==`object`&&!(c instanceof Date)?a[m]=c:(typeof c==`number`?u=`n`:typeof c==`boolean`?u=`b`:typeof c==`string`?u=`s`:c instanceof Date?(u=`d`,r.cellDates||(u=`n`,c=gw(c)),d=r.dateNF||iC[14]):c===null&&r.nullError&&(u=`e`,c=0),l?(l.t=u,l.v=c,delete l.w,delete l.R,d&&(l.z=d)):a[m]=l={t:u,v:c},d&&(l.z=d))})}),u.e.c=Math.max(u.e.c,s+f.length-1);var m=EE(o);if(i)for(p=0;p<f.length;++p)a[AE(p+s)+m]={t:`s`,v:f[p]};return a[`!ref`]=LE(u),a}function mH(e,t){return pH(null,e,t)}function hH(e,t,n){if(typeof t==`string`){if(Array.isArray(e)){var r=PE(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:`z`})}return e[t]||(e[t]={t:`z`})}return typeof t==`number`?hH(e,FE({r:t,c:n||0})):hH(e,FE(t))}function gH(e,t){if(typeof t==`number`){if(t>=0&&e.SheetNames.length>t)return t;throw Error(`Cannot find sheet # `+t)}else if(typeof t==`string`){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw Error(`Cannot find sheet name |`+t+`|`)}else throw Error(`Cannot find sheet |`+t+`|`)}function _H(){return{SheetNames:[],Sheets:{}}}function vH(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n=`Sheet`+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw Error(`Too many worksheets`);if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(UR(n),e.SheetNames.indexOf(n)>=0)throw Error(`Worksheet with name |`+n+`| already exists!`);return e.SheetNames.push(n),e.Sheets[n]=t,n}function yH(e,t,n){e.Workbook||={},e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=gH(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw Error(`Bad sheet visibility setting `+n)}e.Workbook.Sheets[r].Hidden=n}function bH(e,t){return e.z=t,e}function xH(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function SH(e,t,n){return xH(e,`#`+t,n)}function CH(e,t,n){e.c||=[],e.c.push({t,a:n||`SheetJS`})}function wH(e,t,n,r){for(var i=typeof t==`string`?RE(t):t,a=typeof t==`string`?t:LE(t),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var c=hH(e,o,s);c.t=`n`,c.F=a,delete c.v,o==i.s.r&&s==i.s.c&&(c.f=n,r&&(c.D=!0))}return e}var TH={encode_col:AE,encode_row:EE,encode_cell:FE,encode_range:LE,decode_col:kE,decode_row:TE,split_cell:NE,decode_cell:PE,decode_range:IE,format_cell:BE,sheet_add_aoa:HE,sheet_add_json:pH,sheet_add_dom:FB,aoa_to_sheet:UE,json_to_sheet:mH,table_to_sheet:IB,table_to_book:LB,sheet_to_csv:uH,sheet_to_txt:dH,sheet_to_json:sH,sheet_to_html:PB,sheet_to_formulae:fH,sheet_to_row_object_array:sH,sheet_get_cell:hH,book_new:_H,book_append_sheet:vH,book_set_sheet_visibility:yH,cell_set_number_format:bH,cell_set_hyperlink:xH,cell_set_internal_link:SH,cell_add_comment:CH,sheet_set_array_formula:wH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};fS.version;var EH=({label:e,value:t,onChange:n,placeholder:r,required:i,type:a=`text`,disabled:o})=>(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:e}),(0,q.jsx)(`input`,{type:a,className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-300 ${o?`bg-slate-100 text-slate-400 cursor-not-allowed`:`bg-white`}`,value:t,onChange:n,placeholder:r,required:i,disabled:o})]}),DH=({initialData:e,onSubmit:t,onCancel:n,isEditing:r})=>{let i={nisn:``,name:``,class:``,gender:`L`,pob:``,dob:``,address:``,phone:``,fatherName:``,fatherJob:``,fatherPhone:``,fatherDeceased:!1,motherName:``,motherJob:``,motherPhone:``,motherDeceased:!1,parent:``,parentPhone:``,jobParent:``,career:``,riskLevel:`LOW`,homeroomTeacher:``,homeroomTeacherNip:``,guardianTeacher:``},[a,o]=(0,y.useState)(i);(0,y.useEffect)(()=>{e&&o({...i,...e,fatherDeceased:!!e.fatherDeceased,motherDeceased:!!e.motherDeceased})},[e]);let s=(e,t)=>{o(n=>{let r={...n,[e]:t};return n.fatherDeceased||(e===`fatherName`&&(!n.parent||n.parent===n.fatherName)&&(r.parent=t),e===`fatherJob`&&(!n.jobParent||n.jobParent===n.fatherJob)&&(r.jobParent=t),e===`fatherPhone`&&(!n.parentPhone||n.parentPhone===n.fatherPhone)&&(r.parentPhone=t)),r})},c=(e,t)=>{o(n=>{let r={...n,[e]:t};return n.fatherDeceased&&!n.motherDeceased&&(e===`motherName`&&(!n.parent||n.parent===n.motherName)&&(r.parent=t),e===`motherJob`&&(!n.jobParent||n.jobParent===n.motherJob)&&(r.jobParent=t),e===`motherPhone`&&(!n.parentPhone||n.parentPhone===n.motherPhone)&&(r.parentPhone=t)),r})},l=(e,t)=>{o(n=>{let r={...n,[e]:t};return e===`fatherDeceased`&&(t&&!n.motherDeceased&&n.motherName?(r.parent=n.motherName,r.jobParent=n.motherJob,r.parentPhone=n.motherPhone):!t&&n.fatherName&&(r.parent=n.fatherName,r.jobParent=n.fatherJob,r.parentPhone=n.fatherPhone)),r})};return(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl border border-blue-200 shadow-xl animate-in fade-in slide-in-from-top-4 relative overflow-hidden scroll-mt-20`,children:[(0,q.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-cyan-400`}),(0,q.jsxs)(`div`,{className:`flex justify-between items-center mb-6`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-lg text-slate-800 flex items-center gap-2`,children:[r?(0,q.jsx)(Nx,{className:`text-blue-600`}):(0,q.jsx)(Lb,{className:`text-blue-600`}),r?`Edit Data Siswa`:`Input Siswa Baru`]}),(0,q.jsx)(`button`,{onClick:n,className:`text-slate-400 hover:text-red-500`,children:(0,q.jsx)(Gx,{size:24})})]}),(0,q.jsxs)(`form`,{onSubmit:e=>{e.preventDefault(),t(a)},className:`space-y-6`,children:[(0,q.jsxs)(`div`,{className:`bg-slate-50 p-4 rounded-xl border border-slate-200 space-y-4`,children:[(0,q.jsxs)(`h4`,{className:`text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2 mb-2 border-b border-slate-200 pb-2`,children:[(0,q.jsx)(Hx,{size:14}),` Identitas Siswa`]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,q.jsx)(EH,{label:`Nama Lengkap`,value:a.name,onChange:e=>o({...a,name:e.target.value}),required:!0,placeholder:`Nama Siswa`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,q.jsx)(EH,{label:`NISN`,value:a.nisn,onChange:e=>o({...a,nisn:e.target.value}),placeholder:`00xxxx`}),(0,q.jsx)(EH,{label:`Kelas`,value:a.class,onChange:e=>o({...a,class:e.target.value}),required:!0,placeholder:`X-1`})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4`,children:[(0,q.jsx)(EH,{label:`Wali Kelas`,value:a.homeroomTeacher,onChange:e=>o({...a,homeroomTeacher:e.target.value}),placeholder:`Nama Wali Kelas`}),(0,q.jsx)(EH,{label:`NIP Wali Kelas`,value:a.homeroomTeacherNip,onChange:e=>o({...a,homeroomTeacherNip:e.target.value}),placeholder:`NIP (Opsional)`}),(0,q.jsx)(EH,{label:`Guru Wali / Pendamping`,value:a.guardianTeacher,onChange:e=>o({...a,guardianTeacher:e.target.value}),placeholder:`Nama Guru Wali`})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Jenis Kelamin`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border rounded-lg bg-white text-sm`,value:a.gender,onChange:e=>o({...a,gender:e.target.value}),children:[(0,q.jsx)(`option`,{value:`L`,children:`Laki-laki`}),(0,q.jsx)(`option`,{value:`P`,children:`Perempuan`})]})]}),(0,q.jsx)(EH,{label:`Tempat Lahir`,value:a.pob,onChange:e=>o({...a,pob:e.target.value})}),(0,q.jsx)(EH,{label:`Tanggal Lahir`,type:`date`,value:a.dob,onChange:e=>o({...a,dob:e.target.value})}),(0,q.jsx)(EH,{label:`No HP Siswa`,value:a.phone,onChange:e=>o({...a,phone:e.target.value}),placeholder:`08xxx`})]}),(0,q.jsx)(EH,{label:`Alamat Lengkap`,value:a.address,onChange:e=>o({...a,address:e.target.value}),placeholder:`Jalan, Desa, Kecamatan...`})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,q.jsxs)(`div`,{className:`p-4 rounded-xl border space-y-4 transition-colors ${a.fatherDeceased?`bg-red-50 border-red-200`:`bg-blue-50/50 border-blue-100`}`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-center border-b pb-2`,children:[(0,q.jsxs)(`h4`,{className:`text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2`,children:[(0,q.jsx)(Hx,{size:14}),` Data Ayah`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,q.jsx)(`input`,{type:`checkbox`,className:`w-4 h-4 accent-red-600 rounded`,checked:a.fatherDeceased,onChange:e=>l(`fatherDeceased`,e.target.checked)}),(0,q.jsx)(`span`,{className:`text-[10px] font-bold text-red-600`,children:`Meninggal Dunia`})]})]}),(0,q.jsx)(EH,{label:`Nama Ayah`,value:a.fatherName,onChange:e=>s(`fatherName`,e.target.value),disabled:a.fatherDeceased}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,q.jsx)(EH,{label:`Pekerjaan`,value:a.fatherJob,onChange:e=>s(`fatherJob`,e.target.value),disabled:a.fatherDeceased}),(0,q.jsx)(EH,{label:`No HP`,value:a.fatherPhone,onChange:e=>s(`fatherPhone`,e.target.value),disabled:a.fatherDeceased})]})]}),(0,q.jsxs)(`div`,{className:`p-4 rounded-xl border space-y-4 transition-colors ${a.motherDeceased?`bg-red-50 border-red-200`:`bg-pink-50/50 border-pink-100`}`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-center border-b pb-2`,children:[(0,q.jsxs)(`h4`,{className:`text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2`,children:[(0,q.jsx)(Hx,{size:14}),` Data Ibu`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,q.jsx)(`input`,{type:`checkbox`,className:`w-4 h-4 accent-red-600 rounded`,checked:a.motherDeceased,onChange:e=>l(`motherDeceased`,e.target.checked)}),(0,q.jsx)(`span`,{className:`text-[10px] font-bold text-red-600`,children:`Meninggal Dunia`})]})]}),(0,q.jsx)(EH,{label:`Nama Ibu`,value:a.motherName,onChange:e=>c(`motherName`,e.target.value),disabled:a.motherDeceased}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,q.jsx)(EH,{label:`Pekerjaan`,value:a.motherJob,onChange:e=>c(`motherJob`,e.target.value),disabled:a.motherDeceased}),(0,q.jsx)(EH,{label:`No HP`,value:a.motherPhone,onChange:e=>c(`motherPhone`,e.target.value),disabled:a.motherDeceased})]})]})]}),(0,q.jsxs)(`div`,{className:`bg-purple-50/50 p-4 rounded-xl border border-purple-100 space-y-4`,children:[(0,q.jsxs)(`h4`,{className:`text-xs font-bold text-purple-600 uppercase tracking-wider flex items-center gap-2 mb-2 border-b border-purple-200 pb-2`,children:[(0,q.jsx)(Ux,{size:14}),` Wali Utama`]}),(0,q.jsx)(`p`,{className:`text-[10px] text-slate-400 italic`,children:`*Otomatis terisi dari Ayah/Ibu yang masih hidup.`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4`,children:[(0,q.jsx)(EH,{label:`Nama Wali`,value:a.parent,onChange:e=>o({...a,parent:e.target.value})}),(0,q.jsx)(EH,{label:`Pekerjaan`,value:a.jobParent,onChange:e=>o({...a,jobParent:e.target.value})}),(0,q.jsx)(EH,{label:`No HP Wali`,value:a.parentPhone,onChange:e=>o({...a,parentPhone:e.target.value})})]})]}),(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-end gap-4 pt-2 border-t`,children:[(0,q.jsxs)(`div`,{className:`w-full md:w-1/3`,children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Tingkat Kerawanan`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border rounded-lg font-bold text-sm ${a.riskLevel===`HIGH`?`text-red-600 bg-red-50 border-red-200`:a.riskLevel===`MEDIUM`?`text-yellow-600 bg-yellow-50 border-yellow-200`:`text-green-600 bg-green-50 border-green-200`}`,value:a.riskLevel,onChange:e=>o({...a,riskLevel:e.target.value}),children:[(0,q.jsx)(`option`,{value:`LOW`,children:`Resiko Rendah`}),(0,q.jsx)(`option`,{value:`MEDIUM`,children:`Resiko Sedang`}),(0,q.jsx)(`option`,{value:`HIGH`,children:`Resiko Tinggi`})]})]}),(0,q.jsxs)(`div`,{className:`flex gap-3 w-full md:w-auto`,children:[(0,q.jsx)(`button`,{type:`button`,onClick:n,className:`flex-1 md:flex-none px-6 py-2.5 text-slate-500 hover:bg-slate-100 rounded-lg font-bold text-sm`,children:`Batal`}),(0,q.jsxs)(`button`,{type:`submit`,className:`flex-1 md:flex-none bg-blue-600 text-white font-bold rounded-lg px-8 py-2.5 shadow-lg hover:bg-blue-700 flex items-center justify-center gap-2`,children:[(0,q.jsx)(Dx,{size:18}),` Simpan Data`]})]})]})]})]})},OH=({students:e,isMoveMode:t,selectedIds:n,onSelectAll:r,onSelectOne:i,onView:a,onEdit:o,onDelete:s})=>(0,q.jsx)(`div`,{className:`hidden md:block bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden`,children:(0,q.jsxs)(`table`,{className:`w-full text-sm text-left`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-50 text-slate-500 font-bold uppercase text-xs`,children:(0,q.jsxs)(`tr`,{children:[t&&(0,q.jsx)(`th`,{className:`w-10 px-6 py-4`,children:(0,q.jsx)(`input`,{type:`checkbox`,onChange:r,className:`w-4 h-4 rounded border-slate-300 cursor-pointer`})}),(0,q.jsx)(`th`,{className:`px-6 py-4`,children:`Nama Siswa`}),(0,q.jsx)(`th`,{className:`px-6 py-4`,children:`Kelas`}),(0,q.jsx)(`th`,{className:`px-6 py-4`,children:`L/P`}),(0,q.jsx)(`th`,{className:`px-6 py-4`,children:`Wali`}),(0,q.jsx)(`th`,{className:`px-6 py-4 text-center`,children:`Aksi`})]})}),(0,q.jsxs)(`tbody`,{className:`divide-y divide-slate-100`,children:[e.map(e=>(0,q.jsxs)(`tr`,{onClick:()=>a(e),className:`
                                hover:bg-blue-50/50 transition-colors cursor-pointer group 
                                ${n.includes(e.id)?`bg-orange-50`:``}
                            `,title:`Klik untuk melihat detail buku pribadi`,children:[t&&(0,q.jsxs)(`td`,{className:`px-6 py-4`,onClick:e=>e.stopPropagation(),children:[` `,(0,q.jsx)(`input`,{type:`checkbox`,checked:n.includes(e.id),onChange:()=>i(e.id),className:`w-4 h-4 rounded border-slate-300 text-orange-600 focus:ring-orange-500 cursor-pointer`})]}),(0,q.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-800 group-hover:text-blue-700 transition-colors`,children:e.name}),(0,q.jsx)(`div`,{className:`text-xs text-slate-500`,children:e.nisn})]}),(0,q.jsx)(`td`,{className:`px-6 py-4`,children:(0,q.jsx)(`span`,{className:`bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-bold`,children:e.class})}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-slate-500`,children:e.gender}),(0,q.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,q.jsx)(`div`,{className:`font-medium text-slate-700`,children:e.parent||`-`}),(0,q.jsx)(`div`,{className:`text-xs text-slate-500`,children:e.phone})]}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-center`,children:(0,q.jsxs)(`div`,{className:`flex items-center justify-center gap-2`,onClick:e=>e.stopPropagation(),children:[(0,q.jsx)(`button`,{onClick:()=>o(e),className:`p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors`,title:`Edit Data`,children:(0,q.jsx)(Nx,{size:18})}),(0,q.jsx)(`button`,{onClick:()=>s(e.id),className:`p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors`,title:`Hapus Siswa`,children:(0,q.jsx)(Fx,{size:18})})]})})]},e.id)),e.length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:t?6:5,className:`p-8 text-center text-slate-400 italic`,children:`Data siswa tidak ditemukan.`})})]})]})}),kH=({students:e,isMoveMode:t,selectedIds:n,onSelectOne:r,onView:i,onEdit:a,onDelete:o})=>(0,q.jsxs)(`div`,{className:`md:hidden space-y-3`,children:[e.map(e=>(0,q.jsx)(`div`,{onClick:()=>i(e),className:`
                        bg-white p-4 rounded-xl shadow-sm border active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden
                        ${n.includes(e.id)?`border-orange-400 bg-orange-50`:`border-slate-200`}
                    `,children:(0,q.jsxs)(`div`,{className:`flex items-start justify-between relative z-10`,children:[(0,q.jsxs)(`div`,{className:`flex gap-3 items-start`,children:[t&&(0,q.jsx)(`div`,{onClick:e=>e.stopPropagation(),className:`pt-1 pr-2`,children:(0,q.jsx)(`input`,{type:`checkbox`,checked:n.includes(e.id),onChange:()=>r(e.id),className:`w-5 h-5 rounded border-slate-300 text-orange-600 focus:ring-orange-500`})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h4`,{className:`font-bold text-slate-800 text-lg leading-tight mb-1`,children:e.name}),(0,q.jsxs)(`p`,{className:`text-sm text-slate-500 font-medium`,children:[e.class,`  `,e.nisn]}),(0,q.jsxs)(`div`,{className:`mt-2 flex flex-wrap gap-2 text-xs text-slate-500`,children:[(0,q.jsx)(`span`,{className:`bg-slate-100 px-2 py-1 rounded font-bold text-slate-600`,children:e.gender===`L`?`Laki-laki`:`Perempuan`}),e.phone&&(0,q.jsxs)(`span`,{className:`bg-slate-100 px-2 py-1 rounded flex items-center gap-1`,children:[` `,e.phone]})]})]})]}),(0,q.jsxs)(`div`,{className:`flex gap-1`,onClick:e=>e.stopPropagation(),children:[(0,q.jsx)(`button`,{onClick:()=>a(e),className:`p-2.5 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors`,title:`Edit`,children:(0,q.jsx)(Nx,{size:18})}),(0,q.jsx)(`button`,{onClick:()=>o(e.id),className:`p-2.5 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors`,title:`Hapus`,children:(0,q.jsx)(Fx,{size:18})})]})]})},e.id)),e.length===0&&(0,q.jsx)(`div`,{className:`text-center py-10 text-slate-400 bg-white rounded-xl border border-dashed border-slate-200`,children:(0,q.jsx)(`p`,{className:`text-sm`,children:`Tidak ada data siswa.`})})]}),AH=({student:e,onClose:t,pointLogs:n=[],sanctionRules:r=[],journals:i=[]})=>{let[a,o]=(0,y.useState)(600),s=(0,y.useRef)(!1),[c,l]=(0,y.useState)(!0),u=(0,y.useCallback)(e=>{s.current=!0,document.addEventListener(`mousemove`,f),document.addEventListener(`mouseup`,d),document.body.style.cursor=`ew-resize`,e.preventDefault()},[]),d=(0,y.useCallback)(()=>{s.current=!1,document.removeEventListener(`mousemove`,f),document.removeEventListener(`mouseup`,d),document.body.style.cursor=`default`},[]),f=(0,y.useCallback)(e=>{if(!s.current)return;let t=window.innerWidth-e.clientX;t>400&&t<window.innerWidth*.95&&o(t)},[]),{netScore:p,activeSanction:m,logs:h,violationTotal:g,achievementTotal:_}=(0,y.useMemo)(()=>{if(!e)return{netScore:0,activeSanction:null,logs:[],violationTotal:0,achievementTotal:0};let t=n.filter(t=>t.studentId===e.id),i=t.filter(e=>e.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0),a=t.filter(e=>e.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0),o=i-a;return{netScore:o,activeSanction:(r||[]).sort((e,t)=>t.max-e.max).find(e=>o>=e.min&&o<=e.max),logs:t.sort((e,t)=>new Date(t.date)-new Date(e.date)),violationTotal:i,achievementTotal:a}},[e,n,r]),v=(0,y.useMemo)(()=>e?i.filter(t=>t.studentId===e.id||t.studentIds&&t.studentIds.includes(e.id)).sort((e,t)=>t.createdAt-e.createdAt):[],[e,i]);return e?(0,q.jsxs)(`div`,{className:`fixed inset-0 z-[60] flex justify-end`,children:[(0,q.jsx)(`div`,{className:`absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity`,onClick:t}),(0,q.jsxs)(`div`,{className:`relative h-full bg-white shadow-2xl flex animate-in slide-in-from-right duration-300`,style:{width:`${a}px`},children:[(0,q.jsx)(`div`,{onMouseDown:u,className:`absolute left-0 top-0 bottom-0 w-1.5 bg-slate-200 hover:bg-blue-400 cursor-ew-resize z-10 transition-colors flex items-center justify-center group`,title:`Geser untuk mengubah lebar panel`,children:(0,q.jsx)(nx,{size:12,className:`text-slate-400 group-hover:text-white opacity-0 group-hover:opacity-100 transition-opacity`})}),(0,q.jsxs)(`div`,{className:`flex-1 flex flex-col h-full border-l border-slate-200 bg-slate-50/50`,children:[(0,q.jsxs)(`div`,{className:`p-6 border-b flex justify-between items-start bg-white border-blue-100 flex-shrink-0`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`p-2.5 rounded-xl bg-blue-100 text-blue-600 shadow-sm`,children:(0,q.jsx)(Cb,{size:24})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h2`,{className:`text-xl font-bold text-slate-800`,children:`Buku Pribadi Siswa`}),(0,q.jsx)(`p`,{className:`text-sm text-slate-500 font-medium`,children:`Rekam jejak, biodata, dan prestasi`})]})]}),(0,q.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600`,children:(0,q.jsx)(Gx,{size:24})})]}),(0,q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar`,children:[(0,q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`p-6 flex flex-col items-center border-b border-slate-100 relative`,children:[(0,q.jsx)(`div`,{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${m?`bg-red-50 text-red-600 border-red-100`:`bg-green-50 text-green-600 border-green-100`}`,children:m?`Perlu Perhatian`:`Siswa Baik`}),(0,q.jsx)(`div`,{className:`w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-bold text-slate-400 mb-4 shadow-inner ring-4 ring-white`,children:e.name.charAt(0)}),(0,q.jsx)(`h2`,{className:`text-2xl font-bold text-slate-800 text-center`,children:e.name}),(0,q.jsxs)(`p`,{className:`text-slate-500 font-medium mt-1`,children:[e.class,`  NISN: `,e.nisn||`-`]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 w-full mt-6`,children:[(0,q.jsxs)(`div`,{className:`text-center p-3 bg-red-50 rounded-xl border border-red-100`,children:[(0,q.jsx)(`div`,{className:`text-xl font-black text-red-600`,children:g}),(0,q.jsx)(`div`,{className:`text-[10px] font-bold text-red-400 uppercase`,children:`Pelanggaran`})]}),(0,q.jsxs)(`div`,{className:`text-center p-3 bg-green-50 rounded-xl border border-green-100`,children:[(0,q.jsx)(`div`,{className:`text-xl font-black text-green-600`,children:_}),(0,q.jsx)(`div`,{className:`text-[10px] font-bold text-green-400 uppercase`,children:`Prestasi`})]}),(0,q.jsxs)(`div`,{className:`text-center p-3 bg-blue-50 rounded-xl border border-blue-100 relative overflow-hidden`,children:[(0,q.jsx)(`div`,{className:`text-xl font-black z-10 relative ${p>0?`text-red-600`:`text-blue-600`}`,children:p}),(0,q.jsx)(`div`,{className:`text-[10px] font-bold text-blue-400 uppercase z-10 relative`,children:`Net Poin`})]})]})]}),(0,q.jsxs)(`div`,{className:`bg-slate-50/50`,children:[(0,q.jsxs)(`button`,{onClick:()=>l(!c),className:`w-full flex justify-between items-center p-4 text-sm font-bold text-slate-600 hover:bg-slate-100 transition-colors`,children:[(0,q.jsxs)(`span`,{className:`flex items-center gap-2`,children:[(0,q.jsx)(Hx,{size:16}),` Detail Biodata & Kontak`]}),c?(0,q.jsx)(Nb,{size:16}):(0,q.jsx)(Ab,{size:16})]}),c&&(0,q.jsxs)(`div`,{className:`px-6 pb-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8 text-sm animate-in slide-in-from-top-2`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-400 uppercase block mb-1`,children:`Jenis Kelamin`}),(0,q.jsx)(`p`,{className:`font-medium text-slate-700`,children:e.gender===`L`?`Laki-laki`:`Perempuan`})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-400 uppercase block mb-1`,children:`Nama Wali`}),(0,q.jsx)(`p`,{className:`font-medium text-slate-700`,children:e.parent||`-`})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-400 uppercase block mb-1`,children:`Kontak Siswa`}),(0,q.jsxs)(`p`,{className:`font-medium text-slate-700 flex items-center gap-2`,children:[(0,q.jsx)(bx,{size:14,className:`text-slate-400`}),` `,e.phone||`-`]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-400 uppercase block mb-1`,children:`Kontak Wali`}),(0,q.jsxs)(`p`,{className:`font-medium text-slate-700 flex items-center gap-2`,children:[(0,q.jsx)(bx,{size:14,className:`text-slate-400`}),` `,e.parentPhone||`-`]})]}),(0,q.jsxs)(`div`,{className:`col-span-1 md:col-span-2`,children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-400 uppercase block mb-1`,children:`Alamat`}),(0,q.jsx)(`p`,{className:`font-medium text-slate-700`,children:e.address||`-`})]})]})]})]}),m&&(0,q.jsxs)(`div`,{className:`bg-red-50 border border-red-200 rounded-xl p-4 flex gap-4 items-start shadow-sm`,children:[(0,q.jsx)(`div`,{className:`p-2 bg-white rounded-full text-red-600 shadow-sm`,children:(0,q.jsx)(_x,{size:24})}),(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h4`,{className:`font-bold text-red-800 text-lg`,children:[`Status Sanksi: `,m.penalty||m.action]}),(0,q.jsx)(`p`,{className:`text-red-600 text-sm mt-1 leading-snug`,children:m.action})]})]}),(0,q.jsxs)(`div`,{className:`space-y-6`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h3`,{className:`font-bold text-slate-700 mb-3 flex items-center gap-2`,children:[(0,q.jsx)($b,{size:18}),` Riwayat Pelanggaran & Prestasi`]}),h.length>0?(0,q.jsx)(`div`,{className:`bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden`,children:h.map((e,t)=>(0,q.jsxs)(`div`,{className:`p-4 flex gap-3 ${t===h.length-1?``:`border-b border-slate-100`}`,children:[(0,q.jsx)(`div`,{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${e.type===`violation`?`bg-red-500`:`bg-green-500`}`}),(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,q.jsx)(`span`,{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${e.type===`violation`?`bg-red-50 text-red-600`:`bg-green-50 text-green-600`}`,children:e.type===`violation`?`Pelanggaran`:`Prestasi`}),(0,q.jsx)(`span`,{className:`text-xs text-slate-400`,children:e.date})]}),(0,q.jsx)(`p`,{className:`text-sm font-medium text-slate-800 mt-1`,children:e.description}),(0,q.jsxs)(`div`,{className:`mt-1 text-xs text-slate-500 font-mono`,children:[`Kode: `,e.code,`  Nilai: `,(0,q.jsx)(`b`,{children:e.value})]})]})]},e.id))}):(0,q.jsx)(`div`,{className:`text-center p-6 bg-white rounded-xl border border-dashed border-slate-300 text-slate-400 text-sm`,children:`Belum ada data poin.`})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h3`,{className:`font-bold text-slate-700 mb-3 flex items-center gap-2`,children:[(0,q.jsx)(yb,{size:18}),` Catatan Jurnal & Konseling`]}),v.length>0?(0,q.jsx)(`div`,{className:`space-y-3`,children:v.map(e=>(0,q.jsxs)(`div`,{className:`bg-white p-4 rounded-xl border border-blue-100 shadow-sm hover:border-blue-300 transition-colors`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,q.jsx)(Ob,{size:14,className:`text-slate-400`}),(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-500`,children:e.date?cS(e.date):`Tanggal -`})]}),(0,q.jsx)(`span`,{className:`text-[10px] bg-blue-50 text-blue-600 font-bold px-2 py-1 rounded uppercase tracking-wide`,children:`Jurnal`})]}),(0,q.jsx)(`h4`,{className:`font-bold text-slate-800 text-sm`,children:e.title||`Catatan Harian`}),(0,q.jsx)(`p`,{className:`text-sm text-slate-600 mt-1 line-clamp-3`,children:e.notes||e.content}),e.followUp&&(0,q.jsxs)(`div`,{className:`mt-3 pt-3 border-t border-slate-50 flex gap-2 items-start`,children:[(0,q.jsx)(Bx,{size:14,className:`text-green-600 mt-0.5`}),(0,q.jsx)(`p`,{className:`text-xs text-green-700 font-medium italic`,children:e.followUp})]})]},e.id))}):(0,q.jsx)(`div`,{className:`text-center p-6 bg-white rounded-xl border border-dashed border-slate-300 text-slate-400 text-sm`,children:`Belum ada catatan jurnal.`})]})]})]}),(0,q.jsx)(`div`,{className:`p-4 border-t bg-white flex justify-end`,children:(0,q.jsx)(`button`,{onClick:t,className:`px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition-colors`,children:`Tutup Panel`})})]})]})]}):null},jH=({students:e,journals:t,pointLogs:n,sanctionRules:r,user:i,onAdd:a,onEdit:o,onDelete:s,onImport:c,onMoveClass:l})=>{let[u,d]=(0,y.useState)(``),[f,p]=(0,y.useState)(``),[m,h]=(0,y.useState)(!1),[g,_]=(0,y.useState)(null),[v,b]=(0,y.useState)(!1),[x,S]=(0,y.useState)(!0),[C,w]=(0,y.useState)(!1),[T,E]=(0,y.useState)(1),[D,O]=(0,y.useState)(!1),[k,A]=(0,y.useState)([]),[j,M]=(0,y.useState)(``),[N,P]=(0,y.useState)(null),F=(0,y.useRef)(null),I=(0,y.useMemo)(()=>[...new Set((e||[]).map(e=>e.class).filter(Boolean))].sort(),[e]),L=(0,y.useMemo)(()=>x?(e||[]).filter(e=>!e.class||e.class.trim()===``).length:0,[e,x]),R=(0,y.useMemo)(()=>(e||[]).filter(e=>{if(C&&x)return!e.class||e.class.trim()===``;let t=e.name.toLowerCase().includes(u.toLowerCase())||e.class&&e.class.toLowerCase().includes(u.toLowerCase())||e.nisn&&e.nisn.includes(u),n=f?e.class===f:!0;return t&&n}),[e,u,f,C,x]),z=Math.ceil(R.length/10);(0,y.useEffect)(()=>{E(1)},[u,f,C]);let ee=(0,y.useMemo)(()=>{let e=(T-1)*10;return R.slice(e,e+10)},[R,T]),B=(0,y.useCallback)(e=>{e.target.checked?A(ee.map(e=>e.id)):A([])},[ee]),V=(0,y.useCallback)(e=>{A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),te=e=>{P(e),h(!0)},H=e=>{N?o({...e,id:N.id}):a(e),h(!1),P(null)},ne=()=>{if(!j)return alert(`Masukkan nama kelas tujuan!`);if(k.length===0)return alert(`Pilih minimal satu siswa!`);confirm(`Pindahkan ${k.length} siswa terpilih ke kelas ${j}?`)&&(l(k,j),O(!1),A([]),M(``),C&&L<=k.length&&w(!1))},re=()=>{if(R.length===0)return alert(`Tidak ada data siswa untuk diekspor.`);let e=R.map(e=>({NISN:e.nisn,"Nama Lengkap":e.name,Kelas:e.class,"L/P":e.gender,"No HP":e.phone,Wali:e.parent})),t=TH.json_to_sheet(e),n=TH.book_new();TH.book_append_sheet(n,t,`Data Siswa`),aH(n,`Data_Siswa_SIBKO.xlsx`)},ie=e=>{let t=e.target.files[0];if(!t)return;let n=new FileReader;n.onload=e=>{try{let t=e.target.result,n=YV(t,{type:`binary`}),r=TH.sheet_to_json(n.Sheets[n.SheetNames[0]]).map(e=>({nisn:e.NISN?String(e.NISN):``,name:e[`Nama Lengkap`],class:e.Kelas,gender:e[`L/P`],parent:e.Wali,phone:e[`No HP`]}));r.length>0&&confirm(`Import ${r.length} siswa?`)&&c(r)}catch(e){console.error(e),alert(`Gagal membaca file Excel.`)}},n.readAsBinaryString(t),e.target.value=null},U=()=>{C?(w(!1),O(!1)):(w(!0),setSearchTerm(``),p(``))};return(0,q.jsxs)(`div`,{className:`p-4 md:p-6 space-y-6 relative min-h-screen pb-20 animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col lg:flex-row justify-between items-center gap-4 sticky top-0 z-20`,children:[(0,q.jsxs)(`div`,{className:`w-full lg:w-auto flex justify-between items-center gap-4`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsxs)(`h2`,{className:`text-lg md:text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Ux,{className:`text-blue-600`}),` Data Siswa`]}),(0,q.jsx)(`button`,{onClick:()=>{S(!x),x&&w(!1)},className:`p-1.5 rounded-lg transition-colors ${x?`bg-blue-50 text-blue-600`:`bg-slate-100 text-slate-400`}`,title:x?`Nonaktifkan Detektor Data Kosong`:`Aktifkan Detektor Data Kosong`,children:(0,q.jsx)(Sx,{size:14,className:x?`drop-shadow-sm`:``})})]}),L>0&&x&&(0,q.jsx)(`button`,{onClick:U,className:`md:hidden p-2 rounded-full ${C?`bg-orange-600 text-white`:`bg-orange-100 text-orange-600 animate-pulse`}`,children:(0,q.jsx)(Pb,{size:20})}),!D&&(0,q.jsx)(`button`,{onClick:()=>b(!v),className:`md:hidden bg-slate-100 text-slate-600 p-2 rounded-lg border border-slate-200`,children:(0,q.jsx)(Wb,{size:20})})]}),(0,q.jsx)(`div`,{className:`flex flex-col md:flex-row gap-2 w-full lg:w-auto items-center`,children:D?(0,q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 bg-orange-50 p-2 rounded-lg border border-orange-200 w-full md:w-auto animate-in slide-in-from-right`,children:[(0,q.jsxs)(`span`,{className:`text-xs font-bold text-orange-700 px-2 whitespace-nowrap`,children:[k.length,` Dipilih`]}),(0,q.jsx)(`input`,{className:`flex-1 text-sm p-2 border rounded-md focus:ring-2 ring-orange-400 outline-none min-w-[120px]`,placeholder:`Kelas Tujuan (Mis: X-A)...`,value:j,onChange:e=>M(e.target.value.toUpperCase())}),(0,q.jsx)(`button`,{onClick:ne,className:`bg-orange-600 text-white p-2 rounded-md hover:bg-orange-700 text-xs font-bold px-3`,children:`SIMPAN`}),(0,q.jsx)(`button`,{onClick:()=>{O(!1),A([])},className:`text-slate-500 hover:text-slate-700 p-2`,children:(0,q.jsx)(Gx,{size:18})})]}):(0,q.jsxs)(q.Fragment,{children:[x&&(L>0?(0,q.jsxs)(`button`,{onClick:U,className:`hidden md:flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-bold transition-all border ${C?`bg-orange-600 text-white border-orange-600 shadow-md`:`bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100`}`,title:C?`Kembali ke semua data`:`Klik untuk melihat data yang perlu diperbaiki`,children:[(0,q.jsx)(Pb,{size:18,className:C?``:`animate-pulse`}),C?`Keluar Mode Perbaikan`:`${L} Belum Ada Kelas`]}):(0,q.jsxs)(`div`,{className:`hidden md:flex items-center gap-2 px-3 py-2.5 rounded-lg text-xs font-bold text-green-700 bg-green-50 border border-green-200 cursor-default`,title:`Semua siswa sudah memiliki kelas`,children:[(0,q.jsx)(Fb,{size:16}),` Data Kelas Lengkap`]})),!C&&(0,q.jsxs)(`div`,{className:`relative w-full md:w-auto`,children:[(0,q.jsxs)(`select`,{className:`w-full md:w-36 pl-3 pr-8 py-2.5 border rounded-lg text-sm bg-slate-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none appearance-none cursor-pointer font-medium text-slate-600`,value:f,onChange:e=>p(e.target.value),children:[(0,q.jsx)(`option`,{value:``,children:`Semua Kelas`}),I.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))]}),(0,q.jsx)(Ab,{className:`absolute right-3 top-3 text-slate-400 pointer-events-none`,size:16})]}),(0,q.jsxs)(`div`,{className:`relative w-full md:w-56`,children:[(0,q.jsx)(kx,{className:`text-slate-400 absolute left-3 top-2.5`,size:18}),(0,q.jsx)(`input`,{className:`w-full pl-10 p-2.5 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-slate-50 focus:bg-white transition-colors`,placeholder:`Cari nama, NISN...`,value:u,onChange:e=>d(e.target.value),disabled:C})]}),(0,q.jsxs)(`div`,{className:`hidden md:flex gap-2`,children:[(0,q.jsx)(`button`,{onClick:()=>O(!0),className:`bg-orange-100 text-orange-700 hover:bg-orange-200 px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors`,title:`Pindah Kelas Massal`,children:(0,q.jsx)(xb,{size:18})}),(0,q.jsx)(`button`,{onClick:re,className:`bg-green-100 text-green-700 hover:bg-green-200 px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors`,children:(0,q.jsx)(Ub,{size:18})}),(0,q.jsx)(`input`,{type:`file`,ref:F,className:`hidden`,accept:`.xlsx, .xls`,onChange:ie}),(0,q.jsx)(`button`,{onClick:()=>F.current.click(),className:`bg-green-600 text-white hover:bg-green-700 px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-sm transition-colors`,children:(0,q.jsx)(zx,{size:18})}),(0,q.jsxs)(`button`,{onClick:()=>{P(null),h(!m)},className:`bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-sm transition-colors`,children:[(0,q.jsx)(Lb,{size:18}),` `,m?`Batal`:`Tambah`]})]})]})})]}),C&&x&&(0,q.jsxs)(`div`,{className:`bg-orange-50 border border-orange-200 rounded-xl p-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 animate-in slide-in-from-top-2`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`p-2 bg-orange-100 text-orange-600 rounded-full`,children:(0,q.jsx)(Pb,{size:24})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h3`,{className:`font-bold text-orange-800`,children:`Mode Perbaikan Data`}),(0,q.jsxs)(`p`,{className:`text-sm text-orange-700`,children:[`Menampilkan `,L,` siswa yang belum memiliki kelas. Silakan centang siswa dan gunakan tombol "Pindah Kelas" untuk menetapkan kelas mereka.`]})]})]}),!D&&(0,q.jsx)(`button`,{onClick:()=>O(!0),className:`w-full md:w-auto px-4 py-2 bg-orange-600 text-white font-bold rounded-lg text-sm hover:bg-orange-700 shadow-sm`,children:`Mulai Perbaiki (Pindah Kelas)`})]}),v&&!D&&(0,q.jsxs)(`div`,{className:`md:hidden bg-white p-3 rounded-xl shadow-lg border border-slate-200 grid grid-cols-2 gap-3 animate-in slide-in-from-top-2`,children:[(0,q.jsxs)(`button`,{onClick:()=>{P(null),h(!0),b(!1)},className:`col-span-2 bg-blue-600 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2`,children:[(0,q.jsx)(Lb,{size:20}),` Tambah Siswa Baru`]}),L>0&&x&&(0,q.jsxs)(`button`,{onClick:()=>{U(),b(!1)},className:`col-span-2 bg-orange-100 text-orange-700 py-3 rounded-lg font-bold flex items-center justify-center gap-2 border border-orange-200`,children:[(0,q.jsx)(Pb,{size:20}),` `,C?`Keluar Mode Perbaikan`:`Perbaiki ${L} Data Kosong`]}),(0,q.jsxs)(`button`,{onClick:()=>{O(!0),b(!1)},className:`flex flex-col items-center gap-1 p-3 bg-orange-50 text-orange-700 rounded-lg text-xs font-bold border border-orange-100`,children:[(0,q.jsx)(xb,{size:20}),` Pindah Kelas`]}),(0,q.jsxs)(`button`,{onClick:re,className:`flex flex-col items-center gap-1 p-3 bg-green-50 text-green-700 rounded-lg text-xs font-bold border border-green-100`,children:[(0,q.jsx)(Ub,{size:20}),` Export Data`]}),(0,q.jsxs)(`button`,{onClick:()=>F.current.click(),className:`col-span-2 flex items-center justify-center gap-2 p-3 bg-green-50 text-green-700 rounded-lg text-xs font-bold border border-green-100`,children:[(0,q.jsx)(zx,{size:18}),` Import Excel`]})]}),m&&(0,q.jsx)(DH,{initialData:N,onSubmit:H,onCancel:()=>{h(!1),P(null)},isEditing:!!N}),(0,q.jsx)(kH,{students:ee,isMoveMode:D,selectedIds:k,onSelectOne:V,onView:_,onEdit:te,onDelete:s}),(0,q.jsx)(OH,{students:ee,isMoveMode:D,selectedIds:k,onSelectAll:B,onSelectOne:V,onView:_,onEdit:te,onDelete:s}),R.length>10&&(0,q.jsxs)(`div`,{className:`flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200 mt-4`,children:[(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 font-medium`,children:[`Menampilkan `,(T-1)*10+1,` - `,Math.min(T*10,R.length),` dari `,R.length,` siswa`]}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsx)(`button`,{onClick:()=>E(e=>Math.max(1,e-1)),disabled:T===1,className:`p-2 border rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed`,children:(0,q.jsx)(jb,{size:16})}),(0,q.jsx)(`div`,{className:`flex items-center gap-1`,children:Array.from({length:Math.min(5,z)},(e,t)=>{let n=t+1;return z>5&&T>3&&(n=T-3+t,n>z)?null:(0,q.jsx)(`button`,{onClick:()=>E(n),className:`w-8 h-8 flex items-center justify-center rounded-lg text-xs font-bold transition-colors ${T===n?`bg-blue-600 text-white`:`bg-slate-50 text-slate-600 hover:bg-slate-100`}`,children:n},n)})}),(0,q.jsx)(`button`,{onClick:()=>E(e=>Math.min(z,e+1)),disabled:T===z,className:`p-2 border rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed`,children:(0,q.jsx)(Mb,{size:16})})]})]}),g&&(0,q.jsx)(AH,{student:g,onClose:()=>_(null),pointLogs:n,sanctionRules:r,journals:t})]})},MH=({students:e,journals:t,onAdd:n,onUpdate:r,onDelete:i,settings:a})=>{let[o,s]=(0,y.useState)(`form`),[c,l]=(0,y.useState)([]),[u,d]=(0,y.useState)(``),[f,p]=(0,y.useState)(``),[m,h]=(0,y.useState)(null),[g,_]=(0,y.useState)({date:new Date().toISOString().slice(0,10),time:``,place:``,serviceType:Yx[0],category:Zx[0],skkpd:``,technique:``,description:``,isPrivate:!1,processEval:``,resultEval:``,followUp:`Selesai`}),v=g.serviceType===`Bimbingan Klasikal`,b=(0,y.useMemo)(()=>[...new Set(e.map(e=>e.class))].sort(),[e]),x=e=>{c.find(t=>t.id===e.id)||l([...c,e]),p(``)},S=e=>{l(c.filter(t=>t.id!==e))},C=e=>{d(e),l([])},w=t=>{if(h(t.id),s(`form`),l([]),d(``),_({date:t.date,time:t.time||``,place:t.place||``,serviceType:t.serviceType,category:t.category||Zx[0],skkpd:t.skkpd||``,technique:t.technique||``,description:t.description||``,isPrivate:t.isPrivate||!1,processEval:t.processEval||``,resultEval:t.resultEval||t.result||``,followUp:t.followUp||`Selesai`}),t.serviceType===`Bimbingan Klasikal`)d(t.studentName.replace(`Kelas `,``));else if(t.studentIds&&t.studentIds.length>0)l(e.filter(e=>t.studentIds.includes(e.id)));else if(t.studentId){let n=e.find(e=>e.id===t.studentId);n&&l([n])}},T=()=>{_({date:new Date().toISOString().slice(0,10),description:``,processEval:``,resultEval:``,time:``,place:``,technique:``,category:Zx[0],skkpd:``,isPrivate:!1,serviceType:Yx[0],followUp:`Selesai`}),l([]),d(``),h(null)},E=e=>{if(e.preventDefault(),v&&!u)return alert(`Silakan pilih Kelas Sasaran!`);if(!v&&c.length===0)return alert(`Pilih minimal satu siswa!`);let t={...g,academicYear:a?.academicYear||`2024/2025`,semester:a?.semester||`Ganjil`,studentIds:v?[]:c.map(e=>e.id),studentNames:v?[`Kelas ${u}`]:c.map(e=>e.name),studentName:v?`Kelas ${u}`:c.length===1?c[0].name:`${c.length} Siswa`,targetClass:v?u:``};m?r({id:m,...t}):n(t),T(),window.innerWidth<768&&s(`history`)},D=e.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())&&!c.find(t=>t.id===e.id));return(0,q.jsxs)(`div`,{className:`flex flex-col h-full bg-slate-100 md:flex-row md:overflow-hidden relative`,children:[(0,q.jsxs)(`div`,{className:`md:hidden bg-white border-b sticky top-0 z-20 flex shadow-sm`,children:[(0,q.jsxs)(`button`,{onClick:()=>s(`form`),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-colors ${o===`form`?`border-blue-600 text-blue-600 bg-blue-50`:`border-transparent text-slate-500`}`,children:[(0,q.jsx)(Nx,{size:18}),` Input`]}),(0,q.jsxs)(`button`,{onClick:()=>s(`history`),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-colors ${o===`history`?`border-blue-600 text-blue-600 bg-blue-50`:`border-transparent text-slate-500`}`,children:[(0,q.jsx)(rx,{size:18}),` Riwayat`]})]}),(0,q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-6 md:w-5/12 lg:w-1/3 md:border-r border-slate-200 bg-white shadow-xl z-10 ${o===`history`?`hidden md:block`:`block`}`,children:[(0,q.jsxs)(`div`,{className:`mb-4`,children:[(0,q.jsxs)(`h2`,{className:`text-xl font-extrabold text-slate-800 flex items-center gap-2 mb-2`,children:[(0,q.jsx)(`div`,{className:`bg-blue-600 text-white p-1.5 rounded-lg`,children:(0,q.jsx)(Cb,{size:20})}),m?`Edit Jurnal`:`Jurnal Baru`]}),(0,q.jsxs)(`div`,{className:`bg-blue-50 text-blue-700 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 border border-blue-100`,children:[(0,q.jsx)(ox,{size:14}),(0,q.jsxs)(`span`,{children:[`Periode Aktif: `,(0,q.jsxs)(`b`,{children:[a?.semester||`Semester ?`,` `,a?.academicYear||``]})]})]})]}),(0,q.jsxs)(`form`,{onSubmit:E,className:`space-y-6 pb-20 md:pb-0`,children:[(0,q.jsxs)(`div`,{className:`bg-blue-50/60 p-5 rounded-2xl border border-blue-100 space-y-4`,children:[(0,q.jsxs)(`h3`,{className:`text-xs font-bold text-blue-600 uppercase tracking-wider flex items-center gap-2 mb-1`,children:[(0,q.jsx)(zb,{size:14}),` Waktu & Tempat`]}),(0,q.jsxs)(`div`,{className:`flex gap-4`,children:[(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Tanggal`}),(0,q.jsx)(`input`,{type:`date`,className:`w-full p-2.5 border border-blue-200 rounded-xl text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-700`,value:g.date,onChange:e=>_({...g,date:e.target.value}),required:!0})]}),(0,q.jsxs)(`div`,{className:`w-1/3`,children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Jam Ke-`}),(0,q.jsx)(`input`,{type:`text`,className:`w-full p-2.5 border border-blue-200 rounded-xl text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-700`,placeholder:`1-2`,value:g.time,onChange:e=>_({...g,time:e.target.value})})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Tempat Layanan`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(hx,{size:16,className:`absolute left-3 top-3 text-blue-400`}),(0,q.jsx)(`input`,{className:`w-full pl-9 p-2.5 border border-blue-200 rounded-xl text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-700`,placeholder:`R. BK / Kelas`,value:g.place,onChange:e=>_({...g,place:e.target.value})})]})]})]}),(0,q.jsxs)(`div`,{className:`bg-purple-50/60 p-5 rounded-2xl border border-purple-100 space-y-4`,children:[(0,q.jsxs)(`h3`,{className:`text-xs font-bold text-purple-600 uppercase tracking-wider flex items-center gap-2 mb-1`,children:[(0,q.jsx)(Px,{size:14}),` Jenis & Sasaran`]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Jenis Layanan`}),(0,q.jsx)(`select`,{className:`w-full p-2.5 border border-purple-200 rounded-xl text-sm font-bold text-purple-700 bg-white focus:ring-2 focus:ring-purple-500 outline-none cursor-pointer`,value:g.serviceType,onChange:e=>{_({...g,serviceType:e.target.value}),l([]),d(``)},children:Yx.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))})]}),(0,q.jsxs)(`div`,{className:`bg-white p-3 rounded-xl border border-purple-200 shadow-sm`,children:[(0,q.jsxs)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-2 block flex justify-between`,children:[v?`Pilih Kelas (Klasikal)`:`Cari Siswa / Konseli`,(0,q.jsx)(`span`,{className:`text-purple-600 bg-purple-100 px-2 rounded-full text-[10px]`,children:v?u||`-`:c.length})]}),v?(0,q.jsxs)(`select`,{className:`w-full p-2 border border-slate-300 rounded-lg text-sm bg-slate-50 font-bold text-slate-800 focus:ring-2 focus:ring-purple-500`,onChange:e=>C(e.target.value),value:u,children:[(0,q.jsx)(`option`,{value:``,children:`-- Pilih Kelas --`}),b.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`div`,{className:`relative mb-2`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:16}),(0,q.jsx)(`input`,{className:`w-full pl-9 p-2.5 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:`Ketik nama siswa...`,value:f,onChange:e=>p(e.target.value)}),f&&(0,q.jsxs)(`div`,{className:`absolute z-10 w-full bg-white border shadow-xl max-h-48 overflow-y-auto mt-1 rounded-lg`,children:[D.map(e=>(0,q.jsxs)(`div`,{onClick:()=>x(e),className:`p-3 hover:bg-purple-50 cursor-pointer text-sm border-b flex justify-between items-center group`,children:[(0,q.jsxs)(`span`,{children:[e.name,` `,(0,q.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[`(`,e.class,`)`]})]}),(0,q.jsx)(xx,{size:14,className:`text-purple-500 opacity-0 group-hover:opacity-100`})]},e.id)),D.length===0&&(0,q.jsx)(`div`,{className:`p-3 text-xs text-slate-400`,children:`Siswa tidak ditemukan`})]})]}),(0,q.jsxs)(`div`,{className:`flex flex-wrap gap-1.5 max-h-32 overflow-y-auto`,children:[c.map(e=>(0,q.jsxs)(`span`,{className:`bg-purple-50 border border-purple-100 text-purple-700 px-2.5 py-1 rounded-full text-xs flex items-center gap-1 font-bold`,children:[e.name,(0,q.jsx)(`button`,{type:`button`,onClick:()=>S(e.id),className:`text-purple-400 hover:text-red-500`,children:(0,q.jsx)(Gx,{size:12})})]},e.id)),c.length===0&&(0,q.jsx)(`span`,{className:`text-xs text-slate-400 italic p-1`,children:`Belum ada siswa dipilih.`})]})]})]})]}),(0,q.jsxs)(`div`,{className:`space-y-4 pt-2`,children:[(0,q.jsx)(NH,{label:`Topik / Masalah`,icon:(0,q.jsx)(Xb,{size:14}),value:g.description,onChange:e=>_({...g,description:e.target.value}),textarea:!0,placeholder:`Uraikan topik atau masalah...`}),(0,q.jsxs)(`div`,{className:`p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex items-start gap-3`,children:[(0,q.jsx)(`div`,{className:`pt-0.5`,children:(0,q.jsx)(`input`,{type:`checkbox`,id:`privacyCheck`,className:`w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300 cursor-pointer`,checked:g.isPrivate,onChange:e=>_({...g,isPrivate:e.target.checked})})}),(0,q.jsxs)(`label`,{htmlFor:`privacyCheck`,className:`cursor-pointer select-none`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-2 font-bold text-slate-800 text-sm`,children:[(0,q.jsx)(Mx,{size:16,className:`text-yellow-600`}),`Tandai sebagai Bimbingan Privasi`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 mt-1 leading-relaxed`,children:`Topik layanan akan disembunyikan saat fitur "Samarkan Topik" diaktifkan pada dokumen.`})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,q.jsx)(PH,{label:`Kategori`,value:g.category,onChange:e=>_({...g,category:e.target.value}),options:Zx}),(0,q.jsx)(PH,{label:`Bidang Bimbingan`,value:g.skkpd,onChange:e=>_({...g,skkpd:e.target.value}),options:Xx,placeholder:`-- Pilih --`})]}),(0,q.jsx)(PH,{label:`Teknik Konseling`,icon:(0,q.jsx)(tx,{size:14}),value:g.technique,onChange:e=>_({...g,technique:e.target.value}),options:Qx,placeholder:`-- Pilih Teknik --`}),(0,q.jsxs)(`div`,{className:`bg-teal-50/60 p-5 rounded-2xl border border-teal-100 space-y-4 mt-2`,children:[(0,q.jsxs)(`h3`,{className:`text-xs font-bold text-teal-700 uppercase tracking-wider flex items-center gap-2 mb-1`,children:[(0,q.jsx)(yb,{size:14}),` Evaluasi & Tindak Lanjut`]}),(0,q.jsx)(NH,{label:`Evaluasi Proses`,value:g.processEval,onChange:e=>_({...g,processEval:e.target.value}),textarea:!0,rows:2,placeholder:`Respon siswa...`,customBorder:`border-teal-200 focus:ring-teal-500`}),(0,q.jsx)(NH,{label:`Evaluasi Hasil`,value:g.resultEval,onChange:e=>_({...g,resultEval:e.target.value}),textarea:!0,rows:2,placeholder:`Pemahaman baru...`,customBorder:`border-teal-200 focus:ring-teal-500`}),(0,q.jsxs)(`div`,{className:`pt-1`,children:[(0,q.jsx)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 block`,children:`Status Akhir`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-teal-300 rounded-xl text-sm font-bold text-teal-800 bg-white`,value:g.followUp,onChange:e=>_({...g,followUp:e.target.value}),children:[(0,q.jsx)(`option`,{value:`Masalah Selesai`,children:`Masalah Selesai`}),(0,q.jsx)(`option`,{value:`Perlu Pantauan Berkala`,children:`Perlu Pantauan Berkala`}),(0,q.jsx)(`option`,{value:`Konseling Lanjutan`,children:`Jadwalkan Konseling Lanjutan`}),(0,q.jsx)(`option`,{value:`Konferensi Kasus`,children:`Konferensi Kasus`}),(0,q.jsx)(`option`,{value:`Alih Tangan Kasus`,children:`Alih Tangan Kasus`})]})]})]})]}),(0,q.jsxs)(`div`,{className:`sticky bottom-0 bg-white/95 backdrop-blur pt-4 pb-2 border-t border-slate-100 flex gap-3 z-10`,children:[m&&(0,q.jsx)(`button`,{type:`button`,onClick:T,className:`px-4 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200`,children:`Batal`}),(0,q.jsx)(`button`,{type:`submit`,className:`flex-1 py-3.5 rounded-xl font-bold flex justify-center items-center gap-2 shadow-lg text-white transition-transform active:scale-95 ${m?`bg-orange-600 shadow-orange-200 hover:bg-orange-700`:`bg-blue-600 shadow-blue-200 hover:bg-blue-700`}`,children:m?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ex,{size:18}),` Update Jurnal`]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Dx,{size:18}),` Simpan Jurnal`]})})]})]})]}),(0,q.jsxs)(`div`,{className:`flex-1 overflow-y-auto bg-slate-50 p-4 md:p-6 md:w-7/12 lg:w-2/3 ${o===`form`?`hidden md:block`:`block`}`,children:[(0,q.jsx)(`div`,{className:`flex justify-between items-end mb-6`,children:(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h2`,{className:`text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(rx,{className:`text-blue-600`}),` Riwayat Jurnal`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 mt-1`,children:`Daftar aktivitas layanan yang telah tersimpan.`})]})}),(0,q.jsxs)(`div`,{className:`space-y-4 pb-24 md:pb-10`,children:[t.sort((e,t)=>(t.createdAt?.seconds||0)-(e.createdAt?.seconds||0)).map(e=>(0,q.jsxs)(`div`,{className:`bg-white border rounded-2xl p-5 transition-all hover:shadow-lg hover:border-blue-200 group relative ${m===e.id?`border-orange-400 bg-orange-50 ring-1 ring-orange-200`:`border-slate-200`}`,children:[(0,q.jsxs)(`div`,{className:`absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity`,children:[(0,q.jsx)(`button`,{onClick:()=>w(e),className:`p-2 rounded-full text-blue-400 hover:text-white hover:bg-blue-600 transition-colors shadow-sm bg-slate-50 border border-slate-100`,children:(0,q.jsx)(Nx,{size:16})}),(0,q.jsx)(`button`,{onClick:()=>i(e.id),className:`p-2 rounded-full text-red-400 hover:text-white hover:bg-red-600 transition-colors shadow-sm bg-slate-50 border border-slate-100`,children:(0,q.jsx)(Fx,{size:16})})]}),(0,q.jsxs)(`div`,{className:`flex items-center gap-2 mb-3`,children:[(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-500 flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-md`,children:[(0,q.jsx)(Ob,{size:12}),` `,cS(e.date)]}),(0,q.jsx)(`span`,{className:`text-[10px] font-extrabold px-2 py-1 rounded-md uppercase tracking-wide ${e.serviceType?.includes(`Klasikal`)?`bg-purple-100 text-purple-700`:`bg-blue-100 text-blue-700`}`,children:e.serviceType}),e.isPrivate&&(0,q.jsx)(fx,{size:12,className:`text-red-500`})]}),(0,q.jsx)(`h4`,{className:`font-bold text-slate-800 mb-2 line-clamp-1 text-lg`,children:e.studentName}),(0,q.jsx)(`div`,{className:`bg-slate-50 p-3 rounded-xl border border-slate-100 mb-4`,children:(0,q.jsxs)(`p`,{className:`text-sm text-slate-600 italic line-clamp-2`,children:[`"`,e.description,`"`]})}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 text-xs text-slate-500 border-t pt-3 mt-auto`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`span`,{className:`font-bold block text-slate-400 text-[10px] uppercase mb-0.5`,children:`Teknik & Bidang`}),(0,q.jsxs)(`span`,{className:`bg-slate-100 px-1.5 py-0.5 rounded text-slate-600`,children:[e.technique||`-`,`  `,e.skkpd||`-`]})]}),(0,q.jsxs)(`div`,{className:`text-right`,children:[(0,q.jsx)(`span`,{className:`block font-bold text-slate-400 text-[10px] uppercase mb-0.5`,children:`Status Akhir`}),(0,q.jsxs)(`span`,{className:`inline-flex items-center justify-end gap-1 px-2 py-0.5 rounded-full font-bold ${e.followUp===`Selesai`?`bg-green-100 text-green-700`:`bg-orange-100 text-orange-700`}`,children:[e.followUp===`Selesai`&&(0,q.jsx)(Ib,{size:12}),e.followUp]})]})]})]},e.id)),t.length===0&&(0,q.jsxs)(`div`,{className:`text-center py-20 opacity-50`,children:[(0,q.jsx)(Rb,{size:64,className:`mx-auto mb-4 text-slate-300`}),(0,q.jsx)(`p`,{className:`text-base font-medium text-slate-400`,children:`Belum ada jurnal tersimpan.`})]})]}),(0,q.jsx)(`button`,{onClick:()=>s(`form`),className:`md:hidden fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-2xl flex items-center justify-center hover:bg-blue-700 transition-transform active:scale-95 z-30 ring-4 ring-blue-50`,children:(0,q.jsx)(xx,{size:28})})]})]})},NH=({label:e,icon:t,value:n,onChange:r,placeholder:i,textarea:a,rows:o=3,customBorder:s})=>(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 flex items-center gap-1.5`,children:[t&&(0,q.jsx)(`span`,{className:`text-blue-500`,children:t}),` `,e]}),a?(0,q.jsx)(`textarea`,{className:`w-full p-3 border rounded-xl text-sm bg-white focus:ring-2 outline-none transition-all ${s||`border-slate-300 focus:ring-blue-500`}`,rows:o,placeholder:i,value:n,onChange:r}):(0,q.jsx)(`input`,{className:`w-full p-3 border rounded-xl text-sm bg-white focus:ring-2 outline-none transition-all ${s||`border-slate-300 focus:ring-blue-500`}`,placeholder:i,value:n,onChange:r})]}),PH=({label:e,icon:t,value:n,onChange:r,options:i,placeholder:a})=>(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsxs)(`label`,{className:`text-[11px] font-bold text-slate-500 uppercase mb-1 flex items-center gap-1.5`,children:[t&&(0,q.jsx)(`span`,{className:`text-purple-500`,children:t}),` `,e]}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-slate-300 rounded-xl text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none cursor-pointer text-slate-700`,value:n,onChange:r,children:[a&&(0,q.jsx)(`option`,{value:``,children:a}),i.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))]})]}),FH=MH,IH=({isOpen:e,onClose:t,title:n,children:r})=>e?(0,v.createPortal)((0,q.jsxs)(`div`,{className:`fixed inset-0 z-[9999] bg-slate-900/95 flex flex-col animate-in fade-in duration-200 backdrop-blur-sm print:bg-white print:static`,children:[(0,q.jsx)(`style`,{children:`
                @media print {
                    @page { size: auto; margin: 10mm; }
                    #root, .app-container, header, aside, nav { display: none !important; }
                    html, body { height: auto !important; overflow: visible !important; background-color: white !important; margin: 0 !important; padding: 0 !important; }
                    .print-portal-root { display: block !important; position: absolute !important; top: 0 !important; left: 0 !important; width: 100% !important; height: auto !important; z-index: 9999 !important; background-color: white !important; }
                    .print-paper-content { box-shadow: none !important; border: none !important; margin: 0 !important; padding: 0 !important; width: 100% !important; max-width: none !important; }
                    .print-header-actions { display: none !important; }
                    .no-break { page-break-inside: avoid; }
                    table { width: 100% !important; border-collapse: collapse !important; }
                    tr { page-break-inside: avoid; }
                    td, th { border: 1px solid black !important; padding: 4px; color: black !important; }
                    .signature-section { page-break-inside: avoid; }
                }
            `}),(0,q.jsxs)(`div`,{className:`bg-slate-800 text-white px-4 py-3 shadow-md flex justify-between items-center flex-shrink-0 border-b border-slate-700 print-header-actions`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h2`,{className:`text-lg font-bold flex items-center gap-2 text-white`,children:[(0,q.jsx)(Cx,{size:20,className:`text-blue-400`}),` Pratinjau: `,n]}),(0,q.jsx)(`p`,{className:`text-[10px] text-slate-400 hidden sm:block`,children:`Gunakan kertas A4/F4 pada pengaturan printer.`})]}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsx)(`button`,{onClick:t,className:`px-4 py-2 rounded-lg text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-700 transition-colors`,children:`Tutup`}),(0,q.jsxs)(`button`,{onClick:()=>window.print(),className:`bg-blue-600 hover:bg-blue-500 text-white px-5 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg hover:shadow-blue-500/20 transition-all active:scale-95`,children:[(0,q.jsx)(Cx,{size:16}),` Cetak Sekarang`]})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-8 flex justify-center bg-slate-900/50 print:bg-white print:p-0 print:overflow-visible print-portal-root`,children:(0,q.jsx)(`div`,{className:`print-paper-content bg-white text-slate-900 shadow-2xl w-full max-w-[215mm] min-h-[297mm] p-10 md:p-14 origin-top h-fit mx-auto`,children:r})})]}),document.body):null,LH=({journals:e,students:t,settings:n})=>{let[r,i]=(0,y.useState)(`journal`),[a,o]=(0,y.useState)(!1),[s,c]=(0,y.useState)(new Date().toISOString().slice(0,7)),[l,u]=(0,y.useState)(n?.semester||`Ganjil`),[d,f]=(0,y.useState)(n?.academicYear||`2024/2025`),[p,m]=(0,y.useState)(``),[h,g]=(0,y.useState)(``),[_,v]=(0,y.useState)(``),[b,x]=(0,y.useState)(!1),[S,C]=(0,y.useState)(``),[w,T]=(0,y.useState)(`month`),[E,D]=(0,y.useState)(new Date().toISOString().slice(0,7)),[O,k]=(0,y.useState)(``),[A,j]=(0,y.useState)(`all`),[M,N]=(0,y.useState)(``),P=(0,y.useMemo)(()=>[...new Set(t.map(e=>e.class))].sort(),[t]),F=(0,y.useMemo)(()=>_?t.filter(e=>e.name.toLowerCase().includes(_.toLowerCase())).slice(0,10):[],[t,_]),I=(0,y.useMemo)(()=>e.filter(e=>{let t=!0;w===`month`&&(t=e.date.startsWith(E)),w===`year`&&(t=e.date.startsWith(E.slice(0,4)));let n=O.toLowerCase(),r=!O||e.serviceType.toLowerCase().includes(n)||e.description.toLowerCase().includes(n);return t&&r}).sort((e,t)=>t.date.localeCompare(e.date)),[e,w,E,O]),L=[{id:`journal`,label:`Jurnal Bulanan`,icon:Cb,desc:`Laporan aktivitas harian`},{id:`classReport`,label:`Laporan Klasikal`,icon:Ux,desc:`Rekap bimbingan kelas`},{id:`individual`,label:`Rekam Jejak`,icon:Xb,desc:`History layanan per siswa`},{id:`riskMap`,label:`Peta Kerawanan`,icon:gx,desc:`Analisis tingkat resiko`},{id:`serviceProof`,label:`Bukti Layanan`,icon:qb,desc:`Dokumen fisik (LPL)`}],R=()=>{switch(r){case`journal`:return(0,q.jsx)(RH,{journals:e,month:s,semester:l,year:d,settings:n});case`classReport`:return(0,q.jsx)(zH,{journals:e,month:s,semester:l,year:d,filterClass:p,settings:n});case`individual`:return(0,q.jsx)(BH,{journals:e,students:t,studentId:h,settings:n});case`riskMap`:return(0,q.jsx)(VH,{students:t,year:d,settings:n,filterRisk:A,filterRiskClass:M});case`serviceProof`:return(0,q.jsx)(HH,{journals:e,journalId:S,settings:n});default:return null}},z=()=>(0,q.jsx)(`div`,{className:`space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300`,children:(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200`,children:[(0,q.jsxs)(`div`,{className:`border-b pb-4 mb-4`,children:[(0,q.jsx)(`h2`,{className:`text-lg font-bold text-slate-800`,children:L.find(e=>e.id===r)?.label}),(0,q.jsx)(`p`,{className:`text-sm text-slate-500`,children:`Atur filter data sebelum mencetak dokumen.`})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 gap-6 mb-6`,children:[(r===`journal`||r===`classReport`)&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Periode Bulan`}),(0,q.jsx)(`input`,{type:`month`,className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50`,value:s,onChange:e=>c(e.target.value)})]}),r===`classReport`&&(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Filter Kelas (Opsional)`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50`,value:p,onChange:e=>m(e.target.value),children:[(0,q.jsx)(`option`,{value:``,children:`-- Semua Kelas --`}),P.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Semester`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50`,value:l,onChange:e=>u(e.target.value),children:[(0,q.jsx)(`option`,{value:`Ganjil`,children:`Ganjil`}),(0,q.jsx)(`option`,{value:`Genap`,children:`Genap`})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Tahun`}),(0,q.jsx)(`input`,{className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50`,value:d,onChange:e=>f(e.target.value)})]})]})]}),r===`individual`&&(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Cari Nama Siswa`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:16}),(0,q.jsx)(`input`,{type:`text`,className:`w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none`,placeholder:`Ketik nama siswa...`,value:_,onChange:e=>{v(e.target.value),x(!0),g(``)},onFocus:()=>x(!0)}),h&&(0,q.jsx)(`button`,{onClick:()=>{g(``),v(``)},className:`absolute right-3 top-2.5 text-slate-400 hover:text-red-500`,children:(0,q.jsx)(Gx,{size:16})})]}),b&&_&&!h&&(0,q.jsx)(`div`,{className:`absolute z-10 w-full bg-white border border-slate-200 rounded-lg shadow-xl mt-1 max-h-48 overflow-y-auto`,children:F.length>0?F.map(e=>(0,q.jsxs)(`div`,{className:`px-4 py-2 hover:bg-blue-50 cursor-pointer text-sm border-b last:border-0`,onClick:()=>{g(e.id),v(`${e.name} (${e.class})`),x(!1)},children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-700`,children:e.name}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500`,children:[e.class,` | `,e.nisn]})]},e.id)):(0,q.jsx)(`div`,{className:`p-3 text-sm text-slate-400 text-center`,children:`Siswa tidak ditemukan`})})]}),r===`serviceProof`&&(0,q.jsxs)(`div`,{className:`space-y-4`,children:[(0,q.jsx)(`div`,{className:`flex bg-slate-100 p-1 rounded-lg`,children:[`all`,`month`,`year`].map(e=>(0,q.jsx)(`button`,{onClick:()=>T(e),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${w===e?`bg-white text-blue-600 shadow-sm`:`text-slate-500 hover:text-slate-700`}`,children:e===`all`?`Semua`:e===`month`?`Bulan`:`Tahun`},e))}),w!==`all`&&(0,q.jsx)(`div`,{children:(0,q.jsx)(`input`,{type:w===`month`?`month`:`number`,placeholder:w===`year`?`YYYY`:``,className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm`,value:E,onChange:e=>D(e.target.value)})}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:16}),(0,q.jsx)(`input`,{type:`text`,className:`w-full pl-10 p-2.5 border border-slate-300 rounded-lg text-sm`,placeholder:`Cari kegiatan (Klasikal, Individu...)`,value:O,onChange:e=>k(e.target.value)})]}),(0,q.jsx)(`div`,{className:`border border-slate-200 rounded-lg max-h-60 overflow-y-auto bg-slate-50`,children:I.length>0?I.map(e=>(0,q.jsxs)(`div`,{onClick:()=>C(e.id),className:`p-3 border-b last:border-0 cursor-pointer transition-colors ${S===e.id?`bg-blue-100 border-blue-200`:`hover:bg-white`}`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-center mb-1`,children:[(0,q.jsx)(`span`,{className:`text-[10px] font-bold bg-white border px-1.5 rounded text-slate-600`,children:cS(e.date)}),(0,q.jsx)(`span`,{className:`text-[10px] text-slate-400`,children:e.serviceType})]}),(0,q.jsx)(`div`,{className:`text-xs font-bold text-slate-700 line-clamp-1`,children:e.studentName}),(0,q.jsx)(`div`,{className:`text-[10px] text-slate-500 italic line-clamp-1`,children:e.description})]},e.id)):(0,q.jsx)(`div`,{className:`p-4 text-center text-xs text-slate-400`,children:`Data jurnal tidak ditemukan.`})})]}),r===`riskMap`&&(0,q.jsxs)(`div`,{className:`space-y-4`,children:[(0,q.jsx)(`div`,{className:`bg-blue-50 text-blue-700 p-3 rounded text-sm`,children:`Dokumen ini akan mencetak data siswa yang dikelompokkan per kelas dan diurutkan berdasarkan kerawanan.`}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Filter Tingkat Kerawanan`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50`,value:A,onChange:e=>j(e.target.value),children:[(0,q.jsx)(`option`,{value:`all`,children:`Semua Level`}),(0,q.jsx)(`option`,{value:`High`,children:`Tinggi (High)`}),(0,q.jsx)(`option`,{value:`Medium`,children:`Sedang (Medium)`}),(0,q.jsx)(`option`,{value:`Low`,children:`Rendah (Low)`})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase block mb-1`,children:`Filter Kelas`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50`,value:M,onChange:e=>N(e.target.value),children:[(0,q.jsx)(`option`,{value:``,children:`-- Semua Kelas --`}),P.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))]})]})]})]}),(0,q.jsx)(`div`,{className:`pt-4 border-t flex justify-end`,children:r===`individual`&&!h||r===`serviceProof`&&!S?(0,q.jsxs)(`button`,{disabled:!0,className:`bg-slate-200 text-slate-400 px-6 py-2.5 rounded-lg font-bold flex items-center gap-2 cursor-not-allowed w-full md:w-auto justify-center`,children:[(0,q.jsx)(Kb,{size:18}),` Lengkapi Filter`]}):(0,q.jsxs)(`button`,{onClick:()=>o(!0),className:`bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-bold flex items-center gap-2 shadow-lg transition-transform active:scale-95 w-full md:w-auto justify-center`,children:[(0,q.jsx)(Kb,{size:18}),` Lihat Pratinjau & Cetak`]})})]})});return(0,q.jsxs)(`div`,{className:`flex flex-col h-full bg-slate-50`,children:[(0,q.jsx)(`div`,{className:`bg-white border-b px-4 md:px-6 py-4 flex justify-between items-center sticky top-0 z-10 shadow-sm flex-shrink-0`,children:(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-lg md:text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Cx,{className:`text-blue-600`}),` Pusat Laporan`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 mt-1 hidden md:block`,children:`Kelola dan cetak dokumen administrasi BK.`})]})}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-6 w-full no-scrollbar`,children:(0,q.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,q.jsx)(`div`,{className:`md:hidden space-y-3`,children:L.map(e=>(0,q.jsxs)(`div`,{className:`bg-white rounded-xl border transition-all duration-300 overflow-hidden ${r===e.id?`border-blue-300 shadow-md ring-1 ring-blue-100`:`border-slate-200`}`,children:[(0,q.jsxs)(`button`,{onClick:()=>{i(e.id),g(``),v(``),C(``)},className:`w-full flex items-center justify-between p-4 text-left transition-colors ${r===e.id?`bg-blue-50 text-blue-800`:`text-slate-700 hover:bg-slate-50`}`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`p-2 rounded-full ${r===e.id?`bg-white text-blue-600`:`bg-slate-100 text-slate-500`}`,children:(0,q.jsx)(e.icon,{size:20})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`span`,{className:`font-bold text-sm block`,children:e.label}),(0,q.jsx)(`span`,{className:`text-[10px] opacity-70`,children:e.desc})]})]}),r===e.id?(0,q.jsx)(Ab,{size:20}):(0,q.jsx)(Mb,{size:20,className:`text-slate-400`})]}),r===e.id&&(0,q.jsx)(`div`,{className:`p-4 border-t border-blue-100 bg-slate-50/50`,children:z()})]},e.id))}),(0,q.jsxs)(`div`,{className:`hidden md:flex gap-6 items-start h-full`,children:[(0,q.jsx)(`aside`,{className:`w-72 flex-shrink-0`,children:(0,q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden sticky top-6`,children:[(0,q.jsx)(`div`,{className:`p-4 border-b bg-slate-50`,children:(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider`,children:`Jenis Dokumen`})}),(0,q.jsx)(`nav`,{className:`p-2 space-y-1`,children:L.map(e=>(0,q.jsxs)(`button`,{onClick:()=>{i(e.id),g(``),v(``),C(``)},className:`w-full flex items-center text-left px-3 py-3 rounded-lg transition-all ${r===e.id?`bg-blue-50 text-blue-700 ring-1 ring-blue-200 shadow-sm`:`text-slate-600 hover:bg-slate-50 hover:text-slate-900`}`,children:[(0,q.jsx)(`div`,{className:`p-2 rounded-md mr-3 ${r===e.id?`bg-white text-blue-600`:`bg-slate-100 text-slate-500`}`,children:(0,q.jsx)(e.icon,{size:18})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`div`,{className:`font-bold text-sm`,children:e.label}),(0,q.jsx)(`div`,{className:`text-[10px] opacity-70`,children:e.desc})]}),r===e.id&&(0,q.jsx)(Mb,{size:16,className:`ml-auto text-blue-400`})]},e.id))})]})}),(0,q.jsx)(`main`,{className:`flex-1 w-full`,children:z()})]})]})}),(0,q.jsx)(IH,{isOpen:a,onClose:()=>o(!1),title:`Cetak ${L.find(e=>e.id===r)?.label}`,children:R()})]})},RH=({journals:e,month:t,semester:n,year:r,settings:i})=>{let a=e.filter(e=>e.date.startsWith(t)&&(!e.semester||e.semester===n)&&(!e.academicYear||e.academicYear===r)).sort((e,t)=>e.date.localeCompare(t.date));return(0,q.jsxs)(`div`,{className:`text-sm`,children:[(0,q.jsx)(UH,{settings:i}),(0,q.jsxs)(`div`,{className:`text-center mb-6`,children:[(0,q.jsx)(`h3`,{className:`text-lg font-bold underline uppercase`,children:`JURNAL KEGIATAN BIMBINGAN DAN KONSELING`}),(0,q.jsxs)(`p`,{className:`text-sm mt-1`,children:[`Bulan: `,new Date(t).toLocaleDateString(`id-ID`,{month:`long`,year:`numeric`}),` | Semester: `,n,` `,r]})]}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-gray-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-20`,children:`Hari/Tgl`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Sasaran`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-24`,children:`Layanan`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Kegiatan / Masalah`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Hasil / TL`})]})}),(0,q.jsxs)(`tbody`,{children:[a.map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1 text-center align-top`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top`,children:cS(e.date)}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top`,children:e.studentNames?.join(`, `)||e.studentName}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top`,children:e.serviceType}),(0,q.jsxs)(`td`,{className:`border border-black p-1 align-top text-justify`,children:[e.description,e.technique&&(0,q.jsxs)(`div`,{className:`italic text-[10px] mt-1 text-slate-600`,children:[`Teknik: `,e.technique]})]}),(0,q.jsxs)(`td`,{className:`border border-black p-1 align-top`,children:[e.resultEval||e.result||`-`,(0,q.jsxs)(`div`,{className:`font-bold text-[10px] mt-1`,children:[`TL: `,e.followUp]})]})]},e.id)),a.length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`6`,className:`border border-black p-8 text-center italic`,children:`Tidak ada data jurnal pada periode ini.`})})]})]}),(0,q.jsx)(WH,{settings:i})]})},zH=({journals:e,month:t,semester:n,year:r,filterClass:i,settings:a})=>{let o=e.filter(e=>e.date.startsWith(t)&&e.serviceType===`Bimbingan Klasikal`&&(!e.semester||e.semester===n)&&(!e.academicYear||e.academicYear===r)&&(!i||e.studentName.includes(i)||e.targetClass===i)).sort((e,t)=>e.date.localeCompare(t.date));return(0,q.jsxs)(`div`,{className:`text-sm`,children:[(0,q.jsx)(UH,{settings:a}),(0,q.jsxs)(`div`,{className:`text-center mb-6`,children:[(0,q.jsx)(`h3`,{className:`text-lg font-bold underline uppercase`,children:`LAPORAN LAYANAN KLASIKAL`}),(0,q.jsxs)(`p`,{className:`text-sm mt-1`,children:[`Bulan: `,new Date(t).toLocaleDateString(`id-ID`,{month:`long`,year:`numeric`}),i&&(0,q.jsxs)(`span`,{children:[` | Kelas: `,i]})]})]}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-gray-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-24`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-16`,children:`Kelas`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Topik / Materi`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Evaluasi (Proses & Hasil)`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-24`,children:`TL`})]})}),(0,q.jsxs)(`tbody`,{children:[o.map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1 text-center align-top`,children:t+1}),(0,q.jsxs)(`td`,{className:`border border-black p-1 align-top text-center`,children:[cS(e.date),(0,q.jsx)(`br`,{}),(0,q.jsxs)(`span`,{className:`text-[10px]`,children:[`Jam ke-`,e.time]})]}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top text-center font-bold`,children:e.studentNames?.join(`, `)||e.studentName}),(0,q.jsxs)(`td`,{className:`border border-black p-1 align-top`,children:[(0,q.jsx)(`div`,{className:`font-bold mb-1`,children:e.description}),(0,q.jsxs)(`div`,{className:`text-[10px] italic`,children:[`Bidang: `,e.skkpd]})]}),(0,q.jsxs)(`td`,{className:`border border-black p-1 align-top text-justify`,children:[(0,q.jsxs)(`div`,{className:`mb-1`,children:[(0,q.jsx)(`strong`,{children:`P:`}),` `,e.processEval||`-`]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`strong`,{children:`H:`}),` `,e.resultEval||`-`]})]}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top text-center`,children:e.followUp})]},e.id)),o.length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`6`,className:`border border-black p-8 text-center italic`,children:`Tidak ada data klasikal.`})})]})]}),(0,q.jsx)(WH,{settings:a})]})},BH=({journals:e,students:t,studentId:n,settings:r})=>{let i=t.find(e=>e.id===n);if(!i)return null;let a=e.filter(e=>e.studentIds&&e.studentIds.includes(n)||e.studentId&&e.studentId===n).sort((e,t)=>e.date.localeCompare(t.date));return(0,q.jsxs)(`div`,{className:`text-sm`,children:[(0,q.jsx)(UH,{settings:r}),(0,q.jsx)(`div`,{className:`text-center mb-6`,children:(0,q.jsx)(`h3`,{className:`text-lg font-bold underline uppercase`,children:`REKAM JEJAK LAYANAN SISWA`})}),(0,q.jsx)(`table`,{className:`w-full mb-4 text-sm font-bold`,children:(0,q.jsxs)(`tbody`,{children:[(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`w-32`,children:`Nama Siswa`}),(0,q.jsxs)(`td`,{children:[`: `,i.name]})]}),(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{children:`Kelas / NISN`}),(0,q.jsxs)(`td`,{children:[`: `,i.class,` / `,i.nisn||`-`]})]}),(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{children:`Wali Kelas`}),(0,q.jsx)(`td`,{children:`: -`})]})]})}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-gray-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-24`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-32`,children:`Layanan`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Masalah / Topik`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Hasil / Tindak Lanjut`})]})}),(0,q.jsxs)(`tbody`,{children:[a.map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1 text-center align-top`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top`,children:cS(e.date)}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top`,children:e.serviceType}),(0,q.jsx)(`td`,{className:`border border-black p-1 align-top text-justify`,children:e.description}),(0,q.jsxs)(`td`,{className:`border border-black p-1 align-top`,children:[e.resultEval||e.result||`-`,(0,q.jsxs)(`div`,{className:`font-bold text-[10px] mt-1`,children:[`(`,e.followUp,`)`]})]})]},e.id)),a.length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`5`,className:`border border-black p-8 text-center italic`,children:`Belum ada riwayat layanan.`})})]})]}),(0,q.jsx)(WH,{settings:r})]})},VH=({students:e,year:t,settings:n,filterRisk:r,filterRiskClass:i})=>{let{grouped:a,sortedClassNames:o,totalStudents:s}=(0,y.useMemo)(()=>{let t=e.filter(e=>{let t=r===`all`||(e.riskLevel||`Low`).toLowerCase()===r.toLowerCase(),n=!i||e.class===i;return t&&n}),n={};t.forEach(e=>{let t=e.class||`Tanpa Kelas`;n[t]||(n[t]=[]),n[t].push(e)});let a=Object.keys(n).sort();return a.forEach(e=>{n[e].sort((e,t)=>{let n={HIGH:3,MEDIUM:2,LOW:1};return(n[t.riskLevel||`LOW`]||0)-(n[e.riskLevel||`LOW`]||0)})}),{grouped:n,sortedClassNames:a,totalStudents:t.length}},[e,r,i]);return(0,q.jsxs)(`div`,{className:`text-sm`,children:[(0,q.jsx)(UH,{settings:n}),(0,q.jsxs)(`div`,{className:`text-center mb-6`,children:[(0,q.jsx)(`h3`,{className:`text-lg font-bold underline uppercase`,children:`PETA KERAWANAN SISWA`}),(0,q.jsxs)(`p`,{className:`text-sm mt-1`,children:[`Tahun Ajaran: `,t]}),(0,q.jsxs)(`div`,{className:`text-xs italic text-slate-600 mt-1 flex justify-center gap-2`,children:[(0,q.jsxs)(`span`,{children:[`Level: `,r===`all`?`Semua`:r.toUpperCase()]}),(0,q.jsx)(`span`,{children:`|`}),(0,q.jsxs)(`span`,{children:[`Kelas: `,i||`Semua`]}),(0,q.jsx)(`span`,{children:`|`}),(0,q.jsxs)(`span`,{children:[`Total: `,s,` Siswa`]})]})]}),o.length>0?(0,q.jsx)(`div`,{className:`space-y-6`,children:o.map(e=>(0,q.jsxs)(`div`,{className:`no-break`,children:[(0,q.jsxs)(`div`,{className:`bg-slate-100 border border-black border-b-0 p-1 px-2 font-bold text-xs flex justify-between`,children:[(0,q.jsxs)(`span`,{children:[`KELAS: `,e]}),(0,q.jsxs)(`span`,{children:[a[e].length,` Siswa`]})]}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-gray-50 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Nama Siswa`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-24`,children:`NISN`}),(0,q.jsx)(`th`,{className:`border border-black p-1 w-24`,children:`Tingkat Kerawanan`}),(0,q.jsx)(`th`,{className:`border border-black p-1`,children:`Keterangan / Wali`})]})}),(0,q.jsx)(`tbody`,{children:a[e].map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1 text-center`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1 font-bold`,children:e.name}),(0,q.jsx)(`td`,{className:`border border-black p-1 text-center`,children:e.nisn||`-`}),(0,q.jsx)(`td`,{className:`border border-black p-1 text-center`,children:(0,q.jsx)(`span`,{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${e.riskLevel===`HIGH`?`bg-red-100 text-red-700 border-red-300`:e.riskLevel===`MEDIUM`?`bg-yellow-100 text-yellow-700 border-yellow-300`:`bg-green-100 text-green-700 border-green-300`}`,children:e.riskLevel===`HIGH`?`TINGGI`:e.riskLevel===`MEDIUM`?`SEDANG`:`RENDAH`})}),(0,q.jsxs)(`td`,{className:`border border-black p-1`,children:[e.parent,` `,e.parentPhone?`(${e.parentPhone})`:``]})]},e.id))})]})]},e))}):(0,q.jsx)(`div`,{className:`border border-black p-8 text-center italic`,children:`Tidak ada data siswa yang sesuai filter.`}),(0,q.jsx)(WH,{settings:n})]})},HH=({journals:e,journalId:t,settings:n})=>{let r=e.find(e=>e.id===t);return r?(0,q.jsxs)(`div`,{className:`text-sm`,children:[(0,q.jsx)(UH,{settings:n}),(0,q.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,q.jsx)(`h3`,{className:`text-lg font-bold underline uppercase`,children:`LAPORAN PELAKSANAAN LAYANAN (LPL)`}),(0,q.jsx)(`p`,{className:`font-bold`,children:`BIMBINGAN DAN KONSELING`}),(0,q.jsxs)(`p`,{className:`mt-1 font-bold text-xs`,children:[`Semester: `,r.semester||`-`,` Tahun: `,r.academicYear||`-`]})]}),(0,q.jsxs)(`div`,{className:`space-y-4 text-sm leading-relaxed border border-black p-6`,children:[(0,q.jsxs)(`div`,{className:`grid grid-cols-[180px_10px_1fr] gap-1`,children:[(0,q.jsx)(`div`,{className:`font-bold`,children:`1. Jenis Layanan`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsx)(`div`,{children:r.serviceType}),(0,q.jsx)(`div`,{className:`font-bold`,children:`2. Bidang Bimbingan`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsx)(`div`,{children:r.skkpd||`-`}),(0,q.jsx)(`div`,{className:`font-bold`,children:`3. Topik / Masalah`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsx)(`div`,{children:r.description}),(0,q.jsx)(`div`,{className:`font-bold`,children:`4. Sasaran / Konseli`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsx)(`div`,{children:r.studentNames?.join(`, `)||r.studentName}),(0,q.jsx)(`div`,{className:`font-bold`,children:`5. Hari / Tanggal`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsx)(`div`,{children:cS(r.date)}),(0,q.jsx)(`div`,{className:`font-bold`,children:`6. Waktu / Tempat`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsxs)(`div`,{children:[r.time||`-`,` / `,r.place||`-`]}),(0,q.jsx)(`div`,{className:`font-bold`,children:`7. Teknik Konseling`}),(0,q.jsx)(`div`,{children:`:`}),(0,q.jsx)(`div`,{children:r.technique||`-`})]}),(0,q.jsx)(`hr`,{className:`border-black border-dashed my-4`}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`div`,{className:`font-bold mb-2`,children:`8. Hasil / Evaluasi:`}),(0,q.jsxs)(`div`,{className:`pl-4 border-l-2 border-slate-200`,children:[(0,q.jsxs)(`p`,{className:`mb-2`,children:[(0,q.jsx)(`span`,{className:`font-bold`,children:`Proses:`}),` `,r.processEval||`-`]}),(0,q.jsxs)(`p`,{children:[(0,q.jsx)(`span`,{className:`font-bold`,children:`Hasil:`}),` `,r.resultEval||r.result||`-`]})]})]}),(0,q.jsxs)(`div`,{className:`mt-4`,children:[(0,q.jsx)(`div`,{className:`font-bold mb-2`,children:`9. Tindak Lanjut:`}),(0,q.jsx)(`div`,{className:`pl-4 border-l-2 border-slate-200`,children:r.followUp})]})]}),(0,q.jsx)(WH,{settings:n,dateLabel:`${n?.city||`...`}, ${cS(r.date)}`})]}):null},UH=({settings:e})=>(0,q.jsxs)(`div`,{className:`flex items-center justify-between border-b-4 border-double border-black pb-4 mb-6`,children:[(0,q.jsx)(`div`,{className:`w-20 h-20 flex-shrink-0 flex items-center justify-center`,children:e?.logo&&(0,q.jsx)(`img`,{src:e.logo,className:`h-full object-contain`,alt:`Logo`})}),(0,q.jsxs)(`div`,{className:`flex-1 text-center px-4 min-w-0`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-black text-lg md:text-xl uppercase tracking-wide whitespace-nowrap leading-tight`,children:e?.government||``}),(0,q.jsx)(`h3`,{className:`font-bold text-black text-lg md:text-xl uppercase tracking-wide whitespace-nowrap leading-tight`,children:e?.department||``}),(0,q.jsx)(`h1`,{className:`font-extrabold text-black text-lg md:text-xl uppercase whitespace-nowrap leading-tight my-1`,children:e?.name||`NAMA SEKOLAH`}),(0,q.jsxs)(`div`,{className:`text-xs text-black font-serif italic leading-tight mt-1`,children:[(0,q.jsx)(`p`,{children:e?.address||`Alamat Sekolah...`}),e?.address2&&(0,q.jsx)(`p`,{children:e.address2})]})]}),(0,q.jsx)(`div`,{className:`w-20 h-20 flex-shrink-0 flex items-center justify-center`,children:e?.logo2&&(0,q.jsx)(`img`,{src:e.logo2,className:`h-full object-contain`,alt:`Logo`})})]}),WH=({settings:e,dateLabel:t})=>(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-10 mt-12 text-center text-sm font-serif signature-section`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{children:`Mengetahui,`}),(0,q.jsx)(`p`,{children:`Kepala Sekolah`}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`p`,{className:`font-bold underline`,children:e?.headmaster||`......................`}),(0,q.jsxs)(`p`,{children:[`NIP. `,e?.nipHeadmaster||`......................`]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`p`,{children:[e?.city||`...`,`, `,new Date().toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`})]}),(0,q.jsx)(`p`,{children:`Guru BK / Konselor`}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`p`,{className:`font-bold underline`,children:e?.counselor||`......................`}),(0,q.jsxs)(`p`,{children:[`NIP. `,e?.nipCounselor||`......................`]})]})]}),GH=LH,KH=({settings:e,onSave:t})=>{let[n,r]=(0,y.useState)({academicYear:`2025/2026`,semester:`Ganjil`,logo:``,logo2:``,government:``,department:``,name:``,address:``,address2:``,city:``,principal:``,nipPrincipal:``,counselor:``,nipCounselor:``,studentAffairs:``,nipStudentAffairs:``,...e}),[i,a]=(0,y.useState)(`academic`),[o,s]=(0,y.useState)(!1);(0,y.useEffect)(()=>{e&&r(t=>({...t,...e}))},[e]);let c=e=>r({...n,[e.target.name]:e.target.value}),l=(e,t)=>{let n=e.target.files[0];if(n){if(n.size>2048*1024)return alert(`Ukuran file maksimal 2MB`);let e=new FileReader;e.onloadend=()=>{r(n=>({...n,[t]:e.result}))},e.readAsDataURL(n)}},u=(e,t)=>{r(n=>({...n,[t]:e.target.value}))};return(0,q.jsxs)(`div`,{className:`p-4 md:p-6 bg-slate-50 min-h-screen pb-20`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex justify-between items-center sticky top-0 z-20 mb-6`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Ax,{className:`text-blue-600`}),` Pengaturan Sekolah`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 hidden md:block`,children:`Kelola identitas sekolah dan konfigurasi sistem.`})]}),(0,q.jsxs)(`button`,{onClick:()=>{s(!0),setTimeout(()=>{t(n),s(!1),alert(`Pengaturan berhasil disimpan!`)},600)},disabled:o,className:`bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-bold flex items-center gap-2 shadow-lg shadow-blue-200 transition-all active:scale-95 disabled:opacity-70`,children:[o?(0,q.jsx)(`div`,{className:`w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin`}):(0,q.jsx)(Dx,{size:18}),o?`Menyimpan...`:`Simpan Perubahan`]})]}),(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-6 items-start`,children:[(0,q.jsxs)(`div`,{className:`w-full md:w-72 flex-shrink-0 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden sticky md:top-24 z-10`,children:[(0,q.jsx)(`div`,{className:`p-4 bg-slate-50 border-b border-slate-100`,children:(0,q.jsx)(`h3`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider`,children:`Navigasi Menu`})}),(0,q.jsx)(`div`,{className:`p-2 flex md:flex-col gap-1 overflow-x-auto md:overflow-visible no-scrollbar`,children:[{id:`academic`,label:`Periode Akademik`,icon:Db,desc:`Tahun ajaran dan semester aktif`},{id:`profile`,label:`Profil & Identitas`,icon:Eb,desc:`Nama sekolah, alamat, dan kop surat`},{id:`assets`,label:`Logo & Aset`,icon:ax,desc:`Logo kiri dan kanan pada kop surat`},{id:`officials`,label:`Pejabat Penandatangan`,icon:Yb,desc:`Kepala sekolah, BK, dan Kesiswaan`}].map(e=>(0,q.jsxs)(`button`,{onClick:()=>a(e.id),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-all min-w-[200px] md:min-w-0 ${i===e.id?`bg-blue-50 text-blue-700 shadow-sm ring-1 ring-blue-200`:`text-slate-600 hover:bg-slate-50`}`,children:[(0,q.jsx)(`div`,{className:`p-2 rounded-md ${i===e.id?`bg-white text-blue-600`:`bg-slate-100 text-slate-500`}`,children:(0,q.jsx)(e.icon,{size:18})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`div`,{className:`font-bold text-sm`,children:e.label}),(0,q.jsx)(`div`,{className:`text-[10px] opacity-70 hidden md:block`,children:e.desc})]}),i===e.id&&(0,q.jsx)(Mb,{size:16,className:`ml-auto hidden md:block`})]},e.id))})]}),(0,q.jsxs)(`div`,{className:`flex-1 w-full bg-white rounded-xl shadow-sm border border-slate-200 p-6 md:p-8 animate-in fade-in slide-in-from-bottom-4`,children:[i===`academic`&&(0,q.jsxs)(`div`,{className:`space-y-6`,children:[(0,q.jsx)(qH,{title:`Periode Akademik`,icon:Db,desc:`Tentukan tahun ajaran dan semester aktif saat ini.`}),(0,q.jsxs)(`div`,{className:`bg-yellow-50 p-4 rounded-xl border border-yellow-200 mb-6 text-sm text-yellow-800 flex items-start gap-3`,children:[(0,q.jsx)(ZH,{className:`flex-shrink-0 mt-0.5`,size:18}),(0,q.jsx)(`p`,{children:`Perubahan periode akademik akan mempengaruhi filter default pada semua menu laporan dan input data.`})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`Tahun Pelajaran`}),(0,q.jsx)(`input`,{type:`text`,name:`academicYear`,value:n.academicYear,onChange:c,placeholder:`Contoh: 2025/2026`,className:`w-full p-3 border border-slate-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 outline-none font-bold text-slate-700`})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`Semester Aktif`}),(0,q.jsx)(`div`,{className:`flex bg-slate-100 p-1 rounded-lg`,children:[`Ganjil`,`Genap`].map(e=>(0,q.jsx)(`button`,{onClick:()=>r({...n,semester:e}),className:`flex-1 py-2.5 text-sm font-bold rounded-md transition-all ${n.semester===e?`bg-white text-blue-600 shadow-sm`:`text-slate-500 hover:text-slate-700`}`,children:e},e))})]})]})]}),i===`profile`&&(0,q.jsxs)(`div`,{className:`space-y-6`,children:[(0,q.jsx)(qH,{title:`Profil & Identitas Sekolah`,icon:Eb,desc:`Informasi ini akan tampil pada Kop Surat dokumen.`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,q.jsxs)(`div`,{className:`space-y-4`,children:[(0,q.jsx)(JH,{label:`Pemerintah Provinsi / Daerah`,name:`government`,value:n.government,onChange:c,placeholder:`PEMERINTAH PROVINSI ...`}),(0,q.jsx)(JH,{label:`Nama Dinas / Yayasan`,name:`department`,value:n.department,onChange:c,placeholder:`DINAS PENDIDIKAN`})]}),(0,q.jsx)(`div`,{className:`md:col-span-2`,children:(0,q.jsx)(JH,{label:`Nama Sekolah (Satuan Pendidikan)`,name:`name`,value:n.name,onChange:c,placeholder:`SMK NEGERI 1...`,className:`font-bold text-lg`})}),(0,q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`Alamat Lengkap`}),(0,q.jsx)(`textarea`,{name:`address`,value:n.address,onChange:c,className:`w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm h-24 resize-none transition-all`,placeholder:`Jl. Raya No. 1, Kelurahan...`})]}),(0,q.jsx)(JH,{label:`Info Tambahan (Email/Website)`,name:`address2`,value:n.address2,onChange:c,placeholder:`Telp: 021-xxxx | Email: info@sekolah.sch.id`}),(0,q.jsx)(JH,{label:`Kota / Tempat Penandatanganan Surat`,name:`city`,value:n.city,onChange:c,placeholder:`Contoh: Jakarta`,icon:(0,q.jsx)(hx,{size:14})})]})]}),i===`assets`&&(0,q.jsxs)(`div`,{className:`space-y-8`,children:[(0,q.jsx)(qH,{title:`Logo & Aset Visual`,icon:ax,desc:`Upload logo kiri (Pemda/Yayasan) dan logo kanan (Tut Wuri Handayani).`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-8`,children:[(0,q.jsx)(YH,{label:`Logo Kiri (Pemda/Instansi)`,imageValue:n.logo,onFileChange:e=>l(e,`logo`),onUrlChange:e=>u(e,`logo`),onRemove:()=>r({...n,logo:``})}),(0,q.jsx)(YH,{label:`Logo Kanan (Sekolah/Kemdikbud)`,imageValue:n.logo2,onFileChange:e=>l(e,`logo2`),onUrlChange:e=>u(e,`logo2`),onRemove:()=>r({...n,logo2:``})})]}),(0,q.jsxs)(`div`,{className:`border border-slate-200 rounded-xl overflow-hidden bg-white shadow-sm mt-4`,children:[(0,q.jsxs)(`div`,{className:`bg-slate-50 border-b border-slate-200 px-4 py-3 flex justify-between items-center`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,q.jsx)(Kb,{size:16,className:`text-blue-600`}),(0,q.jsx)(`h3`,{className:`font-bold text-slate-700 text-sm`,children:`Live Preview Kop Surat`})]}),(0,q.jsx)(`span`,{className:`text-[10px] uppercase font-bold text-slate-400 tracking-wider`,children:`Tampilan Cetak`})]}),(0,q.jsxs)(`div`,{className:`p-6 bg-slate-100 overflow-x-auto`,children:[(0,q.jsx)(`div`,{className:`min-w-[700px] w-full bg-white p-8 shadow-md mx-auto`,style:{fontFamily:`Times New Roman, serif`},children:(0,q.jsxs)(`div`,{className:`flex items-center justify-between gap-4 border-b-4 border-double border-black pb-4 mb-2`,children:[(0,q.jsx)(`div`,{className:`w-24 h-24 flex-shrink-0 flex items-center justify-center`,children:n.logo?(0,q.jsx)(`img`,{src:n.logo,alt:`Logo 1`,className:`w-full h-full object-contain`}):(0,q.jsx)(`div`,{className:`w-20 h-20 bg-slate-50 border-2 border-dashed border-slate-200 rounded flex items-center justify-center text-[10px] text-slate-400 text-center p-1 font-sans`,children:`Logo Kiri`})}),(0,q.jsxs)(`div`,{className:`flex-1 text-center text-slate-900`,children:[(0,q.jsx)(`h3`,{className:`text-lg uppercase tracking-wide leading-tight`,children:n.government||(0,q.jsx)(`span`,{className:`text-slate-300 bg-slate-50 px-2 italic text-sm`,children:`Pemprov / Yayasan...`})}),(0,q.jsx)(`h3`,{className:`text-lg font-bold uppercase tracking-wide leading-tight`,children:n.department||(0,q.jsx)(`span`,{className:`text-slate-300 bg-slate-50 px-2 italic text-sm`,children:`Nama Dinas...`})}),(0,q.jsx)(`h2`,{className:`text-2xl font-black uppercase tracking-wider my-1 leading-none`,children:n.name||(0,q.jsx)(`span`,{className:`text-slate-300 bg-slate-50 px-2 italic text-lg`,children:`NAMA SEKOLAH...`})}),(0,q.jsx)(`p`,{className:`text-sm leading-tight`,children:n.address||(0,q.jsx)(`span`,{className:`text-slate-300 bg-slate-50 px-2 italic`,children:`Alamat Lengkap Sekolah...`})}),(0,q.jsx)(`p`,{className:`text-xs italic mt-1 text-slate-600`,children:n.address2||(0,q.jsx)(`span`,{className:`text-slate-300 bg-slate-50 px-2`,children:`Kontak / Email / Website...`})})]}),(0,q.jsx)(`div`,{className:`w-24 h-24 flex-shrink-0 flex items-center justify-center`,children:n.logo2?(0,q.jsx)(`img`,{src:n.logo2,alt:`Logo 2`,className:`w-full h-full object-contain`}):(0,q.jsx)(`div`,{className:`w-20 h-20 bg-slate-50 border-2 border-dashed border-slate-200 rounded flex items-center justify-center text-[10px] text-slate-400 text-center p-1 font-sans`,children:`Logo Kanan`})})]})}),(0,q.jsx)(`p`,{className:`text-center text-xs text-slate-400 mt-4 font-sans`,children:`*Preview ini mensimulasikan tata letak pada dokumen surat resmi.`})]})]})]}),i===`officials`&&(0,q.jsxs)(`div`,{className:`space-y-8`,children:[(0,q.jsx)(qH,{title:`Pejabat Penandatangan`,icon:Yb,desc:`Nama dan NIP pejabat yang bertanda tangan di dokumen.`}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-8`,children:[(0,q.jsx)(XH,{title:`Kepala Sekolah`,role:`Penanggung Jawab Utama`,nameValue:n.principal,nipValue:n.nipPrincipal,onChangeName:e=>r({...n,principal:e.target.value}),onChangeNip:e=>r({...n,nipPrincipal:e.target.value})}),(0,q.jsx)(XH,{title:`Waka Kesiswaan`,role:`Bidang Kesiswaan & Kedisiplinan`,nameValue:n.studentAffairs,nipValue:n.nipStudentAffairs,onChangeName:e=>r({...n,studentAffairs:e.target.value}),onChangeNip:e=>r({...n,nipStudentAffairs:e.target.value})}),(0,q.jsx)(XH,{title:`Guru BK / Konselor`,role:`Bimbingan Konseling`,nameValue:n.counselor,nipValue:n.nipCounselor,onChangeName:e=>r({...n,counselor:e.target.value}),onChangeNip:e=>r({...n,nipCounselor:e.target.value})})]})]})]})]})]})},qH=({title:e,icon:t,desc:n})=>(0,q.jsxs)(`div`,{className:`border-b border-slate-100 pb-4 mb-4`,children:[(0,q.jsxs)(`h2`,{className:`text-lg font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(`div`,{className:`p-2 bg-blue-50 text-blue-600 rounded-lg`,children:(0,q.jsx)(t,{size:20})}),e]}),(0,q.jsx)(`p`,{className:`text-sm text-slate-500 mt-1 ml-11`,children:n})]}),JH=({label:e,name:t,value:n,onChange:r,placeholder:i,className:a,icon:o})=>(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1 flex items-center gap-1`,children:[o,` `,e]}),(0,q.jsx)(`input`,{type:`text`,name:t,value:n||``,onChange:r,placeholder:i,className:`w-full p-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm transition-all ${a}`})]}),YH=({label:e,imageValue:t,onFileChange:n,onUrlChange:r,onRemove:i})=>{let a=t?.startsWith(`data:`);return(0,q.jsxs)(`div`,{className:`space-y-3`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase`,children:e}),t&&(0,q.jsxs)(`button`,{onClick:i,className:`text-[10px] text-red-500 hover:underline flex items-center gap-1`,children:[(0,q.jsx)(Fx,{size:10}),` Hapus`]})]}),(0,q.jsxs)(`div`,{className:`relative w-full h-48 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center bg-slate-50 hover:bg-slate-100 transition-colors group overflow-hidden cursor-pointer`,onClick:()=>!t&&document.getElementById(e).click(),children:[t?(0,q.jsx)(`img`,{src:t,alt:`Preview`,className:`h-full w-full object-contain p-4`,onError:e=>{e.target.src=`https://via.placeholder.com/150?text=Error+Loading`}}):(0,q.jsxs)(`div`,{className:`text-center p-6`,children:[(0,q.jsx)(`div`,{className:`w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-3`,children:(0,q.jsx)(Bb,{size:24})}),(0,q.jsx)(`span`,{className:`text-sm font-bold text-slate-600 block`,children:`Klik untuk Upload File`}),(0,q.jsx)(`span`,{className:`text-xs text-slate-400`,children:`atau tempel URL di bawah`})]}),(0,q.jsx)(`input`,{id:e,type:`file`,accept:`image/*`,onChange:n,className:`hidden`})]}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`,children:(0,q.jsx)(lx,{size:14,className:`text-slate-400`})}),(0,q.jsx)(`input`,{type:`text`,value:a?``:t,onChange:r,placeholder:`Atau tempel URL gambar (https://...)`,className:`w-full pl-9 p-2.5 border border-slate-300 rounded-lg text-xs focus:ring-2 focus:ring-blue-500 outline-none transition-all disabled:bg-slate-100 disabled:text-slate-400`,disabled:a}),a&&(0,q.jsx)(`div`,{className:`absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none`,children:(0,q.jsx)(`span`,{className:`text-[10px] text-green-600 font-bold bg-green-50 px-2 py-0.5 rounded border border-green-100`,children:`File Uploaded`})})]})]})},XH=({title:e,role:t,nameValue:n,nipValue:r,onChangeName:i,onChangeNip:a})=>(0,q.jsxs)(`div`,{className:`p-5 rounded-xl border border-slate-200 bg-slate-50 hover:bg-white hover:shadow-md transition-all group`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,q.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold group-hover:bg-blue-600 group-hover:text-white transition-colors`,children:e.charAt(0)}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h4`,{className:`font-bold text-slate-800`,children:e}),(0,q.jsx)(`p`,{className:`text-[10px] text-slate-500 uppercase font-bold tracking-wider`,children:t})]})]}),(0,q.jsxs)(`div`,{className:`space-y-3`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-[10px] font-bold text-slate-400 uppercase`,children:`Nama Lengkap & Gelar`}),(0,q.jsx)(`input`,{value:n,onChange:i,className:`w-full p-2 border-b border-slate-300 bg-transparent focus:border-blue-500 outline-none font-medium text-slate-700 text-sm`,placeholder:`Nama Pejabat...`})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-[10px] font-bold text-slate-400 uppercase`,children:`NIP / NIY`}),(0,q.jsx)(`input`,{value:r,onChange:a,className:`w-full p-2 border-b border-slate-300 bg-transparent focus:border-blue-500 outline-none font-mono text-slate-600 text-sm`,placeholder:`19xxxxxxxxxx`})]})]})]}),ZH=({size:e,className:t})=>(0,q.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:e,height:e,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:t,children:[(0,q.jsx)(`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z`}),(0,q.jsx)(`path`,{d:`M12 9v4`}),(0,q.jsx)(`path`,{d:`M12 17h.01`})]}),QH=KH,$H=({user:e,onUpdatePassword:t})=>{let[n,r]=(0,y.useState)(e.password||``),[i,a]=(0,y.useState)(e.fullName||``),o=r=>{r.preventDefault(),confirm(`Apakah Anda yakin ingin menyimpan perubahan pada akun ini?`)&&t({id:e.id,password:n,fullName:i})},s=e.accessExpiry&&new Date(e.accessExpiry)<new Date,c=e.accessExpiry?cS(e.accessExpiry):`Permanen (Full Time)`;return(0,q.jsxs)(`div`,{className:`flex flex-col h-full bg-slate-50`,children:[(0,q.jsxs)(`div`,{className:`bg-white border-b px-6 py-4 flex justify-between items-center sticky top-0 z-10 shadow-sm flex-shrink-0`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Vx,{className:`text-blue-600`}),` Profil & Akun Saya`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500 mt-1 hidden md:block`,children:`Kelola informasi pribadi dan keamanan login akun Anda.`})]}),(0,q.jsxs)(`button`,{onClick:o,className:`bg-blue-600 hover:bg-blue-700 text-white px-4 md:px-6 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg transition-transform active:scale-95 text-sm md:text-base`,children:[(0,q.jsx)(Dx,{size:18}),` `,(0,q.jsx)(`span`,{className:`hidden md:inline`,children:`Simpan Perubahan`}),(0,q.jsx)(`span`,{className:`md:hidden`,children:`Simpan`})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-8`,children:(0,q.jsxs)(`div`,{className:`max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8`,children:[(0,q.jsxs)(`div`,{className:`md:col-span-1 space-y-6`,children:[(0,q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden text-center relative group`,children:[(0,q.jsx)(`div`,{className:`h-24 bg-gradient-to-r from-blue-500 to-indigo-600`}),(0,q.jsx)(`div`,{className:`absolute top-12 left-1/2 transform -translate-x-1/2`,children:(0,q.jsx)(`div`,{className:`w-24 h-24 bg-white p-1.5 rounded-full shadow-lg`,children:(0,q.jsx)(`div`,{className:`w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-3xl uppercase`,children:e.fullName?.charAt(0)||`U`})})}),(0,q.jsxs)(`div`,{className:`pt-16 pb-6 px-4`,children:[(0,q.jsx)(`h2`,{className:`text-lg font-bold text-slate-800`,children:e.fullName}),(0,q.jsx)(`div`,{className:`flex justify-center items-center gap-1.5 mt-1`,children:(0,q.jsx)(`span`,{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide ${e.role===`admin`?`bg-purple-100 text-purple-700`:`bg-blue-100 text-blue-700`}`,children:e.role===`admin`?`Administrator`:`Guru BK`})})]})]}),e.role===`guru`&&(0,q.jsxs)(`div`,{className:`rounded-xl border p-4 flex flex-col gap-3 ${s?`bg-red-50 border-red-200`:`bg-white border-slate-200`}`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`p-2 rounded-full ${s?`bg-red-100 text-red-600`:`bg-green-100 text-green-600`}`,children:s?(0,q.jsx)(Lx,{size:20}):(0,q.jsx)(Fb,{size:20})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{className:`text-xs font-bold text-slate-500 uppercase`,children:`Status Akun`}),(0,q.jsx)(`p`,{className:`font-bold ${s?`text-red-700`:`text-green-700`}`,children:s?`Masa Aktif Habis`:`Akun Aktif`})]})]}),(0,q.jsx)(`div`,{className:`border-t border-dashed border-slate-300 pt-3`,children:(0,q.jsxs)(`div`,{className:`flex justify-between text-sm`,children:[(0,q.jsxs)(`span`,{className:`text-slate-500 flex items-center gap-1`,children:[(0,q.jsx)(Ob,{size:14}),` Berlaku Sampai:`]}),(0,q.jsx)(`span`,{className:`font-mono font-bold text-slate-700`,children:c})]})})]})]}),(0,q.jsx)(`div`,{className:`md:col-span-2`,children:(0,q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-slate-200 p-6 md:p-8`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-lg text-slate-800 border-b pb-4 mb-6 flex items-center gap-2`,children:[(0,q.jsx)(Mx,{size:20,className:`text-blue-500`}),` Informasi Login`]}),(0,q.jsxs)(`form`,{onSubmit:o,className:`space-y-6`,children:[(0,q.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,q.jsx)(`label`,{className:`block text-sm font-bold text-slate-700`,children:`Nama Lengkap`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400`,children:(0,q.jsx)(Hx,{size:18})}),(0,q.jsx)(`input`,{className:`w-full pl-10 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all`,value:i,onChange:e=>a(e.target.value),placeholder:`Nama Lengkap Anda`})]}),(0,q.jsx)(`p`,{className:`text-[11px] text-slate-400`,children:`Nama ini akan muncul pada laporan dan dokumen cetak.`})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,q.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,q.jsxs)(`label`,{className:`block text-sm font-bold text-slate-700 flex items-center gap-2`,children:[`Username `,(0,q.jsx)(`span`,{className:`text-[10px] font-normal text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded border`,children:`(Permanen)`})]}),(0,q.jsxs)(`div`,{className:`relative group`,children:[(0,q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400`,children:(0,q.jsx)(fx,{size:18})}),(0,q.jsx)(`input`,{className:`w-full pl-10 p-3 border border-slate-200 bg-slate-50 text-slate-500 rounded-lg font-mono cursor-not-allowed`,value:e.username,disabled:!0}),(0,q.jsx)(`div`,{className:`absolute hidden group-hover:block bottom-full left-0 mb-2 w-max px-2 py-1 bg-black text-white text-xs rounded shadow-lg`,children:`Username tidak dapat diubah`})]})]}),(0,q.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,q.jsx)(`label`,{className:`block text-sm font-bold text-slate-700`,children:`Password Baru`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400`,children:(0,q.jsx)(sx,{size:18})}),(0,q.jsx)(`input`,{className:`w-full pl-10 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all`,value:n,onChange:e=>r(e.target.value),placeholder:`Masukkan password baru`})]}),(0,q.jsx)(`p`,{className:`text-[11px] text-slate-400`,children:`Gunakan kombinasi yang aman. Biarkan sama jika tidak ingin mengubah.`})]})]})]})]})})]})})]})},eU=({isOpen:e,onClose:t,student:n,activeTab:r,setActiveTab:i,masterPoints:a,pointLogs:o,onSubmit:s,onUpdate:c,onDelete:l})=>{let[u,d]=(0,y.useState)({code:``,value:5,description:``,date:new Date().toISOString().slice(0,10)}),[f,p]=(0,y.useState)(null),[m,h]=(0,y.useState)(!1),[g,_]=(0,y.useState)(``),[v,b]=(0,y.useState)(500),x=(0,y.useRef)(null),S=(0,y.useRef)(null),C=(0,y.useRef)(!1);(0,y.useEffect)(()=>{e&&k()},[e,n]),(0,y.useEffect)(()=>{m&&S.current?setTimeout(()=>S.current.focus(),100):_(``)},[m]),(0,y.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&h(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let w=(0,y.useCallback)(e=>{C.current=!0,document.addEventListener(`mousemove`,E),document.addEventListener(`mouseup`,T),document.body.style.cursor=`ew-resize`,e.preventDefault()},[]),T=(0,y.useCallback)(()=>{C.current=!1,document.removeEventListener(`mousemove`,E),document.removeEventListener(`mouseup`,T),document.body.style.cursor=`default`},[]),E=(0,y.useCallback)(e=>{if(!C.current)return;let t=window.innerWidth-e.clientX;t>350&&t<window.innerWidth*.9&&b(t)},[]),D=(0,y.useMemo)(()=>{let e=(a||[]).filter(e=>e.type===r);if(!g)return e;let t=g.toLowerCase();return e.filter(e=>String(e.code).toLowerCase().includes(t)||e.label.toLowerCase().includes(t))},[a,r,g]),O=(0,y.useMemo)(()=>n?(o||[]).filter(e=>e.studentId===n.id).sort((e,t)=>new Date(t.date)-new Date(e.date)):[],[n,o]),k=()=>{d({code:``,value:5,description:``,date:new Date().toISOString().slice(0,10)}),p(null)},A=e=>{let t=`${e.code} - ${e.label}`;d(n=>({...n,code:String(e.code),description:t,value:e.point})),h(!1)},j=e=>{e.type!==r&&i(e.type),p(e.id),d({code:e.code||``,value:e.value,description:e.description,date:e.date})};return!e||!n?null:(0,q.jsxs)(`div`,{className:`fixed inset-0 z-[60] flex justify-end`,children:[(0,q.jsx)(`div`,{className:`absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity`,onClick:t}),(0,q.jsxs)(`div`,{className:`relative h-full bg-white shadow-2xl flex animate-in slide-in-from-right duration-300`,style:{width:`${v}px`},children:[(0,q.jsx)(`div`,{onMouseDown:w,className:`absolute left-0 top-0 bottom-0 w-1.5 bg-slate-200 hover:bg-blue-400 cursor-ew-resize z-10 transition-colors flex items-center justify-center group`,title:`Geser untuk mengubah lebar`,children:(0,q.jsx)(nx,{size:12,className:`text-slate-400 group-hover:text-white opacity-0 group-hover:opacity-100 transition-opacity`})}),(0,q.jsxs)(`div`,{className:`flex-1 flex flex-col h-full border-l border-slate-200 bg-slate-50/50`,children:[(0,q.jsxs)(`div`,{className:`p-6 border-b flex justify-between items-start flex-shrink-0 bg-white ${r===`violation`?`border-red-100`:`border-green-100`}`,children:[(0,q.jsx)(`div`,{children:(0,q.jsxs)(`div`,{className:`flex items-center gap-3 mb-1`,children:[(0,q.jsx)(`div`,{className:`p-2 rounded-lg ${r===`violation`?`bg-red-100 text-red-600`:`bg-green-100 text-green-600`}`,children:f?(0,q.jsx)(Nx,{size:24}):r===`violation`?(0,q.jsx)(Lx,{size:24}):(0,q.jsx)(Rx,{size:24})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h2`,{className:`text-xl font-bold ${r===`violation`?`text-red-700`:`text-green-700`}`,children:f?`Edit Catatan`:r===`violation`?`Catat Pelanggaran`:`Catat Prestasi`}),(0,q.jsx)(`p`,{className:`text-sm text-slate-500 font-medium`,children:`Input data poin siswa ke sistem`})]})]})}),(0,q.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600`,children:(0,q.jsx)(Gx,{size:24})})]}),(0,q.jsxs)(`div`,{className:`px-6 py-4 bg-white border-b border-slate-100 flex items-center justify-between flex-shrink-0`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold text-lg`,children:n.name.charAt(0)}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h3`,{className:`font-bold text-slate-800`,children:n.name}),(0,q.jsxs)(`p`,{className:`text-xs text-slate-500`,children:[n.class,`  `,n.nisn||`No NISN`]})]})]}),(0,q.jsxs)(`div`,{className:`text-right`,children:[(0,q.jsx)(`span`,{className:`text-xs text-slate-400 uppercase font-bold`,children:`Total Poin Net`}),(0,q.jsx)(`div`,{className:`text-xl font-black ${n.netScore>=50?`text-red-600`:n.netScore>=20?`text-orange-500`:`text-blue-600`}`,children:n.netScore})]})]}),(0,q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4`,children:[(0,q.jsx)(`h4`,{className:`text-sm font-bold text-slate-800 uppercase tracking-wide border-b pb-2 mb-4`,children:`Form Input`}),(0,q.jsxs)(`div`,{className:`relative`,ref:x,children:[(0,q.jsxs)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1.5`,children:[`Jenis `,r===`violation`?`Pelanggaran`:`Prestasi`,` `,(0,q.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,q.jsxs)(`div`,{onClick:()=>h(!m),className:`w-full p-3.5 border rounded-xl flex justify-between items-center cursor-pointer transition-all bg-slate-50 hover:bg-white hover:border-blue-400 ${m?`ring-2 ring-blue-500 border-blue-500 bg-white`:`border-slate-300`}`,children:[(0,q.jsx)(`span`,{className:`text-sm font-medium ${u.description?`text-slate-800`:`text-slate-400`} line-clamp-1`,children:u.description||`-- Pilih dari daftar --`}),(0,q.jsx)(Ab,{size:18,className:`text-slate-400 transition-transform ${m?`rotate-180`:``}`})]}),m&&(0,q.jsxs)(`div`,{className:`absolute z-50 mt-2 w-full bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in zoom-in-95 flex flex-col max-h-60`,children:[(0,q.jsx)(`div`,{className:`p-2 border-b bg-slate-50 sticky top-0`,children:(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{size:14,className:`absolute left-3 top-2.5 text-slate-400`}),(0,q.jsx)(`input`,{ref:S,type:`text`,placeholder:`Cari kode atau nama...`,className:`w-full pl-9 pr-3 py-2 text-sm border rounded-lg focus:outline-none focus:border-blue-500 bg-white`,value:g,onChange:e=>_(e.target.value)})]})}),(0,q.jsx)(`div`,{className:`overflow-y-auto flex-1`,children:D.length>0?D.map(e=>(0,q.jsxs)(`div`,{onClick:()=>A(e),className:`p-3 border-b border-slate-50 hover:bg-blue-50 cursor-pointer flex justify-between gap-3 ${u.code===String(e.code)?`bg-blue-50`:``}`,children:[(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsxs)(`span`,{className:`text-[10px] font-bold text-slate-400 block mb-0.5`,children:[`Kode: `,e.code]}),(0,q.jsx)(`p`,{className:`text-sm text-slate-700 font-medium`,children:e.label})]}),(0,q.jsxs)(`div`,{className:`font-bold text-xs px-2 py-1 h-fit rounded ${r===`violation`?`text-red-600 bg-red-100`:`text-green-600 bg-green-100`}`,children:[e.point,` Poin`]})]},e.id)):(0,q.jsx)(`div`,{className:`p-4 text-center text-xs text-slate-400`,children:`Tidak ditemukan.`})})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase mb-1.5 block`,children:`Nilai Poin`}),(0,q.jsx)(`input`,{type:`number`,className:`w-full p-3 border border-slate-300 rounded-xl font-bold text-center focus:ring-2 focus:ring-blue-500 outline-none bg-slate-50`,value:u.value,onChange:e=>d({...u,value:e.target.value})})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500 uppercase mb-1.5 block`,children:`Tanggal Kejadian`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(Ob,{className:`absolute left-3 top-3 text-slate-400`,size:18}),(0,q.jsx)(`input`,{type:`date`,className:`w-full pl-10 pr-3 py-2.5 border border-slate-300 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-slate-50`,value:u.date,onChange:e=>d({...u,date:e.target.value})})]})]})]}),(0,q.jsxs)(`div`,{className:`flex gap-3 pt-4`,children:[f&&(0,q.jsx)(`button`,{onClick:k,className:`px-4 py-3 rounded-xl bg-slate-100 text-slate-600 font-bold text-sm hover:bg-slate-200 transition-colors`,children:`Batal Edit`}),(0,q.jsxs)(`button`,{onClick:()=>{if(!u.code||!u.description){alert(`Harap pilih jenis ${r===`violation`?`pelanggaran`:`prestasi`} terlebih dahulu.`);return}let e={type:r,value:u.value,description:u.description,studentId:n.id,studentName:n.name,class:n.class,date:u.date,code:u.code};f?(c({id:f,...e}),alert(`Data diperbarui!`)):(s(e),alert(`Data tersimpan!`)),k()},className:`flex-1 py-3 rounded-xl text-white font-bold shadow-md flex items-center justify-center gap-2 hover:brightness-110 active:scale-95 transition-all ${f?`bg-orange-500`:r===`violation`?`bg-red-600`:`bg-green-600`}`,children:[f?(0,q.jsx)(Ex,{size:18}):(0,q.jsx)(Lb,{size:18}),f?`Simpan Perubahan`:`Simpan Data`]})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h4`,{className:`text-sm font-bold text-slate-800 uppercase tracking-wide mb-3 flex items-center gap-2`,children:[(0,q.jsx)(zb,{size:16}),` Riwayat Poin Siswa`]}),(0,q.jsxs)(`div`,{className:`space-y-3`,children:[O.map(e=>(0,q.jsxs)(`div`,{className:`bg-white p-4 rounded-xl border shadow-sm transition-all flex gap-3 group ${f===e.id?`border-blue-500 ring-1 ring-blue-500 bg-blue-50/50`:`border-slate-200 hover:border-slate-300`}`,children:[(0,q.jsx)(`div`,{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-1 ${e.type===`violation`?`bg-red-100 text-red-600`:`bg-green-100 text-green-600`}`,children:e.type===`violation`?(0,q.jsx)(Lx,{size:14}):(0,q.jsx)(Rx,{size:14})}),(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`span`,{className:`text-[10px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${e.type===`violation`?`bg-red-50 text-red-700`:`bg-green-50 text-green-700`}`,children:e.type===`violation`?`Pelanggaran`:`Prestasi`}),(0,q.jsx)(`span`,{className:`text-xs text-slate-400 ml-2`,children:e.date})]}),(0,q.jsxs)(`span`,{className:`font-bold text-slate-800 text-sm`,children:[e.value,` Poin`]})]}),(0,q.jsx)(`p`,{className:`text-sm text-slate-700 mt-1 leading-snug font-medium`,children:e.description}),(0,q.jsxs)(`div`,{className:`flex gap-2 mt-2 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity justify-end`,children:[(0,q.jsxs)(`button`,{onClick:()=>j(e),className:`flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 rounded hover:bg-blue-100 transition-colors`,children:[(0,q.jsx)(Nx,{size:12}),` Edit`]}),(0,q.jsxs)(`button`,{onClick:()=>l(e.id),className:`flex items-center gap-1 px-2 py-1 text-xs font-medium text-red-600 bg-red-50 rounded hover:bg-red-100 transition-colors`,children:[(0,q.jsx)(Fx,{size:12}),` Hapus`]})]})]})]},e.id)),O.length===0&&(0,q.jsx)(`div`,{className:`text-center py-8 text-slate-400 bg-white rounded-xl border border-dashed border-slate-200`,children:(0,q.jsx)(`p`,{className:`text-sm`,children:`Belum ada riwayat poin.`})})]})]})]})]})]})]})};function tU(e){"@babel/helpers - typeof";return tU=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},tU(e)}var nU=Uint8Array,rU=Uint16Array,iU=Int32Array,aU=new nU([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oU=new nU([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sU=new nU([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cU=function(e,t){for(var n=new rU(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new iU(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},lU=cU(aU,2),uU=lU.b,dU=lU.r;uU[28]=258,dU[258]=28;var fU=cU(oU,0);fU.b;for(var pU=fU.r,mU=new rU(32768),hU=0;hU<32768;++hU){var gU=(hU&43690)>>1|(hU&21845)<<1;gU=(gU&52428)>>2|(gU&13107)<<2,gU=(gU&61680)>>4|(gU&3855)<<4,mU[hU]=((gU&65280)>>8|(gU&255)<<8)>>1}for(var _U=(function(e,t,n){for(var r=e.length,i=0,a=new rU(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new rU(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new rU(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],u=t-e[i],d=o[e[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)s[mU[d]>>c]=l}else for(s=new rU(r),i=0;i<r;++i)e[i]&&(s[i]=mU[o[e[i]-1]++]>>15-e[i]);return s}),vU=new nU(288),hU=0;hU<144;++hU)vU[hU]=8;for(var hU=144;hU<256;++hU)vU[hU]=9;for(var hU=256;hU<280;++hU)vU[hU]=7;for(var hU=280;hU<288;++hU)vU[hU]=8;for(var yU=new nU(32),hU=0;hU<32;++hU)yU[hU]=5;var bU=_U(vU,9,0),xU=_U(yU,5,0),SU=function(e){return(e+7)/8|0},CU=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new nU(e.subarray(t,n))},wU=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},TU=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},EU=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:NU,l:0};if(i==1){var o=new nU(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],c=n[1],l=0,u=1,d=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=n[n[l].f<n[d].f?l++:d++],c=n[l!=u&&n[l].f<n[d].f?l++:d++],n[u++]={s:-1,f:s.f+c.f,l:s,r:c};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var p=new rU(f+1),m=DU(n[u-1],p,0);if(m>t){var r=0,h=0,g=m-t,_=1<<g;for(a.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var v=a[r].s;if(p[v]>t)h+=_-(1<<m-p[v]),p[v]=t;else break}for(h>>=g;h>0;){var y=a[r].s;p[y]<t?h-=1<<t-p[y]++-1:++r}for(;r>=0&&h;--r){var b=a[r].s;p[b]==t&&(--p[b],++h)}m=t}return{t:new nU(p),l:m}},DU=function(e,t,n){return e.s==-1?Math.max(DU(e.l,t,n+1),DU(e.r,t,n+1)):t[e.s]=n},OU=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new rU(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},kU=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},AU=function(e,t,n){var r=n.length,i=SU(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},jU=function(e,t,n,r,i,a,o,s,c,l,u){wU(t,u++,n),++i[256];for(var d=EU(i,15),f=d.t,p=d.l,m=EU(a,15),h=m.t,g=m.l,_=OU(f),v=_.c,y=_.n,b=OU(h),x=b.c,S=b.n,C=new rU(19),w=0;w<v.length;++w)++C[v[w]&31];for(var w=0;w<x.length;++w)++C[x[w]&31];for(var T=EU(C,7),E=T.t,D=T.l,O=19;O>4&&!E[sU[O-1]];--O);var k=l+5<<3,A=kU(i,vU)+kU(a,yU)+o,j=kU(i,f)+kU(a,h)+o+14+3*O+kU(C,E)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&k<=A&&k<=j)return AU(t,u,e.subarray(c,c+l));var M,N,P,F;if(wU(t,u,1+(j<A)),u+=2,j<A){M=_U(f,p,0),N=f,P=_U(h,g,0),F=h;var I=_U(E,D,0);wU(t,u,y-257),wU(t,u+5,S-1),wU(t,u+10,O-4),u+=14;for(var w=0;w<O;++w)wU(t,u+3*w,E[sU[w]]);u+=3*O;for(var L=[v,x],R=0;R<2;++R)for(var z=L[R],w=0;w<z.length;++w){var ee=z[w]&31;wU(t,u,I[ee]),u+=E[ee],ee>15&&(wU(t,u,z[w]>>5&127),u+=z[w]>>12)}}else M=bU,N=vU,P=xU,F=yU;for(var w=0;w<s;++w){var B=r[w];if(B>255){var ee=B>>18&31;TU(t,u,M[ee+257]),u+=N[ee+257],ee>7&&(wU(t,u,B>>23&31),u+=aU[ee]);var V=B&31;TU(t,u,P[V]),u+=F[V],V>3&&(TU(t,u,B>>5&8191),u+=oU[V])}else TU(t,u,M[B]),u+=N[B]}return TU(t,u,M[256]),u+N[256]},MU=new iU([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NU=new nU(0),PU=function(e,t,n,r,i,a){var o=a.z||e.length,s=new nU(r+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(r,s.length-i),l=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var d=MU[t-1],f=d>>13,p=d&8191,m=(1<<n)-1,h=a.p||new rU(32768),g=a.h||new rU(m+1),_=Math.ceil(n/3),v=2*_,y=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<v)&m},b=new iU(25e3),x=new rU(288),S=new rU(32),C=0,w=0,T=a.i||0,E=0,D=a.w||0,O=0;T+2<o;++T){var k=y(T),A=T&32767,j=g[k];if(h[A]=j,g[k]=A,D<=T){var M=o-T;if((C>7e3||E>24576)&&(M>423||!l)){u=jU(e,c,0,b,x,S,w,E,O,T-O,u),E=C=w=0,O=T;for(var N=0;N<286;++N)x[N]=0;for(var N=0;N<30;++N)S[N]=0}var P=2,F=0,I=p,L=A-j&32767;if(M>2&&k==y(T-L))for(var R=Math.min(f,M)-1,z=Math.min(32767,T),ee=Math.min(258,M);L<=z&&--I&&A!=j;){if(e[T+P]==e[T+P-L]){for(var B=0;B<ee&&e[T+B]==e[T+B-L];++B);if(B>P){if(P=B,F=L,B>R)break;for(var V=Math.min(L,B-2),te=0,N=0;N<V;++N){var H=T-L+N&32767,ne=H-h[H]&32767;ne>te&&(te=ne,j=H)}}}A=j,j=h[A],L+=A-j&32767}if(F){b[E++]=268435456|dU[P]<<18|pU[F];var re=dU[P]&31,ie=pU[F]&31;w+=aU[re]+oU[ie],++x[257+re],++S[ie],D=T+P,++C}else b[E++]=e[T],++x[e[T]]}}for(T=Math.max(T,D);T<o;++T)b[E++]=e[T],++x[e[T]];u=jU(e,c,l,b,x,S,w,E,O,T-O,u),l||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=g,a.p=h,a.i=T,a.w=D)}else{for(var T=a.w||0;T<o+l;T+=65535){var U=T+65535;U>=o&&(c[u/8|0]=l,U=o),u=AU(c,u+1,e.subarray(T,U))}a.i=o}return CU(s,0,r+SU(u)+i)},FU=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},IU=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new nU(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return PU(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},LU=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},RU=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=FU();i.p(t.dictionary),LU(e,2,i.d())}};function zU(e,t){t||={};var n=FU();n.p(e);var r=IU(e,t,t.dictionary?6:2,4);return RU(r,t),LU(r,r.length-4,n.d()),r}var BU=typeof TextDecoder<`u`&&new TextDecoder;try{BU.decode(NU,{stream:!0})}catch{}function VU(e){if(Array.isArray(e))return e}function HU(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function UU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function WU(e,t){if(e){if(typeof e==`string`)return UU(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UU(e,t):void 0}}function GU(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KU(e,t){return VU(e)||HU(e,t)||WU(e,t)||GU()}function qU(e,t=`utf8`){return new TextDecoder(t).decode(e)}var JU=new TextEncoder;function YU(e){return JU.encode(e)}var XU=1024*8,ZU=(()=>{let e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),QU={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},$U=class e{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=XU,n={}){let r=!1;typeof t==`number`?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);let i=n.offset?n.offset>>>0:0,a=t.byteLength-i,o=i;(ArrayBuffer.isView(t)||t instanceof e)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw Error(`Mark stack empty`);return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let t=(this.offset+e)*2,n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,`uint8`)}readArray(e,t){let n=QU[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,i=this.buffer.slice(r,r+n);if(this.littleEndian===ZU&&t!==`uint8`&&t!==`int8`){let e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();let i=new QU[t](e.buffer);return this.offset+=n,i.reverse(),i}let a=new QU[t](i);return this.offset+=n,a}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t=``;for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return qU(this.readBytes(e))}decodeText(e=1,t=`utf8`){return qU(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(YU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}},eW=4,tW=0,nW=1,rW=2;function iW(e){let t=e.length;for(;--t>=0;)e[t]=0}var aW=0,oW=1,sW=2,cW=3,lW=258,uW=29,dW=256,fW=dW+1+uW,pW=30,mW=19,hW=2*fW+1,gW=15,_W=16,vW=7,yW=256,bW=16,xW=17,SW=18,CW=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),wW=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),TW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),EW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DW=512,OW=Array((fW+2)*2);iW(OW);var kW=Array(pW*2);iW(kW);var AW=Array(DW);iW(AW);var jW=Array(lW-cW+1);iW(jW);var MW=Array(uW);iW(MW);var NW=Array(pW);iW(NW);function PW(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var FW,IW,LW;function RW(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}var zW=e=>e<256?AW[e]:AW[256+(e>>>7)],BW=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},VW=(e,t,n)=>{e.bi_valid>_W-n?(e.bi_buf|=t<<e.bi_valid&65535,BW(e,e.bi_buf),e.bi_buf=t>>_W-e.bi_valid,e.bi_valid+=n-_W):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},HW=(e,t,n)=>{VW(e,n[t*2],n[t*2+1])},UW=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},WW=e=>{e.bi_valid===16?(BW(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},GW=(e,t)=>{let n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,d,f,p,m,h=0;for(f=0;f<=gW;f++)e.bl_count[f]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<hW;l++)u=e.heap[l],f=n[n[u*2+1]*2+1]+1,f>c&&(f=c,h++),n[u*2+1]=f,!(u>r)&&(e.bl_count[f]++,p=0,u>=s&&(p=o[u-s]),m=n[u*2],e.opt_len+=m*(f+p),a&&(e.static_len+=m*(i[u*2+1]+p)));if(h!==0){do{for(f=c-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,h-=2}while(h>0);for(f=c;f!==0;f--)for(u=e.bl_count[f];u!==0;)d=e.heap[--l],!(d>r)&&(n[d*2+1]!==f&&(e.opt_len+=(f-n[d*2+1])*n[d*2],n[d*2+1]=f),u--)}},KW=(e,t,n)=>{let r=Array(gW+1),i=0,a,o;for(a=1;a<=gW;a++)i=i+n[a-1]<<1,r[a]=i;for(o=0;o<=t;o++){let t=e[o*2+1];t!==0&&(e[o*2]=UW(r[t]++,t))}},qW=()=>{let e,t,n,r,i,a=Array(gW+1);for(n=0,r=0;r<uW-1;r++)for(MW[r]=n,e=0;e<1<<CW[r];e++)jW[n++]=r;for(jW[n-1]=r,i=0,r=0;r<16;r++)for(NW[r]=i,e=0;e<1<<wW[r];e++)AW[i++]=r;for(i>>=7;r<pW;r++)for(NW[r]=i<<7,e=0;e<1<<wW[r]-7;e++)AW[256+ i++]=r;for(t=0;t<=gW;t++)a[t]=0;for(e=0;e<=143;)OW[e*2+1]=8,e++,a[8]++;for(;e<=255;)OW[e*2+1]=9,e++,a[9]++;for(;e<=279;)OW[e*2+1]=7,e++,a[7]++;for(;e<=287;)OW[e*2+1]=8,e++,a[8]++;for(KW(OW,fW+1,a),e=0;e<pW;e++)kW[e*2+1]=5,kW[e*2]=UW(e,5);FW=new PW(OW,CW,dW+1,fW,gW),IW=new PW(kW,wW,0,pW,gW),LW=new PW([],TW,0,mW,vW)},JW=e=>{let t;for(t=0;t<fW;t++)e.dyn_ltree[t*2]=0;for(t=0;t<pW;t++)e.dyn_dtree[t*2]=0;for(t=0;t<mW;t++)e.bl_tree[t*2]=0;e.dyn_ltree[yW*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},YW=e=>{e.bi_valid>8?BW(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},XW=(e,t,n,r)=>{let i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},ZW=(e,t,n)=>{let r=e.heap[n],i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&XW(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!XW(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},QW=(e,t,n)=>{let r,i,a=0,o,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+ a++]&255,r+=(e.pending_buf[e.sym_buf+ a++]&255)<<8,i=e.pending_buf[e.sym_buf+ a++],r===0?HW(e,i,t):(o=jW[i],HW(e,o+dW+1,t),s=CW[o],s!==0&&(i-=MW[o],VW(e,i,s)),r--,o=zW(r),HW(e,o,n),s=wW[o],s!==0&&(r-=NW[o],VW(e,r,s)));while(a<e.sym_next);HW(e,yW,t)},$W=(e,t)=>{let n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems,o,s,c=-1,l;for(e.heap_len=0,e.heap_max=hW,o=0;o<a;o++)n[o*2]===0?n[o*2+1]=0:(e.heap[++e.heap_len]=c=o,e.depth[o]=0);for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)ZW(e,n,o);l=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ZW(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[l*2]=n[o*2]+n[s*2],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[o*2+1]=n[s*2+1]=l,e.heap[1]=l++,ZW(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],GW(e,t),KW(n,c,e.bl_count)},eG=(e,t,n)=>{let r,i=-1,a,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=o,o=t[(r+1)*2+1],!(++s<c&&a===o)&&(s<l?e.bl_tree[a*2]+=s:a===0?s<=10?e.bl_tree[xW*2]++:e.bl_tree[SW*2]++:(a!==i&&e.bl_tree[a*2]++,e.bl_tree[bW*2]++),s=0,i=a,o===0?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4))},tG=(e,t,n)=>{let r,i=-1,a,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),r=0;r<=n;r++)if(a=o,o=t[(r+1)*2+1],!(++s<c&&a===o)){if(s<l)do HW(e,a,e.bl_tree);while(--s!==0);else a===0?s<=10?(HW(e,xW,e.bl_tree),VW(e,s-3,3)):(HW(e,SW,e.bl_tree),VW(e,s-11,7)):(a!==i&&(HW(e,a,e.bl_tree),s--),HW(e,bW,e.bl_tree),VW(e,s-3,2));s=0,i=a,o===0?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4)}},nG=e=>{let t;for(eG(e,e.dyn_ltree,e.l_desc.max_code),eG(e,e.dyn_dtree,e.d_desc.max_code),$W(e,e.bl_desc),t=mW-1;t>=3&&e.bl_tree[EW[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},rG=(e,t,n,r)=>{let i;for(VW(e,t-257,5),VW(e,n-1,5),VW(e,r-4,4),i=0;i<r;i++)VW(e,e.bl_tree[EW[i]*2+1],3);tG(e,e.dyn_ltree,t-1),tG(e,e.dyn_dtree,n-1)},iG=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return tW;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return nW;for(n=32;n<dW;n++)if(e.dyn_ltree[n*2]!==0)return nW;return tW},aG=!1,oG=e=>{aG||=(qW(),!0),e.l_desc=new RW(e.dyn_ltree,FW),e.d_desc=new RW(e.dyn_dtree,IW),e.bl_desc=new RW(e.bl_tree,LW),e.bi_buf=0,e.bi_valid=0,JW(e)},sG=(e,t,n,r)=>{VW(e,(aW<<1)+(r?1:0),3),YW(e),BW(e,n),BW(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},cG={_tr_init:oG,_tr_stored_block:sG,_tr_flush_block:(e,t,n,r)=>{let i,a,o=0;e.level>0?(e.strm.data_type===rW&&(e.strm.data_type=iG(e)),$W(e,e.l_desc),$W(e,e.d_desc),o=nG(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?sG(e,t,n,r):e.strategy===eW||a===i?(VW(e,(oW<<1)+(r?1:0),3),QW(e,OW,kW)):(VW(e,(sW<<1)+(r?1:0),3),rG(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),QW(e,e.dyn_ltree,e.dyn_dtree)),JW(e),r&&YW(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+ e.sym_next++]=t,e.pending_buf[e.sym_buf+ e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+ e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(jW[n]+dW+1)*2]++,e.dyn_dtree[zW(t)*2]++),e.sym_next===e.sym_end),_tr_align:e=>{VW(e,oW<<1,3),HW(e,yW,OW),WW(e)}},lG=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0},uG=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t})()),dG=(e,t,n,r)=>{let i=uG,a=r+n;e^=-1;for(let n=r;n<a;n++)e=e>>>8^i[(e^t[n])&255];return e^-1},fG={2:`need dictionary`,1:`stream end`,0:``,"-1":`file error`,"-2":`stream error`,"-3":`data error`,"-4":`insufficient memory`,"-5":`buffer error`,"-6":`incompatible version`},pG={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:mG,_tr_stored_block:hG,_tr_flush_block:gG,_tr_tally:_G,_tr_align:vG}=cG,{Z_NO_FLUSH:yG,Z_PARTIAL_FLUSH:bG,Z_FULL_FLUSH:xG,Z_FINISH:SG,Z_BLOCK:CG,Z_OK:wG,Z_STREAM_END:TG,Z_STREAM_ERROR:EG,Z_DATA_ERROR:DG,Z_BUF_ERROR:OG,Z_DEFAULT_COMPRESSION:kG,Z_FILTERED:AG,Z_HUFFMAN_ONLY:jG,Z_RLE:MG,Z_FIXED:NG,Z_DEFAULT_STRATEGY:PG,Z_UNKNOWN:FG,Z_DEFLATED:IG}=pG,LG=9,RG=15,zG=8,BG=286,VG=30,HG=19,UG=2*BG+1,WG=15,GG=3,KG=258,qG=KG+GG+1,JG=32,YG=42,XG=57,ZG=69,QG=73,$G=91,eK=103,tK=113,nK=666,rK=1,iK=2,aK=3,oK=4,sK=3,cK=(e,t)=>(e.msg=fG[t],t),lK=e=>e*2-(e>4?9:0),uK=e=>{let t=e.length;for(;--t>=0;)e[t]=0},dK=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)},fK=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,pK=e=>{let t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},mK=(e,t)=>{gG(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,pK(e.strm)},hK=(e,t)=>{e.pending_buf[e.pending++]=t},gK=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},_K=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=lG(e.adler,t,i,n):e.state.wrap===2&&(e.adler=dG(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},vK=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-qG?e.strstart-(e.w_size-qG):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+KG,p=l[r+o-1],m=l[r+o];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,l[i+o]!==m||l[i+o-1]!==p||l[i]!==l[r]||l[++i]!==l[r+1])continue;r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<f);if(a=KG-(f-r),r=f-KG,a>o){if(e.match_start=t,o=a,a>=s)break;p=l[r+o-1],m=l[r+o]}}while((t=d[t&u])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},yK=e=>{let t=e.w_size,n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-qG)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),dK(e),r+=t),e.strm.avail_in===0)break;if(n=_K(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=GG)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=fK(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=fK(e,e.ins_h,e.window[i+GG-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<GG)););}while(e.lookahead<qG&&e.strm.avail_in!==0)},bK=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,o=0,s=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<n&&(r===0&&t!==SG||t===yG||r!==i+e.strm.avail_in)))break;o=t===SG&&r===i+e.strm.avail_in?1:0,hG(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,pK(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(_K(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?oK:t!==yG&&t!==SG&&e.strm.avail_in===0&&e.strstart===e.block_start?iK:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(_K(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,n=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=n||(i||t===SG)&&t!==yG&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,o=t===SG&&e.strm.avail_in===0&&r===i?1:0,hG(e,e.block_start,r,o),e.block_start+=r,pK(e.strm)),o?aK:rK)},xK=(e,t)=>{let n,r;for(;;){if(e.lookahead<qG){if(yK(e),e.lookahead<qG&&t===yG)return rK;if(e.lookahead===0)break}if(n=0,e.lookahead>=GG&&(e.ins_h=fK(e,e.ins_h,e.window[e.strstart+GG-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-qG&&(e.match_length=vK(e,n)),e.match_length>=GG)if(r=_G(e,e.strstart-e.match_start,e.match_length-GG),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=GG){e.match_length--;do e.strstart++,e.ins_h=fK(e,e.ins_h,e.window[e.strstart+GG-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=fK(e,e.ins_h,e.window[e.strstart+1]);else r=_G(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(mK(e,!1),e.strm.avail_out===0))return rK}return e.insert=e.strstart<GG-1?e.strstart:GG-1,t===SG?(mK(e,!0),e.strm.avail_out===0?aK:oK):e.sym_next&&(mK(e,!1),e.strm.avail_out===0)?rK:iK},SK=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<qG){if(yK(e),e.lookahead<qG&&t===yG)return rK;if(e.lookahead===0)break}if(n=0,e.lookahead>=GG&&(e.ins_h=fK(e,e.ins_h,e.window[e.strstart+GG-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=GG-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-qG&&(e.match_length=vK(e,n),e.match_length<=5&&(e.strategy===AG||e.match_length===GG&&e.strstart-e.match_start>4096)&&(e.match_length=GG-1)),e.prev_length>=GG&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-GG,r=_G(e,e.strstart-1-e.prev_match,e.prev_length-GG),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=fK(e,e.ins_h,e.window[e.strstart+GG-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=GG-1,e.strstart++,r&&(mK(e,!1),e.strm.avail_out===0))return rK}else if(e.match_available){if(r=_G(e,0,e.window[e.strstart-1]),r&&mK(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return rK}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&=(r=_G(e,0,e.window[e.strstart-1]),0),e.insert=e.strstart<GG-1?e.strstart:GG-1,t===SG?(mK(e,!0),e.strm.avail_out===0?aK:oK):e.sym_next&&(mK(e,!1),e.strm.avail_out===0)?rK:iK},CK=(e,t)=>{let n,r,i,a,o=e.window;for(;;){if(e.lookahead<=KG){if(yK(e),e.lookahead<=KG&&t===yG)return rK;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=GG&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+KG;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=KG-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=GG?(n=_G(e,1,e.match_length-GG),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=_G(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(mK(e,!1),e.strm.avail_out===0))return rK}return e.insert=0,t===SG?(mK(e,!0),e.strm.avail_out===0?aK:oK):e.sym_next&&(mK(e,!1),e.strm.avail_out===0)?rK:iK},wK=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(yK(e),e.lookahead===0)){if(t===yG)return rK;break}if(e.match_length=0,n=_G(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(mK(e,!1),e.strm.avail_out===0))return rK}return e.insert=0,t===SG?(mK(e,!0),e.strm.avail_out===0?aK:oK):e.sym_next&&(mK(e,!1),e.strm.avail_out===0)?rK:iK};function TK(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var EK=[new TK(0,0,0,0,bK),new TK(4,4,8,4,xK),new TK(4,5,16,8,xK),new TK(4,6,32,32,xK),new TK(4,4,16,16,SK),new TK(8,16,32,32,SK),new TK(8,16,128,128,SK),new TK(8,32,128,256,SK),new TK(32,128,258,1024,SK),new TK(32,258,258,4096,SK)],DK=e=>{e.window_size=2*e.w_size,uK(e.head),e.max_lazy_match=EK[e.level].max_lazy,e.good_match=EK[e.level].good_length,e.nice_match=EK[e.level].nice_length,e.max_chain_length=EK[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=GG-1,e.match_available=0,e.ins_h=0};function OK(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=IG,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(UG*2),this.dyn_dtree=new Uint16Array((2*VG+1)*2),this.bl_tree=new Uint16Array((2*HG+1)*2),uK(this.dyn_ltree),uK(this.dyn_dtree),uK(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(WG+1),this.heap=new Uint16Array(2*BG+1),uK(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*BG+1),uK(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var kK=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.status!==YG&&t.status!==XG&&t.status!==ZG&&t.status!==QG&&t.status!==$G&&t.status!==eK&&t.status!==tK&&t.status!==nK?1:0},AK=e=>{if(kK(e))return cK(e,EG);e.total_in=e.total_out=0,e.data_type=FG;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?XG:t.wrap?YG:tK,e.adler=t.wrap===2?0:1,t.last_flush=-2,mG(t),wG},jK=e=>{let t=AK(e);return t===wG&&DK(e.state),t},MK=(e,t)=>kK(e)||e.state.wrap!==2?EG:(e.state.gzhead=t,wG),NK=(e,t,n,r,i,a)=>{if(!e)return EG;let o=1;if(t===kG&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>LG||n!==IG||r<8||r>15||t<0||t>9||a<0||a>NG||r===8&&o!==1)return cK(e,EG);r===8&&(r=9);let s=new OK;return e.state=s,s.strm=e,s.status=YG,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+GG-1)/GG),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=a,s.method=n,jK(e)},PK={deflateInit:(e,t)=>NK(e,t,IG,RG,zG,PG),deflateInit2:NK,deflateReset:jK,deflateResetKeep:AK,deflateSetHeader:MK,deflate:(e,t)=>{if(kK(e)||t>CG||t<0)return e?cK(e,EG):EG;let n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===nK&&t!==SG)return cK(e,e.avail_out===0?OG:EG);let r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(pK(e),e.avail_out===0)return n.last_flush=-1,wG}else if(e.avail_in===0&&lK(t)<=lK(r)&&t!==SG)return cK(e,OG);if(n.status===nK&&e.avail_in!==0)return cK(e,OG);if(n.status===YG&&n.wrap===0&&(n.status=tK),n.status===YG){let t=IG+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=jG||n.level<2?0:n.level<6?1:n.level===6?2:3,t|=r<<6,n.strstart!==0&&(t|=JG),t+=31-t%31,gK(n,t),n.strstart!==0&&(gK(n,e.adler>>>16),gK(n,e.adler&65535)),e.adler=1,n.status=tK,pK(e),n.pending!==0)return n.last_flush=-1,wG}if(n.status===XG){if(e.adler=0,hK(n,31),hK(n,139),hK(n,8),n.gzhead)hK(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hK(n,n.gzhead.time&255),hK(n,n.gzhead.time>>8&255),hK(n,n.gzhead.time>>16&255),hK(n,n.gzhead.time>>24&255),hK(n,n.level===9?2:n.strategy>=jG||n.level<2?4:0),hK(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hK(n,n.gzhead.extra.length&255),hK(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=dG(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=ZG;else if(hK(n,0),hK(n,0),hK(n,0),hK(n,0),hK(n,0),hK(n,n.level===9?2:n.strategy>=jG||n.level<2?4:0),hK(n,sK),n.status=tK,pK(e),n.pending!==0)return n.last_flush=-1,wG}if(n.status===ZG){if(n.gzhead.extra){let t=n.pending,r=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=dG(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,pK(e),n.pending!==0)return n.last_flush=-1,wG;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=dG(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=QG}if(n.status===QG){if(n.gzhead.name){let t=n.pending,r;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>t&&(e.adler=dG(e.adler,n.pending_buf,n.pending-t,t)),pK(e),n.pending!==0)return n.last_flush=-1,wG;t=0}r=n.gzindex<n.gzhead.name.length?n.gzhead.name.charCodeAt(n.gzindex++)&255:0,hK(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>t&&(e.adler=dG(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=$G}if(n.status===$G){if(n.gzhead.comment){let t=n.pending,r;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>t&&(e.adler=dG(e.adler,n.pending_buf,n.pending-t,t)),pK(e),n.pending!==0)return n.last_flush=-1,wG;t=0}r=n.gzindex<n.gzhead.comment.length?n.gzhead.comment.charCodeAt(n.gzindex++)&255:0,hK(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>t&&(e.adler=dG(e.adler,n.pending_buf,n.pending-t,t))}n.status=eK}if(n.status===eK){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(pK(e),n.pending!==0))return n.last_flush=-1,wG;hK(n,e.adler&255),hK(n,e.adler>>8&255),e.adler=0}if(n.status=tK,pK(e),n.pending!==0)return n.last_flush=-1,wG}if(e.avail_in!==0||n.lookahead!==0||t!==yG&&n.status!==nK){let r=n.level===0?bK(n,t):n.strategy===jG?wK(n,t):n.strategy===MG?CK(n,t):EK[n.level].func(n,t);if((r===aK||r===oK)&&(n.status=nK),r===rK||r===aK)return e.avail_out===0&&(n.last_flush=-1),wG;if(r===iK&&(t===bG?vG(n):t!==CG&&(hG(n,0,0,!1),t===xG&&(uK(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),pK(e),e.avail_out===0))return n.last_flush=-1,wG}return t===SG?n.wrap<=0?TG:(n.wrap===2?(hK(n,e.adler&255),hK(n,e.adler>>8&255),hK(n,e.adler>>16&255),hK(n,e.adler>>24&255),hK(n,e.total_in&255),hK(n,e.total_in>>8&255),hK(n,e.total_in>>16&255),hK(n,e.total_in>>24&255)):(gK(n,e.adler>>>16),gK(n,e.adler&65535)),pK(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending===0?TG:wG):wG},deflateEnd:e=>{if(kK(e))return EG;let t=e.state.status;return e.state=null,t===tK?cK(e,DG):wG},deflateSetDictionary:(e,t)=>{let n=t.length;if(kK(e))return EG;let r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==YG||r.lookahead)return EG;if(i===1&&(e.adler=lG(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(uK(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}let a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,yK(r);r.lookahead>=GG;){let e=r.strstart,t=r.lookahead-(GG-1);do r.ins_h=fK(r,r.ins_h,r.window[e+GG-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++;while(--t);r.strstart=e,r.lookahead=GG-1,yK(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=GG-1,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,r.wrap=i,wG},deflateInfo:`pako deflate (from Nodeca project)`},FK=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),IK={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let n=t.shift();if(n){if(typeof n!=`object`)throw TypeError(n+`must be non-object`);for(let t in n)FK(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;let n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n}},LK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{LK=!1}var RK=new Uint8Array(256);for(let e=0;e<256;e++)RK[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;RK[254]=RK[254]=1;var zK=e=>{if(typeof TextEncoder==`function`&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t},BK=(e,t)=>{if(t<65534&&e.subarray&&LK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n=``;for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},VK={string2buf:zK,buf2string:(e,t)=>{let n=t||e.length;if(typeof TextDecoder==`function`&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i,a=Array(n*2);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){a[i++]=t;continue}let o=RK[t];if(o>4){a[i++]=65533,r+=o-1;continue}for(t&=o===2?31:o===3?15:7;o>1&&r<n;)t=t<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}t<65536?a[i++]=t:(t-=65536,a[i++]=55296|t>>10&1023,a[i++]=56320|t&1023)}return BK(a,i)},utf8border:(e,t)=>{t||=e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)==128;)n--;return n<0||n===0?t:n+RK[e[n]]>t?n:t}};function HK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=``,this.state=null,this.data_type=2,this.adler=0}var UK=HK,WK=Object.prototype.toString,{Z_NO_FLUSH:GK,Z_SYNC_FLUSH:KK,Z_FULL_FLUSH:qK,Z_FINISH:JK,Z_OK:YK,Z_STREAM_END:XK,Z_DEFAULT_COMPRESSION:ZK,Z_DEFAULT_STRATEGY:QK,Z_DEFLATED:$K}=pG;function eq(e){this.options=IK.assign({level:ZK,method:$K,chunkSize:16384,windowBits:15,memLevel:8,strategy:QK},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new UK,this.strm.avail_out=0;let n=PK.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==YK)throw Error(fG[n]);if(t.header&&PK.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e=typeof t.dictionary==`string`?VK.string2buf(t.dictionary):WK.call(t.dictionary)===`[object ArrayBuffer]`?new Uint8Array(t.dictionary):t.dictionary,n=PK.deflateSetDictionary(this.strm,e),n!==YK)throw Error(fG[n]);this._dict_set=!0}}eq.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i,a;if(this.ended)return!1;for(a=t===~~t?t:t===!0?JK:GK,typeof e==`string`?n.input=VK.string2buf(e):WK.call(e)===`[object ArrayBuffer]`?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===KK||a===qK)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=PK.deflate(n,a),i===XK)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=PK.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===YK;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},eq.prototype.onData=function(e){this.chunks.push(e)},eq.prototype.onEnd=function(e){e===YK&&(this.result=IK.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function tq(e,t){let n=new eq(t);if(n.push(e,!0),n.err)throw n.msg||fG[n.err];return n.result}function nq(e,t){return t||={},t.raw=!0,tq(e,t)}function rq(e,t){return t||={},t.gzip=!0,tq(e,t)}var iq={Deflate:eq,deflate:tq,deflateRaw:nq,gzip:rq,constants:pG},aq=16209,oq=16191,sq=function(e,t){let n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E=e.state;n=e.next_in,w=e.input,r=n+(e.avail_in-5),i=e.next_out,T=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),s=E.dmax,c=E.wsize,l=E.whave,u=E.wnext,d=E.window,f=E.hold,p=E.bits,m=E.lencode,h=E.distcode,g=(1<<E.lenbits)-1,_=(1<<E.distbits)-1;top:do{p<15&&(f+=w[n++]<<p,p+=8,f+=w[n++]<<p,p+=8),v=m[f&g];dolen:for(;;){if(y=v>>>24,f>>>=y,p-=y,y=v>>>16&255,y===0)T[i++]=v&65535;else if(y&16){b=v&65535,y&=15,y&&(p<y&&(f+=w[n++]<<p,p+=8),b+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=w[n++]<<p,p+=8,f+=w[n++]<<p,p+=8),v=h[f&_];dodist:for(;;){if(y=v>>>24,f>>>=y,p-=y,y=v>>>16&255,y&16){if(x=v&65535,y&=15,p<y&&(f+=w[n++]<<p,p+=8,p<y&&(f+=w[n++]<<p,p+=8)),x+=f&(1<<y)-1,x>s){e.msg=`invalid distance too far back`,E.mode=aq;break top}if(f>>>=y,p-=y,y=i-a,x>y){if(y=x-y,y>l&&E.sane){e.msg=`invalid distance too far back`,E.mode=aq;break top}if(S=0,C=d,u===0){if(S+=c-y,y<b){b-=y;do T[i++]=d[S++];while(--y);S=i-x,C=T}}else if(u<y){if(S+=c+u-y,y-=u,y<b){b-=y;do T[i++]=d[S++];while(--y);if(S=0,u<b){y=u,b-=y;do T[i++]=d[S++];while(--y);S=i-x,C=T}}}else if(S+=u-y,y<b){b-=y;do T[i++]=d[S++];while(--y);S=i-x,C=T}for(;b>2;)T[i++]=C[S++],T[i++]=C[S++],T[i++]=C[S++],b-=3;b&&(T[i++]=C[S++],b>1&&(T[i++]=C[S++]))}else{S=i-x;do T[i++]=T[S++],T[i++]=T[S++],T[i++]=T[S++],b-=3;while(b>2);b&&(T[i++]=T[S++],b>1&&(T[i++]=T[S++]))}}else if(y&64){e.msg=`invalid distance code`,E.mode=aq;break top}else{v=h[(v&65535)+(f&(1<<y)-1)];continue dodist}break}}else if(y&64)if(y&32){E.mode=oq;break top}else{e.msg=`invalid literal/length code`,E.mode=aq;break top}else{v=m[(v&65535)+(f&(1<<y)-1)];continue dolen}break}}while(n<r&&i<o);b=p>>3,n-=b,p-=b<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=i<o?257+(o-i):257-(i-o),E.hold=f,E.bits=p},cq=15,lq=852,uq=592,dq=0,fq=1,pq=2,mq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_q=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vq=(e,t,n,r,i,a,o,s)=>{let c=s.bits,l=0,u=0,d=0,f=0,p=0,m=0,h=0,g=0,_=0,v=0,y,b,x,S,C,w=null,T,E=new Uint16Array(cq+1),D=new Uint16Array(cq+1),O=null,k,A,j;for(l=0;l<=cq;l++)E[l]=0;for(u=0;u<r;u++)E[t[n+u]]++;for(p=c,f=cq;f>=1&&E[f]===0;f--);if(p>f&&(p=f),f===0)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(d=1;d<f&&E[d]===0;d++);for(p<d&&(p=d),g=1,l=1;l<=cq;l++)if(g<<=1,g-=E[l],g<0)return-1;if(g>0&&(e===dq||f!==1))return-1;for(D[1]=0,l=1;l<cq;l++)D[l+1]=D[l]+E[l];for(u=0;u<r;u++)t[n+u]!==0&&(o[D[t[n+u]]++]=u);if(e===dq?(w=O=o,T=20):e===fq?(w=mq,O=hq,T=257):(w=gq,O=_q,T=0),v=0,u=0,l=d,C=a,m=p,h=0,x=-1,_=1<<p,S=_-1,e===fq&&_>lq||e===pq&&_>uq)return 1;for(;;){k=l-h,o[u]+1<T?(A=0,j=o[u]):o[u]>=T?(A=O[o[u]-T],j=w[o[u]-T]):(A=96,j=0),y=1<<l-h,b=1<<m,d=b;do b-=y,i[C+(v>>h)+b]=k<<24|A<<16|j|0;while(b!==0);for(y=1<<l-1;v&y;)y>>=1;if(y===0?v=0:(v&=y-1,v+=y),u++,--E[l]===0){if(l===f)break;l=t[n+o[u]]}if(l>p&&(v&S)!==x){for(h===0&&(h=p),C+=d,m=l-h,g=1<<m;m+h<f&&(g-=E[m+h],!(g<=0));)m++,g<<=1;if(_+=1<<m,e===fq&&_>lq||e===pq&&_>uq)return 1;x=v&S,i[x]=p<<24|m<<16|C-a|0}}return v!==0&&(i[C+v]=l-h<<24|4194304),s.bits=p,0},yq=0,bq=1,xq=2,{Z_FINISH:Sq,Z_BLOCK:Cq,Z_TREES:wq,Z_OK:Tq,Z_STREAM_END:Eq,Z_NEED_DICT:Dq,Z_STREAM_ERROR:Oq,Z_DATA_ERROR:kq,Z_MEM_ERROR:Aq,Z_BUF_ERROR:jq,Z_DEFLATED:Mq}=pG,Nq=16180,Pq=16181,Fq=16182,Iq=16183,Lq=16184,Rq=16185,zq=16186,Bq=16187,Vq=16188,Hq=16189,Uq=16190,Wq=16191,Gq=16192,Kq=16193,qq=16194,Jq=16195,Yq=16196,Xq=16197,Zq=16198,Qq=16199,$q=16200,eJ=16201,tJ=16202,nJ=16203,rJ=16204,iJ=16205,aJ=16206,oJ=16207,sJ=16208,cJ=16209,lJ=16210,uJ=16211,dJ=852,fJ=592,pJ=15,mJ=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function hJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var gJ=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<Nq||t.mode>uJ?1:0},_J=e=>{if(gJ(e))return Oq;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg=``,t.wrap&&(e.adler=t.wrap&1),t.mode=Nq,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(dJ),t.distcode=t.distdyn=new Int32Array(fJ),t.sane=1,t.back=-1,Tq},vJ=e=>{if(gJ(e))return Oq;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,_J(e)},yJ=(e,t)=>{let n;if(gJ(e))return Oq;let r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Oq:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,vJ(e))},bJ=(e,t)=>{if(!e)return Oq;let n=new hJ;e.state=n,n.strm=e,n.window=null,n.mode=Nq;let r=yJ(e,t);return r!==Tq&&(e.state=null),r},xJ=e=>bJ(e,pJ),SJ=!0,CJ,wJ,TJ=e=>{if(SJ){CJ=new Int32Array(512),wJ=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(vq(bq,e.lens,0,288,CJ,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;vq(xq,e.lens,0,32,wJ,0,e.work,{bits:5}),SJ=!1}e.lencode=CJ,e.lenbits=9,e.distcode=wJ,e.distbits=5},EJ=(e,t,n,r)=>{let i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},DJ={inflateReset:vJ,inflateReset2:yJ,inflateResetKeep:_J,inflateInit:xJ,inflateInit2:bJ,inflate:(e,t)=>{let n,r,i,a,o,s,c,l,u,d,f,p,m,h,g=0,_,v,y,b,x,S,C,w,T=new Uint8Array(4),E,D,O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gJ(e)||!e.output||!e.input&&e.avail_in!==0)return Oq;n=e.state,n.mode===Wq&&(n.mode=Gq),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,d=s,f=c,w=Tq;inf_leave:for(;;)switch(n.mode){case Nq:if(n.wrap===0){n.mode=Gq;break}for(;u<16;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=l&255,T[1]=l>>>8&255,n.check=dG(n.check,T,2,0),l=0,u=0,n.mode=Pq;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg=`incorrect header check`,n.mode=cJ;break}if((l&15)!==Mq){e.msg=`unknown compression method`,n.mode=cJ;break}if(l>>>=4,u-=4,C=(l&15)+8,n.wbits===0&&(n.wbits=C),C>15||C>n.wbits){e.msg=`invalid window size`,n.mode=cJ;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?Hq:Wq,l=0,u=0;break;case Pq:for(;u<16;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==Mq){e.msg=`unknown compression method`,n.mode=cJ;break}if(n.flags&57344){e.msg=`unknown header flags set`,n.mode=cJ;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,n.check=dG(n.check,T,2,0)),l=0,u=0,n.mode=Fq;case Fq:for(;u<32;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,n.check=dG(n.check,T,4,0)),l=0,u=0,n.mode=Iq;case Iq:for(;u<16;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,n.check=dG(n.check,T,2,0)),l=0,u=0,n.mode=Lq;case Lq:if(n.flags&1024){for(;u<16;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,n.check=dG(n.check,T,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=Rq;case Rq:if(n.flags&1024&&(p=n.length,p>s&&(p=s),p&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),C)),n.flags&512&&n.wrap&4&&(n.check=dG(n.check,r,p,a)),s-=p,a+=p,n.length-=p),n.length))break inf_leave;n.length=0,n.mode=zq;case zq:if(n.flags&2048){if(s===0)break inf_leave;p=0;do C=r[a+ p++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C));while(C&&p<s);if(n.flags&512&&n.wrap&4&&(n.check=dG(n.check,r,p,a)),s-=p,a+=p,C)break inf_leave}else n.head&&(n.head.name=null);n.length=0,n.mode=Bq;case Bq:if(n.flags&4096){if(s===0)break inf_leave;p=0;do C=r[a+ p++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C));while(C&&p<s);if(n.flags&512&&n.wrap&4&&(n.check=dG(n.check,r,p,a)),s-=p,a+=p,C)break inf_leave}else n.head&&(n.head.comment=null);n.mode=Vq;case Vq:if(n.flags&512){for(;u<16;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg=`header crc mismatch`,n.mode=cJ;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Wq;break;case Hq:for(;u<32;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}e.adler=n.check=mJ(l),l=0,u=0,n.mode=Uq;case Uq:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=l,n.bits=u,Dq;e.adler=n.check=1,n.mode=Wq;case Wq:if(t===Cq||t===wq)break inf_leave;case Gq:if(n.last){l>>>=u&7,u-=u&7,n.mode=aJ;break}for(;u<3;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}switch(n.last=l&1,l>>>=1,--u,l&3){case 0:n.mode=Kq;break;case 1:if(TJ(n),n.mode=Qq,t===wq){l>>>=2,u-=2;break inf_leave}break;case 2:n.mode=Yq;break;case 3:e.msg=`invalid block type`,n.mode=cJ}l>>>=2,u-=2;break;case Kq:for(l>>>=u&7,u-=u&7;u<32;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if((l&65535)!=(l>>>16^65535)){e.msg=`invalid stored block lengths`,n.mode=cJ;break}if(n.length=l&65535,l=0,u=0,n.mode=qq,t===wq)break inf_leave;case qq:n.mode=Jq;case Jq:if(p=n.length,p){if(p>s&&(p=s),p>c&&(p=c),p===0)break inf_leave;i.set(r.subarray(a,a+p),o),s-=p,a+=p,c-=p,o+=p,n.length-=p;break}n.mode=Wq;break;case Yq:for(;u<14;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg=`too many length or distance symbols`,n.mode=cJ;break}n.have=0,n.mode=Xq;case Xq:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}n.lens[O[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},w=vq(yq,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,w){e.msg=`invalid code lengths set`,n.mode=cJ;break}n.have=0,n.mode=Zq;case Zq:for(;n.have<n.nlen+n.ndist;){for(;g=n.lencode[l&(1<<n.lenbits)-1],_=g>>>24,v=g>>>16&255,y=g&65535,!(_<=u);){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(y<16)l>>>=_,u-=_,n.lens[n.have++]=y;else{if(y===16){for(D=_+2;u<D;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(l>>>=_,u-=_,n.have===0){e.msg=`invalid bit length repeat`,n.mode=cJ;break}C=n.lens[n.have-1],p=3+(l&3),l>>>=2,u-=2}else if(y===17){for(D=_+3;u<D;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}l>>>=_,u-=_,C=0,p=3+(l&7),l>>>=3,u-=3}else{for(D=_+7;u<D;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}l>>>=_,u-=_,C=0,p=11+(l&127),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg=`invalid bit length repeat`,n.mode=cJ;break}for(;p--;)n.lens[n.have++]=C}}if(n.mode===cJ)break;if(n.lens[256]===0){e.msg=`invalid code -- missing end-of-block`,n.mode=cJ;break}if(n.lenbits=9,E={bits:n.lenbits},w=vq(bq,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,w){e.msg=`invalid literal/lengths set`,n.mode=cJ;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},w=vq(xq,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,w){e.msg=`invalid distances set`,n.mode=cJ;break}if(n.mode=Qq,t===wq)break inf_leave;case Qq:n.mode=$q;case $q:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=l,n.bits=u,sq(e,f),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,n.mode===Wq&&(n.back=-1);break}for(n.back=0;g=n.lencode[l&(1<<n.lenbits)-1],_=g>>>24,v=g>>>16&255,y=g&65535,!(_<=u);){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(v&&!(v&240)){for(b=_,x=v,S=y;g=n.lencode[S+((l&(1<<b+x)-1)>>b)],_=g>>>24,v=g>>>16&255,y=g&65535,!(b+_<=u);){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=_,u-=_,n.back+=_,n.length=y,v===0){n.mode=iJ;break}if(v&32){n.back=-1,n.mode=Wq;break}if(v&64){e.msg=`invalid literal/length code`,n.mode=cJ;break}n.extra=v&15,n.mode=eJ;case eJ:if(n.extra){for(D=n.extra;u<D;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tJ;case tJ:for(;g=n.distcode[l&(1<<n.distbits)-1],_=g>>>24,v=g>>>16&255,y=g&65535,!(_<=u);){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(!(v&240)){for(b=_,x=v,S=y;g=n.distcode[S+((l&(1<<b+x)-1)>>b)],_=g>>>24,v=g>>>16&255,y=g&65535,!(b+_<=u);){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=_,u-=_,n.back+=_,v&64){e.msg=`invalid distance code`,n.mode=cJ;break}n.offset=y,n.extra=v&15,n.mode=nJ;case nJ:if(n.extra){for(D=n.extra;u<D;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=`invalid distance too far back`,n.mode=cJ;break}n.mode=rJ;case rJ:if(c===0)break inf_leave;if(p=f-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg=`invalid distance too far back`,n.mode=cJ;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),h=n.window}else h=i,m=o-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[o++]=h[m++];while(--p);n.length===0&&(n.mode=$q);break;case iJ:if(c===0)break inf_leave;i[o++]=n.length,c--,n.mode=$q;break;case aJ:if(n.wrap){for(;u<32;){if(s===0)break inf_leave;s--,l|=r[a++]<<u,u+=8}if(f-=c,e.total_out+=f,n.total+=f,n.wrap&4&&f&&(e.adler=n.check=n.flags?dG(n.check,i,f,o-f):lG(n.check,i,f,o-f)),f=c,n.wrap&4&&(n.flags?l:mJ(l))!==n.check){e.msg=`incorrect data check`,n.mode=cJ;break}l=0,u=0}n.mode=oJ;case oJ:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break inf_leave;s--,l+=r[a++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg=`incorrect length check`,n.mode=cJ;break}l=0,u=0}n.mode=sJ;case sJ:w=Eq;break inf_leave;case cJ:w=kq;break inf_leave;case lJ:return Aq;case uJ:default:return Oq}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=l,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<cJ&&(n.mode<aJ||t!==Sq))&&EJ(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&4&&f&&(e.adler=n.check=n.flags?dG(n.check,i,f,e.next_out-f):lG(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Wq?128:0)+(n.mode===Qq||n.mode===qq?256:0),(d===0&&f===0||t===Sq)&&w===Tq&&(w=jq),w},inflateEnd:e=>{if(gJ(e))return Oq;let t=e.state;return t.window&&=null,e.state=null,Tq},inflateGetHeader:(e,t)=>{if(gJ(e))return Oq;let n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Tq):Oq},inflateSetDictionary:(e,t)=>{let n=t.length,r,i,a;return gJ(e)||(r=e.state,r.wrap!==0&&r.mode!==Uq)?Oq:r.mode===Uq&&(i=1,i=lG(i,t,n,0),i!==r.check)?kq:(a=EJ(e,t,n,n),a?(r.mode=lJ,Aq):(r.havedict=1,Tq))},inflateInfo:`pako inflate (from Nodeca project)`};function OJ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=``,this.comment=``,this.hcrc=0,this.done=!1}var kJ=OJ,AJ=Object.prototype.toString,{Z_NO_FLUSH:jJ,Z_FINISH:MJ,Z_OK:NJ,Z_STREAM_END:PJ,Z_NEED_DICT:FJ,Z_STREAM_ERROR:IJ,Z_DATA_ERROR:LJ,Z_MEM_ERROR:RJ}=pG;function zJ(e){this.options=IK.assign({chunkSize:1024*64,windowBits:15,to:``},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new UK,this.strm.avail_out=0;let n=DJ.inflateInit2(this.strm,t.windowBits);if(n!==NJ||(this.header=new kJ,DJ.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary==`string`?t.dictionary=VK.string2buf(t.dictionary):AJ.call(t.dictionary)===`[object ArrayBuffer]`&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=DJ.inflateSetDictionary(this.strm,t.dictionary),n!==NJ))))throw Error(fG[n])}zJ.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,a,o,s;if(this.ended)return!1;for(o=t===~~t?t:t===!0?MJ:jJ,AJ.call(e)===`[object ArrayBuffer]`?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=DJ.inflate(n,o),a===FJ&&i&&(a=DJ.inflateSetDictionary(n,i),a===NJ?a=DJ.inflate(n,o):a===LJ&&(a=FJ));n.avail_in>0&&a===PJ&&n.state.wrap>0&&e[n.next_in]!==0;)DJ.inflateReset(n),a=DJ.inflate(n,o);switch(a){case IJ:case LJ:case FJ:case RJ:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||a===PJ))if(this.options.to===`string`){let e=VK.utf8border(n.output,n.next_out),t=n.next_out-e,i=VK.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===NJ&&s===0)){if(a===PJ)return a=DJ.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},zJ.prototype.onData=function(e){this.chunks.push(e)},zJ.prototype.onEnd=function(e){e===NJ&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=IK.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function BJ(e,t){let n=new zJ(t);if(n.push(e),n.err)throw n.msg||fG[n.err];return n.result}function VJ(e,t){return t||={},t.raw=!0,BJ(e,t)}var HJ={Inflate:zJ,inflate:BJ,inflateRaw:VJ,ungzip:BJ,constants:pG},{Deflate:UJ,deflate:WJ,deflateRaw:GJ,gzip:KJ}=iq,{Inflate:qJ,inflate:JJ,inflateRaw:YJ,ungzip:XJ}=HJ,ZJ=qJ,QJ=JJ,$J=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t>>>=1;$J[e]=t}var eY=4294967295;function tY(e,t,n){let r=e;for(let e=0;e<n;e++)r=$J[(r^t[e])&255]^r>>>8;return r}function nY(e,t){return(tY(eY,e,t)^eY)>>>0}function rY(e,t,n){let r=e.readUint32(),i=nY(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function iY(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function aY(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function oY(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function sY(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function cY(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+lY(t[a-i],n[a],n[a-i])&255}}function lY(e,t,n){let r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function uY(e,t,n,r,i,a){switch(e){case 0:iY(t,n,i);break;case 1:aY(t,n,i,a);break;case 2:oY(t,n,r,i);break;case 3:sY(t,n,r,i,a);break;case 4:cY(t,n,r,i,a);break;default:throw Error(`Unsupported filter: ${e}`)}}var dY=new Uint16Array([255]),fY=new Uint8Array(dY.buffer)[0]===255;function pY(e){let{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,c=new Uint8Array(r*n*s),l=0;for(let e=0;e<7;e++){let i=o[e],a=Math.ceil((n-i.x)/i.xStep),u=Math.ceil((r-i.y)/i.yStep);if(a<=0||u<=0)continue;let d=a*s,f=new Uint8Array(d);for(let e=0;e<u;e++){let o=t[l++],u=t.subarray(l,l+d);l+=d;let p=new Uint8Array(d);uY(o,u,p,f,d,s),f.set(p);for(let t=0;t<a;t++){let a=i.x+t*i.xStep,o=i.y+e*i.yStep;if(!(a>=n||o>=r))for(let e=0;e<s;e++)c[(o*n+a)*s+e]=p[t*s+e]}}}if(a===16){let e=new Uint16Array(c.buffer);if(fY)for(let t=0;t<e.length;t++)e[t]=mY(e[t]);return e}else return c}function mY(e){return(e&255)<<8|e>>8&255}var hY=new Uint16Array([255]),gY=new Uint8Array(hY.buffer)[0]===255,_Y=new Uint8Array;function vY(e){let{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*n),c=new Uint8Array(r*s),l=_Y,u=0,d,f;for(let e=0;e<r;e++){switch(d=t.subarray(u+1,u+1+s),f=c.subarray(e*s,(e+1)*s),t[u]){case 0:iY(d,f,s);break;case 1:aY(d,f,s,o);break;case 2:oY(d,f,l,s);break;case 3:sY(d,f,l,s,o);break;case 4:cY(d,f,l,s,o);break;default:throw Error(`Unsupported filter: ${t[u]}`)}l=f,u+=s+1}if(a===16){let e=new Uint16Array(c.buffer);if(gY)for(let t=0;t<e.length;t++)e[t]=yY(e[t]);return e}else return c}function yY(e){return(e&255)<<8|e>>8&255}var bY=Uint8Array.of(137,80,78,71,13,10,26,10);function xY(e){if(!SY(e.readBytes(bY.length)))throw Error(`wrong PNG signature`)}function SY(e){if(e.length<bY.length)return!1;for(let t=0;t<bY.length;t++)if(e[t]!==bY[t])return!1;return!0}var CY=0,wY=new TextDecoder(`latin1`);function TY(e){if(DY(e),e.length===0||e.length>79)throw Error(`keyword length must be between 1 and 79`)}var EY=/^[\u0000-\u00FF]*$/;function DY(e){if(!EY.test(e))throw Error(`invalid latin1 text`)}function OY(e,t,n){let r=kY(t);e[r]=AY(t,n-r.length-1)}function kY(e){for(e.mark();e.readByte()!==CY;);let t=e.offset;e.reset();let n=wY.decode(e.readBytes(t-e.offset-1));return e.skip(1),TY(n),n}function AY(e,t){return wY.decode(e.readBytes(t))}const jY={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},MY={UNKNOWN:-1,DEFLATE:0},NY={UNKNOWN:-1,ADAPTIVE:0},PY={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},FY={NONE:0,BACKGROUND:1,PREVIOUS:2},IY={SOURCE:0,OVER:1};var LY=class extends $U{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);let{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new ZJ,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array,depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array,this._compressionMethod=MY.UNKNOWN,this._filterMethod=NY.UNKNOWN,this._interlaceMethod=PY.UNKNOWN,this._colorType=jY.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xY(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(xY(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){let n=this.offset;switch(t){case`IHDR`:this.decodeIHDR();break;case`PLTE`:this.decodePLTE(e);break;case`IDAT`:this.decodeIDAT(e);break;case`IEND`:this._end=!0;break;case`tRNS`:this.decodetRNS(e);break;case`iCCP`:this.decodeiCCP(e);break;case`tEXt`:OY(this._png.text,this,e);break;case`pHYs`:this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?rY(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){let n=this.offset;switch(t!==`fdAT`&&t!==`IDAT`&&this._writingDataChunks&&this.pushDataToFrame(),t){case`acTL`:this.decodeACTL();break;case`fcTL`:this.decodeFCTL();break;case`fdAT`:this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?rY(this,e+4,t):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=RY(this.readUint8());let t=this.readUint8();this._colorType=t;let n;switch(t){case jY.GREYSCALE:n=1;break;case jY.TRUECOLOUR:n=3;break;case jY.INDEXED_COLOUR:n=1;break;case jY.GREYSCALE_ALPHA:n=2;break;case jY.TRUECOLOUR_ALPHA:n=4;break;case jY.UNKNOWN:default:throw Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==MY.DEFLATE)throw Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let t=e/3;this._hasPalette=!0;let n=[];this._palette=n;for(let e=0;e<t;e++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case jY.GREYSCALE:case jY.TRUECOLOUR:if(e%2!=0)throw RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case jY.INDEXED_COLOUR:{if(e>this._palette.length)throw Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){let e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case jY.UNKNOWN:case jY.GREYSCALE_ALPHA:case jY.TRUECOLOUR_ALPHA:default:throw Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t=kY(this),n=this.readUint8();if(n!==MY.DEFLATE)throw Error(`Unsupported iCCP compression method: ${n}`);let r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:QJ(r)}}decodepHYs(){let e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=vY({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{let r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case FY.NONE:break;case FY.BACKGROUND:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){let i=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[i+e]=0}break;case FY.PREVIOUS:n.data.set(t.data);break;default:throw Error(`Unknown disposeOp`)}}addFrameDataToCanvas(e,t){let n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case IY.SOURCE:for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){let{index:a,frameIndex:o}=r(n,i);for(let n=0;n<this._png.channels;n++)e.data[a+n]=t.data[o+n]}break;case IY.OVER:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){let{index:o,frameIndex:s}=r(i,a);for(let r=0;r<this._png.channels;r++){let i=t.data[s+this._png.channels-1]/n,a=r%(this._png.channels-1)==0?1:t.data[s+r],c=Math.floor(i*a+(1-i)*e.data[o+r]);e.data[o+r]+=c}}break;default:throw Error(`Unknown blendOp`)}}decodeImage(){if(this._inflator.err)throw Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==NY.ADAPTIVE)throw Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===PY.NO_INTERLACE)this._png.data=vY({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===PY.ADAM7)this._png.data=pY({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:FY.NONE,blendOp:IY.SOURCE,data:e}),this._inflator=new ZJ,this._writingDataChunks=!1}};function RY(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw Error(`invalid bit depth: ${e}`);return e}var zY;(function(e){e[e.UNKNOWN=0]=`UNKNOWN`,e[e.METRE=1]=`METRE`})(zY||={});function BY(e,t){return new LY(e,t).decode()}var VY=function(){return typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this}();function HY(){VY.console&&typeof VY.console.log==`function`&&VY.console.log.apply(VY.console,arguments)}var UY={log:HY,warn:function(e){VY.console&&(typeof VY.console.warn==`function`?VY.console.warn.apply(VY.console,arguments):HY.call(null,arguments))},error:function(e){VY.console&&(typeof VY.console.error==`function`?VY.console.error.apply(VY.console,arguments):HY(e))}};function WY(e,t,n){var r=new XMLHttpRequest;r.open(`GET`,e),r.responseType=`blob`,r.onload=function(){qY(r.response,t,n)},r.onerror=function(){UY.error(`could not download file`)},r.send()}function GY(e){var t=new XMLHttpRequest;t.open(`HEAD`,e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function KY(e){try{e.dispatchEvent(new MouseEvent(`click`))}catch{var t=document.createEvent(`MouseEvents`);t.initMouseEvent(`click`,!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var qY=VY.saveAs||((typeof window>`u`?`undefined`:tU(window))!==`object`||window!==VY?function(){}:typeof HTMLAnchorElement<`u`&&`download`in HTMLAnchorElement.prototype?function(e,t,n){var r=VY.URL||VY.webkitURL,i=document.createElement(`a`);t=t||e.name||`download`,i.download=t,i.rel=`noopener`,typeof e==`string`?(i.href=e,i.origin===location.origin?KY(i):GY(i.href)?WY(e,t,n):KY(i,i.target=`_blank`)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){KY(i)},0))}:`msSaveOrOpenBlob`in navigator?function(e,t,n){if(t=t||e.name||`download`,typeof e==`string`)if(GY(e))WY(e,t,n);else{var r=document.createElement(`a`);r.href=e,r.target=`_blank`,setTimeout(function(){KY(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return t===void 0?t={autoBom:!1}:tU(t)!==`object`&&(UY.warn(`Deprecated: Expected third argument to be a object`),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([``,e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r||=open(``,`_blank`))&&(r.document.title=r.document.body.innerText=`downloading...`),typeof e==`string`)return WY(e,t,n);var i=e.type===`application/octet-stream`,a=/constructor/i.test(VY.HTMLElement)||VY.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>`u`?`undefined`:tU(FileReader))===`object`){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,`data:attachment/file;`),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var c=VY.URL||VY.webkitURL,l=c.createObjectURL(e);r?r.location=l:location.href=l,r=null,setTimeout(function(){c.revokeObjectURL(l)},4e4)}});function JY(e){var t;e||=``,this.ok=!1,e.charAt(0)==`#`&&(e=e.substr(1,6)),e={aliceblue:`f0f8ff`,antiquewhite:`faebd7`,aqua:`00ffff`,aquamarine:`7fffd4`,azure:`f0ffff`,beige:`f5f5dc`,bisque:`ffe4c4`,black:`000000`,blanchedalmond:`ffebcd`,blue:`0000ff`,blueviolet:`8a2be2`,brown:`a52a2a`,burlywood:`deb887`,cadetblue:`5f9ea0`,chartreuse:`7fff00`,chocolate:`d2691e`,coral:`ff7f50`,cornflowerblue:`6495ed`,cornsilk:`fff8dc`,crimson:`dc143c`,cyan:`00ffff`,darkblue:`00008b`,darkcyan:`008b8b`,darkgoldenrod:`b8860b`,darkgray:`a9a9a9`,darkgreen:`006400`,darkkhaki:`bdb76b`,darkmagenta:`8b008b`,darkolivegreen:`556b2f`,darkorange:`ff8c00`,darkorchid:`9932cc`,darkred:`8b0000`,darksalmon:`e9967a`,darkseagreen:`8fbc8f`,darkslateblue:`483d8b`,darkslategray:`2f4f4f`,darkturquoise:`00ced1`,darkviolet:`9400d3`,deeppink:`ff1493`,deepskyblue:`00bfff`,dimgray:`696969`,dodgerblue:`1e90ff`,feldspar:`d19275`,firebrick:`b22222`,floralwhite:`fffaf0`,forestgreen:`228b22`,fuchsia:`ff00ff`,gainsboro:`dcdcdc`,ghostwhite:`f8f8ff`,gold:`ffd700`,goldenrod:`daa520`,gray:`808080`,green:`008000`,greenyellow:`adff2f`,honeydew:`f0fff0`,hotpink:`ff69b4`,indianred:`cd5c5c`,indigo:`4b0082`,ivory:`fffff0`,khaki:`f0e68c`,lavender:`e6e6fa`,lavenderblush:`fff0f5`,lawngreen:`7cfc00`,lemonchiffon:`fffacd`,lightblue:`add8e6`,lightcoral:`f08080`,lightcyan:`e0ffff`,lightgoldenrodyellow:`fafad2`,lightgrey:`d3d3d3`,lightgreen:`90ee90`,lightpink:`ffb6c1`,lightsalmon:`ffa07a`,lightseagreen:`20b2aa`,lightskyblue:`87cefa`,lightslateblue:`8470ff`,lightslategray:`778899`,lightsteelblue:`b0c4de`,lightyellow:`ffffe0`,lime:`00ff00`,limegreen:`32cd32`,linen:`faf0e6`,magenta:`ff00ff`,maroon:`800000`,mediumaquamarine:`66cdaa`,mediumblue:`0000cd`,mediumorchid:`ba55d3`,mediumpurple:`9370d8`,mediumseagreen:`3cb371`,mediumslateblue:`7b68ee`,mediumspringgreen:`00fa9a`,mediumturquoise:`48d1cc`,mediumvioletred:`c71585`,midnightblue:`191970`,mintcream:`f5fffa`,mistyrose:`ffe4e1`,moccasin:`ffe4b5`,navajowhite:`ffdead`,navy:`000080`,oldlace:`fdf5e6`,olive:`808000`,olivedrab:`6b8e23`,orange:`ffa500`,orangered:`ff4500`,orchid:`da70d6`,palegoldenrod:`eee8aa`,palegreen:`98fb98`,paleturquoise:`afeeee`,palevioletred:`d87093`,papayawhip:`ffefd5`,peachpuff:`ffdab9`,peru:`cd853f`,pink:`ffc0cb`,plum:`dda0dd`,powderblue:`b0e0e6`,purple:`800080`,red:`ff0000`,rosybrown:`bc8f8f`,royalblue:`4169e1`,saddlebrown:`8b4513`,salmon:`fa8072`,sandybrown:`f4a460`,seagreen:`2e8b57`,seashell:`fff5ee`,sienna:`a0522d`,silver:`c0c0c0`,skyblue:`87ceeb`,slateblue:`6a5acd`,slategray:`708090`,snow:`fffafa`,springgreen:`00ff7f`,steelblue:`4682b4`,tan:`d2b48c`,teal:`008080`,thistle:`d8bfd8`,tomato:`ff6347`,turquoise:`40e0d0`,violet:`ee82ee`,violetred:`d02090`,wheat:`f5deb3`,white:`ffffff`,whitesmoke:`f5f5f5`,yellow:`ffff00`,yellowgreen:`9acd32`}[e=(e=e.replace(/ /g,``)).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:[`rgb(123, 234, 45)`,`rgb(255,234,245)`],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:[`#00ff00`,`336699`],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:[`#fb0`,`f0f`],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return`rgb(`+this.r+`, `+this.g+`, `+this.b+`)`},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return e.length==1&&(e=`0`+e),t.length==1&&(t=`0`+t),n.length==1&&(n=`0`+n),`#`+e+t+n}}var YY=VY.atob.bind(VY),XY=VY.btoa.bind(VY);function ZY(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=$Y(n,r,i,a,t[0],7,-680876936),a=$Y(a,n,r,i,t[1],12,-389564586),i=$Y(i,a,n,r,t[2],17,606105819),r=$Y(r,i,a,n,t[3],22,-1044525330),n=$Y(n,r,i,a,t[4],7,-176418897),a=$Y(a,n,r,i,t[5],12,1200080426),i=$Y(i,a,n,r,t[6],17,-1473231341),r=$Y(r,i,a,n,t[7],22,-45705983),n=$Y(n,r,i,a,t[8],7,1770035416),a=$Y(a,n,r,i,t[9],12,-1958414417),i=$Y(i,a,n,r,t[10],17,-42063),r=$Y(r,i,a,n,t[11],22,-1990404162),n=$Y(n,r,i,a,t[12],7,1804603682),a=$Y(a,n,r,i,t[13],12,-40341101),i=$Y(i,a,n,r,t[14],17,-1502002290),n=eX(n,r=$Y(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=eX(a,n,r,i,t[6],9,-1069501632),i=eX(i,a,n,r,t[11],14,643717713),r=eX(r,i,a,n,t[0],20,-373897302),n=eX(n,r,i,a,t[5],5,-701558691),a=eX(a,n,r,i,t[10],9,38016083),i=eX(i,a,n,r,t[15],14,-660478335),r=eX(r,i,a,n,t[4],20,-405537848),n=eX(n,r,i,a,t[9],5,568446438),a=eX(a,n,r,i,t[14],9,-1019803690),i=eX(i,a,n,r,t[3],14,-187363961),r=eX(r,i,a,n,t[8],20,1163531501),n=eX(n,r,i,a,t[13],5,-1444681467),a=eX(a,n,r,i,t[2],9,-51403784),i=eX(i,a,n,r,t[7],14,1735328473),n=tX(n,r=eX(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=tX(a,n,r,i,t[8],11,-2022574463),i=tX(i,a,n,r,t[11],16,1839030562),r=tX(r,i,a,n,t[14],23,-35309556),n=tX(n,r,i,a,t[1],4,-1530992060),a=tX(a,n,r,i,t[4],11,1272893353),i=tX(i,a,n,r,t[7],16,-155497632),r=tX(r,i,a,n,t[10],23,-1094730640),n=tX(n,r,i,a,t[13],4,681279174),a=tX(a,n,r,i,t[0],11,-358537222),i=tX(i,a,n,r,t[3],16,-722521979),r=tX(r,i,a,n,t[6],23,76029189),n=tX(n,r,i,a,t[9],4,-640364487),a=tX(a,n,r,i,t[12],11,-421815835),i=tX(i,a,n,r,t[15],16,530742520),n=nX(n,r=tX(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=nX(a,n,r,i,t[7],10,1126891415),i=nX(i,a,n,r,t[14],15,-1416354905),r=nX(r,i,a,n,t[5],21,-57434055),n=nX(n,r,i,a,t[12],6,1700485571),a=nX(a,n,r,i,t[3],10,-1894986606),i=nX(i,a,n,r,t[10],15,-1051523),r=nX(r,i,a,n,t[1],21,-2054922799),n=nX(n,r,i,a,t[8],6,1873313359),a=nX(a,n,r,i,t[15],10,-30611744),i=nX(i,a,n,r,t[6],15,-1560198380),r=nX(r,i,a,n,t[13],21,1309151649),n=nX(n,r,i,a,t[4],6,-145523070),a=nX(a,n,r,i,t[11],10,-1120210379),i=nX(i,a,n,r,t[2],15,718787259),r=nX(r,i,a,n,t[9],21,-343485551),e[0]=uX(n,e[0]),e[1]=uX(r,e[1]),e[2]=uX(i,e[2]),e[3]=uX(a,e[3])}function QY(e,t,n,r,i,a){return t=uX(uX(t,e),uX(r,a)),uX(t<<i|t>>>32-i,n)}function $Y(e,t,n,r,i,a,o){return QY(t&n|~t&r,e,t,i,a,o)}function eX(e,t,n,r,i,a,o){return QY(t&r|n&~r,e,t,i,a,o)}function tX(e,t,n,r,i,a,o){return QY(t^n^r,e,t,i,a,o)}function nX(e,t,n,r,i,a,o){return QY(n^(t|~r),e,t,i,a,o)}function rX(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ZY(r,iX(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(ZY(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,ZY(r,i),r}function iX(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var aX=`0123456789abcdef`.split(``);function oX(e){for(var t=``,n=0;n<4;n++)t+=aX[e>>8*n+4&15]+aX[e>>8*n&15];return t}function sX(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function cX(e){return rX(e).map(sX).join(``)}var lX=function(e){for(var t=0;t<e.length;t++)e[t]=oX(e[t]);return e.join(``)}(rX(`hello`))!=`5d41402abc4b2a76b9719d911017c592`;function uX(e,t){if(lX){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function dX(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),Array(a+1).join(i)),s=[],c=0;c<256;c++)s[c]=c;var l=0;for(c=0;c<256;c++){var u=s[c];l=(l+u+o.charCodeAt(c))%256,s[c]=s[l],s[l]=u}n=e,r=s}else s=r;var d=t.length,f=0,p=0,m=``;for(c=0;c<d;c++)p=(p+(u=s[f=(f+1)%256]))%256,s[f]=s[p],s[p]=u,o=s[(s[f]+s[p])%256],m+=String.fromCharCode(t.charCodeAt(c)^o);return m}var fX={print:4,modify:8,copy:16,"annot-forms":32};function pX(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(fX.perm!==void 0)throw Error(`Invalid permission: `+e);i+=fX[e]}),this.padding=`(N^NuAd\0NV\b..\0h>/\fdSiz`;var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=cX(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=dX(this.encryptionKey,this.padding)}function mX(e){if(/[^\u0000-\u00ff]/.test(e))throw Error(`Invalid PDF Name Object: `+e+`, Only accept ASCII characters.`);for(var t=``,n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?`#`+(`0`+i.toString(16)).slice(-2):e[r]}return t}function hX(e){if(tU(e)!==`object`)throw Error(`Invalid Context passed to initialize PubSub (jsPDF-module)`);var t={};this.subscribe=function(e,n,r){if(r||=!1,typeof e!=`string`||typeof n!=`function`||typeof r!=`boolean`)throw Error(`Invalid arguments passed to PubSub.subscribe (jsPDF-module)`);t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(e){VY.console&&UY.error(`jsPDF PubSub Error`,e.message,e)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function gX(e){if(!(this instanceof gX))return new gX(e);var t=`opacity,stroke-opacity`.split(`,`);for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id=``,this.objectNumber=-1}function _X(e,t){this.gState=e,this.matrix=t,this.id=``,this.objectNumber=-1}function vX(e,t,n,r,i){if(!(this instanceof vX))return new vX(e,t,n,r,i);this.type=e===`axial`?2:3,this.coords=t,this.colors=n,_X.call(this,r,i)}function yX(e,t,n,r,i){if(!(this instanceof yX))return new yX(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream=``,this.cloneIndex=0,_X.call(this,r,i)}function bX(e){var t,n=typeof arguments[0]==`string`?arguments[0]:`p`,r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,c=16,l=`S`,u=null;tU(e||={})===`object`&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||``,u.ownerPassword=u.ownerPassword||``,u.userPermissions=u.userPermissions||[]),s=typeof e.userUnit==`number`?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),l=e.defaultPathOperation||`S`),o=e.filters||(!0===a?[`FlateEncode`]:o),r||=`mm`,n=(``+(n||`P`)).toLowerCase();var d=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=hX;var m=`1.3`,h=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var _=p.__private__.getPageFormat=function(e){return g[e]};i||=`a4`;var v=`compat`,y=`advanced`,b=v;function x(){this.saveGraphicsState(),W(new Be(xe,0,0,-xe,0,Sn()*xe).toString()+` cm`),this.setFontSize(this.getFontSize()/xe),l=`n`,b=y}function S(){this.restoreGraphicsState(),l=`S`,b=v}var C=p.__private__.combineFontStyleAndFontWeight=function(e,t){if(e==`bold`&&t==`normal`||e==`bold`&&t==400||e==`normal`&&t==`italic`||e==`bold`&&t==`italic`)throw Error(`Invalid Combination of fontweight and fontstyle`);return t&&(e=t==400||t===`normal`?e===`italic`?`italic`:`normal`:t!=700&&t!==`bold`||e!==`normal`?(t==700?`bold`:t)+``+e:`bold`),e};p.advancedAPI=function(e){var t=b===v;return t&&x.call(this),typeof e!=`function`||(e(this),t&&S.call(this)),this},p.compatAPI=function(e){var t=b===y;return t&&S.call(this),typeof e!=`function`||(e(this),t&&x.call(this)),this},p.isAdvancedAPI=function(){return b===y};var w,T=function(e){if(b!==y)throw Error(e+` is only available in 'advanced' API mode. You need to call advancedAPI() first.`)},E=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw Error(`Invalid argument passed to jsPDF.roundToPrecision`);return e.toFixed(r).replace(/0+$/,``)};w=p.hpf=p.__private__.hpf=typeof c==`number`?function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.hpf`);return E(e,c)}:c===`smart`?function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.hpf`);return E(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.hpf`);return E(e,16)};var D=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.f2`);return E(e,2)},O=p.__private__.f3=function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.f3`);return E(e,3)},k=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.scale`);return b===v?e*xe:b===y?e:void 0},A=function(e){return k(function(e){return b===v?Sn()-e:b===y?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){typeof parseInt(e,10)==`number`&&(t=parseInt(e,10))};var j,M=`00000000000000000000000000000000`,N=p.__private__.getFileId=function(){return M},P=p.__private__.setFileId=function(e){return M=e!==void 0&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():M.split(``).map(function(){return`ABCDEF0123456789`.charAt(Math.floor(16*Math.random()))}).join(``),u!==null&&(Dt=new pX(u.userPermissions,u.userPassword,u.ownerPassword,M)),M};p.setFileId=function(e){return P(e),this},p.getFileId=function(){return N()};var F=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?`+`:`-`,r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),a=[n,ee(r),`'`,ee(i),`'`].join(``);return[`D:`,e.getFullYear(),ee(e.getMonth()+1),ee(e.getDate()),ee(e.getHours()),ee(e.getMinutes()),ee(e.getSeconds()),a].join(``)},I=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,a,o,0)},L=p.__private__.setCreationDate=function(e){var t;if(e===void 0&&(e=new Date),e instanceof Date)t=F(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw Error(`Invalid argument passed to jsPDF.setCreationDate`);t=e}return j=t},R=p.__private__.getCreationDate=function(e){var t=j;return e===`jsDate`&&(t=I(j)),t};p.setCreationDate=function(e){return L(e),this},p.getCreationDate=function(e){return R(e)};var z,ee=p.__private__.padd2=function(e){return(`0`+parseInt(e)).slice(-2)},B=p.__private__.padd2Hex=function(e){return(`00`+(e=e.toString())).substr(e.length)},V=0,te=[],H=[],ne=0,re=[],ie=[],U=!1,ae=H;p.__private__.setCustomOutputDestination=function(e){U=!0,ae=e};var oe=function(e){U||(ae=e)};p.__private__.resetCustomOutputDestination=function(){U=!1,ae=H};var W=p.__private__.out=function(e){return e=e.toString(),ne+=e.length+1,ae.push(e),ae},se=p.__private__.write=function(e){return W(arguments.length===1?e.toString():Array.prototype.join.call(arguments,` `))},ce=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},le=[[`Helvetica`,`helvetica`,`normal`,`WinAnsiEncoding`],[`Helvetica-Bold`,`helvetica`,`bold`,`WinAnsiEncoding`],[`Helvetica-Oblique`,`helvetica`,`italic`,`WinAnsiEncoding`],[`Helvetica-BoldOblique`,`helvetica`,`bolditalic`,`WinAnsiEncoding`],[`Courier`,`courier`,`normal`,`WinAnsiEncoding`],[`Courier-Bold`,`courier`,`bold`,`WinAnsiEncoding`],[`Courier-Oblique`,`courier`,`italic`,`WinAnsiEncoding`],[`Courier-BoldOblique`,`courier`,`bolditalic`,`WinAnsiEncoding`],[`Times-Roman`,`times`,`normal`,`WinAnsiEncoding`],[`Times-Bold`,`times`,`bold`,`WinAnsiEncoding`],[`Times-Italic`,`times`,`italic`,`WinAnsiEncoding`],[`Times-BoldItalic`,`times`,`bolditalic`,`WinAnsiEncoding`],[`ZapfDingbats`,`zapfdingbats`,`normal`,null],[`Symbol`,`symbol`,`normal`,null]];p.__private__.getStandardFonts=function(){return le};var ue=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return ue=b===y?e/xe:e,this};var de,fe=p.__private__.getFontSize=p.getFontSize=function(){return b===v?ue:ue*xe},pe=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return pe=e,this},p.__private__.getR2L=p.getR2L=function(){return pe};var me,he=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))de=e;else if(isNaN(e)){if([void 0,null,`fullwidth`,`fullheight`,`fullpage`,`original`].indexOf(e)===-1)throw Error(`zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "`+e+`" is not recognized.`);de=e}else de=parseInt(e,10)};p.__private__.getZoomMode=function(){return de};var ge,_e=p.__private__.setPageMode=function(e){if([void 0,null,`UseNone`,`UseOutlines`,`UseThumbs`,`FullScreen`].indexOf(e)==-1)throw Error(`Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "`+e+`" is not recognized.`);me=e};p.__private__.getPageMode=function(){return me};var ve=p.__private__.setLayoutMode=function(e){if([void 0,null,`continuous`,`single`,`twoleft`,`tworight`,`two`].indexOf(e)==-1)throw Error(`Layout mode must be one of continuous, single, twoleft, tworight. "`+e+`" is not recognized.`);ge=e};p.__private__.getLayoutMode=function(){return ge},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return he(e),ve(t),_e(n),this};var ye={title:``,subject:``,author:``,keywords:``,creator:``};p.__private__.getDocumentProperty=function(e){if(Object.keys(ye).indexOf(e)===-1)throw Error(`Invalid argument passed to jsPDF.getDocumentProperty`);return ye[e]},p.__private__.getDocumentProperties=function(){return ye},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in ye)ye.hasOwnProperty(t)&&e[t]&&(ye[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(Object.keys(ye).indexOf(e)===-1)throw Error(`Invalid arguments passed to jsPDF.setDocumentProperty`);return ye[e]=t};var be,xe,Se,Ce,we,Te={},Ee={},De=[],Oe={},ke={},Ae={},je={},Me=null,Ne=0,Pe=[],Fe=new hX(p),Ie=e.hotfixes||[],Le={},Re={},ze=[],Be=function e(t,n,r,i,a,o){if(!(this instanceof e))return new e(t,n,r,i,a,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,i,a,o]};Object.defineProperty(Be.prototype,`sx`,{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Be.prototype,`shy`,{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Be.prototype,`shx`,{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Be.prototype,`sy`,{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Be.prototype,`tx`,{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Be.prototype,`ty`,{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Be.prototype,`a`,{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Be.prototype,`b`,{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Be.prototype,`c`,{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Be.prototype,`d`,{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Be.prototype,`e`,{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Be.prototype,`f`,{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Be.prototype,`rotation`,{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,`scaleX`,{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,`scaleY`,{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,`isIdentity`,{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(w).join(e)},Be.prototype.multiply=function(e){return new Be(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},Be.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=Math.sqrt(e*e+t*t),s=(e/=o)*n+(t/=o)*r;n-=e*s,r-=t*s;var c=Math.sqrt(n*n+r*r);return s/=c,e*(r/=c)<t*(n/=c)&&(e=-e,t=-t,s=-s,o=-o),{scale:new Be(o,0,0,c,0,0),translate:new Be(1,0,0,1,i,a),rotate:new Be(e,t,-t,e,0,0),skew:new Be(1,0,s,1,0,0)}},Be.prototype.toString=function(e){return this.join(` `)},Be.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=1/(e*r-t*n),s=r*o,c=-t*o,l=-n*o,u=e*o;return new Be(s,c,l,u,-s*i-l*a,-c*i-u*a)},Be.prototype.applyToPoint=function(e){return new dn(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},Be.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new dn(e.x+e.w,e.y+e.h));return new fn(t.x,t.y,n.x-t.x,n.y-t.y)},Be.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty;return new Be(e,t,n,r,i,a)},p.Matrix=Be;var Ve=p.matrixMult=function(e,t){return t.multiply(e)},He=new Be(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=He;var Ue=function(e,t){if(!ke[e]){var n=(t instanceof vX?`Sh`:`P`)+(Object.keys(Oe).length+1).toString(10);t.id=n,ke[e]=n,Oe[n]=t,Fe.publish(`addPattern`,t)}};p.ShadingPattern=vX,p.TilingPattern=yX,p.addShadingPattern=function(e,t){return T(`addShadingPattern()`),Ue(e,t),this},p.beginTilingPattern=function(e){T(`beginTilingPattern()`),mn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){T(`endTilingPattern()`),t.stream=ie[z].join(`
`),Ue(e,t),Fe.publish(`endTilingPattern`,t),ze.pop().restore()};var We,Ge=p.__private__.newObject=function(){var e=Ke();return qe(e,!0),e},Ke=p.__private__.newObjectDeferred=function(){return V++,te[V]=function(){return ne},V},qe=function(e,t){return t=typeof t==`boolean`&&t,te[e]=ne,t&&W(e+` 0 obj`),e},Je=p.__private__.newAdditionalObject=function(){var e={objId:Ke(),content:``};return re.push(e),e},Ye=Ke(),Xe=Ke(),Ze=p.__private__.decodeColorString=function(e){var t=e.split(` `);if(t.length!==2||t[1]!==`g`&&t[1]!==`G`)t.length!==5||t[4]!==`k`&&t[4]!==`K`||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),`r`]);else{var n=parseFloat(t[0]);t=[n,n,n,`r`]}for(var r=`#`,i=0;i<3;i++)r+=(`0`+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Qe=p.__private__.encodeColorString=function(e){var t;typeof e==`string`&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,a=e.ch4,o=e.pdfColorType===`draw`?[`G`,`RG`,`K`]:[`g`,`rg`,`k`];if(typeof n==`string`&&n.charAt(0)!==`#`){var s=new JY(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw Error(`Invalid color "`+n+`" passed to jsPDF.encodeColorString.`)}if(typeof n==`string`&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n=`#`+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),typeof n==`string`&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,r=c>>8&255,i=255&c}if(r===void 0||a===void 0&&n===r&&r===i)t=typeof n==`string`?n+` `+o[0]:e.precision===2?D(n/255)+` `+o[0]:O(n/255)+` `+o[0];else if(a===void 0||tU(a)===`object`){if(a&&!isNaN(a.a)&&a.a===0)return[`1.`,`1.`,`1.`,o[1]].join(` `);t=typeof n==`string`?[n,r,i,o[1]].join(` `):e.precision===2?[D(n/255),D(r/255),D(i/255),o[1]].join(` `):[O(n/255),O(r/255),O(i/255),o[1]].join(` `)}else t=typeof n==`string`?[n,r,i,a,o[2]].join(` `):e.precision===2?[D(n),D(r),D(i),D(a),o[2]].join(` `):[O(n),O(r),O(i),O(a),o[2]].join(` `);return t},$e=p.__private__.getFilters=function(){return o},et=p.__private__.putStream=function(e){var t=(e||={}).data||``,n=e.filters||$e(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,a=t.length,o=e.objectId,s=function(e){return e};if(u!==null&&o===void 0)throw Error(`ObjectId must be passed to putStream for file encryption`);u!==null&&(s=Dt.encryptor(o,0));var c={};!0===n&&(n=[`FlateEncode`]);var l=e.additionalKeyValues||[],d=(c=bX.API.processDataByFilters===void 0?{data:t,reverseChain:[]}:bX.API.processDataByFilters(t,n)).reverseChain+(Array.isArray(r)?r.join(` `):r.toString());if(c.data.length!==0&&(l.push({key:`Length`,value:c.data.length}),!0===i&&l.push({key:`Length1`,value:a})),d.length!=0)if(d.split(`/`).length-1==1)l.push({key:`Filter`,value:d});else{l.push({key:`Filter`,value:`[`+d+`]`});for(var f=0;f<l.length;f+=1)if(l[f].key===`DecodeParms`){for(var p=[],m=0;m<c.reverseChain.split(`/`).length-1;m+=1)p.push(`null`);p.push(l[f].value),l[f].value=`[`+p.join(` `)+`]`}}W(`<<`);for(var h=0;h<l.length;h++)W(`/`+l[h].key+` `+l[h].value);W(`>>`),c.data.length!==0&&(W(`stream`),W(s(c.data)),W(`endstream`))},tt=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;qe(r,!0),W(`<</Type /Page`),W(`/Parent `+e.rootDictionaryObjId+` 0 R`),W(`/Resources `+e.resourceDictionaryObjId+` 0 R`),W(`/MediaBox [`+parseFloat(w(e.mediaBox.bottomLeftX))+` `+parseFloat(w(e.mediaBox.bottomLeftY))+` `+w(e.mediaBox.topRightX)+` `+w(e.mediaBox.topRightY)+`]`),e.cropBox!==null&&W(`/CropBox [`+w(e.cropBox.bottomLeftX)+` `+w(e.cropBox.bottomLeftY)+` `+w(e.cropBox.topRightX)+` `+w(e.cropBox.topRightY)+`]`),e.bleedBox!==null&&W(`/BleedBox [`+w(e.bleedBox.bottomLeftX)+` `+w(e.bleedBox.bottomLeftY)+` `+w(e.bleedBox.topRightX)+` `+w(e.bleedBox.topRightY)+`]`),e.trimBox!==null&&W(`/TrimBox [`+w(e.trimBox.bottomLeftX)+` `+w(e.trimBox.bottomLeftY)+` `+w(e.trimBox.topRightX)+` `+w(e.trimBox.topRightY)+`]`),e.artBox!==null&&W(`/ArtBox [`+w(e.artBox.bottomLeftX)+` `+w(e.artBox.bottomLeftY)+` `+w(e.artBox.topRightX)+` `+w(e.artBox.topRightY)+`]`),typeof e.userUnit==`number`&&e.userUnit!==1&&W(`/UserUnit `+e.userUnit),Fe.publish(`putPage`,{objId:r,pageContext:Pe[t],pageNumber:t,page:n}),W(`/Contents `+i+` 0 R`),W(`>>`),W(`endobj`);var a=n.join(`
`);return b===y&&(a+=`
Q`),qe(i,!0),et({data:a,filters:$e(),objectId:i}),W(`endobj`),r},nt=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Ne;e++)Pe[e].objId=Ke(),Pe[e].contentsObjId=Ke();for(e=1;e<=Ne;e++)n.push(tt({number:e,data:ie[e],objId:Pe[e].objId,contentsObjId:Pe[e].contentsObjId,mediaBox:Pe[e].mediaBox,cropBox:Pe[e].cropBox,bleedBox:Pe[e].bleedBox,trimBox:Pe[e].trimBox,artBox:Pe[e].artBox,userUnit:Pe[e].userUnit,rootDictionaryObjId:Ye,resourceDictionaryObjId:Xe}));qe(Ye,!0),W(`<</Type /Pages`);var r=`/Kids [`;for(t=0;t<Ne;t++)r+=n[t]+` 0 R `;W(r+`]`),W(`/Count `+Ne),W(`>>`),W(`endobj`),Fe.publish(`postPutPages`)},rt=function(e){Fe.publish(`putFont`,{font:e,out:W,newObject:Ge,putStream:et}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ge(),W(`<<`),W(`/Type /Font`),W(`/BaseFont /`+mX(e.postScriptName)),W(`/Subtype /Type1`),typeof e.encoding==`string`&&W(`/Encoding /`+e.encoding),W(`/FirstChar 32`),W(`/LastChar 255`),W(`>>`),W(`endobj`))},it=function(e){e.objectNumber=Ge();var t=[];t.push({key:`Type`,value:`/XObject`}),t.push({key:`Subtype`,value:`/Form`}),t.push({key:`BBox`,value:`[`+[w(e.x),w(e.y),w(e.x+e.width),w(e.y+e.height)].join(` `)+`]`}),t.push({key:`Matrix`,value:`[`+e.matrix.toString()+`]`}),et({data:e.pages[1].join(`
`),additionalKeyValues:t,objectId:e.objectNumber}),W(`endobj`)},at=function(e,t){t||=21;var n=Ge(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),e[0].offset!=0){var a={offset:0,color:e[0].color};e.unshift(a)}if(e[e.length-1].offset!=1){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var s=``,c=0,l=0;l<r.length;l++){for(n=r[l];n>e[c+1].offset;)c++;var u=e[c].offset,d=(n-u)/(e[c+1].offset-u),f=e[c].color,p=e[c+1].color;s+=B(Math.round((1-d)*f[0]+d*p[0]).toString(16))+B(Math.round((1-d)*f[1]+d*p[1]).toString(16))+B(Math.round((1-d)*f[2]+d*p[2]).toString(16))}return s.trim()}(e.colors,t),i=[];i.push({key:`FunctionType`,value:`0`}),i.push({key:`Domain`,value:`[0.0 1.0]`}),i.push({key:`Size`,value:`[`+t+`]`}),i.push({key:`BitsPerSample`,value:`8`}),i.push({key:`Range`,value:`[0.0 1.0 0.0 1.0 0.0 1.0]`}),i.push({key:`Decode`,value:`[0.0 1.0 0.0 1.0 0.0 1.0]`}),et({data:r,additionalKeyValues:i,alreadyAppliedFilters:[`/ASCIIHexDecode`],objectId:n}),W(`endobj`),e.objectNumber=Ge(),W(`<< /ShadingType `+e.type),W(`/ColorSpace /DeviceRGB`);var a=`/Coords [`+w(parseFloat(e.coords[0]))+` `+w(parseFloat(e.coords[1]))+` `;e.type===2?a+=w(parseFloat(e.coords[2]))+` `+w(parseFloat(e.coords[3])):a+=w(parseFloat(e.coords[2]))+` `+w(parseFloat(e.coords[3]))+` `+w(parseFloat(e.coords[4]))+` `+w(parseFloat(e.coords[5])),W(a+=`]`),e.matrix&&W(`/Matrix [`+e.matrix.toString()+`]`),W(`/Function `+n+` 0 R`),W(`/Extend [true true]`),W(`>>`),W(`endobj`)},ot=function(e,t){var n=Ke(),r=Ge();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:`Type`,value:`/Pattern`}),i.push({key:`PatternType`,value:`1`}),i.push({key:`PaintType`,value:`1`}),i.push({key:`TilingType`,value:`1`}),i.push({key:`BBox`,value:`[`+e.boundingBox.map(w).join(` `)+`]`}),i.push({key:`XStep`,value:w(e.xStep)}),i.push({key:`YStep`,value:w(e.yStep)}),i.push({key:`Resources`,value:n+` 0 R`}),e.matrix&&i.push({key:`Matrix`,value:`[`+e.matrix.toString()+`]`}),et({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),W(`endobj`)},st=function(e){for(var t in e.objectNumber=Ge(),W(`<<`),e)switch(t){case`opacity`:W(`/ca `+D(e[t]));break;case`stroke-opacity`:W(`/CA `+D(e[t]))}W(`>>`),W(`endobj`)},ct=function(e){qe(e.resourcesOid,!0),W(`<<`),W(`/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]`),function(){for(var e in W(`/Font <<`),Te)Te.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&W(`/`+e+` `+Te[e].objectNumber+` 0 R`);W(`>>`)}(),function(){if(Object.keys(Oe).length>0){for(var e in W(`/Shading <<`),Oe)Oe.hasOwnProperty(e)&&Oe[e]instanceof vX&&Oe[e].objectNumber>=0&&W(`/`+e+` `+Oe[e].objectNumber+` 0 R`);Fe.publish(`putShadingPatternDict`),W(`>>`)}}(),function(e){if(Object.keys(Oe).length>0){for(var t in W(`/Pattern <<`),Oe)Oe.hasOwnProperty(t)&&Oe[t]instanceof p.TilingPattern&&Oe[t].objectNumber>=0&&Oe[t].objectNumber<e&&W(`/`+t+` `+Oe[t].objectNumber+` 0 R`);Fe.publish(`putTilingPatternDict`),W(`>>`)}}(e.objectOid),function(){if(Object.keys(Ae).length>0){for(var e in W(`/ExtGState <<`),Ae)Ae.hasOwnProperty(e)&&Ae[e].objectNumber>=0&&W(`/`+e+` `+Ae[e].objectNumber+` 0 R`);Fe.publish(`putGStateDict`),W(`>>`)}}(),function(){for(var e in W(`/XObject <<`),Le)Le.hasOwnProperty(e)&&Le[e].objectNumber>=0&&W(`/`+e+` `+Le[e].objectNumber+` 0 R`);Fe.publish(`putXobjectDict`),W(`>>`)}(),W(`>>`),W(`endobj`)},lt=function(e){Ee[e.fontName]=Ee[e.fontName]||{},Ee[e.fontName][e.fontStyle]=e.id},ut=function(e,t,n,r,i){var a={id:`F`+(Object.keys(Te).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Fe.publish(`addFont`,{font:a,instance:this}),Te[a.id]=a,lt(a),a.id},dt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,i,a,o,s,c,l,u;if(i=(t||={}).sourceEncoding||`Unicode`,o=t.outputEncoding,(t.autoencode||o)&&Te[be].metadata&&Te[be].metadata[i]&&Te[be].metadata[i].encoding&&(a=Te[be].metadata[i].encoding,!o&&Te[be].encoding&&(o=Te[be].encoding),!o&&a.codePages&&(o=a.codePages[0]),typeof o==`string`&&(o=a[o]),o)){for(c=!1,s=[],n=0,r=e.length;n<r;n++)(l=o[e.charCodeAt(n)])?s.push(String.fromCharCode(l)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(c=!0);e=s.join(``)}for(n=e.length;c===void 0&&n!==0;)e.charCodeAt(n-1)>>8&&(c=!0),n--;if(!c)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((u=(l=e.charCodeAt(n))>>8)>>8)throw Error(`Character at position `+n+` of string '`+e+`' exceeds 16bits. Cannot be encoded into UCS-2 BE`);s.push(u),s.push(l-(u<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,`\\\\`).replace(/\(/g,`\\(`).replace(/\)/g,`\\)`)},ft=p.__private__.beginPage=function(e){ie[++Ne]=[],Pe[Ne]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ht(Ne),oe(ie[z])},pt=function(e,t){var r,a,o;switch(n=t||n,typeof e==`string`&&(r=_(e.toLowerCase()),Array.isArray(r)&&(a=r[0],o=r[1])),Array.isArray(e)&&(a=e[0]*xe,o=e[1]*xe),isNaN(a)&&(a=i[0],o=i[1]),(a>14400||o>14400)&&(UY.warn(`A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400`),a=Math.min(14400,a),o=Math.min(14400,o)),i=[a,o],n.substr(0,1)){case`l`:o>a&&(i=[o,a]);break;case`p`:a>o&&(i=[o,a])}ft(i),qt(Gt),W(tn),cn!==0&&W(cn+` J`),ln!==0&&W(ln+` j`),Fe.publish(`addPage`,{pageNumber:Ne})},mt=function(e){e>0&&e<=Ne&&(ie.splice(e,1),Pe.splice(e,1),Ne--,z>Ne&&(z=Ne),this.setPage(z))},ht=function(e){e>0&&e<=Ne&&(z=e)},gt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ie.length-1},_t=function(e,t,n){var r,i=void 0;return n||={},e=e===void 0?Te[be].fontName:e,t=t===void 0?Te[be].fontStyle:t,r=e.toLowerCase(),Ee[r]!==void 0&&Ee[r][t]!==void 0?i=Ee[r][t]:Ee[e]!==void 0&&Ee[e][t]!==void 0?i=Ee[e][t]:!1===n.disableWarning&&UY.warn(`Unable to look up font label for font '`+e+`', '`+t+`'. Refer to getFontList() for available fonts.`),i||n.noFallback||((i=Ee.times[t])??(i=Ee.times.normal)),i},vt=p.__private__.putInfo=function(){var e=Ge(),t=function(e){return e};for(var n in u!==null&&(t=Dt.encryptor(e,0)),W(`<<`),W(`/Producer (`+dt(t(`jsPDF `+bX.version))+`)`),ye)ye.hasOwnProperty(n)&&ye[n]&&W(`/`+n.substr(0,1).toUpperCase()+n.substr(1)+` (`+dt(t(ye[n]))+`)`);W(`/CreationDate (`+dt(t(j))+`)`),W(`>>`),W(`endobj`)},yt=p.__private__.putCatalog=function(e){var t=(e||={}).rootDictionaryObjId||Ye;switch(Ge(),W(`<<`),W(`/Type /Catalog`),W(`/Pages `+t+` 0 R`),de||=`fullwidth`,de){case`fullwidth`:W(`/OpenAction [3 0 R /FitH null]`);break;case`fullheight`:W(`/OpenAction [3 0 R /FitV null]`);break;case`fullpage`:W(`/OpenAction [3 0 R /Fit]`);break;case`original`:W(`/OpenAction [3 0 R /XYZ null null 1]`);break;default:var n=``+de;n.substr(n.length-1)===`%`&&(de=parseInt(de)/100),typeof de==`number`&&W(`/OpenAction [3 0 R /XYZ null null `+D(de)+`]`)}switch(ge||=`continuous`,ge){case`continuous`:W(`/PageLayout /OneColumn`);break;case`single`:W(`/PageLayout /SinglePage`);break;case`two`:case`twoleft`:W(`/PageLayout /TwoColumnLeft`);break;case`tworight`:W(`/PageLayout /TwoColumnRight`)}me&&W(`/PageMode /`+me),Fe.publish(`putCatalog`),W(`>>`),W(`endobj`)},bt=p.__private__.putTrailer=function(){W(`trailer`),W(`<<`),W(`/Size `+(V+1)),W(`/Root `+V+` 0 R`),W(`/Info `+(V-1)+` 0 R`),u!==null&&W(`/Encrypt `+Dt.oid+` 0 R`),W(`/ID [ <`+M+`> <`+M+`> ]`),W(`>>`)},xt=p.__private__.putHeader=function(){W(`%PDF-`+m),W(`%`)},St=p.__private__.putXRef=function(){var e=`0000000000`;W(`xref`),W(`0 `+(V+1)),W(`0000000000 65535 f `);for(var t=1;t<=V;t++)typeof te[t]==`function`?W((e+te[t]()).slice(-10)+` 00000 n `):te[t]===void 0?W(`0000000000 00000 n `):W((e+te[t]).slice(-10)+` 00000 n `)},Ct=p.__private__.buildDocument=function(){var e;V=0,ne=0,H=[],te=[],re=[],Ye=Ke(),Xe=Ke(),oe(H),Fe.publish(`buildDocument`),xt(),nt(),function(){Fe.publish(`putAdditionalObjects`);for(var e=0;e<re.length;e++){var t=re[e];qe(t.objId,!0),W(t.content),W(`endobj`)}Fe.publish(`postPutAdditionalObjects`)}(),e=[],function(){for(var e in Te)Te.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&rt(Te[e])}(),function(){for(var e in Ae)Ae.hasOwnProperty(e)&&st(Ae[e])}(),function(){for(var e in Le)Le.hasOwnProperty(e)&&it(Le[e])}(),function(e){for(var t in Oe)Oe.hasOwnProperty(t)&&(Oe[t]instanceof vX?at(Oe[t]):Oe[t]instanceof yX&&ot(Oe[t],e))}(e),Fe.publish(`putResources`),e.forEach(ct),ct({resourcesOid:Xe,objectOid:2**53-1}),Fe.publish(`postPutResources`),u!==null&&(Dt.oid=Ge(),W(`<<`),W(`/Filter /Standard`),W(`/V `+Dt.v),W(`/R `+Dt.r),W(`/U <`+Dt.toHexString(Dt.U)+`>`),W(`/O <`+Dt.toHexString(Dt.O)+`>`),W(`/P `+Dt.P),W(`>>`),W(`endobj`)),vt(),yt();var t=ne;return St(),bt(),W(`startxref`),W(``+t),W(`%%EOF`),oe(ie[z]),H.join(`
`)},wt=p.__private__.getBlob=function(e){return new Blob([ce(e)],{type:`application/pdf`})},Tt=p.output=p.__private__.output=(We=function(e,t){switch(typeof(t||={})==`string`?t={filename:t}:t.filename=t.filename||`generated.pdf`,e){case void 0:return Ct();case`save`:p.save(t.filename);break;case`arraybuffer`:return ce(Ct());case`blob`:return wt(Ct());case`bloburi`:case`bloburl`:if(VY.URL!==void 0&&typeof VY.URL.createObjectURL==`function`)return VY.URL&&VY.URL.createObjectURL(wt(Ct()))||void 0;UY.warn(`bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.`);break;case`datauristring`:case`dataurlstring`:var n=``,r=Ct();try{n=XY(r)}catch{n=XY(unescape(encodeURIComponent(r)))}return`data:application/pdf;filename=`+t.filename+`;base64,`+n;case`pdfobjectnewwindow`:if(Object.prototype.toString.call(VY)===`[object Window]`){var i=`https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js`,a=` integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"`;t.pdfObjectUrl&&(i=t.pdfObjectUrl,a=``);var o=`<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="`+i+`"`+a+`><\/script><script >PDFObject.embed("`+this.output(`dataurlstring`)+`", `+JSON.stringify(t)+`);<\/script></body></html>`,s=VY.open();return s!==null&&s.document.write(o),s}throw Error(`The option pdfobjectnewwindow just works in a browser-environment.`);case`pdfjsnewwindow`:if(Object.prototype.toString.call(VY)===`[object Window]`){var c=`<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="`+(t.pdfJsUrl||`examples/PDF.js/web/viewer.html`)+`?file=&downloadName=`+t.filename+`" width="500px" height="400px" /></body></html>`,l=VY.open();if(l!==null){l.document.write(c);var u=this;l.document.documentElement.querySelector(`#pdfViewer`).onload=function(){l.document.title=t.filename,l.document.documentElement.querySelector(`#pdfViewer`).contentWindow.PDFViewerApplication.open(u.output(`bloburl`))}}return l}throw Error(`The option pdfjsnewwindow just works in a browser-environment.`);case`dataurlnewwindow`:if(Object.prototype.toString.call(VY)!==`[object Window]`)throw Error(`The option dataurlnewwindow just works in a browser-environment.`);var d=`<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="`+this.output(`datauristring`,t)+`"></iframe></body></html>`,f=VY.open();if(f!==null&&(f.document.write(d),f.document.title=t.filename),f||typeof safari>`u`)return f;break;case`datauri`:case`dataurl`:return VY.document.location.href=this.output(`datauristring`,t);default:return null}},We.foo=function(){try{return We.apply(this,arguments)}catch(n){var e=n.stack||``;~e.indexOf(` at `)&&(e=e.split(` at `)[1]);var t=`Error in function `+e.split(`
`)[0].split(`<`)[0]+`: `+n.message;if(!VY.console)throw Error(t);VY.console.error(t,n),VY.alert&&alert(t)}},We.foo.bar=We,We.foo),Et=function(e){return!0===Array.isArray(Ie)&&Ie.indexOf(e)>-1};switch(r){case`pt`:xe=1;break;case`mm`:xe=72/25.4;break;case`cm`:xe=72/2.54;break;case`in`:xe=72;break;case`px`:xe=Et(`px_scaling`)==1?.75:96/72;break;case`pc`:case`em`:xe=12;break;case`ex`:xe=6;break;default:if(typeof r!=`number`)throw Error(`Invalid unit: `+r);xe=r}var Dt=null;L(),P();var Ot=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw Error(`Invalid argument passed to jsPDF.getPageInfo`);return{objId:Pe[e].objId,pageNumber:e,pageContext:Pe[e]}},kt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw Error(`Invalid argument passed to jsPDF.getPageInfoByObjId`);for(var t in Pe)if(Pe[t].objId===e)break;return Ot(t)},At=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Pe[z].objId,pageNumber:z,pageContext:Pe[z]}};p.addPage=function(){return pt.apply(this,arguments),this},p.setPage=function(){return ht.apply(this,arguments),oe.call(this,ie[z]),this},p.insertPage=function(e){return this.addPage(),this.movePage(z,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=ie[e],r=Pe[e];for(var i=e;i>t;i--)ie[i]=ie[i-1],Pe[i]=Pe[i-1];ie[t]=n,Pe[t]=r,this.setPage(t)}else if(e<t){n=ie[e],r=Pe[e];for(var a=e;a<t;a++)ie[a]=ie[a+1],Pe[a]=Pe[a+1];ie[t]=n,Pe[t]=r,this.setPage(t)}return this},p.deletePage=function(){return mt.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,i){var a,o,s,c,l,u,d,p,m,h=(r||={}).scope||this;if(typeof e==`number`&&typeof t==`number`&&(typeof n==`string`||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Be==0?(s=arguments[4],c=arguments[5],tU(d=arguments[3])===`object`&&d!==null||(typeof s==`string`&&(c=s,s=null),typeof d==`string`&&(c=d,d=null),typeof d==`number`&&(s=d,d=null),r={flags:d,angle:s,align:c})):(T(`The transform parameter of text() with a Matrix value`),m=i),isNaN(t)||isNaN(n)||e==null)throw Error(`Invalid arguments passed to jsPDF.text`);if(e.length===0)return h;var _,v=``,x=typeof r.lineHeightFactor==`number`?r.lineHeightFactor:Wt,S=h.internal.scaleFactor;function C(e){return e=e.split(`	`).join(Array(r.TabLen||9).join(` `)),dt(e,d)}function E(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)typeof(t=n.shift())==`string`?r.push(t):Array.isArray(e)&&(t.length===1||t[1]===void 0&&t[2]===void 0)?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function D(e,t){var n;if(typeof e==`string`)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,a=e.concat(),o=[],s=a.length;s--;)typeof(r=a.shift())==`string`?o.push(t(r)[0]):Array.isArray(r)&&typeof r[0]==`string`&&(i=t(r[0],r[1],r[2]),o.push([i[0],i[1],i[2]]));n=o}return n}var O=!1,A=!0;if(typeof e==`string`)O=!0;else if(Array.isArray(e)){var j=e.concat();o=[];for(var M,N=j.length;N--;)(typeof(M=j.shift())!=`string`||Array.isArray(M)&&typeof M[0]!=`string`)&&(A=!1);O=A}if(!1===O)throw Error(`Type of text must be string or Array. "`+e+`" is not recognized.`);typeof e==`string`&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var P=ue/h.internal.scaleFactor,F=P*(x-1);switch(r.baseline){case`bottom`:n-=F;break;case`top`:n+=P-F;break;case`hanging`:n+=P-2*F;break;case`middle`:n+=P/2-F}if((u=r.maxWidth||0)>0&&(typeof e==`string`?e=h.splitTextToSize(e,u):Object.prototype.toString.call(e)===`[object Array]`&&(e=e.reduce(function(e,t){return e.concat(h.splitTextToSize(t,u))},[]))),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:dt,activeFontKey:be,fonts:Te,activeFontSize:ue}},Fe.publish(`preProcessText`,a),e=a.text,s=(r=a.options).angle,m instanceof Be==0&&s&&typeof s==`number`){s*=Math.PI/180,r.rotationDirection===0&&(s=-s),b===y&&(s=-s);var I=Math.cos(s),L=Math.sin(s);m=new Be(I,L,-L,I,0,0)}else s&&s instanceof Be&&(m=s);b!==y||m||(m=He),(l=r.charSpace||on)!==void 0&&(v+=w(k(l))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(p=r.horizontalScale)!==void 0&&(v+=w(100*p)+` Tz
`),r.lang;var R=-1,z=r.renderingMode===void 0?r.stroke:r.renderingMode,ee=h.internal.getCurrentPageInfo().pageContext;switch(z){case 0:case!1:case`fill`:R=0;break;case 1:case!0:case`stroke`:R=1;break;case 2:case`fillThenStroke`:R=2;break;case 3:case`invisible`:R=3;break;case 4:case`fillAndAddForClipping`:R=4;break;case 5:case`strokeAndAddPathForClipping`:R=5;break;case 6:case`fillThenStrokeAndAddToPathForClipping`:R=6;break;case 7:case`addToPathForClipping`:R=7}var B=ee.usedRenderingMode===void 0?-1:ee.usedRenderingMode;R===-1?B!==-1&&(v+=`0 Tr
`):v+=R+` Tr
`,R!==-1&&(ee.usedRenderingMode=R),c=r.align||`left`;var V,te=ue*x,H=h.internal.pageSize.getWidth(),ne=Te[be];l=r.charSpace||on,u=r.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},r.flags);var re=[],ie=function(e){return h.getStringUnitWidth(e,{font:ne,charSpace:l,fontSize:ue,doKerning:!1})*ue/S};if(Object.prototype.toString.call(e)===`[object Array]`){var U;o=E(e),c!==`left`&&(V=o.map(ie));var ae,oe=0;if(c===`right`){t-=V[0],e=[],N=o.length;for(var se=0;se<N;se++)se===0?(ae=Zt(t),U=Qt(n)):(ae=k(oe-V[se]),U=-te),e.push([o[se],ae,U]),oe=V[se]}else if(c===`center`){t-=V[0]/2,e=[],N=o.length;for(var ce=0;ce<N;ce++)ce===0?(ae=Zt(t),U=Qt(n)):(ae=k((oe-V[ce])/2),U=-te),e.push([o[ce],ae,U]),oe=V[ce]}else if(c===`left`){e=[],N=o.length;for(var le=0;le<N;le++)e.push(o[le])}else if(c===`justify`&&ne.encoding===`Identity-H`){e=[],N=o.length,u=u===0?H:u;for(var de=0,fe=0;fe<N;fe++)if(U=fe===0?Qt(n):-te,ae=fe===0?Zt(t):de,fe<N-1){var me=k((u-V[fe])/(o[fe].split(` `).length-1)),he=o[fe].split(` `);e.push([he[0]+` `,ae,U]),de=0;for(var ge=1;ge<he.length;ge++){var _e=(ie(he[ge-1]+` `+he[ge])-ie(he[ge]))*S+me;ge==he.length-1?e.push([he[ge],_e,0]):e.push([he[ge]+` `,_e,0]),de-=_e}}else e.push([o[fe],ae,U]);e.push([``,de,0])}else{if(c!==`justify`)throw Error(`Unrecognized alignment option, use "left", "center", "right" or "justify".`);for(e=[],N=o.length,u=u===0?H:u,fe=0;fe<N;fe++){U=fe===0?Qt(n):-te,ae=fe===0?Zt(t):0;var ve=o[fe].split(` `).length-1,ye=ve>0?(u-V[fe])/ve:0;fe<N-1?re.push(w(k(ye))):re.push(0),e.push([o[fe],ae,U])}}}!0===(typeof r.R2L==`boolean`?r.R2L:pe)&&(e=D(e,function(e,t,n){return[e.split(``).reverse().join(``),t,n]})),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:dt,activeFontKey:be,fonts:Te,activeFontSize:ue}},Fe.publish(`postProcessText`,a),e=a.text,_=a.mutex.isHex||!1;var xe=Te[be].encoding;xe!==`WinAnsiEncoding`&&xe!==`StandardEncoding`||(e=D(e,function(e,t,n){return[C(e),t,n]})),o=E(e),e=[];for(var Se,Ce,we,Ee=Array.isArray(o[0])?1:0,De=``,Oe=function(e,t,n){var i=``;return n instanceof Be?(n=typeof r.angle==`number`?Ve(n,new Be(1,0,0,1,e,t)):Ve(new Be(1,0,0,1,e,t),n),b===y&&(n=Ve(new Be(1,0,0,-1,0,0),n)),i=n.join(` `)+` Tm
`):i=w(e)+` `+w(t)+` Td
`,i},ke=0;ke<o.length;ke++){switch(De=``,Ee){case 1:we=(_?`<`:`(`)+o[ke][0]+(_?`>`:`)`),Se=parseFloat(o[ke][1]),Ce=parseFloat(o[ke][2]);break;case 0:we=(_?`<`:`(`)+o[ke]+(_?`>`:`)`),Se=Zt(t),Ce=Qt(n)}re!==void 0&&re[ke]!==void 0&&(De=re[ke]+` Tw
`),ke===0?e.push(De+Oe(Se,Ce,m)+we):Ee===0?e.push(De+we):Ee===1&&e.push(De+Oe(Se,Ce,m)+we)}e=Ee===0?e.join(` Tj
T* `):e.join(` Tj
`),e+=` Tj
`;var Ae=`BT
/`;return Ae+=be+` `+ue+` Tf
`,Ae+=w(ue*x)+` TL
`,Ae+=rn+`
`,Ae+=v,Ae+=e,W(Ae+=`ET`),f[be]=!0,h};var jt=p.__private__.clip=p.clip=function(e){return W(e===`evenodd`?`W*`:`W`),this};p.clipEvenOdd=function(){return jt(`evenodd`)},p.__private__.discardPath=p.discardPath=function(){return W(`n`),this};var Mt=p.__private__.isValidStyle=function(e){var t=!1;return[void 0,null,`S`,`D`,`F`,`DF`,`FD`,`f`,`f*`,`B`,`B*`,`n`].indexOf(e)!==-1&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Mt(e)&&(l=e),this};var Nt=p.__private__.getStyle=p.getStyle=function(e){var t=l;switch(e){case`D`:case`S`:t=`S`;break;case`F`:t=`f`;break;case`FD`:case`DF`:t=`B`;break;case`f`:case`f*`:case`B`:case`B*`:t=e}return t},Pt=p.close=function(){return W(`h`),this};p.stroke=function(){return W(`S`),this},p.fill=function(e){return Ft(`f`,e),this},p.fillEvenOdd=function(e){return Ft(`f*`,e),this},p.fillStroke=function(e){return Ft(`B`,e),this},p.fillStrokeEvenOdd=function(e){return Ft(`B*`,e),this};var Ft=function(e,t){tU(t)===`object`?Rt(t,e):W(e)},It=function(e){e===null||b===y&&e===void 0||(e=Nt(e),W(e))};function Lt(e,t,n,r,i){var a=new yX(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);return a.stream=this.stream,Ue(e+`$$`+ this.cloneIndex+++`$$`,a),a}var Rt=function(e,t){var n=ke[e.key],r=Oe[n];if(r instanceof vX)W(`q`),W(zt(t)),r.gState&&p.setGState(r.gState),W(e.matrix.toString()+` cm`),W(`/`+n+` sh`),W(`Q`);else if(r instanceof yX){var i=new Be(1,0,0,-1,0,Sn());e.matrix&&(i=i.multiply(e.matrix||He),n=Lt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),W(`q`),W(`/Pattern cs`),W(`/`+n+` scn`),r.gState&&p.setGState(r.gState),W(t),W(`Q`)}},zt=function(e){switch(e){case`f`:case`F`:case`n`:return`W n`;case`f*`:return`W* n`;case`B`:case`S`:return`W S`;case`B*`:return`W* S`}},Bt=p.moveTo=function(e,t){return W(w(k(e))+` `+w(A(t))+` m`),this},Vt=p.lineTo=function(e,t){return W(w(k(e))+` `+w(A(t))+` l`),this},Ht=p.curveTo=function(e,t,n,r,i,a){return W([w(k(e)),w(A(t)),w(k(n)),w(A(r)),w(k(i)),w(A(a)),`c`].join(` `)),this};p.__private__.line=p.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Mt(i))throw Error(`Invalid arguments passed to jsPDF.line`);return b===v?this.lines([[n-e,r-t]],e,t,[1,1],i||`S`):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,i,a){var o,s,c,l,u,d,f,p,m,h,g,_;if(typeof e==`number`&&(_=n,n=t,t=e,e=_),r||=[1,1],a||=!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Mt(i)||typeof a!=`boolean`)throw Error(`Invalid arguments passed to jsPDF.lines`);for(Bt(t,n),o=r[0],s=r[1],l=e.length,h=t,g=n,c=0;c<l;c++)(u=e[c]).length===2?(h=u[0]*o+h,g=u[1]*s+g,Vt(h,g)):(d=u[0]*o+h,f=u[1]*s+g,p=u[2]*o+h,m=u[3]*s+g,h=u[4]*o+h,g=u[5]*s+g,Ht(d,f,p,m,h,g));return a&&Pt(),It(i),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case`m`:Bt(r[0],r[1]);break;case`l`:Vt(r[0],r[1]);break;case`c`:Ht.apply(this,r);break;case`h`:Pt()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Mt(i))throw Error(`Invalid arguments passed to jsPDF.rect`);return b===v&&(r=-r),W([w(k(e)),w(A(t)),w(k(n)),w(k(r)),`re`].join(` `)),It(i),this},p.__private__.triangle=p.triangle=function(e,t,n,r,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Mt(o))throw Error(`Invalid arguments passed to jsPDF.triangle`);return this.lines([[n-e,r-t],[i-n,a-r],[e-i,t-a]],e,t,[1,1],o,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Mt(o))throw Error(`Invalid arguments passed to jsPDF.roundedRect`);var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*i,0],[i*s,0,i,a-a*s,i,a],[0,r-2*a],[0,a*s,-i*s,a,-i,a],[2*i-n,0],[-i*s,0,-i,-a*s,-i,-a],[0,2*a-r],[0,-a*s,i*s,-a,i,-a]],e+i,t,[1,1],o,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Mt(i))throw Error(`Invalid arguments passed to jsPDF.ellipse`);var a=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Bt(e+n,t),Ht(e+n,t-o,e+a,t-r,e,t-r),Ht(e-a,t-r,e-n,t-o,e-n,t),Ht(e-n,t+o,e-a,t+r,e,t+r),Ht(e+a,t+r,e+n,t+o,e+n,t),It(i),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Mt(r))throw Error(`Invalid arguments passed to jsPDF.circle`);return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=C(t,n)),be=_t(e,t,{disableWarning:!1}),this};var Ut=p.__private__.getFont=p.getFont=function(){return Te[_t.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in Ee)if(Ee.hasOwnProperty(e))for(t in n[e]=[],Ee[e])Ee[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,i){var a=[`StandardEncoding`,`MacRomanEncoding`,`Identity-H`,`WinAnsiEncoding`];return arguments[3]&&a.indexOf(arguments[3])!==-1?i=arguments[3]:arguments[3]&&a.indexOf(arguments[3])==-1&&(n=C(n,r)),ut.call(this,e,t,n,i||=`Identity-H`)};var Wt,Gt=e.lineWidth||.200025,Kt=p.__private__.getLineWidth=p.getLineWidth=function(){return Gt},qt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Gt=e,W(w(k(e))+` w`),this};p.__private__.setLineDash=bX.API.setLineDash=bX.API.setLineDashPattern=function(e,t){if(e||=[],t||=0,isNaN(t)||!Array.isArray(e))throw Error(`Invalid arguments passed to jsPDF.setLineDash`);return e=e.map(function(e){return w(k(e))}).join(` `),t=w(k(t)),W(`[`+e+`] `+t+` d`),this};var Jt=p.__private__.getLineHeight=p.getLineHeight=function(){return ue*Wt};p.__private__.getLineHeight=p.getLineHeight=function(){return ue*Wt};var Yt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return typeof(e||=1.15)==`number`&&(Wt=e),this},Xt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Wt};Yt(e.lineHeight);var Zt=p.__private__.getHorizontalCoordinate=function(e){return k(e)},Qt=p.__private__.getVerticalCoordinate=function(e){return b===y?e:Pe[z].mediaBox.topRightY-Pe[z].mediaBox.bottomLeftY-k(e)},$t=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return w(Zt(e))},en=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return w(Qt(e))},tn=e.strokeColor||`0 G`;p.__private__.getStrokeColor=p.getDrawColor=function(){return Ze(tn)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return tn=Qe({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:`draw`,precision:2}),W(tn),this};var nn=e.fillColor||`0 g`;p.__private__.getFillColor=p.getFillColor=function(){return Ze(nn)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return nn=Qe({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:`fill`,precision:2}),W(nn),this};var rn=e.textColor||`0 g`,an=p.__private__.getTextColor=p.getTextColor=function(){return Ze(rn)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return rn=Qe({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:`text`,precision:3}),this};var on=e.charSpace,sn=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(on||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw Error(`Invalid argument passed to jsPDF.setCharSpace`);return on=e,this};var cn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(t===void 0)throw Error(`Line cap style of '`+e+`' is not recognized. See or extend .CapJoinStyles property for valid styles`);return cn=t,W(t+` J`),this};var ln=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(t===void 0)throw Error(`Line join style of '`+e+`' is not recognized. See or extend .CapJoinStyles property for valid styles`);return ln=t,W(t+` j`),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e||=0,isNaN(e))throw Error(`Invalid argument passed to jsPDF.setLineMiterLimit`);return W(w(k(e))+` M`),this},p.GState=gX,p.setGState=function(e){(e=typeof e==`string`?Ae[je[e]]:un(null,e)).equals(Me)||(W(`/`+e.id+` gs`),Me=e)};var un=function(e,t){if(!e||!je[e]){var n=!1;for(var r in Ae)if(Ae.hasOwnProperty(r)&&Ae[r].equals(t)){n=!0;break}if(n)t=Ae[r];else{var i=`GS`+(Object.keys(Ae).length+1).toString(10);Ae[i]=t,t.id=i}return e&&(je[e]=t.id),Fe.publish(`addGState`,t),t}};p.addGState=function(e,t){return un(e,t),this},p.saveGraphicsState=function(){return W(`q`),De.push({key:be,size:ue,color:rn}),this},p.restoreGraphicsState=function(){W(`Q`);var e=De.pop();return be=e.key,ue=e.size,rn=e.color,Me=null,this},p.setCurrentTransformationMatrix=function(e){return W(e.toString()+` cm`),this},p.comment=function(e){return W(`#`+e),this};var dn=function(e,t){var n=e||0;Object.defineProperty(this,`x`,{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,`y`,{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i=`pt`;return Object.defineProperty(this,`type`,{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},fn=function(e,t,n,r){dn.call(this,e,t),this.type=`rect`;var i=n||0;Object.defineProperty(this,`w`,{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a=r||0;return Object.defineProperty(this,`h`,{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},pn=function(){this.page=Ne,this.currentPage=z,this.pages=ie.slice(0),this.pagesContext=Pe.slice(0),this.x=Se,this.y=Ce,this.matrix=we,this.width=gn(z),this.height=vn(z),this.outputDestination=ae,this.id=``,this.objectNumber=-1};pn.prototype.restore=function(){Ne=this.page,z=this.currentPage,Pe=this.pagesContext,ie=this.pages,Se=this.x,Ce=this.y,we=this.matrix,_n(z,this.width),yn(z,this.height),ae=this.outputDestination};var mn=function(e,t,n,r,i){ze.push(new pn),Ne=z=0,ie=[],Se=e,Ce=t,we=i,ft([n,r])};for(var hn in p.beginFormObject=function(e,t,n,r,i){return mn(e,t,n,r,i),this},p.endFormObject=function(e){return function(e){if(Re[e])ze.pop().restore();else{var t=new pn,n=`Xo`+(Object.keys(Le).length+1).toString(10);t.id=n,Re[e]=n,Le[n]=t,Fe.publish(`addFormObject`,t),ze.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Le[Re[e]];return W(`q`),W(t.toString()+` cm`),W(`/`+n.id+` Do`),W(`Q`),this},p.getFormObject=function(e){var t=Le[Re[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e||=`generated.pdf`,(t||={}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(qY(wt(Ct()),e),typeof qY.unload==`function`&&VY.setTimeout&&setTimeout(qY.unload,911),this):new Promise(function(t,n){try{var r=qY(wt(Ct()),e);typeof qY.unload==`function`&&VY.setTimeout&&setTimeout(qY.unload,911),t(r)}catch(e){n(e.message)}})},bX.API)bX.API.hasOwnProperty(hn)&&(hn===`events`&&bX.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;i!==-1;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat(typeof r==`function`?[r]:r))}(Fe,bX.API.events):p[hn]=bX.API[hn]);function gn(e){return Pe[e].mediaBox.topRightX-Pe[e].mediaBox.bottomLeftX}function _n(e,t){Pe[e].mediaBox.topRightX=t+Pe[e].mediaBox.bottomLeftX}function vn(e){return Pe[e].mediaBox.topRightY-Pe[e].mediaBox.bottomLeftY}function yn(e,t){Pe[e].mediaBox.topRightY=t+Pe[e].mediaBox.bottomLeftY}var bn=p.getPageWidth=function(e){return gn(e||=z)/xe},xn=p.setPageWidth=function(e,t){_n(e,t*xe)},Sn=p.getPageHeight=function(e){return vn(e||=z)/xe},Cn=p.setPageHeight=function(e,t){yn(e,t*xe)};return p.internal={pdfEscape:dt,getStyle:Nt,getFont:Ut,getFontSize:fe,getCharSpace:sn,getTextColor:an,getLineHeight:Jt,getLineHeightFactor:Xt,getLineWidth:Kt,write:se,getHorizontalCoordinate:Zt,getVerticalCoordinate:Qt,getCoordinateString:$t,getVerticalCoordinateString:en,collections:{},newObject:Ge,newAdditionalObject:Je,newObjectDeferred:Ke,newObjectDeferredBegin:qe,getFilters:$e,putStream:et,events:Fe,scaleFactor:xe,pageSize:{getWidth:function(){return bn(z)},setWidth:function(e){xn(z,e)},getHeight:function(){return Sn(z)},setHeight:function(e){Cn(z,e)}},encryptionOptions:u,encryption:Dt,getEncryptor:function(e){return u===null?function(e){return e}:Dt.encryptor(e,0)},output:Tt,getNumberOfPages:gt,get pages(){return ie},out:W,f2:D,f3:O,getPageInfo:Ot,getPageInfoByObjId:kt,getCurrentPageInfo:At,getPDFVersion:h,Point:dn,Rectangle:fn,Matrix:Be,hasHotfix:Et},Object.defineProperty(p.internal.pageSize,`width`,{get:function(){return bn(z)},set:function(e){xn(z,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,`height`,{get:function(){return Sn(z)},set:function(e){Cn(z,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=le.length;t<n;t++){var r=ut.call(this,e[t][0],e[t][1],e[t][2],le[t][3],!0);!1===d&&(f[r]=!0);var i=e[t][0].split(`-`);lt({id:r,fontName:i[0],fontStyle:i[1]||``})}Fe.publish(`addFonts`,{fonts:Te,dictionary:Ee})}.call(p,le),be=`F1`,pt(i,n),Fe.publish(`initialized`),p}pX.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},pX.prototype.toHexString=function(e){return e.split(``).map(function(e){return(`0`+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join(``)},pX.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join(``)},pX.prototype.processOwnerPassword=function(e,t){return dX(cX(t).substr(0,5),e)},pX.prototype.encryptor=function(e,t){var n=cX(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return dX(n,e)}},gX.prototype.equals=function(e){var t,n=`id,objectNumber,equals`;if(!e||tU(e)!==tU(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},bX.API={events:[]},bX.version=`4.1.0`;var xX=bX.API,SX=1,CX=function(e){return e.replace(/\\/g,`\\\\`).replace(/\(/g,`\\(`).replace(/\)/g,`\\)`)},wX=function(e){return e.replace(/\\\\/g,`\\`).replace(/\\\(/g,`(`).replace(/\\\)/g,`)`)},TX=function(e){return e.toString().replace(/#/g,`#23`).replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return`#`+(t.length===1?`0`+t:t)})},EX=function(e){return e.toFixed(2)},DX=function(e){return e.toFixed(5)};xX.__acroform__={};var OX=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kX=function(e){return e*SX},AX=function(e){var t=new qX,n=sZ.internal.getHeight(e)||0,r=sZ.internal.getWidth(e)||0;return t.BBox=[0,0,Number(EX(r)),Number(EX(n))],t},jX=xX.__acroform__.setBit=function(e,t){if(e||=0,t||=0,isNaN(e)||isNaN(t))throw Error(`Invalid arguments passed to jsPDF.API.__acroform__.setBit`);return e|1<<t},MX=xX.__acroform__.clearBit=function(e,t){if(e||=0,t||=0,isNaN(e)||isNaN(t))throw Error(`Invalid arguments passed to jsPDF.API.__acroform__.clearBit`);return e&~(1<<t)},NX=xX.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid arguments passed to jsPDF.API.__acroform__.getBit`);return e&1<<t?1:0},PX=xX.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf`);return NX(e,t-1)},FX=xX.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf`);return jX(e,t-1)},IX=xX.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf`);return MX(e,t-1)},LX=xX.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+s)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(a)||0,[Number(EX(c.lowerLeft_X)),Number(EX(c.lowerLeft_Y)),Number(EX(c.upperRight_X)),Number(EX(c.upperRight_Y))]},RX=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=zX(e,e._V||e.DV),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push(`/Tx BMC`),t.push(`q`),t.push(`BT`),t.push(e.scope.__private__.encodeColorString(e.color)),t.push(`/`+r+` `+EX(n.fontSize)+` Tf`),t.push(`1 0 0 1 0 0 Tm`),t.push(n.text),t.push(`ET`),t.push(`Q`),t.push(`EMC`);var i=AX(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},zX=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:``,fontSize:``},i=(t=(t=t.substr(0,1)==`(`?t.substr(1):t).substr(t.length-1)==`)`?t.substr(0,t.length-1):t).split(` `);i=e.multiline?i.map(function(e){return e.split(`
`)}):i.map(function(e){return[e]});var a=n,o=sZ.internal.getHeight(e)||0;o=o<0?-o:o;var s=sZ.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(t,n,r){return t+1<i.length?BX(n+` `+i[t+1][0],e,r).width<=s-4:!1};a++;t:for(;a>0;){t=``,a--;var l,u,d=BX(`3`,e,a).height,f=e.multiline?o-a:(o-d)/2,p=f+=2,m=0,h=0,g=0;if(a<=0){t=`(...) Tj
`,t+=`% Width of Text: `+BX(t,e,a=12).width+`, FieldWidth:`+s+`
`;break}for(var _=``,v=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(i[y].length!==1&&g!==i[y].length-1){if((d+2)*(v+2)+2>o)continue t;_+=i[y][g],b=!0,h=y,y--}else{_=(_+=i[y][g]+` `).substr(_.length-1)==` `?_.substr(0,_.length-1):_;var x=parseInt(y),S=c(x,_,a),C=y>=i.length-1;if(S&&!C){_+=` `,g=0;continue}if(S||C){if(C)h=x;else if(e.multiline&&(d+2)*(v+2)+2>o)continue t}else{if(!e.multiline||(d+2)*(v+2)+2>o)continue t;h=x}}for(var w=``,T=m;T<=h;T++){var E=i[T];if(e.multiline){if(T===h){w+=E[g]+` `,g=(g+1)%E.length;continue}if(T===m){w+=E[E.length-1]+` `;continue}}w+=E[0]+` `}switch(w=w.substr(w.length-1)==` `?w.substr(0,w.length-1):w,u=BX(w,e,a).width,e.textAlign){case`right`:l=s-u-2;break;case`center`:l=(s-u)/2;break;default:l=2}t+=EX(l)+` `+EX(p)+` Td
`,t+=`(`+CX(w)+`) Tj
`,t+=-EX(l)+` 0 Td
`,p=-(a+2),u=0,m=b?h:h+1,v++,_=``}break}return r.text=t,r.fontSize=a,r},BX=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth(`3`,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},VX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HX=function(e,t){var n={type:`reference`,object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},UX=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||!1===e.internal.acroformPlugin.isInitialized)){if(YX.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(VX)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw Error(`Exception while creating AcroformDictionary`);SX=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new JX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe(`postPutResources`,function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe(`buildDocument`,function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&HX(r,e)}})(e)}),e.internal.events.subscribe(`putCatalog`,function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw Error(`putCatalogCallback: Root missing.`);e.internal.write(`/AcroForm `+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+` 0 R`)})(e)}),e.internal.events.subscribe(`postPutPages`,function(t){(function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e||=t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],a=[],o=i.Rect;if(i.Rect&&=LX(i.Rect,t),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=sZ.createDefaultAppearanceStream(i),tU(i)===`object`&&typeof i.getKeyValueListForStream==`function`&&(a=i.getKeyValueListForStream()),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=RX(i);a.push({key:`AP`,value:`<</N `+s+`>>`}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var c=``;for(var l in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(l)){var u=i.appearanceStreamContent[l];if(c+=`/`+l+` `,c+=`<<`,Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var d=u[r];typeof d==`function`&&(d=d.call(t,i)),c+=`/`+r+` `+d+` `,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else typeof(d=u)==`function`&&(d=d.call(t,i)),c+=`/`+r+` `+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);c+=`>>`}a.push({key:`AP`,value:`<<
`+c+`>>`})}t.internal.putStream({additionalKeyValues:a,objectId:i.objId}),t.internal.out(`endobj`)}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),tU(i)===`object`&&typeof i.putStream==`function`&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},WX=xX.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i=`[`,a=0;a<e.length;a++)switch(a!==0&&(i+=` `),tU(e[a])){case`boolean`:case`number`:case`object`:i+=e[a].toString();break;case`string`:e[a].substr(0,1)===`/`?i+=`/`+TX(e[a].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+=`(`+CX(r(e[a].toString()))+`)`)}return i+`]`}throw Error(`Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray`)},GX=function(e,t,n){var r=function(e){return e};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e||=``).toString(),`(`+CX(r(e))+`)`},KX=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,`objId`,{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,`scope`,{value:this._scope,writable:!0})};KX.prototype.toString=function(){return this.objId+` 0 R`},KX.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out(`endobj`)},KX.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return e!=`content`&&e!=`appearanceStreamContent`&&e!=`scope`&&e!=`objId`&&e.substring(0,1)!=`_`});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:WX(i,this.objId,this.scope)}):i instanceof KX?(i.scope=this.scope,e.push({key:r,value:i.objId+` 0 R`})):typeof i!=`function`&&e.push({key:r,value:i}))}return e};var qX=function(){KX.call(this),Object.defineProperty(this,`Type`,{value:`/XObject`,configurable:!1,writable:!0}),Object.defineProperty(this,`Subtype`,{value:`/Form`,configurable:!1,writable:!0}),Object.defineProperty(this,`FormType`,{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,`BBox`,{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,`Resources`,{value:`2 0 R`,configurable:!1,writable:!0}),Object.defineProperty(this,`stream`,{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};OX(qX,KX);var JX=function(){KX.call(this);var e,t=[];Object.defineProperty(this,`Kids`,{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,`Fields`,{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,`DA`,{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),`(`+CX(t(e))+`)`}},set:function(t){e=t}})};OX(JX,KX);var YX=function e(){KX.call(this);var t=4;Object.defineProperty(this,`F`,{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw Error(`Invalid value "`+e+`" for attribute F supplied.`);t=e}}),Object.defineProperty(this,`showWhenPrinted`,{enumerable:!0,configurable:!0,get:function(){return!!PX(t,3)},set:function(e){!!e==1?this.F=FX(t,3):this.F=IX(t,3)}});var n=0;Object.defineProperty(this,`Ff`,{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw Error(`Invalid value "`+e+`" for attribute Ff supplied.`);n=e}});var r=[];Object.defineProperty(this,`Rect`,{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(e){r=e===void 0?[]:e}}),Object.defineProperty(this,`x`,{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,`y`,{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,`width`,{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,`height`,{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i=``;Object.defineProperty(this,`FT`,{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case`/Btn`:case`/Tx`:case`/Ch`:case`/Sig`:i=e;break;default:throw Error(`Invalid value "`+e+`" for attribute FT supplied.`)}}});var a=null;Object.defineProperty(this,`T`,{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof rZ)return;a=`FieldObject`+ e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),`(`+CX(t(a))+`)`},set:function(e){a=e.toString()}}),Object.defineProperty(this,`fieldName`,{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var o=`helvetica`;Object.defineProperty(this,`fontName`,{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var s=`normal`;Object.defineProperty(this,`fontStyle`,{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var c=0;Object.defineProperty(this,`fontSize`,{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var l=void 0;Object.defineProperty(this,`maxFontSize`,{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/SX:l},set:function(e){l=e}});var u=`black`;Object.defineProperty(this,`color`,{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var d=`/F1 0 Tf 0 g`;Object.defineProperty(this,`DA`,{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof rZ||this instanceof aZ))return GX(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var f=null;Object.defineProperty(this,`DV`,{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof eZ==0?GX(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof eZ==0?e.substr(0,1)===`(`?wX(e.substr(1,e.length-2)):wX(e):e}}),Object.defineProperty(this,`defaultValue`,{enumerable:!0,configurable:!0,get:function(){return this instanceof eZ==1?wX(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof eZ==1?`/`+TX(e):e}});var p=null;Object.defineProperty(this,`_V`,{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,`V`,{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof eZ==0?GX(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof eZ==0?e.substr(0,1)===`(`?wX(e.substr(1,e.length-2)):wX(e):e}}),Object.defineProperty(this,`value`,{enumerable:!0,configurable:!0,get:function(){return this instanceof eZ==1?wX(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof eZ==1?`/`+TX(e):e}}),Object.defineProperty(this,`hasAnnotation`,{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,`Type`,{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?`/Annot`:null}}),Object.defineProperty(this,`Subtype`,{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?`/Widget`:null}});var m,h=!1;Object.defineProperty(this,`hasAppearanceStream`,{enumerable:!0,configurable:!0,get:function(){return h},set:function(e){e=!!e,h=e}}),Object.defineProperty(this,`page`,{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,`readOnly`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,1)},set:function(e){!!e==1?this.Ff=FX(this.Ff,1):this.Ff=IX(this.Ff,1)}}),Object.defineProperty(this,`required`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,2)},set:function(e){!!e==1?this.Ff=FX(this.Ff,2):this.Ff=IX(this.Ff,2)}}),Object.defineProperty(this,`noExport`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,3)},set:function(e){!!e==1?this.Ff=FX(this.Ff,3):this.Ff=IX(this.Ff,3)}});var g=null;Object.defineProperty(this,`Q`,{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(e){if([0,1,2].indexOf(e)===-1)throw Error(`Invalid value "`+e+`" for attribute Q supplied.`);g=e}}),Object.defineProperty(this,`textAlign`,{get:function(){var e;switch(g){case 0:default:e=`left`;break;case 1:e=`center`;break;case 2:e=`right`}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case`right`:case 2:g=2;break;case`center`:case 1:g=1;break;default:g=0}}})};OX(YX,KX);var XX=function(){YX.call(this),this.FT=`/Ch`,this.V=`()`,this.fontName=`zapfdingbats`;var e=0;Object.defineProperty(this,`TI`,{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,`topIndex`,{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,`Opt`,{enumerable:!0,configurable:!1,get:function(){return WX(t,this.objId,this.scope)},set:function(e){var n,r=[];typeof(n=e)==`string`&&(r=function(e,t,n){n||=1;for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e||=``).toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n||=!1,e=(e||=``).toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,`combo`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,18)},set:function(e){!!e==1?this.Ff=FX(this.Ff,18):this.Ff=IX(this.Ff,18)}}),Object.defineProperty(this,`edit`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,19)},set:function(e){!0===this.combo&&(!!e==1?this.Ff=FX(this.Ff,19):this.Ff=IX(this.Ff,19))}}),Object.defineProperty(this,`sort`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,20)},set:function(e){!!e==1?(this.Ff=FX(this.Ff,20),t.sort()):this.Ff=IX(this.Ff,20)}}),Object.defineProperty(this,`multiSelect`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,22)},set:function(e){!!e==1?this.Ff=FX(this.Ff,22):this.Ff=IX(this.Ff,22)}}),Object.defineProperty(this,`doNotSpellCheck`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,23)},set:function(e){!!e==1?this.Ff=FX(this.Ff,23):this.Ff=IX(this.Ff,23)}}),Object.defineProperty(this,`commitOnSelChange`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,27)},set:function(e){!!e==1?this.Ff=FX(this.Ff,27):this.Ff=IX(this.Ff,27)}}),this.hasAppearanceStream=!1};OX(XX,YX);var ZX=function(){XX.call(this),this.fontName=`helvetica`,this.combo=!1};OX(ZX,XX);var QX=function(){ZX.call(this),this.combo=!0};OX(QX,ZX);var $X=function(){QX.call(this),this.edit=!0};OX($X,QX);var eZ=function(){YX.call(this),this.FT=`/Btn`,Object.defineProperty(this,`noToggleToOff`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,15)},set:function(e){!!e==1?this.Ff=FX(this.Ff,15):this.Ff=IX(this.Ff,15)}}),Object.defineProperty(this,`radio`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,16)},set:function(e){!!e==1?this.Ff=FX(this.Ff,16):this.Ff=IX(this.Ff,16)}}),Object.defineProperty(this,`pushButton`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,17)},set:function(e){!!e==1?this.Ff=FX(this.Ff,17):this.Ff=IX(this.Ff,17)}}),Object.defineProperty(this,`radioIsUnison`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,26)},set:function(e){!!e==1?this.Ff=FX(this.Ff,26):this.Ff=IX(this.Ff,26)}});var e,t={};Object.defineProperty(this,`MK`,{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push(`<<`),t)r.push(`/`+n+` (`+CX(e(t[n]))+`)`);return r.push(`>>`),r.join(`
`)}},set:function(e){tU(e)===`object`&&(t=e)}}),Object.defineProperty(this,`caption`,{enumerable:!0,configurable:!0,get:function(){return t.CA||``},set:function(e){typeof e==`string`&&(t.CA=e)}}),Object.defineProperty(this,`AS`,{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,`appearanceState`,{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e=`/`+TX(t)}})};OX(eZ,YX);var tZ=function(){eZ.call(this),this.pushButton=!0};OX(tZ,eZ);var nZ=function(){eZ.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,`Kids`,{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t===void 0?[]:t}})};OX(nZ,eZ);var rZ=function(){var e,t;YX.call(this),Object.defineProperty(this,`Parent`,{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,`optionName`,{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,`MK`,{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push(`<<`),r)n.push(`/`+t+` (`+CX(e(r[t]))+`)`);return n.push(`>>`),n.join(`
`)},set:function(e){tU(e)===`object`&&(r=e)}}),Object.defineProperty(this,`caption`,{enumerable:!0,configurable:!0,get:function(){return r.CA||``},set:function(e){typeof e==`string`&&(r.CA=e)}}),Object.defineProperty(this,`AS`,{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,`appearanceState`,{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n=`/`+e}}),this.caption=`l`,this.appearanceState=`Off`,this._AppearanceType=sZ.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};OX(rZ,YX),nZ.prototype.setAppearance=function(e){if(!(`createAppearanceStream`in e)||!(`getCA`in e))throw Error(`Couldn't assign Appearance to RadioButton. Appearance was Invalid!`);for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},nZ.prototype.createOption=function(e){var t=new rZ;return t.Parent=this,t.optionName=e,this.Kids.push(t),cZ.call(this.scope,t),t};var iZ=function(){eZ.call(this),this.fontName=`zapfdingbats`,this.caption=`3`,this.appearanceState=`On`,this.value=`On`,this.textAlign=`center`,this.appearanceStreamContent=sZ.CheckBox.createAppearanceStream()};OX(iZ,eZ);var aZ=function(){YX.call(this),this.FT=`/Tx`,Object.defineProperty(this,`multiline`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,13)},set:function(e){!!e==1?this.Ff=FX(this.Ff,13):this.Ff=IX(this.Ff,13)}}),Object.defineProperty(this,`fileSelect`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,21)},set:function(e){!!e==1?this.Ff=FX(this.Ff,21):this.Ff=IX(this.Ff,21)}}),Object.defineProperty(this,`doNotSpellCheck`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,23)},set:function(e){!!e==1?this.Ff=FX(this.Ff,23):this.Ff=IX(this.Ff,23)}}),Object.defineProperty(this,`doNotScroll`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,24)},set:function(e){!!e==1?this.Ff=FX(this.Ff,24):this.Ff=IX(this.Ff,24)}}),Object.defineProperty(this,`comb`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,25)},set:function(e){!!e==1?this.Ff=FX(this.Ff,25):this.Ff=IX(this.Ff,25)}}),Object.defineProperty(this,`richText`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,26)},set:function(e){!!e==1?this.Ff=FX(this.Ff,26):this.Ff=IX(this.Ff,26)}});var e=null;Object.defineProperty(this,`MaxLen`,{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,`maxLength`,{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,`hasAppearanceStream`,{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};OX(aZ,YX);var oZ=function(){aZ.call(this),Object.defineProperty(this,`password`,{enumerable:!0,configurable:!0,get:function(){return!!PX(this.Ff,14)},set:function(e){!!e==1?this.Ff=FX(this.Ff,14):this.Ff=IX(this.Ff,14)}}),this.password=!0};OX(oZ,aZ);var sZ={CheckBox:{createAppearanceStream:function(){return{N:{On:sZ.CheckBox.YesNormal},D:{On:sZ.CheckBox.YesPushDown,Off:sZ.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=AX(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=zX(e,e.caption);return n.push(`0.749023 g`),n.push(`0 0 `+EX(sZ.internal.getWidth(e))+` `+EX(sZ.internal.getHeight(e))+` re`),n.push(`f`),n.push(`BMC`),n.push(`q`),n.push(`0 0 1 rg`),n.push(`/`+r+` `+EX(a.fontSize)+` Tf `+i),n.push(`BT`),n.push(a.text),n.push(`ET`),n.push(`Q`),n.push(`EMC`),t.stream=n.join(`
`),t},YesNormal:function(e){var t=AX(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=sZ.internal.getHeight(e),o=sZ.internal.getWidth(e),s=zX(e,e.caption);return i.push(`1 g`),i.push(`0 0 `+EX(o)+` `+EX(a)+` re`),i.push(`f`),i.push(`q`),i.push(`0 0 1 rg`),i.push(`0 0 `+EX(o-1)+` `+EX(a-1)+` re`),i.push(`W`),i.push(`n`),i.push(`0 g`),i.push(`BT`),i.push(`/`+n+` `+EX(s.fontSize)+` Tf `+r),i.push(s.text),i.push(`ET`),i.push(`Q`),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=AX(e);t.scope=e.scope;var n=[];return n.push(`0.749023 g`),n.push(`0 0 `+EX(sZ.internal.getWidth(e))+` `+EX(sZ.internal.getHeight(e))+` re`),n.push(`f`),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:sZ.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=sZ.RadioButton.Circle.YesNormal,t.D[e]=sZ.RadioButton.Circle.YesPushDown,t},getCA:function(){return`l`},YesNormal:function(e){var t=AX(e);t.scope=e.scope;var n=[],r=sZ.internal.getWidth(e)<=sZ.internal.getHeight(e)?sZ.internal.getWidth(e)/4:sZ.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=sZ.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push(`q`),n.push(`1 0 0 1 `+DX(sZ.internal.getWidth(e)/2)+` `+DX(sZ.internal.getHeight(e)/2)+` cm`),n.push(r+` 0 m`),n.push(r+` `+a+` `+a+` `+r+` 0 `+r+` c`),n.push(`-`+a+` `+r+` -`+r+` `+a+` -`+r+` 0 c`),n.push(`-`+r+` -`+a+` -`+a+` -`+r+` 0 -`+r+` c`),n.push(a+` -`+r+` `+r+` -`+a+` `+r+` 0 c`),n.push(`f`),n.push(`Q`),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=AX(e);t.scope=e.scope;var n=[],r=sZ.internal.getWidth(e)<=sZ.internal.getHeight(e)?sZ.internal.getWidth(e)/4:sZ.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*sZ.internal.Bezier_C).toFixed(5)),o=Number((r*sZ.internal.Bezier_C).toFixed(5));return n.push(`0.749023 g`),n.push(`q`),n.push(`1 0 0 1 `+DX(sZ.internal.getWidth(e)/2)+` `+DX(sZ.internal.getHeight(e)/2)+` cm`),n.push(i+` 0 m`),n.push(i+` `+a+` `+a+` `+i+` 0 `+i+` c`),n.push(`-`+a+` `+i+` -`+i+` `+a+` -`+i+` 0 c`),n.push(`-`+i+` -`+a+` -`+a+` -`+i+` 0 -`+i+` c`),n.push(a+` -`+i+` `+i+` -`+a+` `+i+` 0 c`),n.push(`f`),n.push(`Q`),n.push(`0 g`),n.push(`q`),n.push(`1 0 0 1 `+DX(sZ.internal.getWidth(e)/2)+` `+DX(sZ.internal.getHeight(e)/2)+` cm`),n.push(r+` 0 m`),n.push(r+` `+o+` `+o+` `+r+` 0 `+r+` c`),n.push(`-`+o+` `+r+` -`+r+` `+o+` -`+r+` 0 c`),n.push(`-`+r+` -`+o+` -`+o+` -`+r+` 0 -`+r+` c`),n.push(o+` -`+r+` `+r+` -`+o+` `+r+` 0 c`),n.push(`f`),n.push(`Q`),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=AX(e);t.scope=e.scope;var n=[],r=sZ.internal.getWidth(e)<=sZ.internal.getHeight(e)?sZ.internal.getWidth(e)/4:sZ.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*sZ.internal.Bezier_C).toFixed(5));return n.push(`0.749023 g`),n.push(`q`),n.push(`1 0 0 1 `+DX(sZ.internal.getWidth(e)/2)+` `+DX(sZ.internal.getHeight(e)/2)+` cm`),n.push(i+` 0 m`),n.push(i+` `+a+` `+a+` `+i+` 0 `+i+` c`),n.push(`-`+a+` `+i+` -`+i+` `+a+` -`+i+` 0 c`),n.push(`-`+i+` -`+a+` -`+a+` -`+i+` 0 -`+i+` c`),n.push(a+` -`+i+` `+i+` -`+a+` `+i+` 0 c`),n.push(`f`),n.push(`Q`),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:sZ.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=sZ.RadioButton.Cross.YesNormal,t.D[e]=sZ.RadioButton.Cross.YesPushDown,t},getCA:function(){return`8`},YesNormal:function(e){var t=AX(e);t.scope=e.scope;var n=[],r=sZ.internal.calculateCross(e);return n.push(`q`),n.push(`1 1 `+EX(sZ.internal.getWidth(e)-2)+` `+EX(sZ.internal.getHeight(e)-2)+` re`),n.push(`W`),n.push(`n`),n.push(EX(r.x1.x)+` `+EX(r.x1.y)+` m`),n.push(EX(r.x2.x)+` `+EX(r.x2.y)+` l`),n.push(EX(r.x4.x)+` `+EX(r.x4.y)+` m`),n.push(EX(r.x3.x)+` `+EX(r.x3.y)+` l`),n.push(`s`),n.push(`Q`),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=AX(e);t.scope=e.scope;var n=sZ.internal.calculateCross(e),r=[];return r.push(`0.749023 g`),r.push(`0 0 `+EX(sZ.internal.getWidth(e))+` `+EX(sZ.internal.getHeight(e))+` re`),r.push(`f`),r.push(`q`),r.push(`1 1 `+EX(sZ.internal.getWidth(e)-2)+` `+EX(sZ.internal.getHeight(e)-2)+` re`),r.push(`W`),r.push(`n`),r.push(EX(n.x1.x)+` `+EX(n.x1.y)+` m`),r.push(EX(n.x2.x)+` `+EX(n.x2.y)+` l`),r.push(EX(n.x4.x)+` `+EX(n.x4.y)+` m`),r.push(EX(n.x3.x)+` `+EX(n.x3.y)+` l`),r.push(`s`),r.push(`Q`),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=AX(e);t.scope=e.scope;var n=[];return n.push(`0.749023 g`),n.push(`0 0 `+EX(sZ.internal.getWidth(e))+` `+EX(sZ.internal.getHeight(e))+` re`),n.push(`f`),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return`/`+t+` `+e.fontSize+` Tf `+n}};sZ.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=sZ.internal.getWidth(e),n=sZ.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},sZ.internal.getWidth=function(e){var t=0;return tU(e)===`object`&&(t=kX(e.Rect[2])),t},sZ.internal.getHeight=function(e){var t=0;return tU(e)===`object`&&(t=kX(e.Rect[3])),t};var cZ=xX.addField=function(e){if(UX(this,e),!(e instanceof YX))throw Error(`Invalid argument passed to jsPDF.addField.`);var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xX.AcroFormChoiceField=XX,xX.AcroFormListBox=ZX,xX.AcroFormComboBox=QX,xX.AcroFormEditBox=$X,xX.AcroFormButton=eZ,xX.AcroFormPushButton=tZ,xX.AcroFormRadioButton=nZ,xX.AcroFormCheckBox=iZ,xX.AcroFormTextField=aZ,xX.AcroFormPasswordField=oZ,xX.AcroFormAppearance=sZ,xX.AcroForm={ChoiceField:XX,ListBox:ZX,ComboBox:QX,EditBox:$X,Button:eZ,PushButton:tZ,RadioButton:nZ,CheckBox:iZ,TextField:aZ,PasswordField:oZ,Appearance:sZ},bX.AcroForm={ChoiceField:XX,ListBox:ZX,ComboBox:QX,EditBox:$X,Button:eZ,PushButton:tZ,RadioButton:nZ,CheckBox:iZ,TextField:aZ,PasswordField:oZ,Appearance:sZ},bX.AcroForm;function lZ(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}(function(e){var t=`addImage_`;e.__addimage__={};var n=`UNKNOWN`,r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,a,o,s,c,l=n;if((t||=n)===`RGBA`||e.data!==void 0&&e.data instanceof Uint8ClampedArray&&`height`in e&&`width`in e)return`RGBA`;if(S(e))for(c in r)for(o=r[c],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(o[i][a]!==void 0&&o[i][a]!==e[a]){s=!1;break}if(!0===s){l=c;break}}else for(c in r)for(o=r[c],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(o[i][a]!==void 0&&o[i][a]!==e.charCodeAt(a)){s=!1;break}if(!0===s){l=c;break}}return l===n&&t!==n&&(l=t),l},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();i.indexOf(`FlateEncode`)!==-1;)i.splice(i.indexOf(`FlateEncode`),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:`Type`,value:`/XObject`}),a.push({key:`Subtype`,value:`/Image`}),a.push({key:`Width`,value:t.width}),a.push({key:`Height`,value:t.height}),t.colorSpace===_.INDEXED?a.push({key:`ColorSpace`,value:`[/Indexed /DeviceRGB `+(t.palette.length/3-1)+` `+(`sMask`in t&&t.sMask!==void 0?t.objectId+2:t.objectId+1)+` 0 R]`}):(a.push({key:`ColorSpace`,value:`/`+t.colorSpace}),t.colorSpace===_.DEVICE_CMYK&&a.push({key:`Decode`,value:`[1 0 1 0 1 0 1 0]`})),a.push({key:`BitsPerComponent`,value:t.bitsPerComponent}),`decodeParameters`in t&&t.decodeParameters!==void 0&&a.push({key:`DecodeParms`,value:`<<`+t.decodeParameters+`>>`}),`transparency`in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var o=``,s=0,c=t.transparency.length;s<c;s++)o+=t.transparency[s]+` `+t.transparency[s]+` `;a.push({key:`Mask`,value:`[`+o+`]`})}t.sMask!==void 0&&a.push({key:`SMask`,value:t.objectId+1+` 0 R`});var l=t.filter===void 0?void 0:[`/`+t.filter];if(r({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:l,objectId:t.objectId}),n(`endobj`),`sMask`in t&&t.sMask!==void 0){var u=t.sMaskBitsPerComponent??t.bitsPerComponent,d={width:t.width,height:t.height,colorSpace:`DeviceGray`,bitsPerComponent:u,data:t.sMask};`filter`in t&&(d.decodeParameters=`/Predictor ${t.predictor} /Colors 1 /BitsPerComponent ${u} /Columns ${t.width}`,d.filter=t.filter),e.call(this,d)}if(t.colorSpace===_.INDEXED){var f=this.internal.newObject();r({data:w(new Uint8Array(t.palette)),objectId:f}),n(`endobj`)}},o=function(){var e=this.internal.collections[t+`images`];for(var n in e)a.call(this,e[n])},s=function(){var e,n=this.internal.collections[t+`images`],r=this.internal.write;for(var i in n)r(`/I`+(e=n[i]).index,e.objectId,`0`,`R`)},c=function(){this.internal.collections[t+`images`]||(this.internal.collections[t+`images`]={},this.internal.events.subscribe(`putResources`,o),this.internal.events.subscribe(`putXobjectDict`,s))},l=function(){var e=this.internal.collections[t+`images`];return c.call(this),e},u=function(){return Object.keys(this.internal.collections[t+`images`]).length},d=function(t){return typeof e[`process`+t.toUpperCase()]==`function`},f=function(e){return tU(e)===`object`&&e.nodeType===1},p=function(t,n){if(t.nodeName===`IMG`&&t.hasAttribute(`src`)){var r=``+t.getAttribute(`src`);if(r.indexOf(`data:image/`)===0)return YY(unescape(r).split(`base64,`).pop());var i=e.loadFile(r,!0);if(i!==void 0)return i}if(t.nodeName===`CANVAS`){if(t.width===0||t.height===0)throw Error(`Given canvas must have data. Canvas width: `+t.width+`, height: `+t.height);var a;switch(n){case`PNG`:a=`image/png`;break;case`WEBP`:a=`image/webp`;break;default:a=`image/jpeg`}return YY(t.toDataURL(a,1).split(`base64,`).pop())}},m=function(e){var n=this.internal.collections[t+`images`];if(n){for(var r in n)if(e===n[r].alias)return n[r]}},h=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),e===0&&(e=t*n.width/n.height),t===0&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,a){var o=h.call(this,n,r,i),s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=o[0],r=o[1],u[i.index]=i,a){a*=Math.PI/180;var d=Math.cos(a),f=Math.sin(a),p=function(e){return e.toFixed(4)},m=[p(d),p(f),p(-1*f),p(d),0,0,`cm`]}this.internal.write(`q`),a?(this.internal.write([1,`0`,`0`,1,s(e),c(t+r),`cm`].join(` `)),this.internal.write(m.join(` `)),this.internal.write([s(n),`0`,`0`,s(r),`0`,`0`,`cm`].join(` `))):this.internal.write([s(n),`0`,`0`,s(r),s(e),c(t+r),`cm`].join(` `)),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,`cm`].join(` `)),this.internal.write(`/I`+i.index+` Do`),this.internal.write(`Q`)},_=e.color_spaces={DEVICE_RGB:`DeviceRGB`,DEVICE_GRAY:`DeviceGray`,DEVICE_CMYK:`DeviceCMYK`,CAL_GREY:`CalGray`,CAL_RGB:`CalRGB`,LAB:`Lab`,ICC_BASED:`ICCBased`,INDEXED:`Indexed`,PATTERN:`Pattern`,SEPARATION:`Separation`,DEVICE_N:`DeviceN`};e.decode={DCT_DECODE:`DCTDecode`,FLATE_DECODE:`FlateDecode`,LZW_DECODE:`LZWDecode`,JPX_DECODE:`JPXDecode`,JBIG2_DECODE:`JBIG2Decode`,ASCII85_DECODE:`ASCII85Decode`,ASCII_HEX_DECODE:`ASCIIHexDecode`,RUN_LENGTH_DECODE:`RunLengthDecode`,CCITT_FAX_DECODE:`CCITTFaxDecode`};var v=e.image_compression={NONE:`NONE`,FAST:`FAST`,MEDIUM:`MEDIUM`,SLOW:`SLOW`},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if(typeof e==`string`)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(S(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},b=e.__addimage__.validateStringAsBase64=function(e){(e||=``).toString().trim();var t=!0;return e.length===0&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},x=e.__addimage__.extractImageFromDataUrl=function(e){if(e==null||!(e=e.trim()).startsWith(`data:`))return null;var t=e.indexOf(`,`);return t<0?null:e.substring(0,t).trim().endsWith(`base64`)?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},w=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t=``,n=S(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,i,a,o,s,l,u;if(typeof arguments[1]==`number`?(t=n,r=arguments[1],i=arguments[2],a=arguments[3],o=arguments[4],s=arguments[5],l=arguments[6],u=arguments[7]):(t=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4],o=arguments[5],s=arguments[6],l=arguments[7],u=arguments[8]),tU(e=arguments[0])===`object`&&!f(e)&&`imageData`in e){var d=e;e=d.imageData,t=d.format||t||n,r=d.x||r||0,i=d.y||i||0,a=d.w||d.width||a,o=d.h||d.height||o,s=d.alias||s,l=d.compression||l,u=d.rotation||d.angle||u}var p=this.internal.getFilters();if(l===void 0&&p.indexOf(`FlateEncode`)!==-1&&(l=`SLOW`),isNaN(r)||isNaN(i))throw Error(`Invalid coordinates passed to jsPDF.addImage`);c.call(this);var m=T.call(this,e,t,s,l);return g.call(this,r,i,a,o,m,u),this};var T=function(t,r,a,o){var s,c,l;if(typeof t==`string`&&i(t)===n){t=unescape(t);var h=E(t,!1);(h!==``||(h=e.loadFile(t,!0))!==void 0)&&(t=h)}if(f(t)&&(t=p(t,r)),r=i(t,r),!d(r))throw Error(`addImage does not support files of type '`+r+`', please ensure that a plugin for '`+r+`' support is added.`);if(((l=a)==null||l.length===0)&&(a=function(e){return typeof e==`string`||S(e)?y(e):S(e.data)?y(e.data):null}(t)),(s=m.call(this,a))||(t instanceof Uint8Array||r===`RGBA`||(c=t,t=C(t)),s=this[`process`+r.toUpperCase()](t,u.call(this),a,function(t){return t&&typeof t==`string`&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(o),c)),!s)throw Error(`An unknown error occurred whilst processing the image.`);return s},E=e.__addimage__.convertBase64ToBinaryString=function(e,t){t=typeof t!=`boolean`||t;var n,r=``;if(typeof e==`string`){n=x(e)??e;try{r=YY(n)}catch(e){if(t)throw b(n)?Error(`atob-Error in jsPDF.convertBase64ToBinaryString `+e.message):Error(`Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString `)}}return r};e.getImageProperties=function(t){var r,a,o=``;if(f(t)&&(t=p(t)),typeof t==`string`&&i(t)===n&&((o=E(t,!1))===``&&(o=e.loadFile(t)||``),t=o),a=i(t),!d(a))throw Error(`addImage does not support files of type '`+a+`', please ensure that a plugin for '`+a+`' support is added.`);if(t instanceof Uint8Array||(t=C(t)),!(r=this[`process`+a.toUpperCase()](t)))throw Error(`An unknown error occurred whilst processing the image`);return r.fileType=a,r}})(bX.API),function(e){var t=function(e){if(e!==void 0&&e!=``)return!0};bX.API.events.push([`addPage`,function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push([`putPage`,function(e){for(var n,r,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,l=!1,u=0;u<c.length&&!l;u++)switch((n=c[u]).type){case`link`:(t(n.options.url)||t(n.options.pageNumber))&&(l=!0);break;case`reference`:case`text`:case`freetext`:l=!0}if(l!=0){this.internal.write(`/Annots [`);for(var d=0;d<c.length;d++){n=c[d];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case`reference`:this.internal.write(` `+n.object.objId+` 0 R `);break;case`text`:var m=this.internal.newAdditionalObject(),h=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),_=n.title||`Note`;i=`<</Type /Annot /Subtype /Text `+(r=`/Rect [`+a(n.bounds.x)+` `+o(n.bounds.y+n.bounds.h)+` `+a(n.bounds.x+n.bounds.w)+` `+o(n.bounds.y)+`] `)+`/Contents (`+f(g(n.contents))+`)`,i+=` /Popup `+h.objId+` 0 R`,i+=` /P `+s.objId+` 0 R`,i+=` /T (`+f(g(_))+`) >>`,m.content=i;var v=m.objId+` 0 R`;i=`<</Type /Annot /Subtype /Popup `+(r=`/Rect [`+a(n.bounds.x+30)+` `+o(n.bounds.y+n.bounds.h)+` `+a(n.bounds.x+n.bounds.w+30)+` `+o(n.bounds.y)+`] `)+` /Parent `+v,n.open&&(i+=` /Open true`),i+=` >>`,h.content=i,this.internal.write(m.objId,`0 R`,h.objId,`0 R`);break;case`freetext`:r=`/Rect [`+a(n.bounds.x)+` `+o(n.bounds.y)+` `+a(n.bounds.x+n.bounds.w)+` `+o(n.bounds.y+n.bounds.h)+`] `;var y=n.color||`#000000`;i=`<</Type /Annot /Subtype /FreeText `+r+`/Contents (`+f(p(n.contents))+`)`,i+=` /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#`+y+`)`,i+=` /Border [0 0 0]`,i+=` >>`,this.internal.write(i);break;case`link`:if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r=`/Rect [`+n.finalBounds.x+` `+n.finalBounds.y+` `+n.finalBounds.w+` `+n.finalBounds.h+`] `,i=``,n.options.url)i=`<</Type /Annot /Subtype /Link `+r+`/Border [0 0 0] /A <</S /URI /URI (`+f(p(n.options.url))+`) >>`;else if(n.options.pageNumber)switch(i=`<</Type /Annot /Subtype /Link `+r+`/Border [0 0 0] /Dest [`+this.internal.getPageInfo(n.options.pageNumber).objId+` 0 R`,n.options.magFactor=n.options.magFactor||`XYZ`,n.options.magFactor){case`Fit`:i+=` /Fit]`;break;case`FitH`:i+=` /FitH `+n.options.top+`]`;break;case`FitV`:n.options.left=n.options.left||0,i+=` /FitV `+n.options.left+`]`;break;default:var x=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=` /XYZ `+n.options.left+` `+x+` `+n.options.zoom+`]`}i!=``&&(i+=` >>`,this.internal.write(i))}}this.internal.write(`]`)}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case`link`:this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case`text`:case`freetext`:t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(e),y:s(t),w:o(e+n),h:s(t+r)},options:i,type:`link`})},e.textWithLink=function(e,t,n,r){var i,a,o=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){a=r.maxWidth;var c=this.splitTextToSize(e,a).length;i=Math.ceil(s*c)}else a=o,i=s;return this.text(e,t,n,r),n+=.2*s,r.align===`center`&&(t-=o/2),r.align===`right`&&(t-=o),this.link(t,n-s,a,i,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(bX.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return t[e.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(e){return typeof e==`string`&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var l=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i=``,a=0;for(t=0;t<e.length;t+=1)r[e.charCodeAt(t)]===void 0?(r=n,i+=e.charAt(t-a),t-=a,a=0):(a++,typeof(r=r[e.charCodeAt(t)])==`number`&&(i+=String.fromCharCode(r),r=n,a=0),t===e.length-1&&(r=n,i+=e.charAt(t-(a-1)),t-=a-1,a=0));return i};e.__arabicParser__.isArabicDiacritic=function(e){return e!==void 0&&r[e.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===a(e)?-1:!l(e)||!o(t)&&!o(n)||!o(n)&&s(t)||s(e)&&!o(t)||s(e)&&c(t)||s(e)&&s(t)?0:u(e)&&o(t)&&!s(t)&&o(n)&&l(n)?3:s(e)||!o(n)?1:2:-1},p=function(e){var n=0,r=0,i=0,a=``,s=``,c=``,l=(e||=``).split(`\\s+`),u=[];for(n=0;n<l.length;n+=1){for(u.push(``),r=0;r<l[n].length;r+=1)a=l[n][r],s=l[n][r-1],c=l[n][r+1],o(a)?(i=f(a,s,c),u[n]+=i===-1?a:String.fromCharCode(t[a.charCodeAt(0)][i])):u[n]+=a;u[n]=d(u[n])}return u.join(` `)},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t=typeof arguments[0]==`string`?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return typeof arguments[0]==`string`?e:(arguments[0].text=e,arguments[0])};e.events.push([`preProcessText`,m])}(bX.API),bX.API.autoPrint=function(e){var t;return(e||={}).variant=e.variant||`non-conform`,e.variant===`javascript`?this.addJS(`print({});`):(this.internal.events.subscribe(`postPutResources`,function(){t=this.internal.newObject(),this.internal.out(`<<`),this.internal.out(`/S /Named`),this.internal.out(`/Type /Action`),this.internal.out(`/N /Print`),this.internal.out(`>>`),this.internal.out(`endobj`)}),this.internal.events.subscribe(`putCatalog`,function(){this.internal.out(`/OpenAction `+t+` 0 R`)})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,`pdf`,{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,`width`,{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext(`2d`).pageWrapXEnabled&&(this.getContext(`2d`).pageWrapX=t+1)}});var n=300;Object.defineProperty(this,`height`,{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext(`2d`).pageWrapYEnabled&&(this.getContext(`2d`).pageWrapY=n+1)}});var r=[];Object.defineProperty(this,`childNodes`,{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,`style`,{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,`parentNode`,{})};t.prototype.getContext=function(e,t){var n;if((e||=`2d`)!==`2d`)return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw Error(`toDataURL is not implemented.`)},e.events.push([`initialized`,function(){this.canvas=new t,this.canvas.pdf=this}])}(bX.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,`x`,{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,`y`,{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,`width`,{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,`height`,{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,`text`,{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[5];Object.defineProperty(this,`lineNumber`,{enumerable:!0,get:function(){return a},set:function(e){a=e}});var o=arguments[6];return Object.defineProperty(this,`align`,{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction=typeof e==`function`?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t||={}).fontSize||this.getFontSize(),i=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,o=0,s=0,c=0,l=this;if(!Array.isArray(e)&&typeof e!=`string`){if(typeof e!=`number`)throw Error(`getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.`);e=String(e)}var u=t.maxWidth;u>0?typeof e==`string`?e=this.splitTextToSize(e,u):Object.prototype.toString.call(e)===`[object Array]`&&(e=e.reduce(function(e,t){return e.concat(l.splitTextToSize(t,u))},[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)o<(c=this.getStringUnitWidth(e[d],{font:i})*n)&&(o=c);return o!==0&&(s=e.length),{w:o/=a,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);r.call(this);var i=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,c=this.internal.__cell__.tableHeaderRow,l=this.internal.__cell__.printHeaders;return i.lineNumber!==void 0&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,l&&c&&(this.printHeaderRow(e.lineNumber,!0),e.y+=c[0].height)):e.y=i.y+i.height||e.y),e.text[0]!==void 0&&(this.rect(e.x,e.y,e.width,e.height,!0===n?`FD`:void 0),e.align===`right`?this.text(e.text,e.x+e.width-o,e.y+o,{align:`right`,baseline:`top`}):e.align===`center`?this.text(e.text,e.x+e.width/2,e.y+o,{align:`center`,baseline:`top`,maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:`left`,baseline:`top`,maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,c,l,u){if(r.call(this),!c)throw Error(`No data for PDF table.`);var d,f,p,m,h=[],g=[],_=[],v={},y={},b=[],x=[],S=(u||={}).autoSize||!1,C=!1!==u.printHeaders,w=u.css&&u.css[`font-size`]!==void 0?16*u.css[`font-size`]:u.fontSize||12,T=u.margins||Object.assign({width:this.getPageWidth()},t),E=typeof u.padding==`number`?u.padding:3,D=u.headerBackgroundColor||`#c8c8c8`,O=u.headerTextColor||`#000`;if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=w,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=O,this.setFontSize(w),l==null)g=h=Object.keys(c[0]),_=h.map(function(){return`left`});else if(Array.isArray(l)&&tU(l[0])===`object`)for(h=l.map(function(e){return e.name}),g=l.map(function(e){return e.prompt||e.name||``}),_=l.map(function(e){return e.align||`left`}),d=0;d<l.length;d+=1)y[l[d].name]=.7499990551181103*l[d].width;else Array.isArray(l)&&typeof l[0]==`string`&&(g=h=l,_=h.map(function(){return`left`}));if(S||Array.isArray(l)&&typeof l[0]==`string`)for(d=0;d<h.length;d+=1){for(v[m=h[d]]=c.map(function(e){return e[m]}),this.setFont(void 0,`bold`),b.push(this.getTextDimensions(g[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=v[m],this.setFont(void 0,`normal`),p=0;p<f.length;p+=1)b.push(this.getTextDimensions(f[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[m]=Math.max.apply(null,b)+E+E,b=[]}if(C){var k={};for(d=0;d<h.length;d+=1)k[h[d]]={},k[h[d]].text=g[d],k[h[d]].align=_[d];var A=s.call(this,k,y);x=h.map(function(t){return new a(e,n,y[t],A,k[t].text,void 0,k[t].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var j=l.reduce(function(e,t){return e[t.name]=t.align,e},{});for(d=0;d<c.length;d+=1){`rowStart`in u&&u.rowStart instanceof Function&&u.rowStart({row:d,data:c[d]},this);var M=s.call(this,c[d],y);for(p=0;p<h.length;p+=1){var N=c[d][h[p]];`cellStart`in u&&u.cellStart instanceof Function&&u.cellStart({row:d,col:p,data:N},this),o.call(this,new a(e,n,y[h[p]],M,N,d+2,j[h[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty(`text`)?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw Error(`Property tableHeaderRow does not exist.`);var i;if(n=!0,typeof this.internal.__cell__.headerFunction==`function`){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,`bold`);for(var c=[],l=0;l<this.internal.__cell__.tableHeaderRow.length;l+=1){i=this.internal.__cell__.tableHeaderRow[l].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,c.push(i)),i.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(u)}c.length>0&&this.setTableHeaderRow(c),this.setFont(void 0,`normal`),n=!1}}(bX.API);var uZ={italic:[`italic`,`oblique`,`normal`],oblique:[`oblique`,`italic`,`normal`],normal:[`normal`,`oblique`,`italic`]},dZ=[`ultra-condensed`,`extra-condensed`,`condensed`,`semi-condensed`,`normal`,`semi-expanded`,`expanded`,`extra-expanded`,`ultra-expanded`],fZ=lZ(dZ),pZ=[100,200,300,400,500,600,700,800,900],mZ=lZ(pZ);function hZ(e){var t=e.family.replace(/"|'/g,``).toLowerCase(),n=function(e){return uZ[e||=`normal`]?e:`normal`}(e.style),r=function(e){return e?typeof e==`number`?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):e===`bold`?700:400:400}(e.weight),i=function(e){return typeof fZ[e||=`normal`]==`number`?e:`normal`}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(` `)}}}function gZ(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var _Z={"sans-serif":`helvetica`,fixed:`courier`,monospace:`courier`,terminal:`courier`,cursive:`times`,fantasy:`times`,serif:`times`},vZ={caption:`times`,icon:`times`,menu:`times`,"message-box":`times`,"small-caption":`times`,"status-bar":`times`};function yZ(e){return[e.stretch,e.style,e.weight,e.family].join(` `)}function bZ(e){return e.trimLeft()}function xZ(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function SZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var CZ,wZ,TZ,EZ,DZ,OZ=[`times`];function kZ(e,t,n,r,i){var a=4,o=MZ;switch(i){case bX.API.image_compression.FAST:a=1,o=jZ;break;case bX.API.image_compression.MEDIUM:a=6,o=NZ;break;case bX.API.image_compression.SLOW:a=9,o=PZ}e=function(e,t,n,r){for(var i,a=e.length/t,o=new Uint8Array(e.length+a),s=[AZ,jZ,MZ,NZ,PZ],c=0;c<a;c+=1){var l=c*t,u=e.subarray(l,l+t);if(r)o.set(r(u,n,i),l+c);else{for(var d=s.length,f=[],p=0;p<d;p+=1)f[p]=s[p](u,n,i);var m=IZ(f.concat());o.set(f[m],l+c)}i=u}return o}(e,t,Math.ceil(n*r/8),o);var s=zU(e,{level:a});return bX.API.__addimage__.arrayBufferToBinaryString(s)}function AZ(e){var t=Array.apply([],e);return t.unshift(0),t}function jZ(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function MZ(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function NZ(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,s=n&&n[a]||0;i[a+1]=e[a]+256-(o+s>>>1)&255}return i}function PZ(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=FZ(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function FZ(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function IZ(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function LZ(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return zZ(e,i)>>a&o}function RZ(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1,c=(t&s)<<o;(function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}})(e,a,zZ(e,a)&~(s<<o)&65535|c)}function zZ(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function BZ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw Error(`Invalid GIF 87a/89a header.`);var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,c=null;a&&(s=t,c=o,t+=3*o);var l=!0,u=[],d=0,f=null,p=0,m=null;for(this.width=n,this.height=r;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error(`Invalid block size`);if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw Error(`Invalid graphics extension block.`);var h=e[t++];d=e[t++]|e[t++]<<8,f=e[t++],1&h||(f=null),p=h>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error(`Invalid block size`);if(D===0)break;t+=D}break;default:throw Error(`Unknown graphic control label: 0x`+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++],x=b>>6&1,S=1<<1+(7&b),C=s,w=c,T=!1;b>>7&&(T=!0,C=t,w=S,t+=3*S);var E=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error(`Invalid block size`);if(D===0)break;t+=D}u.push({x:g,y:_,width:v,height:y,has_local_palette:T,palette_offset:C,palette_size:w,data_offset:E,data_length:t-E,transparent_index:f,interlaced:!!x,delay:d,disposal:p});break;case 59:l=!1;break;default:throw Error(`Unknown gif block: 0x`+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=u.length)throw Error(`Frame index out of range.`);return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);VZ(e,i.data_offset,o,a);var s=i.palette_offset,c=i.transparent_index;c===null&&(c=256);var l=i.width,u=n-l,d=l,f=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),m=f,h=4*u;!0===i.interlaced&&(h+=4*n*7);for(var g=8,_=0,v=o.length;_<v;++_){var y=o[_];if(d===0&&(d=l,(m+=h)>=p&&(h=4*u+4*n*(g-1),m=f+(l+u)*(g<<1),g>>=1)),y===c)m+=4;else{var b=e[s+3*y],x=e[s+3*y+1],S=e[s+3*y+2];r[m++]=S,r[m++]=x,r[m++]=b,r[m++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);VZ(e,i.data_offset,o,a);var s=i.palette_offset,c=i.transparent_index;c===null&&(c=256);var l=i.width,u=n-l,d=l,f=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),m=f,h=4*u;!0===i.interlaced&&(h+=4*n*7);for(var g=8,_=0,v=o.length;_<v;++_){var y=o[_];if(d===0&&(d=l,(m+=h)>=p&&(h=4*u+4*n*(g-1),m=f+(l+u)*(g<<1),g>>=1)),y===c)m+=4;else{var b=e[s+3*y],x=e[s+3*y+1],S=e[s+3*y+2];r[m++]=b,r[m++]=x,r[m++]=S,r[m++]=255}--d}}}function VZ(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,c=i+1,l=(1<<c)-1,u=0,d=0,f=0,p=e[t++],m=new Int32Array(4096),h=null;;){for(;u<16&&p!==0;)d|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<c)break;var g=d&l;if(d>>=c,u-=c,g!==a){if(g===o)break;for(var _=g<s?g:h,v=0,y=_;y>a;)y=m[y]>>8,++v;var b=y;if(f+v+(_===g?0:1)>r)return void UY.log(`Warning, gif stream longer than expected.`);n[f++]=b;var x=f+=v;for(_!==g&&(n[f++]=b),y=_;v--;)y=m[y],n[--x]=255&y,y>>=8;h!==null&&s<4096&&(m[s++]=h<<8|b,s>=l+1&&c<12&&(++c,l=l<<1|1)),h=g}else s=o+1,l=(1<<(c=i+1))-1,h=null}return f!==r&&UY.log(`Warning, gif stream shorter than expected.`),n}function HZ(e){var t,n,r,i,a,o=Math.floor,s=Array(64),c=Array(64),l=Array(64),u=Array(64),d=Array(65535),f=Array(65535),p=Array(64),m=Array(64),h=[],g=0,_=7,v=Array(64),y=Array(64),b=Array(64),x=Array(256),S=Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(e,t){for(var n=0,r=0,i=[],a=1;a<=16;a++){for(var o=1;o<=e[a];o++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=a,r++,n++;n*=2}return i}function N(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<_),n--,--_<0&&(g==255?(P(255),P(0)):P(g),_=7,g=0)}function P(e){h.push(e)}function F(e){P(e>>8&255),P(255&e)}function I(e,t,n,r,i){for(var a,o=i[0],s=i[240],c=function(e,t){var n,r,i,a,o,s,c,l,u,d,f=0;for(u=0;u<8;++u){n=e[f],r=e[f+1],i=e[f+2],a=e[f+3],o=e[f+4],s=e[f+5],c=e[f+6];var m=n+(l=e[f+7]),h=n-l,g=r+c,_=r-c,v=i+s,y=i-s,b=a+o,x=a-o,S=m+b,C=m-b,w=g+v,T=g-v;e[f]=S+w,e[f+4]=S-w;var E=.707106781*(T+C);e[f+2]=C+E,e[f+6]=C-E;var D=.382683433*((S=x+y)-(T=_+h)),O=.5411961*S+D,k=1.306562965*T+D,A=.707106781*(w=y+_),j=h+A,M=h-A;e[f+5]=M+O,e[f+3]=M-O,e[f+1]=j+k,e[f+7]=j-k,f+=8}for(f=0,u=0;u<8;++u){n=e[f],r=e[f+8],i=e[f+16],a=e[f+24],o=e[f+32],s=e[f+40],c=e[f+48];var N=n+(l=e[f+56]),P=n-l,F=r+c,I=r-c,L=i+s,R=i-s,z=a+o,ee=a-o,B=N+z,V=N-z,te=F+L,H=F-L;e[f]=B+te,e[f+32]=B-te;var ne=.707106781*(H+V);e[f+16]=V+ne,e[f+48]=V-ne;var re=.382683433*((B=ee+R)-(H=I+P)),ie=.5411961*B+re,U=1.306562965*H+re,ae=.707106781*(te=R+I),oe=P+ae,W=P-ae;e[f+40]=W+ie,e[f+24]=W-ie,e[f+8]=oe+U,e[f+56]=oe-U,f++}for(u=0;u<64;++u)d=e[u]*t[u],p[u]=d>0?d+.5|0:d-.5|0;return p}(e,t),l=0;l<64;++l)m[C[l]]=c[l];var u=m[0]-n;n=m[0],u==0?N(r[0]):(N(r[f[a=32767+u]]),N(d[a]));for(var h=63;h>0&&m[h]==0;)h--;if(h==0)return N(o),n;for(var g,_=1;_<=h;){for(var v=_;m[_]==0&&_<=h;)++_;var y=_-v;if(y>=16){g=y>>4;for(var b=1;b<=g;++b)N(s);y&=15}a=32767+m[_],N(i[(y<<4)+f[a]]),N(d[a]),_++}return h!=63&&N(o),n}function L(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[C[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var d=o((i[a]*e+50)/100);d=Math.min(Math.max(d,1),255),c[C[a]]=d}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var h=0;h<8;h++)l[p]=1/(s[C[p]]*f[m]*f[h]*8),u[p]=1/(c[C[p]]*f[m]*f[h]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&L(a),h=[],g=0,_=7,F(65496),F(65504),F(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),F(1),F(1),P(0),P(0),function(){F(65499),F(132),P(0);for(var e=0;e<64;e++)P(s[e]);P(1);for(var t=0;t<64;t++)P(c[t])}(),function(e,t){F(65472),F(17),P(8),F(t),F(e),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1)}(e.width,e.height),function(){F(65476),F(418),P(0);for(var e=0;e<16;e++)P(w[e+1]);for(var t=0;t<=11;t++)P(T[t]);P(16);for(var n=0;n<16;n++)P(E[n+1]);for(var r=0;r<=161;r++)P(D[r]);P(1);for(var i=0;i<16;i++)P(O[i+1]);for(var a=0;a<=11;a++)P(k[a]);P(17);for(var o=0;o<16;o++)P(A[o+1]);for(var s=0;s<=161;s++)P(j[s])}(),F(65498),F(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var o=0,d=0,f=0;g=0,_=7,this.encode.displayName=`_encode_`;for(var p,m,x,C,M,R,z,ee,B,V=e.data,te=e.width,H=e.height,ne=4*te,re=0;re<H;){for(p=0;p<ne;){for(M=ne*re+p,z=-1,ee=0,B=0;B<64;B++)R=M+(ee=B>>3)*ne+(z=4*(7&B)),re+ee>=H&&(R-=ne*(re+1+ee-H)),p+z>=ne&&(R-=p+z-ne+4),m=V[R++],x=V[R++],C=V[R++],v[B]=(S[m]+S[x+256|0]+S[C+512|0]>>16)-128,y[B]=(S[m+768|0]+S[x+1024|0]+S[C+1280|0]>>16)-128,b[B]=(S[m+1280|0]+S[x+1536|0]+S[C+1792|0]>>16)-128;o=I(v,l,o,t,r),d=I(y,u,d,n,i),f=I(b,u,f,n,i),p+=32}re+=8}if(_>=0){var ie=[];ie[1]=_+1,ie[0]=(1<<_+1)-1,N(ie)}return F(65497),new Uint8Array(h)},e||=50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)x[t]=e(t)}(),t=M(w,T),n=M(O,k),r=M(E,D),i=M(A,j),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)f[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)f[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)S[e]=19595*e,S[e+256|0]=38470*e,S[e+512|0]=7471*e+32768,S[e+768|0]=-11059*e,S[e+1024|0]=-21709*e,S[e+1280|0]=32768*e+8421375,S[e+1536|0]=-27439*e,S[e+1792|0]=-5329*e}(),L(e)}function UZ(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,[`BM`,`BA`,`CI`,`CP`,`IC`,`PT`].indexOf(this.flag)===-1)throw Error(`Invalid BMP File`);this.parseHeader(),this.parseBGR()}function WZ(e){function t(e){if(!e)throw Error(`assert :P`)}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var a=0;a<i;a++)e[t+a]=n[r+a]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function a(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var a=i[r],o=0;o<a&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));o++)e(n[o],r+1,i)}(n,0,e),n}var c=function(){var e=this;function c(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function l(e,n,r,i,a){t(!(i%r));do e[n+(i-=r)]=a;while(0<i)}function u(e,n,r,i,o){if(t(2328>=o),512>=o)var s=a(512);else if((s=a(o))==null)return 0;return function(e,n,r,i,o,s){var u,f,p=n,m=1<<r,h=a(16),g=a(16);for(t(o!=0),t(i!=null),t(e!=null),t(0<r),f=0;f<o;++f){if(15<i[f])return 0;++h[i[f]]}if(h[0]==o)return 0;for(g[1]=0,u=1;15>u;++u){if(h[u]>1<<u)return 0;g[u+1]=g[u]+h[u]}for(f=0;f<o;++f)u=i[f],0<i[f]&&(s[g[u]++]=f);if(g[15]==1)return(i=new d).g=0,i.value=s[0],l(e,p,1,m,i),m;var _,v=-1,y=m-1,b=0,x=1,S=1,C=1<<r;for(f=0,u=1,o=2;u<=r;++u,o<<=1){if(x+=S<<=1,0>(S-=h[u]))return 0;for(;0<h[u];--h[u])(i=new d).g=u,i.value=s[f++],l(e,p+b,o,C,i),b=c(b,u)}for(u=r+1,o=2;15>=u;++u,o<<=1){if(x+=S<<=1,0>(S-=h[u]))return 0;for(;0<h[u];--h[u]){if(i=new d,(b&y)!=v){for(p+=C,_=1<<(v=u)-r;15>v&&!(0>=(_-=h[v]));)++v,_<<=1;m+=C=1<<(_=v-r),e[n+(v=b&y)].g=_+r,e[n+v].value=p-n-v}i.g=u-r,i.value=s[f++],l(e,p+(b>>r),o,C,i),b=c(b,u)}}return x==2*g[15]-1?m:0}(e,n,r,i,o,s)}function d(){this.value=this.g=0}function f(){this.value=this.g=0}function p(){this.G=o(5,d),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qn,f)}function m(e,n,r,i){t(e!=null),t(n!=null),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,E(e)}function h(e,t){for(var n=0;0<t--;)n|=O(e,128)<<t;return n}function g(e,t){var n=h(e,t);return D(e)?-n:n}function _(e,n,r,i){var a,o=0;for(t(e!=null),t(n!=null),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),a=0;a<i;++a)o+=n[r+a]<<8*a;e.Ra=o,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Xn-8>>>0,++e.bb,e.u-=8;C(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Yn){var r=S(e)&Jn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(e){return e.Ra>>>(e.u&Xn-1)>>>0}function C(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Xn}function w(e,t){e.u=t,e.h=C(e)}function T(e){e.u>=Zn&&(t(e.u>=Zn),v(e))}function E(e){t(e!=null&&e.oa!=null),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(e!=null&&e.oa!=null),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function D(e){return h(e,1)}function O(e,t){var n=e.Ca;0>e.b&&E(e);var r=e.b,i=n*t>>>8,a=(e.I>>>r>i)+0;for(a?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Qn[r],e.b-=r,e.Ca=(n<<r)-1,a}function k(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function A(e,t){return e[t+0]|e[t+1]<<8}function j(e,t){return A(e,t)|e[t+2]<<16}function M(e,t){return A(e,t)|A(e,t+2)<<16}function N(e,n){var r=1<<n;return t(e!=null),t(0<n),e.X=a(r),e.X==null?0:(e.Mb=32-n,e.Xa=n,1)}function P(e,n){t(e!=null),t(n!=null),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function I(e,n,r,i){t(r!=null),t(i!=null);var a=r[0],o=i[0];return a==0&&(a=(e*o+n/2)/n),o==0&&(o=(n*a+e/2)/e),0>=a||0>=o?0:(r[0]=a,i[0]=o,1)}function L(e,t){return e+(1<<t)-1>>>t}function R(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function z(t,n){e[n]=function(n,r,i,a,o,s,c){var l;for(l=0;l<o;++l){var u=e[t](s[c+l-1],i,a+l);s[c+l]=R(n[r+l],u)}}}function ee(){this.ud=this.hd=this.jd=0}function B(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function V(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function te(e,t){return V(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function ne(e,t,n,r,i,a,o){for(r=a[o-1],n=0;n<i;++n)a[o+n]=r=R(e[t+n],r)}function re(e,t,n,r,i){var a;for(a=0;a<n;++a){var o=e[t+a],s=o>>8&255,c=16711935&(c=(c=16711935&o)+((s<<16)+s));r[i+a]=(4278255360&o)+c>>>0}}function ie(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function U(e,t,n,r,i,a){var o;for(o=0;o<r;++o){var s=t[n+o],c=s>>>8,l=s,u=255&(u=(u=s>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));l=255&(l=(l+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),i[a+o]=(4278255360&s)+(u<<16)+l}}function ae(t,n,r,i,a){e[n]=function(e,t,n,r,o,s,c,l,u){for(r=c;r<l;++r)for(c=0;c<u;++c)o[s++]=a(n[i(e[t++])])},e[t]=function(t,n,o,s,c,l,u){var d=8>>t.b,f=t.Ea,p=t.K[0],m=t.w;if(8>d)for(t=(1<<t.b)-1,m=(1<<d)-1;n<o;++n){var h,g=0;for(h=0;h<f;++h)h&t||(g=i(s[c++])),l[u++]=a(p[g&m]),g>>=d}else e[`VP8LMapColor`+r](s,c,p,m,l,u,n,o,f)}}function oe(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a}}function W(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a,r[i++]=a>>24&255}}function se(e,t,n,r,i){for(n=t+n;t<n;){var a=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[i++]=a,r[i++]=o}}function ce(e,t,n,r,i){for(n=t+n;t<n;){var a=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[i++]=a,r[i++]=o}}function le(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=255&a,r[i++]=a>>8&255,r[i++]=a>>16&255}}function ue(e,t,n,i,a,o){if(o==0)for(n=t+n;t<n;)k(i,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),a+=32;else r(i,a,e,t,n)}function de(t,n){e[n][0]=e[t+`0`],e[n][1]=e[t+`1`],e[n][2]=e[t+`2`],e[n][3]=e[t+`3`],e[n][4]=e[t+`4`],e[n][5]=e[t+`5`],e[n][6]=e[t+`6`],e[n][7]=e[t+`7`],e[n][8]=e[t+`8`],e[n][9]=e[t+`9`],e[n][10]=e[t+`10`],e[n][11]=e[t+`11`],e[n][12]=e[t+`12`],e[n][13]=e[t+`13`],e[n][14]=e[t+`0`],e[n][15]=e[t+`0`]}function fe(e){return e==Zr||e==Qr||e==$r||e==ei}function pe(){this.eb=[],this.size=this.A=this.fb=0}function me(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function he(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pe,this.f.kb=new me,this.sd=null}function ge(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _e(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ve(e){return alert(`todo:WebPSamplerProcessPlane`),e.T}function ye(e,t){var n=e.T,i=t.ba.f.RGBA,a=i.eb,o=i.fb+e.ka*i.A,s=Ti[t.ba.S],c=e.y,l=e.O,u=e.f,d=e.N,f=e.ea,p=e.W,m=t.cc,h=t.dc,g=t.Mc,_=t.Nc,v=e.ka,y=e.ka+e.T,b=e.U,x=b+1>>1;for(v==0?s(c,l,null,null,u,d,f,p,u,d,f,p,a,o,null,null,b):(s(t.ec,t.fc,c,l,m,h,g,_,u,d,f,p,a,o-i.A,a,o,b),++n);v+2<y;v+=2)m=u,h=d,g=f,_=p,d+=e.Rc,p+=e.Rc,o+=2*i.A,s(c,(l+=2*e.fa)-e.fa,c,l,m,h,g,_,u,d,f,p,a,o-i.A,a,o,b);return l+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,c,l,b),r(t.cc,t.dc,u,d,x),r(t.Mc,t.Nc,f,p,x),n--):1&y||s(c,l,null,null,u,d,f,p,u,d,f,p,a,o+i.A,null,null,b),n}function be(e,n,r){var i=e.F,a=[e.J];if(i!=null){var o=e.U,s=n.ba.S,c=s==Jr||s==$r;n=n.ba.f.RGBA;var l=[0],u=e.ka;l[0]=e.T,e.Kb&&(u==0?--l[0]:(--u,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(l[0]=e.o-e.j-u));var d=n.eb;u=n.fb+u*n.A,e=Nr(i,a[0],e.width,o,l,d,u+(c?0:3),n.A),t(r==l),e&&fe(s)&&jr(d,u,c,o,l,n.A)}return 0}function xe(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Gr||n==qr||n==Jr||n==Yr||n==12||fe(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Wn(t.Oa,e,i?11:12))return 0;if(i&&fe(n)&&Dn(),e.da)alert(`todo:use_scaling`);else{if(r){if(t.Ib=ve,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),t.memory==null)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ye,Dn()}}else alert(`todo:EmitYUV`);i&&(t.Jb=be,r&&Tn())}if(r&&!zi){for(e=0;256>e;++e)Bi[e]=89858*(e-128)+Pi>>Ni,Ui[e]=-22014*(e-128)+Pi,Hi[e]=-45773*(e-128),Vi[e]=113618*(e-128)+Pi>>Ni;for(e=Fi;e<Ii;++e)t=76283*(e-16)+Pi>>Ni,Wi[e-Fi]=et(t,255),Gi[e-Fi]=et(t+8>>4,15);zi=1}return 1}function Se(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),n.Jb!=null&&n.Jb(e,n,r),n.Dc+=r,1)}function Ce(e){e.ma.memory=null}function we(e,t,n,r){return y(e,8)==47?(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),y(e,3)==0?!e.h:0):0}function Te(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function Ee(e,t){return 120<t?t-120:1<=(n=((n=oi[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function De(e,t,n){var r=S(n),i=e[t+=255&r].g-8;return 0<i&&(w(n,n.u+8),r=S(n),t+=e[t].value,t+=r&(1<<i)-1),w(n,n.u+e[t].g),e[t].value}function Oe(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ke(e,n,r){var i=e.xc;return t((n=i==0?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function Ae(e,n,i,a){var o=e.ab,s=e.c*n,c=e.C;n=c+n;var l=i,u=a;for(a=e.Ta,i=e.Ua;0<o--;){var d=e.gc[o],f=c,p=n,m=l,h=u,g=(u=a,l=i,d.Ea);switch(t(f<p),t(p<=d.nc),d.hc){case 2:tr(m,h,(p-f)*g,u,l);break;case 0:var _=f,v=p,y=u,b=l,x=(E=d).Ea;_==0&&($n(m,h,null,null,1,y,b),ne(m,h+1,0,0,x-1,y,b+1),h+=x,b+=x,++_);for(var S=1<<E.b,C=S-1,w=L(x,E.b),T=E.K,E=E.w+(_>>E.b)*w;_<v;){var D=T,O=E,k=1;for(er(m,h,y,b-x,1,y,b);k<x;){var A=(k&~C)+S;A>x&&(A=x),(0,or[D[O++]>>8&15])(m,h+ +k,y,b+k-x,A-k,y,b+k),k=A}h+=x,b+=x,++_&C||(E+=w)}p!=d.nc&&r(u,l-g,u,l+(p-f-1)*g,g);break;case 1:for(g=m,v=h,x=(m=d.Ea)-(b=m&~(y=(h=1<<d.b)-1)),_=L(m,d.b),S=d.K,d=d.w+(f>>d.b)*_;f<p;){for(C=S,w=d,T=new ee,E=v+b,D=v+m;v<E;)ie(C[w++],T),sr(T,g,v,h,u,l),v+=h,l+=h;v<D&&(ie(C[w++],T),sr(T,g,v,x,u,l),v+=x,l+=x),++f&y||(d+=_)}break;case 3:if(m==u&&h==l&&0<d.b){for(v=u,m=g=l+(p-f)*g-(b=(p-f)*L(d.Ea,d.b)),h=u,y=l,_=[],b=(x=b)-1;0<=b;--b)_[b]=h[y+b];for(b=x-1;0<=b;--b)v[m+b]=_[b];nr(d,f,p,u,g,u,l)}else nr(d,f,p,m,h,u,l)}l=a,u=i}u!=i&&r(a,i,l,u,s)}function je(e,n){var r=e.V,i=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var o=e.l,s=e.Ta,c=e.Ua,l=o.width;if(Ae(e,a,r,i),a=c=[c],t((r=e.C)<(i=n)),t(o.v<o.va),i>o.o&&(i=o.o),r<o.j){var u=o.j-r;r=o.j,a[0]+=u*l}if(r>=i?r=0:(a[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=i-r,r=1),r){if(c=c[0],11>(r=e.ca).S){var d=r.f.RGBA,f=(i=r.S,a=o.U,o=o.T,u=d.eb,d.A),p=o;for(d=d.fb+e.Ma*d.A;0<p--;){var m=s,h=c,g=a,_=u,v=d;switch(i){case Wr:cr(m,h,g,_,v);break;case Gr:lr(m,h,g,_,v);break;case Zr:lr(m,h,g,_,v),jr(_,v,0,g,1,0);break;case Kr:fr(m,h,g,_,v);break;case qr:ue(m,h,g,_,v,1);break;case Qr:ue(m,h,g,_,v,1),jr(_,v,0,g,1,0);break;case Jr:ue(m,h,g,_,v,0);break;case $r:ue(m,h,g,_,v,0),jr(_,v,1,g,1,0);break;case Yr:ur(m,h,g,_,v);break;case ei:ur(m,h,g,_,v),Mr(_,v,g,1,0);break;case Xr:dr(m,h,g,_,v);break;default:t(0)}c+=l,d+=f}e.Ma+=o}else alert(`todo:EmitRescaledRowsYUVA`);t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Me(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ne(e,n,r,i,a,o){if(e.Z!=0){var s=e.qd,c=e.rd;for(t(wi[e.Z]!=null);n<r;++n)wi[e.Z](s,c,i,a,i,a,o),s=i,c=a,a+=o;e.qd=s,e.rd=c}}function Pe(e,n){var r=e.l.ma,i=r.Z==0||r.Z==1?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var a=e.l.width,o=r.ca,s=r.tb+a*i,c=e.V,l=e.Ba+e.c*i,u=e.gc;t(e.ab==1),t(u[0].hc==3),ir(u[0],i,n,c,l,o,s),Ne(r,i,n,o,s,a)}e.C=e.Ma=n}function Fe(e,n,r,i,a,o,s){var c=e.$/i,l=e.$%i,u=e.m,d=e.s,f=r+e.$,p=f;a=r+i*a;var m=r+i*o,h=280+d.ua,g=e.Pb?c:16777216,_=0<d.ua?d.Wa:null,v=d.wc,y=f<m?ke(d,l,c):null;t(e.C<o),t(m<=a);var b=!1;t:for(;;){for(;b||f<m;){var x=0;if(c>=g){var E=f-r;t((g=e).Pb),g.wd=g.m,g.xd=E,0<g.s.ua&&P(g.s.Wa,g.s.vb),g=c+ci}if(l&v||(y=ke(d,l,c)),t(y!=null),y.Qb&&(n[f]=y.qb,b=!0),!b)if(T(u),y.jc){x=u,E=n;var D=f,O=y.pd[S(x)&qn-1];t(y.jc),256>O.g?(w(x,x.u+O.g),E[D]=O.value,x=0):(w(x,x.u+O.g-256),t(256<=O.value),x=O.value),x==0&&(b=!0)}else x=De(y.G[0],y.H[0],u);if(u.h)break;if(b||256>x){if(!b)if(y.nd)n[f]=(y.qb|x<<8)>>>0;else{if(T(u),b=De(y.G[1],y.H[1],u),T(u),E=De(y.G[2],y.H[2],u),D=De(y.G[3],y.H[3],u),u.h)break;n[f]=(D<<24|b<<16|x<<8|E)>>>0}if(b=!1,++f,++l>=i&&(l=0,++c,s!=null&&c<=o&&!(c%16)&&s(e,c),_!=null))for(;p<f;)x=n[p++],_.X[(506832829*x&4294967295)>>>_.Mb]=x}else if(280>x){if(x=Te(x-256,u),E=De(y.G[4],y.H[4],u),T(u),E=Ee(i,E=Te(E,u)),u.h)break;if(f-r<E||a-f<x)break t;for(D=0;D<x;++D)n[f+D]=n[f+D-E];for(f+=x,l+=x;l>=i;)l-=i,++c,s!=null&&c<=o&&!(c%16)&&s(e,c);if(t(f<=a),l&v&&(y=ke(d,l,c)),_!=null)for(;p<f;)x=n[p++],_.X[(506832829*x&4294967295)>>>_.Mb]=x}else{if(!(x<h))break t;for(b=x-280,t(_!=null);p<f;)x=n[p++],_.X[(506832829*x&4294967295)>>>_.Mb]=x;x=f,t(!(b>>>(E=_).Xa)),n[x]=E.X[b],b=!0}b||t(u.h==C(u))}if(e.Pb&&u.h&&f<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&P(e.s.vb,e.s.Wa);else{if(u.h)break t;s?.(e,c>o?o:c),e.a=0,e.$=f-r}return 1}return e.a=3,0}function Ie(e){t(e!=null),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;n!=null&&(n.X=null),e.vb=null,t(e!=null)}function Le(){var t=new hn;return t==null?null:(t.a=0,t.xb=Ci,de(`Predictor`,`VP8LPredictors`),de(`Predictor`,`VP8LPredictors_C`),de(`PredictorAdd`,`VP8LPredictorsAdd`),de(`PredictorAdd`,`VP8LPredictorsAdd_C`),tr=re,sr=U,cr=oe,lr=W,ur=se,dr=ce,fr=le,e.VP8LMapColor32b=rr,e.VP8LMapColor8b=ar,t)}function Re(e,n,r,s,c){var l=1,f=[e],m=[n],h=s.m,g=s.s,_=null,v=0;t:for(;;){if(r)for(;l&&y(h,1);){var b=f,x=m,C=s,E=1,D=C.m,O=C.gc[C.ab],k=y(D,2);if(C.Oc&1<<k)l=0;else{switch(C.Oc|=1<<k,O.hc=k,O.Ea=b[0],O.nc=x[0],O.K=[null],++C.ab,t(4>=C.ab),k){case 0:case 1:O.b=y(D,3)+2,E=Re(L(O.Ea,O.b),L(O.nc,O.b),0,C,O.K),O.K=O.K[0];break;case 3:var A,j=y(D,8)+1,M=16<j?0:4<j?1:2<j?2:3;if(b[0]=L(O.Ea,M),O.b=M,A=E=Re(j,1,0,C,O.K)){var P,F=j,I=O,z=1<<(8>>I.b),ee=a(z);if(ee==null)A=0;else{var B=I.K[0],V=I.w;for(ee[0]=I.K[0][0],P=1;P<1*F;++P)ee[P]=R(B[V+P],ee[P-1]);for(;P<4*z;++P)ee[P]=0;I.K[0]=null,I.K[0]=ee,A=1}}E=A;break;case 2:break;default:t(0)}l=E}}if(f=f[0],m=m[0],l&&y(h,1)&&!(l=1<=(v=y(h,4))&&11>=v)){s.a=3;break t}var te;if(te=l)e:{var H,ne,re,ie=s,U=f,ae=m,oe=v,W=r,se=ie.m,ce=ie.s,le=[null],ue=1,de=0,fe=si[oe];r:for(;;){if(W&&y(se,1)){var pe=y(se,3)+2,me=L(U,pe),he=L(ae,pe),ge=me*he;if(!Re(me,he,0,ie,le))break r;for(le=le[0],ce.xc=pe,H=0;H<ge;++H){var _e=le[H]>>8&65535;le[H]=_e,_e>=ue&&(ue=_e+1)}}if(se.h)break r;for(ne=0;5>ne;++ne){var ve=ri[ne];!ne&&0<oe&&(ve+=1<<oe),de<ve&&(de=ve)}var ye=o(ue*fe,d),be=ue,xe=o(be,p);if(xe==null)var Se=null;else t(65536>=be),Se=xe;var Ce=a(de);if(Se==null||Ce==null||ye==null){ie.a=1;break r}var we=ye;for(H=re=0;H<ue;++H){var Te=Se[H],Ee=Te.G,De=Te.H,ke=0,Ae=1,je=0;for(ne=0;5>ne;++ne){ve=ri[ne],Ee[ne]=we,De[ne]=re,!ne&&0<oe&&(ve+=1<<oe);n:{var Me,Ne=ve,Pe=ie,Le=Ce,ze=we,Be=re,Ve=0,He=Pe.m,Ue=y(He,1);if(i(Le,0,0,Ne),Ue){var We=y(He,1)+1,Ge=y(He,y(He,1)==0?1:8);Le[Ge]=1,We==2&&(Le[Ge=y(He,8)]=1);var Ke=1}else{var qe=a(19),Je=y(He,4)+4;if(19<Je){Pe.a=3;var Ye=0;break n}for(Me=0;Me<Je;++Me)qe[ai[Me]]=y(He,3);var Xe=void 0,Ze=void 0,Qe=Pe,$e=qe,et=Ne,tt=Le,nt=0,rt=Qe.m,it=8,at=o(128,d);i:for(;u(at,0,7,$e,19);){if(y(rt,1)){if((Xe=2+y(rt,2+2*y(rt,3)))>et)break i}else Xe=et;for(Ze=0;Ze<et&&Xe--;){T(rt);var ot=at[0+(127&S(rt))];w(rt,rt.u+ot.g);var st=ot.value;if(16>st)tt[Ze++]=st,st!=0&&(it=st);else{var ct=st==16,lt=st-16,ut=ni[lt],dt=y(rt,ti[lt])+ut;if(Ze+dt>et)break i;for(var ft=ct?it:0;0<dt--;)tt[Ze++]=ft}}nt=1;break i}nt||(Qe.a=3),Ke=nt}(Ke&&=!He.h)&&(Ve=u(ze,Be,8,Le,Ne)),Ke&&Ve!=0?Ye=Ve:(Pe.a=3,Ye=0)}if(Ye==0)break r;if(Ae&&ii[ne]==1&&(Ae=we[re].g==0),ke+=we[re].g,re+=Ye,3>=ne){var pt,mt=Ce[0];for(pt=1;pt<ve;++pt)Ce[pt]>mt&&(mt=Ce[pt]);je+=mt}}if(Te.nd=Ae,Te.Qb=0,Ae&&(Te.qb=(Ee[3][De[3]+0].value<<24|Ee[1][De[1]+0].value<<16|Ee[2][De[2]+0].value)>>>0,ke==0&&256>Ee[0][De[0]+0].value&&(Te.Qb=1,Te.qb+=Ee[0][De[0]+0].value<<8)),Te.jc=!Te.Qb&&6>je,Te.jc){var ht,gt=Te;for(ht=0;ht<qn;++ht){var _t=ht,vt=gt.pd[_t],yt=gt.G[0][gt.H[0]+_t];256<=yt.value?(vt.g=yt.g+256,vt.value=yt.value):(vt.g=0,vt.value=0,_t>>=Oe(yt,8,vt),_t>>=Oe(gt.G[1][gt.H[1]+_t],16,vt),_t>>=Oe(gt.G[2][gt.H[2]+_t],0,vt),Oe(gt.G[3][gt.H[3]+_t],24,vt))}}}ce.vc=le,ce.Wb=ue,ce.Ya=Se,ce.yc=ye,te=1;break e}te=0}if(!(l=te)){s.a=3;break t}if(0<v){if(g.ua=1<<v,!N(g.Wa,v)){s.a=1,l=0;break t}}else g.ua=0;var bt=s,xt=f,St=m,Ct=bt.s,wt=Ct.xc;if(bt.c=xt,bt.i=St,Ct.md=L(xt,wt),Ct.wc=wt==0?-1:(1<<wt)-1,r){s.xb=Si;break t}if((_=a(f*m))==null){s.a=1,l=0;break t}l=(l=Fe(s,_,0,f,m,m,null))&&!h.h;break t}return l?(c==null?(t(_==null),t(r)):c[0]=_,s.$=0,r||Ie(g)):Ie(g),l}function ze(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=a(i),e.V==null?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Be(e,n){var r=e.C,i=n-r,a=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,c=e.l.ma,l=e.l.width,u=l*s,d=c.ca,f=c.tb+l*r,p=e.Ta,m=e.Ua;Ae(e,s,a,o),Pr(p,m,d,f,u),Ne(c,r,r+s,d,f,l),i-=s,a+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Ve(){this.ub=this.yd=this.td=this.Rb=0}function He(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ue(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function We(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],a=0;a<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));a++)e(t[a],n+1,r)}(e,0,[3,11]),e}()}function Ge(){this.jb=a(3),this.Wc=s([4,8],We),this.Xc=s([4,17],We)}function Ke(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function qe(){this.ld=this.La=this.dd=this.tc=0}function Je(){this.Na=this.la=0}function Ye(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xe(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new qe),this.Y=0,this.ya=Array(new Xe),this.aa=0,this.l=new tt}function Qe(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $e(){this.cb=this.a=0,this.sc=``,this.m=new b,this.Od=new Ve,this.Kc=new He,this.ed=new Ke,this.Qa=new Ue,this.Ic=this.$c=this.Aa=0,this.D=new Ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,Ye),this.Pa=new Ge,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qe),this.Hd=0,this.rb=Array(new Je),this.sb=0,this.wa=Array(new qe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xe),this.L=this.aa=0,this.gd=s([4,2],qe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function et(e,t){return 0>e?0:e>t?t:e}function tt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma=`void`,this.put=`VP8IoPutHook`,this.ac=`VP8IoSetupHook`,this.bc=`VP8IoTeardownHook`,this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function nt(){var e=new $e;return e!=null&&(e.a=0,e.sc=`OK`,e.cb=0,e.Xb=0,di||=ot),e}function rt(e,t,n){return e.a==0&&(e.a=t,e.sc=n,e.cb=0),0}function it(e,t,n){return 3<=n&&e[t+0]==157&&e[t+1]==1&&e[t+2]==42}function at(e,n){if(e==null)return 0;if(e.a=0,e.sc=`OK`,n==null)return rt(e,2,`null VP8Io passed to VP8GetHeaders()`);var r=n.data,a=n.w,o=n.ha;if(4>o)return rt(e,7,`Truncated header.`);var s=r[a+0]|r[a+1]<<8|r[a+2]<<16,c=e.Od;if(c.Rb=!(1&s),c.td=s>>1&7,c.yd=s>>4&1,c.ub=s>>5,3<c.td)return rt(e,3,`Incorrect keyframe parameters.`);if(!c.yd)return rt(e,4,`Frame not displayable.`);a+=3,o-=3;var l=e.Kc;if(c.Rb){if(7>o)return rt(e,7,`cannot parse picture header`);if(!it(r,a,o))return rt(e,3,`Bad code word`);l.c=16383&(r[a+4]<<8|r[a+3]),l.Td=r[a+4]>>6,l.i=16383&(r[a+6]<<8|r[a+5]),l.Ud=r[a+6]>>6,a+=7,o-=7,e.za=l.c+15>>4,e.Ub=l.i+15>>4,n.width=l.c,n.height=l.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t((s=e.Qa)!=null),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(c.ub>o)return rt(e,7,`bad partition length`);m(s=e.m,r,a,c.ub),a+=c.ub,o-=c.ub,c.Rb&&(l.Ld=D(s),l.Kd=D(s)),l=e.Qa;var u,d=e.Pa;if(t(s!=null),t(l!=null),l.Cb=D(s),l.Cb){if(l.Bb=D(s),D(s)){for(l.Fb=D(s),u=0;4>u;++u)l.Zb[u]=D(s)?g(s,7):0;for(u=0;4>u;++u)l.Lb[u]=D(s)?g(s,6):0}if(l.Bb)for(u=0;3>u;++u)d.jb[u]=D(s)?h(s,8):255}else l.Bb=0;if(s.Ka)return rt(e,3,`cannot parse segment header`);if((l=e.ed).zd=D(s),l.Tb=h(s,6),l.wb=h(s,3),l.Pc=D(s),l.Pc&&D(s)){for(d=0;4>d;++d)D(s)&&(l.vd[d]=g(s,6));for(d=0;4>d;++d)D(s)&&(l.od[d]=g(s,6))}if(e.L=l.Tb==0?0:l.zd?1:2,s.Ka)return rt(e,3,`cannot parse filter header`);var f=o;if(o=u=a,a=u+f,l=f,e.Xb=(1<<h(e.m,2))-1,f<3*(d=e.Xb))r=7;else{for(u+=3*d,l-=3*d,f=0;f<d;++f){var p=r[o+0]|r[o+1]<<8|r[o+2]<<16;p>l&&(p=l),m(e.Jc[+f],r,u,p),u+=p,l-=p,o+=3}m(e.Jc[+d],r,u,l),r=u<a?0:5}if(r!=0)return rt(e,r,`cannot parse partitions`);for(r=h(u=e.m,7),o=D(u)?g(u,4):0,a=D(u)?g(u,4):0,l=D(u)?g(u,4):0,d=D(u)?g(u,4):0,u=D(u)?g(u,4):0,f=e.Qa,p=0;4>p;++p){if(f.Cb){var _=f.Zb[p];f.Fb||(_+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}_=r}var v=e.pb[p];v.Sc[0]=li[et(_+o,127)],v.Sc[1]=ui[et(_+0,127)],v.Eb[0]=2*li[et(_+a,127)],v.Eb[1]=101581*ui[et(_+l,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=li[et(_+d,117)],v.Qc[1]=ui[et(_+u,127)],v.lc=_+u}if(!c.Rb)return rt(e,4,`Not a key frame.`);for(D(s),c=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(a=0;3>a;++a)for(l=0;11>l;++l)d=O(s,_i[r][o][a][l])?h(s,8):hi[r][o][a][l],c.Wc[r][o].Yb[a][l]=d;for(o=0;17>o;++o)c.Xc[r][o]=c.Wc[r][vi[o]]}return e.kc=D(s),e.kc&&(e.Bd=h(s,8)),e.cb=1}function ot(e,t,n,r,i,a,o){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!O(e,s[n+0]))return i;for(;!O(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,i==16)return 16;var c=t[i+1].Yb;if(O(e,s[n+2])){var l=e,u=0;if(O(l,(f=s)[(d=n)+3]))if(O(l,f[d+6])){for(s=0,d=2*(u=O(l,f[d+8]))+(f=O(l,f[d+9+u])),u=0,f=fi[d];f[s];++s)u+=u+O(l,f[s]);u+=3+(8<<d)}else O(l,f[d+7])?(u=7+2*O(l,165),u+=O(l,145)):u=5+O(l,159);else u=O(l,f[d+4])?3+O(l,f[d+5]):2;s=c[2]}else u=1,s=c[1];c=o+pi[i],0>(l=e).b&&E(l);var d,f=l.b,p=(d=l.Ca>>1)-(l.I>>f)>>31;--l.b,l.Ca+=p,l.Ca|=1,l.I-=(d+1&p)<<f,a[c]=((u^p)-p)*r[(0<i)+0]}return 16}function st(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function ct(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function lt(e,t,n,r,i,a){ct(e,t,0,n,r+i),ct(e,t,1,n,r+a),ct(e,t,2,n,r-a),ct(e,t,3,n,r-i)}function ut(e){return(20091*e>>16)+e}function dt(e,t,n,r){var i,o=0,s=a(16);for(i=0;4>i;++i){var c=e[t+0]+e[t+8],l=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-ut(e[t+12]),d=ut(e[t+4])+(35468*e[t+12]>>16);s[o+0]=c+d,s[o+1]=l+u,s[o+2]=l-u,s[o+3]=c-d,o+=4,t++}for(i=o=0;4>i;++i)c=(e=s[o+0]+4)+s[o+8],l=e-s[o+8],u=(35468*s[o+4]>>16)-ut(s[o+12]),ct(n,r,0,0,c+(d=ut(s[o+4])+(35468*s[o+12]>>16))),ct(n,r,1,0,l+u),ct(n,r,2,0,l-u),ct(n,r,3,0,c-d),o++,r+=32}function ft(e,t,n,r){var i=e[t+0]+4,a=35468*e[t+4]>>16,o=ut(e[t+4]),s=35468*e[t+1]>>16;lt(n,r,0,i+o,e=ut(e[t+1]),s),lt(n,r,1,i+a,e,s),lt(n,r,2,i-a,e,s),lt(n,r,3,i-o,e,s)}function pt(e,t,n,r,i){dt(e,t,n,r),i&&dt(e,t+16,n,r+4)}function mt(e,t,n,r){mr(e,t+0,n,r,1),mr(e,t+32,n,r+128,1)}function ht(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)ct(n,r,t,i,e)}function gt(e,t,n,r){e[t+0]&&_r(e,t+0,n,r),e[t+16]&&_r(e,t+16,n,r+4),e[t+32]&&_r(e,t+32,n,r+128),e[t+48]&&_r(e,t+48,n,r+128+4)}function _t(e,t,n,r){var i,o=a(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],c=e[t+4+i]+e[t+8+i],l=e[t+4+i]-e[t+8+i],u=e[t+0+i]-e[t+12+i];o[0+i]=s+c,o[8+i]=s-c,o[4+i]=u+l,o[12+i]=u-l}for(i=0;4>i;++i)s=(e=o[0+4*i]+3)+o[3+4*i],c=o[1+4*i]+o[2+4*i],l=o[1+4*i]-o[2+4*i],u=e-o[3+4*i],n[r+0]=s+c>>3,n[r+16]=u+l>>3,n[r+32]=s-c>>3,n[r+48]=u-l>>3,r+=64}function vt(e,t,n){var r,i=t-32,a=Hr,o=255-e[i-1];for(r=0;r<n;++r){var s,c=a,l=o+e[t-1];for(s=0;s<n;++s)e[t+s]=c[l+e[i+s]];t+=32}}function yt(e,t){vt(e,t,4)}function bt(e,t){vt(e,t,8)}function xt(e,t){vt(e,t,16)}function St(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function Ct(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function wt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function Tt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];wt(r>>5,e,t)}function Et(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];wt(r>>4,e,t)}function Dt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];wt(r>>4,e,t)}function Ot(e,t){wt(128,e,t)}function kt(e,t,n){return e+2*t+n+2>>2}function At(e,t){var n,i=t-32;for(i=new Uint8Array([kt(e[i-1],e[i+0],e[i+1]),kt(e[i+0],e[i+1],e[i+2]),kt(e[i+1],e[i+2],e[i+3]),kt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];k(e,t+0,16843009*kt(e[t-1-32],n,r)),k(e,t+32,16843009*kt(n,r,i)),k(e,t+64,16843009*kt(r,i,a)),k(e,t+96,16843009*kt(i,a,a))}function Mt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],c=e[t+2-32],l=e[t+3-32];e[t+0+96]=kt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=kt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=kt(a,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=kt(o,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=kt(s,o,a),e[t+3+32]=e[t+2+0]=kt(c,s,o),e[t+3+0]=kt(l,c,s)}function Pt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],a=e[t+4-32],o=e[t+5-32],s=e[t+6-32],c=e[t+7-32];e[t+0+0]=kt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=kt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=kt(r,i,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=kt(i,a,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=kt(a,o,s),e[t+3+64]=e[t+2+96]=kt(o,s,c),e[t+3+96]=kt(s,c,c)}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],c=e[t+2-32],l=e[t+3-32];e[t+0+0]=e[t+1+64]=a+o+1>>1,e[t+1+0]=e[t+2+64]=o+s+1>>1,e[t+2+0]=e[t+3+64]=s+c+1>>1,e[t+3+0]=c+l+1>>1,e[t+0+96]=kt(i,r,n),e[t+0+64]=kt(r,n,a),e[t+0+32]=e[t+1+96]=kt(n,a,o),e[t+1+32]=e[t+2+96]=kt(a,o,s),e[t+2+32]=e[t+3+96]=kt(o,s,c),e[t+3+32]=kt(s,c,l)}function It(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],a=e[t+3-32],o=e[t+4-32],s=e[t+5-32],c=e[t+6-32],l=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+a+1>>1,e[t+3+0]=e[t+2+64]=a+o+1>>1,e[t+0+32]=kt(n,r,i),e[t+1+32]=e[t+0+96]=kt(r,i,a),e[t+2+32]=e[t+1+96]=kt(i,a,o),e[t+3+32]=e[t+2+96]=kt(a,o,s),e[t+3+64]=kt(o,s,c),e[t+3+96]=kt(s,c,l)}function Lt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+a+1>>1,e[t+1+0]=kt(n,r,i),e[t+3+0]=e[t+1+32]=kt(r,i,a),e[t+3+32]=e[t+1+64]=kt(i,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Rt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96],o=e[t-1-32],s=e[t+0-32],c=e[t+1-32],l=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=a+i+1>>1,e[t+3+0]=kt(s,c,l),e[t+2+0]=kt(o,s,c),e[t+1+0]=e[t+3+32]=kt(n,o,s),e[t+1+32]=e[t+3+64]=kt(r,n,o),e[t+1+64]=e[t+3+96]=kt(i,r,n),e[t+1+96]=kt(a,i,r)}function zt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Bt(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Vt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Ht(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Vt(r>>4,e,t)}function Ut(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Vt(r>>3,e,t)}function Wt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Vt(r>>3,e,t)}function Gt(e,t){Vt(128,e,t)}function Kt(e,t,n){var r=e[t-n],i=e[t+0],a=3*(i-r)+Br[1020+e[t-2*n]-e[t+n]],o=Vr[112+(a+4>>3)];e[t-n]=Hr[255+r+Vr[112+(a+3>>3)]],e[t+0]=Hr[255+i-o]}function qt(e,t,n,r){var i=e[t+0],a=e[t+n];return Ur[255+e[t-2*n]-e[t-n]]>r||Ur[255+a-i]>r}function Jt(e,t,n,r){return 4*Ur[255+e[t-n]-e[t+0]]+Ur[255+e[t-2*n]-e[t+n]]<=r}function Yt(e,t,n,r,i){var a=e[t-3*n],o=e[t-2*n],s=e[t-n],c=e[t+0],l=e[t+n],u=e[t+2*n],d=e[t+3*n];return 4*Ur[255+s-c]+Ur[255+o-l]>r?0:Ur[255+e[t-4*n]-a]<=i&&Ur[255+a-o]<=i&&Ur[255+o-s]<=i&&Ur[255+d-u]<=i&&Ur[255+u-l]<=i&&Ur[255+l-c]<=i}function Xt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Jt(e,t+r,n,i)&&Kt(e,t+r,n)}function Zt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Jt(e,t+r*n,1,i)&&Kt(e,t+r*n,1)}function Qt(e,t,n,r){var i;for(i=3;0<i;--i)Xt(e,t+=4*n,n,r)}function $t(e,t,n,r){var i;for(i=3;0<i;--i)Zt(e,t+=4,n,r)}function en(e,t,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(Yt(e,t,n,a,o))if(qt(e,t,n,s))Kt(e,t,n);else{var c=e,l=t,u=n,d=c[l-2*u],f=c[l-u],p=c[l+0],m=c[l+u],h=c[l+2*u],g=27*(v=Br[1020+3*(p-f)+Br[1020+d-m]])+63>>7,_=18*v+63>>7,v=9*v+63>>7;c[l-3*u]=Hr[255+c[l-3*u]+v],c[l-2*u]=Hr[255+d+_],c[l-u]=Hr[255+f+g],c[l+0]=Hr[255+p-g],c[l+u]=Hr[255+m-_],c[l+2*u]=Hr[255+h-v]}t+=r}}function tn(e,t,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(Yt(e,t,n,a,o))if(qt(e,t,n,s))Kt(e,t,n);else{var c=e,l=t,u=n,d=c[l-u],f=c[l+0],p=c[l+u],m=Vr[112+(4+(h=3*(f-d))>>3)],h=Vr[112+(h+3>>3)],g=m+1>>1;c[l-2*u]=Hr[255+c[l-2*u]+g],c[l-u]=Hr[255+d+h],c[l+0]=Hr[255+f-m],c[l+u]=Hr[255+p-g]}t+=r}}function nn(e,t,n,r,i,a){en(e,t,n,1,16,r,i,a)}function rn(e,t,n,r,i,a){en(e,t,1,n,16,r,i,a)}function an(e,t,n,r,i,a){var o;for(o=3;0<o;--o)tn(e,t+=4*n,n,1,16,r,i,a)}function on(e,t,n,r,i,a){var o;for(o=3;0<o;--o)tn(e,t+=4,1,n,16,r,i,a)}function sn(e,t,n,r,i,a,o,s){en(e,t,i,1,8,a,o,s),en(n,r,i,1,8,a,o,s)}function cn(e,t,n,r,i,a,o,s){en(e,t,1,i,8,a,o,s),en(n,r,1,i,8,a,o,s)}function ln(e,t,n,r,i,a,o,s){tn(e,t+4*i,i,1,8,a,o,s),tn(n,r+4*i,i,1,8,a,o,s)}function un(e,t,n,r,i,a,o,s){tn(e,t+4,1,i,8,a,o,s),tn(n,r+4,1,i,8,a,o,s)}function dn(){this.ba=new he,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _e,this.memory=0,this.Ib=`OutputFunc`,this.Jb=`OutputAlphaFunc`,this.Nd=`OutputRowFunc`}function fn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mn(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new d}function hn(){this.xb=this.a=0,this.l=new tt,this.ca=new he,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mn,this.ab=0,this.gc=o(4,pn),this.Oc=0}function gn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _n(e,t,n,r,i,a,o){for(e=e==null?0:e[t+0],t=0;t<o;++t)i[a+t]=e+n[r+t]&255,e=i[a+t]}function vn(e,t,n,r,i,a,o){var s;if(e==null)_n(null,null,n,r,i,a,o);else for(s=0;s<o;++s)i[a+s]=e[t+s]+n[r+s]&255}function yn(e,t,n,r,i,a,o){if(e==null)_n(null,null,n,r,i,a,o);else{var s,c=e[t+0],l=c,u=c;for(s=0;s<o;++s)l=u+(c=e[t+s])-l,u=n[r+s]+(-256&l?0>l?0:255:l)&255,l=c,i[a+s]=u}}function bn(e,n,i,o){var s=n.width,c=n.o;if(t(e!=null&&n!=null),0>i||0>=o||i+o>c)return null;if(!e.Cc){if(e.ga==null){var l;if(e.ga=new gn,(l=e.ga==null)||(l=n.width*n.o,t(e.Gb.length==0),e.Gb=a(l),e.Uc=0,e.Gb==null?l=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,l=1),l=!l),!l){l=e.ga;var u=e.Fa,d=e.P,f=e.qc,p=e.mb,m=e.nb,h=d+1,g=f-1,v=l.l;if(t(u!=null&&p!=null&&n!=null),wi[0]=null,wi[1]=_n,wi[2]=vn,wi[3]=yn,l.ca=p,l.tb=m,l.c=n.width,l.i=n.height,t(0<l.c&&0<l.i),1>=f)n=0;else if(l.$a=3&u[d+0],l.Z=u[d+0]>>2&3,l.Lc=u[d+0]>>4&3,d=u[d+0]>>6&3,0>l.$a||1<l.$a||4<=l.Z||1<l.Lc||d)n=0;else if(v.put=Se,v.ac=xe,v.bc=Ce,v.ma=l,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,l.$a)t:{t(l.$a==1),n=Le();e:for(;;){if(n==null){n=0;break t}if(t(l!=null),l.mc=n,n.c=l.c,n.i=l.i,n.l=l.l,n.l.ma=l,n.l.width=l.c,n.l.height=l.i,n.a=0,_(n.m,u,h,g),!Re(l.c,l.i,1,n,null)||(n.ab==1&&n.gc[0].hc==3&&Me(n.s)?(l.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(u),n.Ba=0,n.V==null?(n.a=1,n=0):n=1):(l.ic=0,n=ze(n,l.c)),!n))break e;n=1;break t}l.mc=null,n=0}else n=g>=l.c*l.i;l=!n}if(l)return null;e.ga.Lc==1?o=c-i:e.Ga=0}t(e.ga!=null),t(i+o<=c);t:{if(n=(u=e.ga).c,c=u.l.o,u.$a==0){if(h=e.rc,g=e.Vc,v=e.Fa,d=e.P+1+i*n,f=e.mb,p=e.nb+i*n,t(d<=e.P+e.qc),u.Z!=0)for(t(wi[u.Z]!=null),l=0;l<o;++l)wi[u.Z](h,g,v,d,f,p,n),h=f,g=p,p+=n,d+=n;else for(l=0;l<o;++l)r(f,p,v,d,n),h=f,g=p,p+=n,d+=n;e.rc=h,e.Vc=g}else{if(t(u.mc!=null),n=i+o,t((l=u.mc)!=null),t(n<=l.i),l.C>=n)n=1;else if(u.ic||Tn(),u.ic){u=l.V,h=l.Ba,g=l.c;var y=l.i,b=(v=1,d=l.$/g,f=l.$%g,p=l.m,m=l.s,l.$),x=g*y,S=g*n,w=m.wc,E=b<S?ke(m,f,d):null;t(b<=x),t(n<=y),t(Me(m));e:for(;;){for(;!p.h&&b<S;){if(f&w||(E=ke(m,f,d)),t(E!=null),T(p),256>(y=De(E.G[0],E.H[0],p)))u[h+b]=y,++b,++f>=g&&(f=0,++d<=n&&!(d%16)&&Pe(l,d));else{if(!(280>y)){v=0;break e}y=Te(y-256,p);var D,O=De(E.G[4],E.H[4],p);if(T(p),!(b>=(O=Ee(g,O=Te(O,p)))&&x-b>=y)){v=0;break e}for(D=0;D<y;++D)u[h+b+D]=u[h+b+D-O];for(b+=y,f+=y;f>=g;)f-=g,++d<=n&&!(d%16)&&Pe(l,d);b<S&&f&w&&(E=ke(m,f,d))}t(p.h==C(p))}Pe(l,d>n?n:d);break e}!v||p.h&&b<x?(v=0,l.a=p.h?5:3):l.$=b,n=v}else n=Fe(l,l.V,l.Ba,l.c,l.i,n,Be);if(!n){o=0;break t}}i+o>=c&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&((o=e.ga)!=null&&(o.mc=null),e.ga=null,0<e.Ga))return alert(`todo:WebPDequantizeLevels`),null}return e.nb+i*s}function xn(e,t,n,r,i,a){for(;0<i--;){var o,s=e,c=t+(n?1:0),l=e,u=t+(n?0:3);for(o=0;o<r;++o){var d=l[u+4*o];d!=255&&(d*=32897,s[c+4*o+0]=s[c+4*o+0]*d>>23,s[c+4*o+1]=s[c+4*o+1]*d>>23,s[c+4*o+2]=s[c+4*o+2]*d>>23)}t+=a}}function Sn(e,t,n,r,i){for(;0<r--;){var a;for(a=0;a<n;++a){var o=e[t+2*a+0],s=15&(l=e[t+2*a+1]),c=4369*s,l=(240&l|l>>4)*c>>16;e[t+2*a+0]=(240&o|o>>4)*c>>16&240|(15&o|o<<4)*c>>16>>4&15,e[t+2*a+1]=240&l|s}t+=i}}function Cn(e,t,n,r,i,a,o,s){var c,l,u=255;for(l=0;l<i;++l){for(c=0;c<r;++c){var d=e[t+c];a[o+4*c]=d,u&=d}t+=n,o+=s}return u!=255}function wn(e,t,n,r,i){var a;for(a=0;a<i;++a)n[r+a]=e[t+a]>>8}function Tn(){jr=xn,Mr=Sn,Nr=Cn,Pr=wn}function En(n,r,i){e[n]=function(e,n,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y){var b,x=y-1>>1,S=s[c+0]|l[u+0]<<16,C=d[f+0]|p[m+0]<<16;t(e!=null);var w=3*S+C+131074>>2;for(r(e[n+0],255&w,w>>16,h,g),a!=null&&(w=3*C+S+131074>>2,r(a[o+0],255&w,w>>16,_,v)),b=1;b<=x;++b){var T=s[c+b]|l[u+b]<<16,E=d[f+b]|p[m+b]<<16,D=S+T+C+E+524296,O=D+2*(T+C)>>3;w=O+S>>1,S=(D=D+2*(S+E)>>3)+T>>1,r(e[n+2*b-1],255&w,w>>16,h,g+(2*b-1)*i),r(e[n+2*b-0],255&S,S>>16,h,g+(2*b-0)*i),a!=null&&(w=D+C>>1,S=O+E>>1,r(a[o+2*b-1],255&w,w>>16,_,v+(2*b-1)*i),r(a[o+2*b+0],255&S,S>>16,_,v+(2*b+0)*i)),S=T,C=E}1&y||(w=3*S+C+131074>>2,r(e[n+y-1],255&w,w>>16,h,g+(y-1)*i),a!=null&&(w=3*C+S+131074>>2,r(a[o+y-1],255&w,w>>16,_,v+(y-1)*i)))}}function Dn(){Ti[Wr]=Ei,Ti[Gr]=Oi,Ti[Kr]=Di,Ti[qr]=ki,Ti[Jr]=Ai,Ti[Yr]=ji,Ti[Xr]=Mi,Ti[Zr]=Oi,Ti[Qr]=ki,Ti[$r]=Ai,Ti[ei]=ji}function On(e){return e&~Ri?0>e?0:255:e>>Li}function kn(e,t){return On((19077*e>>8)+(26149*t>>8)-14234)}function An(e,t,n){return On((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return On((19077*e>>8)+(33050*t>>8)-17685)}function Mn(e,t,n,r,i){r[i+0]=kn(e,n),r[i+1]=An(e,t,n),r[i+2]=jn(e,t)}function Nn(e,t,n,r,i){r[i+0]=jn(e,t),r[i+1]=An(e,t,n),r[i+2]=kn(e,n)}function Pn(e,t,n,r,i){var a=An(e,t,n);t=a<<3&224|jn(e,t)>>3,r[i+0]=248&kn(e,n)|a>>5,r[i+1]=t}function Fn(e,t,n,r,i){var a=240&jn(e,t)|15;r[i+0]=240&kn(e,n)|An(e,t,n)>>4,r[i+1]=a}function In(e,t,n,r,i){r[i+0]=255,Mn(e,t,n,r,i+1)}function Ln(e,t,n,r,i){Nn(e,t,n,r,i),r[i+3]=255}function Rn(e,t,n,r,i){Mn(e,t,n,r,i),r[i+3]=255}function zn(t,n,r){e[t]=function(e,t,i,a,o,s,c,l,u){for(var d=l+(-2&u)*r;l!=d;)n(e[t+0],i[a+0],o[s+0],c,l),n(e[t+1],i[a+0],o[s+0],c,l+r),t+=2,++a,++s,l+=2*r;1&u&&n(e[t+0],i[a+0],o[s+0],c,l)}}function Bn(e,t,n){return n==0?e==0?t==0?6:5:t==0?4:0:n}function Vn(e,t,n,r,i){switch(e>>>30){case 3:mr(t,n,r,i,0);break;case 2:hr(t,n,r,i);break;case 1:_r(t,n,r,i)}}function Hn(e,t){var n,a,o=t.M,s=t.Nb,c=e.oc,l=e.pc+40,u=e.oc,d=e.pc+584,f=e.oc,p=e.pc+600;for(n=0;16>n;++n)c[l+32*n-1]=129;for(n=0;8>n;++n)u[d+32*n-1]=129,f[p+32*n-1]=129;for(0<o?c[l-1-32]=u[d-1-32]=f[p-1-32]=129:(i(c,l-32-1,127,21),i(u,d-32-1,127,9),i(f,p-32-1,127,9)),a=0;a<e.za;++a){var m=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)r(c,l+32*n-4,c,l+32*n+12,4);for(n=-1;8>n;++n)r(u,d+32*n-4,u,d+32*n+4,4),r(f,p+32*n-4,f,p+32*n+4,4)}var h=e.Gd,g=e.Hd+a,_=m.ad,v=m.Hc;if(0<o&&(r(c,l-32,h[g].y,0,16),r(u,d-32,h[g].f,0,8),r(f,p-32,h[g].ea,0,8)),m.Za){var y=c,b=l-32+16;for(0<o&&(a>=e.za-1?i(y,b,h[g].y[15],4):r(y,b,h[g+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,v<<=2)y=c,b=l+Ki[n],bi[m.Ob[n]](y,b),Vn(v,_,16*n,y,b)}else if(y=Bn(a,o,m.Ob[0]),yi[y](c,l),v!=0)for(n=0;16>n;++n,v<<=2)Vn(v,_,16*n,c,l+Ki[n]);for(n=m.Gc,y=Bn(a,o,m.Dd),xi[y](u,d),xi[y](f,p),v=_,y=u,b=d,255&(m=0|n)&&(170&m?gr(v,256,y,b):vr(v,256,y,b)),m=f,v=p,255&(n>>=8)&&(170&n?gr(_,320,m,v):vr(_,320,m,v)),o<e.Ub-1&&(r(h[g].y,0,c,l+480,16),r(h[g].f,0,u,d+224,8),r(h[g].ea,0,f,p+224,8)),n=8*s*e.B,h=e.sa,g=e.ta+16*a+16*s*e.R,_=e.qa,m=e.ra+8*a+n,v=e.Ha,y=e.Ia+8*a+n,n=0;16>n;++n)r(h,g+n*e.R,c,l+32*n,16);for(n=0;8>n;++n)r(_,m+n*e.B,u,d+32*n,8),r(v,y+n*e.B,f,p+32*n,8)}}function Un(e,r,i,a,o,s,c,l,u){var d=[0],f=[0],p=0,m=u==null?0:u.kd,h=u??new fn;if(e==null||12>i)return 7;h.data=e,h.w=r,h.ha=i,r=[r],i=[i],h.gb=[h.gb];t:{var g=r,v=i,y=h.gb;if(t(e!=null),t(v!=null),t(y!=null),y[0]=0,12<=v[0]&&!n(e,g[0],`RIFF`)){if(n(e,g[0]+8,`WEBP`)){y=3;break t}var b=M(e,g[0]+4);if(12>b||4294967286<b){y=3;break t}if(m&&b>v[0]-8){y=7;break t}y[0]=b,g[0]+=12,v[0]-=12}y=0}if(y!=0)return y;for(b=0<h.gb[0],i=i[0];;){t:{var S=e;v=r,y=i;var C=d,w=f,T=g=[0];if((O=p=[p])[0]=0,8>y[0])y=7;else{if(!n(S,v[0],`VP8X`)){if(M(S,v[0]+4)!=10){y=3;break t}if(18>y[0]){y=7;break t}var E=M(S,v[0]+8),D=1+j(S,v[0]+12);if(2147483648<=D*(S=1+j(S,v[0]+15))){y=3;break t}T!=null&&(T[0]=E),C!=null&&(C[0]=D),w!=null&&(w[0]=S),v[0]+=18,y[0]-=18,O[0]=1}y=0}}if(p=p[0],g=g[0],y!=0)return y;if(v=!!(2&g),!b&&p)return 3;if(s!=null&&(s[0]=!!(16&g)),c!=null&&(c[0]=v),l!=null&&(l[0]=0),c=d[0],g=f[0],p&&v&&u==null){y=0;break}if(4>i){y=7;break}if(b&&p||!b&&!p&&!n(e,r[0],`ALPH`)){i=[i],h.na=[h.na],h.P=[h.P],h.Sa=[h.Sa];t:{E=e,y=r,b=i;var O=h.gb;C=h.na,w=h.P,T=h.Sa,D=22,t(E!=null),t(b!=null),S=y[0];var k=b[0];for(t(C!=null),t(T!=null),C[0]=null,w[0]=null,T[0]=0;;){if(y[0]=S,b[0]=k,8>k){y=7;break t}var A=M(E,S+4);if(4294967286<A){y=3;break t}var N=8+A+1&-2;if(D+=N,0<O&&D>O){y=3;break t}if(!n(E,S,`VP8 `)||!n(E,S,`VP8L`)){y=0;break t}if(k[0]<N){y=7;break t}n(E,S,`ALPH`)||(C[0]=E,w[0]=S+8,T[0]=A),S+=N,k-=N}}if(i=i[0],h.na=h.na[0],h.P=h.P[0],h.Sa=h.Sa[0],y!=0)break}i=[i],h.Ja=[h.Ja],h.xa=[h.xa];t:if(O=e,y=r,b=i,C=h.gb[0],w=h.Ja,T=h.xa,E=y[0],S=!n(O,E,`VP8 `),D=!n(O,E,`VP8L`),t(O!=null),t(b!=null),t(w!=null),t(T!=null),8>b[0])y=7;else{if(S||D){if(O=M(O,E+4),12<=C&&O>C-12){y=3;break t}if(m&&O>b[0]-8){y=7;break t}w[0]=O,y[0]+=8,b[0]-=8,T[0]=D}else T[0]=5<=b[0]&&O[E+0]==47&&!(O[E+4]>>5),w[0]=b[0];y=0}if(i=i[0],h.Ja=h.Ja[0],h.xa=h.xa[0],r=r[0],y!=0)break;if(4294967286<h.Ja)return 3;if(l==null||v||(l[0]=h.xa?2:1),c=[c],g=[g],h.xa){if(5>i){y=7;break}l=c,m=g,v=s,e==null||5>i?e=0:5<=i&&e[r+0]==47&&!(e[r+4]>>5)?(b=[0],O=[0],C=[0],_(w=new x,e,r,i),we(w,b,O,C)?(l!=null&&(l[0]=b[0]),m!=null&&(m[0]=O[0]),v!=null&&(v[0]=C[0]),e=1):e=0):e=0}else{if(10>i){y=7;break}l=g,e==null||10>i||!it(e,r+3,i-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=h.Ja||!v||!e?e=0:(c&&(c[0]=v),l&&(l[0]=e),e=1))}if(!e||(c=c[0],g=g[0],p&&(d[0]!=c||f[0]!=g)))return 3;u!=null&&(u[0]=h,u.offset=r-u.w,t(4294967286>r-u.w),t(u.offset==u.ha-i));break}return y==0||y==7&&p&&u==null?(s!=null&&(s[0]|=h.na!=null&&0<h.na.length),a!=null&&(a[0]=c),o!=null&&(o[0]=g),0):y}function Wn(e,t,n){var r=t.width,i=t.height,a=0,o=0,s=r,c=i;if(t.Da=e!=null&&0<e.Da,t.Da&&(s=e.cd,c=e.bd,a=e.v,o=e.j,11>n||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=c||a+s>r||o+c>i))return 0;if(t.v=a,t.j=o,t.va=a+s,t.o=o+c,t.U=s,t.T=c,t.da=e!=null&&0<e.da,t.da){if(!I(s,c,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=e!=null&&e.ob,t.Kb=e==null||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Gn(e){if(e==null)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,t.F!=null&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Kn(e,t,n,r){if(r==null||0>=e||0>=t)return 2;if(n!=null){if(n.Da){var i=n.cd,o=n.bd,s=-2&n.v,c=-2&n.j;if(0>s||0>c||0>=i||0>=o||s+i>e||c+o>t)return 2;e=i,t=o}if(n.da){if(!I(e,t,i=[n.ib],o=[n.hb]))return 2;e=i[0],t=o[0]}}r.width=e,r.height=t;t:{var l=r.width,u=r.height;if(e=r.S,0>=l||0>=u||!(e>=Wr&&13>e))e=2;else{if(0>=r.Rd&&r.sd==null){s=o=i=t=0;var d=(c=l*Xi[e])*u;if(11>e||(o=(u+1)/2*(t=(l+1)/2),e==12&&(s=(i=l)*u)),(u=a(d+2*o+s))==null){e=1;break t}r.sd=u,11>e?((l=r.f.RGBA).eb=u,l.fb=0,l.A=c,l.size=d):((l=r.f.kb).y=u,l.O=0,l.fa=c,l.Fd=d,l.f=u,l.N=0+d,l.Ab=t,l.Cd=o,l.ea=u,l.W=0+d+o,l.Db=t,l.Ed=o,e==12&&(l.F=u,l.J=0+d+2*o),l.Tc=s,l.lb=i)}if(t=1,i=r.S,o=r.width,s=r.height,i>=Wr&&13>i)if(11>i)e=r.f.RGBA,t&=(c=Math.abs(e.A))*(s-1)+o<=e.size,t&=c>=o*Xi[i],t&=e.eb!=null;else{e=r.f.kb,c=(o+1)/2,d=(s+1)/2,l=Math.abs(e.fa),u=Math.abs(e.Ab);var f=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(s-1)+o;t&=l*(s-1)+o<=e.Fd,t&=u*(d-1)+c<=e.Cd,t=(t&=f*(d-1)+c<=e.Ed)&l>=o&u>=c&f>=c,t&=e.y!=null,t&=e.f!=null,t&=e.ea!=null,i==12&&(t&=p>=o,t&=m<=e.Tc,t&=e.F!=null)}else t=0;e=t?0:2}}return e!=0||n!=null&&n.fd&&(e=Gn(r)),e}var qn=64,Jn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yn=24,Xn=32,Zn=8,Qn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];z(`Predictor0`,`PredictorAdd0`),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return B(B(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return B(e,t[n-1])},e.Predictor7=function(e,t,n){return B(e,t[n+0])},e.Predictor8=function(e,t,n){return B(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return B(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return B(B(e,t[n-1]),B(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(V((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|V((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|V((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|V((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(te((e=B(e,t[n+0]))>>24&255,r>>24&255)<<24|te(e>>16&255,r>>16&255)<<16|te(e>>8&255,r>>8&255)<<8|te(255&e,255&r))>>>0};var $n=e.PredictorAdd0;e.PredictorAdd1=ne,z(`Predictor2`,`PredictorAdd2`),z(`Predictor3`,`PredictorAdd3`),z(`Predictor4`,`PredictorAdd4`),z(`Predictor5`,`PredictorAdd5`),z(`Predictor6`,`PredictorAdd6`),z(`Predictor7`,`PredictorAdd7`),z(`Predictor8`,`PredictorAdd8`),z(`Predictor9`,`PredictorAdd9`),z(`Predictor10`,`PredictorAdd10`),z(`Predictor11`,`PredictorAdd11`),z(`Predictor12`,`PredictorAdd12`),z(`Predictor13`,`PredictorAdd13`);var er=e.PredictorAdd2;ae(`ColorIndexInverseTransform`,`MapARGB`,`32b`,function(e){return e>>8&255},function(e){return e}),ae(`VP8LColorIndexInverseTransformAlpha`,`MapAlpha`,`8b`,function(e){return e},function(e){return e>>8&255});var tr,nr=e.ColorIndexInverseTransform,rr=e.MapARGB,ir=e.VP8LColorIndexInverseTransformAlpha,ar=e.MapAlpha,or=e.VP8LPredictorsAdd=[];or.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var sr,cr,lr,ur,dr,fr,pr,mr,hr,gr,_r,vr,yr,br,xr,Sr,Cr,wr,Tr,Er,Dr,Or,kr,Ar,jr,Mr,Nr,Pr,Fr=a(511),Ir=a(2041),Lr=a(225),Rr=a(767),zr=0,Br=Ir,Vr=Lr,Hr=Rr,Ur=Fr,Wr=0,Gr=1,Kr=2,qr=3,Jr=4,Yr=5,Xr=6,Zr=7,Qr=8,$r=9,ei=10,ti=[2,3,7],ni=[3,3,11],ri=[280,256,256,256,40],ii=[0,1,1,1,0],ai=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],oi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],si=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ci=8,li=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ui=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],di=null,fi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_i=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yi=[],bi=[],xi=[],Si=1,Ci=2,wi=[],Ti=[];En(`UpsampleRgbLinePair`,Mn,3),En(`UpsampleBgrLinePair`,Nn,3),En(`UpsampleRgbaLinePair`,Rn,4),En(`UpsampleBgraLinePair`,Ln,4),En(`UpsampleArgbLinePair`,In,4),En(`UpsampleRgba4444LinePair`,Fn,2),En(`UpsampleRgb565LinePair`,Pn,2);var Ei=e.UpsampleRgbLinePair,Di=e.UpsampleBgrLinePair,Oi=e.UpsampleRgbaLinePair,ki=e.UpsampleBgraLinePair,Ai=e.UpsampleArgbLinePair,ji=e.UpsampleRgba4444LinePair,Mi=e.UpsampleRgb565LinePair,Ni=16,Pi=1<<Ni-1,Fi=-227,Ii=482,Li=6,Ri=(256<<Li)-1,zi=0,Bi=a(256),Vi=a(256),Hi=a(256),Ui=a(256),Wi=a(Ii-Fi),Gi=a(Ii-Fi);zn(`YuvToRgbRow`,Mn,3),zn(`YuvToBgrRow`,Nn,3),zn(`YuvToRgbaRow`,Rn,4),zn(`YuvToBgraRow`,Ln,4),zn(`YuvToArgbRow`,In,4),zn(`YuvToRgba4444Row`,Fn,2),zn(`YuvToRgb565Row`,Pn,2);var Ki=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qi=[0,2,8],Ji=[8,7,6,4,4,2,2,2,1,1,1,1],Yi=1;this.WebPDecodeRGBA=function(e,n,s,c,l){var u=Gr,d=new dn,f=new he;d.ba=f,f.S=u,f.width=[f.width],f.height=[f.height];var p=f.width,m=f.height,h=new ge;if(h==null||e==null)var g=2;else t(h!=null),g=Un(e,n,s,h.width,h.height,h.Pd,h.Qd,h.format,null);if(g==0?(p!=null&&(p[0]=h.width[0]),m!=null&&(m[0]=h.height[0]),p=1):p=0,p){f.width=f.width[0],f.height=f.height[0],c!=null&&(c[0]=f.width),l!=null&&(l[0]=f.height);t:{if(c=new tt,(l=new fn).data=e,l.w=n,l.ha=s,l.kd=1,n=[0],t(l!=null),((e=Un(l.data,l.w,l.ha,null,null,null,n,null,l))==0||e==7)&&n[0]&&(e=4),(n=e)==0){if(t(d!=null),c.data=l.data,c.w=l.w+l.offset,c.ha=l.ha-l.offset,c.put=Se,c.ac=xe,c.bc=Ce,c.ma=d,l.xa){if((e=Le())==null){d=1;break t}if(function(e,n){var r=[0],i=[0],a=[0];e:for(;;){if(e==null)return 0;if(n==null)return e.a=2,0;if(e.l=n,e.a=0,_(e.m,n.data,n.w,n.ha),!we(e.m,r,i,a)){e.a=3;break e}if(e.xb=Ci,n.width=r[0],n.height=i[0],!Re(r[0],i[0],1,e,null))break e;return 1}return t(e.a!=0),0}(e,c)){if(c=(n=Kn(c.width,c.height,d.Oa,d.ba))==0){e:{c=e;r:for(;;){if(c==null){c=0;break e}if(t(c.s.yc!=null),t(c.s.Ya!=null),t(0<c.s.Wb),t((s=c.l)!=null),t((l=s.ma)!=null),c.xb!=0){if(c.ca=l.ba,c.tb=l.tb,t(c.ca!=null),!Wn(l.Oa,s,qr)){c.a=2;break r}if(!ze(c,s.width)||s.da)break r;if((s.da||fe(c.ca.S))&&Tn(),11>c.ca.S||(alert(`todo:WebPInitConvertARGBToYUV`),c.ca.f.kb.F!=null&&Tn()),c.Pb&&0<c.s.ua&&c.s.vb.X==null&&!N(c.s.vb,c.s.Wa.Xa)){c.a=1;break r}c.xb=0}if(!Fe(c,c.V,c.Ba,c.c,c.i,s.o,je))break r;l.Dc=c.Ma,c=1;break e}t(c.a!=0),c=0}c=!c}c&&(n=e.a)}else n=e.a}else{if((e=new nt)==null){d=1;break t}if(e.Fa=l.na,e.P=l.P,e.qc=l.Sa,at(e,c)){if((n=Kn(c.width,c.height,d.Oa,d.ba))==0){if(e.Aa=0,s=d.Oa,t((l=e)!=null),s!=null){if(0<(p=0>(p=s.Md)?0:100<p?255:255*p/100)){for(m=h=0;4>m;++m)12>(g=l.pb[m]).lc&&(g.ia=p*Ji[0>g.lc?0:g.lc]>>3),h|=g.ia;h&&(alert(`todo:VP8InitRandom`),l.ia=1)}l.Ga=s.Id,100<l.Ga?l.Ga=100:0>l.Ga&&(l.Ga=0)}(function(e,n){if(e==null)return 0;if(n==null)return rt(e,2,`NULL VP8Io parameter in VP8Decode().`);if(!e.cb&&!at(e,n))return 0;if(t(e.cb),n.ac==null||n.ac(n)){n.ob&&(e.L=0);var s=qi[e.L];if(e.L==2?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(s=0;4>s;++s){var l;if(e.Qa.Cb){var u=e.Qa.Lb[s];e.Qa.Fb||(u+=c.Tb)}else u=c.Tb;for(l=0;1>=l;++l){var d=e.gd[s][l],f=u;if(c.Pc&&(f+=c.vd[0],l&&(f+=c.od[0])),0<(f=0>f?0:63<f?63:f)){var p=f;0<c.wb&&(p=4<c.wb?p>>2:p>>1)>9-c.wb&&(p=9-c.wb),1>p&&(p=1),d.dd=p,d.tc=2*f+p,d.ld=40<=f?2:15<=f?1:0}else d.tc=0;d.La=l}}}s=0}else rt(e,6,`Frame setup failed`),s=e.a;if(s=s==0){if(s){e.$c=0,0<e.Aa||(e.Ic=Yi);e:{s=e.Ic,c=4*(p=e.za);var m=32*p,h=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,_=(e.Aa==2?2:1)*p;if((d=c+832+(l=3*(16*s+qi[e.L])/2*m)+(u=e.Fa!=null&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)s=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=a(d),e.Fc=0,e.Ec==null){s=rt(e,1,`no memory during frame initialization.`);break e}e.Vb=d}d=e.Ec,f=e.Fc,e.Ac=d,e.Bc=f,f+=c,e.Gd=o(m,Qe),e.Hd=0,e.rb=o(h+1,Je),e.sb=1,e.wa=g?o(g,qe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=d,e.pc=f,f+=832,e.ya=o(_,Xe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,e.Aa==2&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=qi[e.L])*e.R,m=m/2*e.B,e.sa=d,e.ta=f+p,e.qa=e.sa,e.ra=e.ta+16*s*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+m,e.$c=0,f+=l,e.mb=u?d:null,e.nb=u?f:null,t(f+u<=e.Fc+e.Vb),st(e),i(e.Ac,e.Bc,0,c),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!zr){for(s=-255;255>=s;++s)Fr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Ir[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Lr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Rr[255+s]=0>s?0:255<s?255:s;zr=1}pr=_t,mr=pt,gr=mt,_r=ht,vr=gt,hr=ft,yr=nn,br=rn,xr=sn,Sr=cn,Cr=an,wr=on,Tr=ln,Er=un,Dr=Xt,Or=Zt,kr=Qt,Ar=$t,bi[0]=Mt,bi[1]=yt,bi[2]=At,bi[3]=jt,bi[4]=Nt,bi[5]=Ft,bi[6]=Pt,bi[7]=It,bi[8]=Rt,bi[9]=Lt,yi[0]=Tt,yi[1]=xt,yi[2]=St,yi[3]=Ct,yi[4]=Et,yi[5]=Dt,yi[6]=Ot,xi[0]=Ht,xi[1]=bt,xi[2]=zt,xi[3]=Bt,xi[4]=Wt,xi[5]=Ut,xi[6]=Gt,s=1}else s=0}s&&=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,s=e.Jc[e.M&e.Xb],c=e.m,l=e;for(o=0;o<l.za;++o){var u=c,d=l,f=d.Ac,p=d.Bc+4*o,m=d.zc,h=d.ya[d.aa+o];if(d.Qa.Bb?h.$b=O(u,d.Pa.jb[0])?2+O(u,d.Pa.jb[2]):O(u,d.Pa.jb[1]):h.$b=0,d.kc&&(h.Ad=O(u,d.Bd)),h.Za=!O(u,145)+0,h.Za){var g=h.Ob,_=0;for(d=0;4>d;++d){var v,y=m[0+d];for(v=0;4>v;++v){y=gi[f[p+v]][y];for(var b=mi[O(u,y[0])];0<b;)b=mi[2*b+O(u,y[b])];y=-b,f[p+v]=y}r(g,_,f,p,4),_+=4,m[0+d]=y}}else y=O(u,156)?O(u,128)?1:3:O(u,163)?2:0,h.Ob[0]=y,i(f,p,y,4),i(m,0,y,4);h.Dd=O(u,142)?O(u,114)?O(u,183)?1:3:2:0}if(l.m.Ka)return rt(e,7,`Premature end-of-partition0 encountered.`);for(;e.ja<e.za;++e.ja){if(l=s,u=(c=e).rb[c.sb-1],f=c.rb[c.sb+c.ja],o=c.ya[c.aa+c.ja],p=c.kc?o.Ad:0)u.la=f.la=0,o.Za||(u.Na=f.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var x,S;if(u=f,f=l,p=c.Pa.Xc,m=c.ya[c.aa+c.ja],h=c.pb[m.$b],d=m.ad,g=0,_=c.rb[c.sb-1],y=v=0,i(d,g,0,384),m.Za)var C=0,w=p[3];else{b=a(16);var T=u.Na+_.Na;if(T=di(f,p[1],T,h.Eb,0,b,0),u.Na=_.Na=(0<T)+0,1<T)pr(b,0,d,g);else{var E=b[0]+3>>3;for(b=0;256>b;b+=16)d[g+b]=E}C=1,w=p[0]}var D=15&u.la,k=15&_.la;for(b=0;4>b;++b){var A=1&k;for(E=S=0;4>E;++E)D=D>>1|(A=(T=di(f,w,T=A+(1&D),h.Sc,C,d,g))>C)<<7,S=S<<2|(3<T?3:1<T?2:d[g+0]!=0),g+=16;D>>=4,k=k>>1|A<<7,v=(v<<8|S)>>>0}for(w=D,C=k>>4,x=0;4>x;x+=2){for(S=0,D=u.la>>4+x,k=_.la>>4+x,b=0;2>b;++b){for(A=1&k,E=0;2>E;++E)T=A+(1&D),D=D>>1|(A=0<(T=di(f,p[2],T,h.Qc,0,d,g)))<<3,S=S<<2|(3<T?3:1<T?2:d[g+0]!=0),g+=16;D>>=2,k=k>>1|A<<5}y|=S<<4*x,w|=D<<4<<x,C|=(240&k)<<x}u.la=w,_.la=C,m.Hc=v,m.Gc=y,m.ia=43690&y?0:h.ia,p=!(v|y)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[o.$b][o.Za],c.wa[c.Y+c.ja].La|=!p),l.Ka)return rt(e,7,`Premature end-of-file encountered.`)}if(st(e),c=n,l=1,o=(s=e).D,u=0<s.L&&s.M>=s.zb&&s.M<=s.Va,s.Aa==0)e:{if(o.M=s.M,o.uc=u,Hn(s,o),l=1,o=(S=s.D).Nb,u=(y=qi[s.L])*s.R,f=y/2*s.B,b=16*o*s.R,E=8*o*s.B,p=s.sa,m=s.ta-u+b,h=s.qa,d=s.ra-f+E,g=s.Ha,_=s.Ia-f+E,k=(D=S.M)==0,v=D>=s.Va-1,s.Aa==2&&Hn(s,S),S.uc)for(A=(T=s).D.M,t(T.D.uc),S=T.yb;S<T.Hb;++S){C=S,w=A;var j=(M=(B=T).D).Nb;x=B.R;var M=M.wa[M.Y+C],N=B.sa,P=B.ta+16*j*x+16*C,F=M.dd,I=M.tc;if(I!=0)if(t(3<=I),B.L==1)0<C&&Or(N,P,x,I+4),M.La&&Ar(N,P,x,I),0<w&&Dr(N,P,x,I+4),M.La&&kr(N,P,x,I);else{var L=B.B,R=B.qa,z=B.ra+8*j*L+8*C,ee=B.Ha,B=B.Ia+8*j*L+8*C;j=M.ld,0<C&&(br(N,P,x,I+4,F,j),Sr(R,z,ee,B,L,I+4,F,j)),M.La&&(wr(N,P,x,I,F,j),Er(R,z,ee,B,L,I,F,j)),0<w&&(yr(N,P,x,I+4,F,j),xr(R,z,ee,B,L,I+4,F,j)),M.La&&(Cr(N,P,x,I,F,j),Tr(R,z,ee,B,L,I,F,j))}}if(s.ia&&alert(`todo:DitherRow`),c.put!=null){if(S=16*D,D=16*(D+1),k?(c.y=s.sa,c.O=s.ta+b,c.f=s.qa,c.N=s.ra+E,c.ea=s.Ha,c.W=s.Ia+E):(S-=y,c.y=p,c.O=m,c.f=h,c.N=d,c.ea=g,c.W=_),v||(D-=y),D>c.o&&(D=c.o),c.F=null,c.J=null,s.Fa!=null&&0<s.Fa.length&&S<D&&(c.J=bn(s,c,S,D-S),c.F=s.mb,c.F==null&&c.F.length==0)){l=rt(s,3,`Could not decode alpha data.`);break e}S<c.j&&(y=c.j-S,S=c.j,t(!(1&y)),c.O+=s.R*y,c.N+=s.B*(y>>1),c.W+=s.B*(y>>1),c.F!=null&&(c.J+=c.width*y)),S<D&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,c.F!=null&&(c.J+=c.v),c.ka=S-c.j,c.U=c.va-c.v,c.T=D-S,l=c.put(c))}o+1!=s.Ic||v||(r(s.sa,s.ta-u,p,m+16*s.R,u),r(s.qa,s.ra-f,h,d+8*s.B,f),r(s.Ha,s.Ia-f,g,_+8*s.B,f))}if(!l)return rt(e,6,`Output aborted.`)}return 1}(e,n),n.bc!=null&&n.bc(n),s&=1}return s?(e.cb=0,s):0})(e,c)||(n=e.a)}}else n=e.a}n==0&&d.Oa!=null&&d.Oa.fd&&(n=Gn(d.ba))}d=n}u=d==0?11>u?f.f.RGBA.eb:f.f.kb.y:null}else u=null;return u};var Xi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(e,t){for(var n=``,r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return e[t+0]|e[t+1]<<8}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function f(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new c;var p=[0],m=[0],h=[],g=new c,_=e,v=function(e,t){var n={},r=0,i=!1,a=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!=`RIFF`.charCodeAt(n))return!0;return!1}(e,t)){for(f(e,t+=4),t+=8;t<e.length;){var s=l(e,t),c=f(e,t+=4);t+=4;var p=c+(1&c);switch(s){case`VP8 `:case`VP8L`:n.frames[r]===void 0&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?o:t-8,g.src_size=a+c+8,r++,i&&(i=!1,a=0,o=0);break;case`VP8X`:(g=n.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+d(e,m),m+=3,g.canvas_height=1+d(e,m),m+=3;break;case`ALPH`:i=!0,a=p+8,o=t-8;break;case`ANIM`:(g=n.header).bgcolor=f(e,t),m=t+4,g.loop_count=u(e,m),m+=2;break;case`ANMF`:var h,g;(g=n.frames[r]={}).offset_x=2*d(e,t),t+=3,g.offset_y=2*d(e,t),t+=3,g.width=1+d(e,t),t+=3,g.height=1+d(e,t),t+=3,g.duration=d(e,t),t+=3,h=e[t++],g.dispose=1&h,g.blend=h>>1&1}s!=`ANMF`&&(t+=p)}return n}}(_,0);v.response=_,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],m=[y.canvas_width];for(var x=0;x<b.length&&b[x].blend!=0;x++);}var S=b[0],C=g.WebPDecodeRGBA(_,S.src_off,S.src_size,m,p);S.rgba=C,S.imgwidth=m[0],S.imgheight=p[0];for(var w=0;w<m[0]*p[0]*4;w++)h[w]=C[w];return this.width=m,this.height=p,this.data=h,this}function GZ(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:`<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="`+this.internal.__metadata__.namespaceUri+`"><jspdf:metadata>`+n.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&apos;`)+`</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>`,this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write(`<< /Type /Metadata /Subtype /XML /Length `+e.length+` >>`),this.internal.write(`stream`),this.internal.write(e),this.internal.write(`endstream`),this.internal.write(`endobj`)}function KZ(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write(`/Metadata `+this.internal.__metadata__.metadataObjectNumber+` 0 R`)}(function(e){var t,n,r,i,a,o,s,c,l,u=function(e){return e||={},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||`#000000`,this.fillStyle=e.fillStyle||`#000000`,this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||`10px sans-serif`,this.textBaseline=e.textBaseline||`alphabetic`,this.textAlign=e.textAlign||`left`,this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||`miter`,this.lineCap=e.lineCap||`butt`,this.path=e.path||[],this.transform=e.transform===void 0?new c:e.transform.clone(),this.globalCompositeOperation=e.globalCompositeOperation||`normal`,this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect=typeof e.ignoreClearRect!=`boolean`||e.ignoreClearRect,this};e.events.push([`initialized`,function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,l=new u}]);var d=function(e){Object.defineProperty(this,`canvas`,{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,`pdf`,{get:function(){return t}});var n=!1;Object.defineProperty(this,`pageWrapXEnabled`,{get:function(){return n},set:function(e){n=!!e}});var r=!1;Object.defineProperty(this,`pageWrapYEnabled`,{get:function(){return r},set:function(e){r=!!e}});var i=0;Object.defineProperty(this,`posX`,{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,`posY`,{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,`margin`,{get:function(){return l.margin},set:function(e){var t;typeof e==`number`?t=[e,e,e,e]:((t=[,,,,])[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),l.margin=t}});var o=!1;Object.defineProperty(this,`autoPaging`,{get:function(){return o},set:function(e){o=e}});var s=0;Object.defineProperty(this,`lastBreak`,{get:function(){return s},set:function(e){s=e}});var c=[];Object.defineProperty(this,`pageBreaks`,{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,`ctx`,{get:function(){return l},set:function(e){e instanceof u&&(l=e)}}),Object.defineProperty(this,`path`,{get:function(){return l.path},set:function(e){l.path=e}});var d=[];Object.defineProperty(this,`ctxStack`,{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,`fillStyle`,{get:function(){return this.ctx.fillStyle},set:function(e){var t=f(e);this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=t.a===0,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,`strokeStyle`,{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=t.a===0,this.ctx.strokeOpacity=t.a,t.a===0?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,`lineCap`,{get:function(){return this.ctx.lineCap},set:function(e){[`butt`,`round`,`square`].indexOf(e)!==-1&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,`lineWidth`,{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,`lineJoin`,{get:function(){return this.ctx.lineJoin},set:function(e){[`bevel`,`round`,`miter`].indexOf(e)!==-1&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,`miterLimit`,{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,`textBaseline`,{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,`textAlign`,{get:function(){return this.ctx.textAlign},set:function(e){[`right`,`end`,`center`,`left`,`start`].indexOf(e)!==-1&&(this.ctx.textAlign=e)}});var p=null,m=null,h=null;Object.defineProperty(this,`fontFaces`,{get:function(){return h},set:function(e){p=null,m=null,h=e}}),Object.defineProperty(this,`font`,{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))!==null){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var a=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i=o===`px`?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):o===`em`?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(i===``)return OZ;if(i in vZ)return[vZ[i]];for(;i!==``;){switch(n=null,t=(i=bZ(i)).charAt(0)){case`"`:case`'`:n=xZ(i.substring(1),t);break;default:n=SZ(i)}if(n===null||(r.push(n[0]),(i=bZ(n[1]))!==``&&i.charAt(0)!==`,`))return OZ;i=i.replace(/^,/,``)}return r}(a);if(this.fontFaces){var c=function(e,t,n){for(var r=(n||={}).defaultFontFamily||`times`,i=Object.assign({},_Z,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=hZ(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o||=e[r]))throw Error(`Could not find a font-family for the rule '`+yZ(a)+`' and default family '`+r+`'.`);if(o=function(e,t){if(t[e])return t[e];var n=fZ[e],r=gZ(t,dZ,n,n<=fZ.normal?-1:1);if(!r)throw Error(`Could not find a matching font-stretch value for `+e);return r}(a.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=uZ[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw Error(`Could not find a matching font-style for `+e)}(a.style,o),!(o=function(e,t){if(t[e])return t[e];if(e===400&&t[500])return t[500];if(e===500&&t[400])return t[400];var n=mZ[e],r=gZ(t,pZ,n,e<400?-1:1);if(!r)throw Error(`Could not find a matching font-weight for value `+e);return r}(a.weight,o)))throw Error(`Failed to resolve a font for the rule '`+yZ(a)+`'.`);return o}(function(e,t){var n=e.getFontList(),r=JSON.stringify(n);return(p===null||m!==r)&&(p=function(e){for(var t={},n=0;n<e.length;++n){var r=hZ(e[n]),i=r.family,a=r.stretch,o=r.style,s=r.weight;t[i]=t[i]||{},t[i][a]=t[i][a]||{},t[i][a][o]=t[i][a][o]||{},t[i][a][o][s]=r}return t}(function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case`bold`:r={family:n,weight:`bold`};break;case`italic`:r={family:n,style:`italic`};break;case`bolditalic`:r={family:n,weight:`bold`,style:`italic`};break;case``:case`normal`:r={family:n}}r!==null&&(r.ref={name:n,style:e},t.push(r))})}),t}(n).concat(t)),m=r),p}(this.pdf,this.fontFaces),s.map(function(e){return{family:e,stretch:`normal`,weight:r,style:n}}));this.pdf.setFont(c.ref.name,c.ref.style)}else{var l=``;(r===`bold`||parseInt(r,10)>=700||n===`bold`)&&(l=`bold`),n===`italic`&&(l+=`italic`),l.length===0&&(l=`normal`);for(var u=``,d={arial:`Helvetica`,Arial:`Helvetica`,verdana:`Helvetica`,Verdana:`Helvetica`,helvetica:`Helvetica`,Helvetica:`Helvetica`,"sans-serif":`Helvetica`,fixed:`Courier`,monospace:`Courier`,terminal:`Courier`,cursive:`Times`,fantasy:`Times`,serif:`Times`},f=0;f<s.length;f++){if(this.pdf.internal.getFont(s[f],l,{noFallback:!0,disableWarning:!0})!==void 0){u=s[f];break}if(l===`bolditalic`&&this.pdf.internal.getFont(s[f],`bold`,{noFallback:!0,disableWarning:!0})!==void 0)u=s[f],l=`bold`;else if(this.pdf.internal.getFont(s[f],`normal`,{noFallback:!0,disableWarning:!0})!==void 0){u=s[f],l=`normal`;break}}if(u===``){for(var h=0;h<s.length;h++)if(d[s[h]]){u=d[s[h]];break}}u=u===``?`Times`:u,this.pdf.setFont(u,l)}}}}),Object.defineProperty(this,`globalCompositeOperation`,{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,`globalAlpha`,{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,`lineDashOffset`,{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,L.call(this)}}),Object.defineProperty(this,`lineDash`,{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,L.call(this)}}),Object.defineProperty(this,`ignoreClearRect`,{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=!!e}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){b.call(this,`fill`,!1)},d.prototype.stroke=function(){b.call(this,`stroke`,!1)},d.prototype.beginPath=function(){this.path=[{type:`begin`}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw UY.error(`jsPDF.context2d.moveTo: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.moveTo`);var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:`mt`,x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},d.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;t!==-1;t--)if(this.path[t].type===`begin`&&tU(this.path[t+1])===`object`&&typeof this.path[t+1].x==`number`){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:`close`}),this.ctx.lastPoint=new o(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw UY.error(`jsPDF.context2d.lineTo: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.lineTo`);var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:`lt`,x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw UY.error(`jsPDF.context2d.quadraticCurveTo: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.quadraticCurveTo`);var i=this.ctx.transform.applyToPoint(new o(n,r)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:`qct`,x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},d.prototype.bezierCurveTo=function(e,t,n,r,i,a){if(isNaN(i)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw UY.error(`jsPDF.context2d.bezierCurveTo: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.bezierCurveTo`);var s=this.ctx.transform.applyToPoint(new o(i,a)),c=this.ctx.transform.applyToPoint(new o(e,t)),l=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:`bct`,x1:c.x,y1:c.y,x2:l.x,y2:l.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},d.prototype.arc=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw UY.error(`jsPDF.context2d.arc: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.arc`);if(a=!!a,!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var c=this.ctx.transform.applyToPoint(new o(0,n)),l=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt((c.x-l.x)**2+(c.y-l.y)**2)}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:`arc`,x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:a})},d.prototype.arcTo=function(e,t,n,r,i){throw Error(`arcTo not implemented.`)},d.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw UY.error(`jsPDF.context2d.rect: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.rect`);this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw UY.error(`jsPDF.context2d.fillRect: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.fillRect`);if(!p.call(this)){var i={};this.lineCap!==`butt`&&(i.lineCap=this.lineCap,this.lineCap=`butt`),this.lineJoin!==`miter`&&(i.lineJoin=this.lineJoin,this.lineJoin=`miter`),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty(`lineCap`)&&(this.lineCap=i.lineCap),i.hasOwnProperty(`lineJoin`)&&(this.lineJoin=i.lineJoin)}},d.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw UY.error(`jsPDF.context2d.strokeRect: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.strokeRect`);m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},d.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw UY.error(`jsPDF.context2d.clearRect: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.clearRect`);this.ignoreClearRect||(this.fillStyle=`#ffffff`,this.fillRect(e,t,n,r))},d.prototype.save=function(e){e=typeof e!=`boolean`||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out(`q`);if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},d.prototype.restore=function(e){e=typeof e!=`boolean`||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out(`Q`);this.pdf.setPage(t),e&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw Error(`toDataUrl not implemented.`)};var f=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(a!==null)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=1;else if((a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e))!==null)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,typeof e==`string`&&e.charAt(0)!==`#`){var o=new JY(e);e=o.ok?o.toHex():`#000000`}e.length===4?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||typeof e!=`string`)throw UY.error(`jsPDF.context2d.fillText: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.fillText`);if(r=isNaN(r)?void 0:r,!p.call(this)){var i=P(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;O.call(this,{text:e,x:t,y:n,scale:a,angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||typeof e!=`string`)throw UY.error(`jsPDF.context2d.strokeText: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.strokeText`);if(!m.call(this)){r=isNaN(r)?void 0:r;var i=P(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;O.call(this,{text:e,x:t,y:n,scale:a,renderingMode:`stroke`,angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.measureText=function(e){if(typeof e!=`string`)throw UY.error(`jsPDF.context2d.measureText: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.measureText`);var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e||={}).width||0;return Object.defineProperty(this,`width`,{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw UY.error(`jsPDF.context2d.scale: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.scale`);var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.rotate=function(e){if(isNaN(e))throw UY.error(`jsPDF.context2d.rotate: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.rotate`);var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw UY.error(`jsPDF.context2d.translate: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.translate`);var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.transform=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a))throw UY.error(`jsPDF.context2d.transform: Invalid arguments`,arguments),Error(`Invalid arguments passed to jsPDF.context2d.transform`);var o=new c(e,t,n,r,i,a);this.ctx.transform=this.ctx.transform.multiply(o)},d.prototype.setTransform=function(e,t,n,r,i,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new c(e,t,n,r,i,a)};var h=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,n,r,i,a,o,l,u){var d=this.pdf.getImageProperties(e),f=1,p=1,m=1,_=1;r!==void 0&&l!==void 0&&(m=l/r,_=u/i,f=d.width/r*l/r,p=d.height/i*u/i),a===void 0&&(a=t,o=n,t=0,n=0),r!==void 0&&l===void 0&&(l=r,u=i),r===void 0&&l===void 0&&(l=d.width,u=d.height);var b=this.ctx.transform.decompose(),S=P(b.rotate.shx),C=new c,w=(C=(C=(C=C.multiply(b.translate)).multiply(b.skew)).multiply(b.scale)).applyToRectangle(new s(a-t*m,o-n*_,r*f,i*p));if(this.autoPaging){for(var T,E=g.call(this,w),D=[],O=0;O<E.length;O+=1)D.indexOf(E[O])===-1&&D.push(E[O]);y(D);for(var k=D[0],A=D[D.length-1],j=k;j<A+1;j++){this.pdf.setPage(j);var M=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],N=j===1?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],L=j===1?0:F+(j-2)*I;if(this.ctx.clip_path.length!==0){var R=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(T,this.posX+this.margin[3],-L+N+this.ctx.prevPageLastElemOffset),x.call(this,`fill`,!0),this.path=R}var z=JSON.parse(JSON.stringify(w));z=v([z],this.posX+this.margin[3],-L+N+this.ctx.prevPageLastElemOffset)[0];var ee=(j>k||j<A)&&h.call(this);ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,I,null).clip().discardPath()),this.pdf.addImage(e,`JPEG`,z.x,z.y,z.w,z.h,null,null,S),ee&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,`JPEG`,w.x,w.y,w.w,w.h,null,null,S)};var g=function(e,t,n){var r=[];t||=this.pdf.internal.pageSize.width,n||=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case`mt`:case`lt`:r.push(Math.floor((e.y+i)/n)+1);break;case`arc`:r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case`qct`:var a=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case`bct`:var o=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case`rect`:r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)_.call(this);return r},_=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=a},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case`bct`:e[r].x2+=t,e[r].y2+=n;case`qct`:e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},b=function(e,t){var n=this.fillStyle,r=this.strokeStyle,i=this.lineCap,a=this.lineWidth,o=Math.abs(a*this.ctx.transform.scaleX),s=this.lineJoin;if(this.autoPaging){for(var c,l,u=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),f=[],p=0;p<d.length;p++)if(d[p].x!==void 0)for(var m=g.call(this,d[p]),b=0;b<m.length;b+=1)f.indexOf(m[b])===-1&&f.push(m[b]);for(var S=0;S<f.length;S++)for(;this.pdf.internal.getNumberOfPages()<f[S];)_.call(this);y(f);for(var C=f[0],w=f[f.length-1],T=C;T<w+1;T++){this.pdf.setPage(T),this.fillStyle=n,this.strokeStyle=r,this.lineCap=i,this.lineWidth=o,this.lineJoin=s;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],D=T===1?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],k=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],A=T===1?0:O+(T-2)*k;if(this.ctx.clip_path.length!==0){var j=this.path;c=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(c,this.posX+this.margin[3],-A+D+this.ctx.prevPageLastElemOffset),x.call(this,e,!0),this.path=j}if(l=JSON.parse(JSON.stringify(u)),this.path=v(l,this.posX+this.margin[3],-A+D+this.ctx.prevPageLastElemOffset),!1===t||T===0){var M=(T>C||T<w)&&h.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,k,null).clip().discardPath()),x.call(this,e,t),M&&this.pdf.restoreGraphicsState()}this.lineWidth=a}this.path=u}else this.lineWidth=o,x.call(this,e,t),this.lineWidth=a},x=function(e,t){if((e!==`stroke`||t||!m.call(this))&&(e===`stroke`||t||!p.call(this))){for(var n,r,i=[],a=this.path,o=0;o<a.length;o++){var s=a[o];switch(s.type){case`begin`:i.push({begin:!0});break;case`close`:i.push({close:!0});break;case`mt`:i.push({start:s,deltas:[],abs:[]});break;case`lt`:var c=i.length;if(a[o-1]&&!isNaN(a[o-1].x)&&(n=[s.x-a[o-1].x,s.y-a[o-1].y],c>0)){for(;c>=0;c--)if(!0!==i[c-1].close&&!0!==i[c-1].begin){i[c-1].deltas.push(n),i[c-1].abs.push(s);break}}break;case`bct`:n=[s.x1-a[o-1].x,s.y1-a[o-1].y,s.x2-a[o-1].x,s.y2-a[o-1].y,s.x-a[o-1].x,s.y-a[o-1].y],i[i.length-1].deltas.push(n);break;case`qct`:var l=a[o-1].x+2/3*(s.x1-a[o-1].x),u=a[o-1].y+2/3*(s.y1-a[o-1].y),d=s.x+2/3*(s.x1-s.x),f=s.y+2/3*(s.y1-s.y),h=s.x,g=s.y;n=[l-a[o-1].x,u-a[o-1].y,d-a[o-1].x,f-a[o-1].y,h-a[o-1].x,g-a[o-1].y],i[i.length-1].deltas.push(n);break;case`arc`:i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:e===`stroke`?`stroke`:`fill`;for(var _=!1,v=0;v<i.length;v++)if(i[v].arc)for(var y=i[v].abs,b=0;b<y.length;b++){var x=y[b];x.type===`arc`?w.call(this,x.x,x.y,x.radius,x.startAngle,x.endAngle,x.counterclockwise,void 0,t,!_):k.call(this,x.x,x.y),_=!0}else if(!0===i[v].close)this.pdf.internal.out(`h`),_=!1;else if(!0!==i[v].begin){var S=i[v].start.x,C=i[v].start.y;A.call(this,i[v].deltas,S,C),_=!0}r&&T.call(this,r),t&&E.call(this)}},S=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case`bottom`:return e-n;case`top`:return e+t-n;case`hanging`:return e+t-2*n;case`middle`:return e+t/2-n;default:return e}},C=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return this.colorStops.length===0?`#000000`:this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(e,t,n,r,i,a,o,s,c){for(var l=M.call(this,n,r,i,a),u=0;u<l.length;u++){var d=l[u];u===0&&(c?D.call(this,d.x1+e,d.y1+t):k.call(this,d.x1+e,d.y1+t)),j.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}s?E.call(this):T.call(this,o)},T=function(e){switch(e){case`stroke`:this.pdf.internal.out(`S`);break;case`fill`:this.pdf.internal.out(`f`)}},E=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(e,t){this.pdf.internal.out(n(e)+` `+r(t)+` m`)},O=function(e){var t;switch(e.align){case`right`:case`end`:t=`right`;break;case`center`:t=`center`;break;default:t=`left`}var n,r,i,a=this.pdf.getTextDimensions(e.text),l=S.call(this,e.y),u=C.call(this,l)-a.h,d=this.ctx.transform.applyToPoint(new o(e.x,l));if(this.autoPaging){var f=this.ctx.transform.decompose(),p=new c;p=(p=(p=p.multiply(f.translate)).multiply(f.skew)).multiply(f.scale);for(var m=this.ctx.transform.applyToRectangle(new s(e.x,l,a.w,a.h)),_=p.applyToRectangle(new s(e.x,u,a.w,a.h)),b=g.call(this,_),w=[],T=0;T<b.length;T+=1)w.indexOf(b[T])===-1&&w.push(b[T]);y(w);for(var E=w[0],D=w[w.length-1],O=E;O<D+1;O++){this.pdf.setPage(O);var k=O===1?this.posY+this.margin[0]:this.margin[0],A=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],j=this.pdf.internal.pageSize.height-this.margin[2],M=j-this.margin[0],N=this.pdf.internal.pageSize.width-this.margin[1],P=N-this.margin[3],F=O===1?0:A+(O-2)*M;if(this.ctx.clip_path.length!==0){var I=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-1*F+k),x.call(this,`fill`,!0),this.path=I}var L=v([JSON.parse(JSON.stringify(_))],this.posX+this.margin[3],-F+k+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),i=this.lineWidth,this.lineWidth=i*e.scale);var R=this.autoPaging!==`text`;if(R||L.y+L.h<=j){if(R||L.y>=k&&L.x<=N){var z=R?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||N-L.x)[0],ee=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-F+k+this.ctx.prevPageLastElemOffset)[0],B=R&&(O>E||O<D)&&h.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],P,M,null).clip().discardPath()),this.pdf.text(z,ee.x,ee.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),B&&this.pdf.restoreGraphicsState()}}else L.y<j&&(this.ctx.prevPageLastElemOffset+=j-L.y);e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=i)}}else e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),i=this.lineWidth,this.lineWidth=i*e.scale),this.pdf.text(e.text,d.x+this.posX,d.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=i)},k=function(e,t,i,a){i||=0,a||=0,this.pdf.internal.out(n(e+i)+` `+r(t+a)+` l`)},A=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},j=function(e,n,r,o,s,c,l,u){this.pdf.internal.out([t(i(r+e)),t(a(o+n)),t(i(s+e)),t(a(c+n)),t(i(l+e)),t(a(u+n)),`c`].join(` `))},M=function(e,t,n,r){for(var i=2*Math.PI,a=Math.PI/2;t>n;)t-=i;var o=Math.abs(n-t);o<i&&r&&(o=i-o);for(var s=[],c=r?-1:1,l=t;o>1e-5;){var u=l+c*Math.min(o,a);s.push(N.call(this,e,l,u)),o-=Math.abs(u-l),l=u}return s},N=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),a=e*Math.sin(r),o=i,s=-a,c=o*o+s*s,l=c+o*i+s*a,u=4/3*(Math.sqrt(2*c*l)-l)/(o*a-s*i),d=o-u*s,f=s+u*o,p=d,m=-f,h=r+t,g=Math.cos(h),_=Math.sin(h);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*g-f*_,y2:d*_+f*g,x3:p*g-m*_,y3:p*_+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},P=function(e){return 180*e/Math.PI},F=function(e,t,n,r,i,a){var o=e+.5*(n-e),c=t+.5*(r-t),l=i+.5*(n-i),u=a+.5*(r-a),d=Math.min(e,i,o,l),f=Math.max(e,i,o,l),p=Math.min(t,a,c,u),m=Math.max(t,a,c,u);return new s(d,p,f-d,m-p)},I=function(e,t,n,r,i,a,o,c){var l,u,d,f,p,m,h,g,_,v,y,b,x,S,C=n-e,w=r-t,T=i-n,E=a-r,D=o-i,O=c-a;for(u=0;u<41;u++)_=(h=(d=e+(l=u/40)*C)+l*((p=n+l*T)-d))+l*(p+l*(i+l*D-p)-h),v=(g=(f=t+l*w)+l*((m=r+l*E)-f))+l*(m+l*(a+l*O-m)-g),u==0?(y=_,b=v,x=_,S=v):(y=Math.min(y,_),b=Math.min(b,v),x=Math.max(x,_),S=Math.max(S,v));return new s(Math.round(y),Math.round(b),Math.round(x-y),Math.round(S-b))},L=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}})(bX.API),function(e){var t=function(e){var t,n,r,i,a,o,s,c,l,u;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t=`\0\0\0\0`.slice(e.length%4||4)).length;i>r;r+=4)(a=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))===0?n.push(122):(o=(a=((a=((a=((a=(a-(u=a%85))/85)-(l=a%85))/85)-(c=a%85))/85)-(s=a%85))/85)%85,n.push(o+33,s+33,c+33,l+33,u+33));return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+`~>`},n=function(e){var t,n,r,i,a,o=String,s=`length`,c=255,l=`charCodeAt`,u=`slice`,d=`replace`;for(e[u](-2),e=e[u](0,-2)[d](/\s/g,``)[d](`z`,`!!!!!`),r=[],i=0,a=(e+=t=`uuuuu`[u](e[s]%5||5))[s];a>i;i+=5)n=52200625*(e[l](i)-33)+614125*(e[l](i+1)-33)+7225*(e[l](i+2)-33)+85*(e[l](i+3)-33)+(e[l](i+4)-33),r.push(c&n>>24,c&n>>16,c&n>>8,c&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),o.fromCharCode.apply(o,r)},r=function(e){return e.split(``).map(function(e){return(`0`+e.charCodeAt().toString(16)).slice(-2)}).join(``)+`>`},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((e=e.replace(/\s/g,``)).indexOf(`>`)!==-1&&(e=e.substr(0,e.indexOf(`>`))),e.length%2&&(e+=`0`),!1===t.test(e))return``;for(var n=``,r=0;r<e.length;r+=2)n+=String.fromCharCode(`0x`+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=zU(t)).reduce(function(e,t){return e+String.fromCharCode(t)},``)};e.processDataByFilters=function(e,o){var s=0,c=e||``,l=[];for(typeof(o||=[])==`string`&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case`ASCII85Decode`:case`/ASCII85Decode`:c=n(c),l.push(`/ASCII85Encode`);break;case`ASCII85Encode`:case`/ASCII85Encode`:c=t(c),l.push(`/ASCII85Decode`);break;case`ASCIIHexDecode`:case`/ASCIIHexDecode`:c=i(c),l.push(`/ASCIIHexEncode`);break;case`ASCIIHexEncode`:case`/ASCIIHexEncode`:c=r(c),l.push(`/ASCIIHexDecode`);break;case`FlateEncode`:case`/FlateEncode`:c=a(c),l.push(`/FlateDecode`);break;default:throw Error(`The filter: "`+o[s]+`" is not implemented`)}return{data:c,reverseChain:l.reverse().join(` `)}}}(bX.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n=typeof n==`function`?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,a=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join(``)};if(r.open(`GET`,e,!t),r.overrideMimeType(`text/plain; charset=x-user-defined`),!1===t&&(r.onload=function(){r.status===200?n(a(this.responseText)):n(void 0)}),r.send(null),t&&r.status===200)return a(r.responseText)}(e,t,n)}catch{}return r}(e,t,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(bX.API),function(e){function t(){return(VY.html2canvas?Promise.resolve(VY.html2canvas):C(()=>import(`./html2canvas-BQIw2e0g.js`).then(l()),[])).catch(function(e){return Promise.reject(Error(`Could not load html2canvas: `+e))}).then(function(e){return e.default?e.default:e})}function n(){return(VY.DOMPurify?Promise.resolve(VY.DOMPurify):C(()=>import(`./purify.es-jfCpA1og.js`),[])).catch(function(e){return Promise.reject(Error(`Could not load dompurify: `+e))}).then(function(e){return e.default?e.default:e})}var r=function(e){var t=tU(e);return t===`undefined`?`undefined`:t===`string`||e instanceof String?`string`:t===`number`||e instanceof Number?`number`:t===`function`||e instanceof Function?`function`:e&&e.constructor===Array?`array`:e&&e.nodeType===1?`element`:t===`object`?`object`:`unknown`},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t,n){for(var r=t.nodeType===3?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&i.nodeType===1&&i.nodeName===`SCRIPT`||r.appendChild(e(i,n));return t.nodeType===1&&(t.nodeName===`CANVAS`?(r.width=t.width,r.height=t.height,r.getContext(`2d`).drawImage(t,0,0)):t.nodeName!==`TEXTAREA`&&t.nodeName!==`SELECT`||(r.value=t.value),r.addEventListener(`load`,function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:`file.pdf`,margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:`transparent`}},o.prototype.from=function(e,t){return this.then(function(){switch(t||=function(e){switch(r(e)){case`string`:return`string`;case`element`:return e.nodeName.toLowerCase()===`canvas`?`canvas`:`element`;default:return`unknown`}}(e),t){case`string`:return this.then(n).then(function(t){return this.set({src:i(`div`,{innerHTML:e,dompurify:t})})});case`element`:return this.set({src:e});case`canvas`:return this.set({canvas:e});case`img`:return this.set({img:e});default:return this.error(`Unknown source type.`)}})},o.prototype.to=function(e){switch(e){case`container`:return this.toContainer();case`canvas`:return this.toCanvas();case`img`:return this.toImg();case`pdf`:return this.toPdf();default:return this.error(`Invalid target.`)}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error(`Cannot duplicate - no source HTML.`)},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:`relative`,display:`inline-block`,width:(typeof this.opt.width!=`number`||isNaN(this.opt.width)||typeof this.opt.windowWidth!=`number`||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+`px`,left:0,right:0,top:0,margin:`auto`,backgroundColor:this.opt.backgroundColor},t=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);t.tagName===`BODY`&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+`px`),this.prop.overlay=i(`div`,{className:`html2pdf__overlay`,style:{position:`fixed`,overflow:`hidden`,zIndex:1e3,left:`-100000px`,right:0,bottom:0,top:0}}),this.prop.container=i(`div`,{className:`html2pdf__container`,style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i(`div`,{style:{clear:`both`,border:`0 none transparent`,margin:0,padding:0,height:0}})),this.prop.container.style.float=`none`,this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position=`relative`,this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+`px`})},o.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r=typeof this.opt.width!=`number`||isNaN(this.opt.width)||typeof this.opt.windowWidth!=`number`||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:`#ffffff`,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var o=n[a],s=o.src.find(function(e){return e.format===`truetype`});s&&t.addFont(s.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=i.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL(`image/`+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement(`img`),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return(n||=`pdf`).toLowerCase()===`img`||n.toLowerCase()===`image`?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case`img`:return this.prop.img;case`datauristring`:case`dataurlstring`:return this.prop.img.src;case`datauri`:case`dataurl`:return document.location.href=this.prop.img.src;default:throw`Image output type "`+e+`" is not supported.`}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if(r(e)!==`object`)return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case`margin`:return this.setMargin.bind(this,e.margin);case`jsPDF`:return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case`pageSize`:return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(r(e)){case`number`:e=[e,e,e,e];case`array`:if(e.length===2&&(e=[e[0],e[1],e[0],e[1]]),e.length===4)break;default:return this.error(`Invalid margin array.`)}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e||=bX.getPageSize(this.opt.jsPDF)).hasOwnProperty(`inner`)||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return e!=null&&(this.progress.val=e),t!=null&&(this.progress.state=t),n!=null&&(this.progress.n=n),r!=null&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n||=Promise.prototype.then;var r=this;e&&=e.bind(r),t&&=t.bind(r);var i=Promise.toString().indexOf(`[native code]`)!==-1&&Promise.name===`Promise`?r:o.convert(Object.assign({},r),Promise.prototype),a=n.call(i,e,t);return o.convert(a,r.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&=e.bind(this);var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,bX.getPageSize=function(e,t,n){if(tU(e)===`object`){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t||=`mm`,n||=`a4`,e=(``+(e||`P`)).toLowerCase();var i,a=(``+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case`pt`:i=1;break;case`mm`:i=72/25.4;break;case`cm`:i=72/2.54;break;case`in`:i=72;break;case`px`:i=.75;break;case`pc`:case`em`:i=12;break;case`ex`:i=6;break;default:throw`Invalid unit: `+t}var s,c=0,l=0;if(o.hasOwnProperty(a))c=o[a][1]/i,l=o[a][0]/i;else try{c=n[1],l=n[0]}catch{throw Error(`Invalid format: `+n)}if(e===`p`||e===`portrait`)e=`p`,l>c&&(s=l,l=c,c=s);else{if(e!==`l`&&e!==`landscape`)throw`Invalid orientation: `+e;e=`l`,c>l&&(s=l,l=c,c=s)}return{width:l,height:c,unit:t,k:i,orientation:e}},e.html=function(e,t){(t||={}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(hZ):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(bX.API),bX.API.addJS=function(e){var t,n,r=e;return this.internal.events.subscribe(`postPutResources`,function(){t=this.internal.newObject(),this.internal.out(`<<`),this.internal.out(`/Names [(EmbeddedJS) `+(t+1)+` 0 R]`),this.internal.out(`>>`),this.internal.out(`endobj`),n=this.internal.newObject(),this.internal.out(`<<`),this.internal.out(`/S /JavaScript`),this.internal.out(`/JS (`+r+`)`),this.internal.out(`>>`),this.internal.out(`endobj`)}),this.internal.events.subscribe(`putCatalog`,function(){t!==void 0&&n!==void 0&&this.internal.out(`/Names <</JavaScript `+t+` 0 R>>`)}),this},function(e){var t;e.events.push([`postPutResources`,function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var a=r[i],o=n.exec(a);if(o!=null){var s=o[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,l=[];for(i=0;i<c;i++){var u=e.internal.newObject();l.push(u);var d=e.internal.getPageInfo(i+1);e.internal.write(`<< /D[`+d.objId+` 0 R /XYZ null null null]>> endobj`)}var f=e.internal.newObject();for(e.internal.write(`<< /Names [ `),i=0;i<l.length;i++)e.internal.write(`(page_`+(i+1)+`)`+l[i]+` 0 R`);e.internal.write(` ] >>`,`endobj`),t=e.internal.newObject(),e.internal.write(`<< /Dests `+f+` 0 R`),e.internal.write(`>>`,`endobj`)}}]),e.events.push([`putCatalog`,function(){var e=this;e.outline.root.children.length>0&&(e.internal.write(`/Outlines`,this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write(`/Names `+t+` 0 R`))}]),e.events.push([`initialized`,function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return e??=this.root,e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val=``,this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line(`/Type /Outlines`),e.children.length>0&&(this.line(`/First `+this.makeRef(e.children[0])),this.line(`/Last `+this.makeRef(e.children[e.children.length-1]))),this.line(`/Count `+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line(`/Title `+this.makeString(i.title)),this.line(`/Parent `+this.makeRef(t)),r>0&&this.line(`/Prev `+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line(`/Next `+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line(`/First `+this.makeRef(i.children[0])),this.line(`/Last `+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line(`/Count `+a),i.options&&i.options.pageNumber){var o=e.internal.getPageInfo(i.options.pageNumber);this.line(`/Dest [`+o.objId+` 0 R /XYZ 0 `+n(0)+` 0]`)}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+`\r
`},e.outline.makeRef=function(e){return e.id+` 0 R`},e.outline.makeString=function(t){return`(`+e.internal.pdfEscape(t)+`)`},e.outline.objStart=function(e){this.ctx.val+=`\r
`+e.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(bX.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,a,o){var s,c=this.decode.DCT_DECODE,l=null;if(typeof e==`string`||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,a={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(o+=r,t.indexOf(e.charCodeAt(o+1))!==-1){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),a={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}l={data:e,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:r}}return l}}(bX.API),bX.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=BY(e,{checkCrc:!0}),o=a.width,s=a.height,c=a.channels,l=a.palette,u=a.depth;i=l&&c===1?function(e){for(var t=e.width,n=e.height,r=e.data,i=e.palette,a=e.depth,o=!1,s=[],c=[],l=void 0,u=!1,d=0,f=0;f<i.length;f++){var p=KU(i[f],4),m=p[0],h=p[1],g=p[2],_=p[3];s.push(m,h,g),_!=null&&(_===0?(d++,c.length<1&&c.push(f)):_<255&&(u=!0))}if(u||d>1){o=!0,c=void 0;var v=t*n;l=new Uint8Array(v);for(var y=new DataView(r.buffer),b=0;b<v;b++)l[b]=KU(i[LZ(y,b,a)],4)[3]}else d===0&&(c=void 0);return{colorSpace:`Indexed`,colorsPerPixel:1,sMaskBitsPerComponent:o?8:void 0,colorBytes:r,alphaBytes:l,needSMask:o,palette:s,mask:c}}(a):c===2||c===4?function(e){for(var t=e.data,n=e.width,r=e.height,i=e.channels,a=e.depth,o=i===2?`DeviceGray`:`DeviceRGB`,s=i-1,c=n*r,l=s,u=c*l,d=1*c,f=Math.ceil(u*a/8),p=Math.ceil(d*a/8),m=new Uint8Array(f),h=new Uint8Array(p),g=new DataView(t.buffer),_=new DataView(m.buffer),v=new DataView(h.buffer),y=!1,b=0;b<c;b++){for(var x=b*i,S=0;S<l;S++)RZ(_,LZ(g,x+S,a),b*l+S,a);var C=LZ(g,x+l,a);C<(1<<a)-1&&(y=!0),RZ(v,C,1*b,a)}return{colorSpace:o,colorsPerPixel:s,sMaskBitsPerComponent:y?a:void 0,colorBytes:m,alphaBytes:h,needSMask:y}}(a):function(e){var t=e.data,n=e.channels===1?`DeviceGray`:`DeviceRGB`;return{colorSpace:n,colorsPerPixel:n===`DeviceGray`?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),i=0;i<t;i++)r.setUint16(2*i,e[i],!1);return n}(t):t,needSMask:!1}}(a);var d,f,p,m=i,h=m.colorSpace,g=m.colorsPerPixel,_=m.sMaskBitsPerComponent,v=m.colorBytes,y=m.alphaBytes,b=m.needSMask,x=m.palette,S=m.mask,C=null;return r!==bX.API.image_compression.NONE&&typeof zU==`function`?(C=function(e){var t;switch(e){case bX.API.image_compression.FAST:t=11;break;case bX.API.image_compression.MEDIUM:t=13;break;case bX.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),d=this.decode.FLATE_DECODE,f=`/Predictor ${C} /Colors ${g} /BitsPerComponent ${u} /Columns ${o}`,e=kZ(v,Math.ceil(o*g*u/8),g,u,r),b&&(p=kZ(y,Math.ceil(o*_/8),1,_,r))):(d=void 0,f=void 0,e=v,b&&(p=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:d,decodeParameters:f,transparency:S,palette:x,sMask:p,predictor:C,width:o,height:s,bitsPerComponent:u,sMaskBitsPerComponent:_,colorSpace:h}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new BZ(t),o=a.width,s=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var l={data:c,width:o,height:s},u=new HZ(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(bX.API),UZ.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},UZ.prototype.parseBGR=function(){this.pos=this.offset;var e=`bit`+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw Error(`Image dimensions exceed 512MB, which is too large.`);this.data=new Uint8Array(t);try{this[e]()}catch(e){UY.log(`bit decode error:`+e)}},UZ.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var c=this.palette[a>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},UZ.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,c=15&a,l=this.palette[s];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[c],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},UZ.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},UZ.prototype.bit15=function(){for(var e=this.width%3,t=31,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,l=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=c,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=l}this.pos+=e}},UZ.prototype.bit16=function(){for(var e=this.width%3,t=31,n=63,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,l=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=l,this.data[u+1]=c,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},UZ.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},UZ.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},UZ.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new UZ(t,!1),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},l=new HZ(100).encode(c,100);return e.processJPEG.call(this,l,n,r,i)}}(bX.API),WZ.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new WZ(t),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},l=new HZ(100).encode(c,100);return e.processJPEG.call(this,l,n,r,i)}}(bX.API),bX.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,c=0,l=0;l<i;l+=4){var u=r[l],d=r[l+1],f=r[l+2],p=r[l+3];a[s++]=u,a[s++]=d,a[s++]=f,o[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:n,colorSpace:`DeviceRGB`,bitsPerComponent:8,width:e.width,height:e.height}},bX.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:`Afrikaans`,sq:`Albanian`,ar:`Arabic (Standard)`,"ar-DZ":`Arabic (Algeria)`,"ar-BH":`Arabic (Bahrain)`,"ar-EG":`Arabic (Egypt)`,"ar-IQ":`Arabic (Iraq)`,"ar-JO":`Arabic (Jordan)`,"ar-KW":`Arabic (Kuwait)`,"ar-LB":`Arabic (Lebanon)`,"ar-LY":`Arabic (Libya)`,"ar-MA":`Arabic (Morocco)`,"ar-OM":`Arabic (Oman)`,"ar-QA":`Arabic (Qatar)`,"ar-SA":`Arabic (Saudi Arabia)`,"ar-SY":`Arabic (Syria)`,"ar-TN":`Arabic (Tunisia)`,"ar-AE":`Arabic (U.A.E.)`,"ar-YE":`Arabic (Yemen)`,an:`Aragonese`,hy:`Armenian`,as:`Assamese`,ast:`Asturian`,az:`Azerbaijani`,eu:`Basque`,be:`Belarusian`,bn:`Bengali`,bs:`Bosnian`,br:`Breton`,bg:`Bulgarian`,my:`Burmese`,ca:`Catalan`,ch:`Chamorro`,ce:`Chechen`,zh:`Chinese`,"zh-HK":`Chinese (Hong Kong)`,"zh-CN":`Chinese (PRC)`,"zh-SG":`Chinese (Singapore)`,"zh-TW":`Chinese (Taiwan)`,cv:`Chuvash`,co:`Corsican`,cr:`Cree`,hr:`Croatian`,cs:`Czech`,da:`Danish`,nl:`Dutch (Standard)`,"nl-BE":`Dutch (Belgian)`,en:`English`,"en-AU":`English (Australia)`,"en-BZ":`English (Belize)`,"en-CA":`English (Canada)`,"en-IE":`English (Ireland)`,"en-JM":`English (Jamaica)`,"en-NZ":`English (New Zealand)`,"en-PH":`English (Philippines)`,"en-ZA":`English (South Africa)`,"en-TT":`English (Trinidad & Tobago)`,"en-GB":`English (United Kingdom)`,"en-US":`English (United States)`,"en-ZW":`English (Zimbabwe)`,eo:`Esperanto`,et:`Estonian`,fo:`Faeroese`,fj:`Fijian`,fi:`Finnish`,fr:`French (Standard)`,"fr-BE":`French (Belgium)`,"fr-CA":`French (Canada)`,"fr-FR":`French (France)`,"fr-LU":`French (Luxembourg)`,"fr-MC":`French (Monaco)`,"fr-CH":`French (Switzerland)`,fy:`Frisian`,fur:`Friulian`,gd:`Gaelic (Scots)`,"gd-IE":`Gaelic (Irish)`,gl:`Galacian`,ka:`Georgian`,de:`German (Standard)`,"de-AT":`German (Austria)`,"de-DE":`German (Germany)`,"de-LI":`German (Liechtenstein)`,"de-LU":`German (Luxembourg)`,"de-CH":`German (Switzerland)`,el:`Greek`,gu:`Gujurati`,ht:`Haitian`,he:`Hebrew`,hi:`Hindi`,hu:`Hungarian`,is:`Icelandic`,id:`Indonesian`,iu:`Inuktitut`,ga:`Irish`,it:`Italian (Standard)`,"it-CH":`Italian (Switzerland)`,ja:`Japanese`,kn:`Kannada`,ks:`Kashmiri`,kk:`Kazakh`,km:`Khmer`,ky:`Kirghiz`,tlh:`Klingon`,ko:`Korean`,"ko-KP":`Korean (North Korea)`,"ko-KR":`Korean (South Korea)`,la:`Latin`,lv:`Latvian`,lt:`Lithuanian`,lb:`Luxembourgish`,mk:`North Macedonia`,ms:`Malay`,ml:`Malayalam`,mt:`Maltese`,mi:`Maori`,mr:`Marathi`,mo:`Moldavian`,nv:`Navajo`,ng:`Ndonga`,ne:`Nepali`,no:`Norwegian`,nb:`Norwegian (Bokmal)`,nn:`Norwegian (Nynorsk)`,oc:`Occitan`,or:`Oriya`,om:`Oromo`,fa:`Persian`,"fa-IR":`Persian/Iran`,pl:`Polish`,pt:`Portuguese`,"pt-BR":`Portuguese (Brazil)`,pa:`Punjabi`,"pa-IN":`Punjabi (India)`,"pa-PK":`Punjabi (Pakistan)`,qu:`Quechua`,rm:`Rhaeto-Romanic`,ro:`Romanian`,"ro-MO":`Romanian (Moldavia)`,ru:`Russian`,"ru-MO":`Russian (Moldavia)`,sz:`Sami (Lappish)`,sg:`Sango`,sa:`Sanskrit`,sc:`Sardinian`,sd:`Sindhi`,si:`Singhalese`,sr:`Serbian`,sk:`Slovak`,sl:`Slovenian`,so:`Somani`,sb:`Sorbian`,es:`Spanish`,"es-AR":`Spanish (Argentina)`,"es-BO":`Spanish (Bolivia)`,"es-CL":`Spanish (Chile)`,"es-CO":`Spanish (Colombia)`,"es-CR":`Spanish (Costa Rica)`,"es-DO":`Spanish (Dominican Republic)`,"es-EC":`Spanish (Ecuador)`,"es-SV":`Spanish (El Salvador)`,"es-GT":`Spanish (Guatemala)`,"es-HN":`Spanish (Honduras)`,"es-MX":`Spanish (Mexico)`,"es-NI":`Spanish (Nicaragua)`,"es-PA":`Spanish (Panama)`,"es-PY":`Spanish (Paraguay)`,"es-PE":`Spanish (Peru)`,"es-PR":`Spanish (Puerto Rico)`,"es-ES":`Spanish (Spain)`,"es-UY":`Spanish (Uruguay)`,"es-VE":`Spanish (Venezuela)`,sx:`Sutu`,sw:`Swahili`,sv:`Swedish`,"sv-FI":`Swedish (Finland)`,"sv-SV":`Swedish (Sweden)`,ta:`Tamil`,tt:`Tatar`,te:`Teluga`,th:`Thai`,tig:`Tigre`,ts:`Tsonga`,tn:`Tswana`,tr:`Turkish`,tk:`Turkmen`,uk:`Ukrainian`,hsb:`Upper Sorbian`,ur:`Urdu`,ve:`Venda`,vi:`Vietnamese`,vo:`Volapuk`,wa:`Walloon`,cy:`Welsh`,xh:`Xhosa`,ji:`Yiddish`,zu:`Zulu`}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe(`putCatalog`,function(){this.internal.write(`/Lang (`+this.internal.languageSettings.languageCode+`)`)}),this.internal.languageSettings.isSubscribed=!0)),this},CZ=bX.API,wZ=CZ.getCharWidthsArray=function(e,t){var n,r,i=(t||={}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,c=s.fof?s.fof:1,l=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,d=!1!==t.doKerning,f=0,p=e.length,m=0,h=s[0]||c,g=[];for(n=0;n<p;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString==`function`?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(f=d&&tU(l[r])===`object`&&!isNaN(parseInt(l[r][m],10))?l[r][m]/u:0,g.push((s[r]||h)/c+f)),m=r;return g},TZ=CZ.getStringUnitWidth=function(e,t){var n=(t||={}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return CZ.processArabic&&(e=CZ.processArabic(e)),typeof r.metadata.widthOfString==`function`?r.metadata.widthOfString(e,n,i)/n:wZ.apply(this,arguments).reduce(function(e,t){return e+t},0)},EZ=function(e,t,n,r){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;i.push(e.slice(0,a));var c=a;for(s=0;a!==o;)s+t[a]>r&&(i.push(e.slice(c,a)),s=0,c=a),s+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},DZ=function(e,t,n){n||={};var r,i,a,o,s,c,l,u=[],d=[u],f=n.textIndent||0,p=0,m=0,h=e.split(` `),g=wZ.apply(this,[` `,n])[0];if(c=n.lineIndent===-1?h[0].length+2:n.lineIndent||0){var _=Array(c).join(` `),v=[];h.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?`
`:``)+e})):v.push(e[0])}),h=v,c=TZ.apply(this,[_,n])}for(a=0,o=h.length;a<o;a++){var y=0;if(r=h[a],c&&r[0]==`
`&&(r=r.substr(1),y=1),f+p+(m=(i=wZ.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(m>t){for(s=EZ.apply(this,[r,i,t-(f+p),t]),u.push(s.shift()),u=[s.pop()];s.length;)d.push([s.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(e,t){return e+t},0)}else u=[r];d.push(u),f=m+c,p=g}else u.push(r),f+=p+m,p=g}return l=c?function(e,t){return(t?_:``)+e.join(` `)}:function(e){return e.join(` `)},d.map(l)},CZ.splitTextToSize=function(e,t,n){var r,i=(n||={}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n=`Unicode`;return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,c,l=[];for(s=0,c=r.length;s<c;s++)l=l.concat(DZ.apply(this,[r[s],o,a]));return l},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t=`0123456789abcdef`,n=`klmnopqrstuvwxyz`,r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(e){return`0x`+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,r,a,c=[`{`];for(var l in e){if(t=e[l],isNaN(parseInt(l,10))?n=`'`+l+`'`:(l=parseInt(l,10),n=(n=o(l).slice(2)).slice(0,-1)+i[n.slice(-1)]),typeof t==`number`)t<0?(r=o(t).slice(3),a=`-`):(r=o(t).slice(2),a=``),r=a+r.slice(0,-1)+i[r.slice(-1)];else{if(tU(t)!==`object`)throw Error(`Don't know what to do with value type `+tU(t)+`.`);r=s(t)}c.push(n+r)}return c.push(`}`),c.join(``)},c=e.__fontmetrics__.uncompress=function(e){if(typeof e!=`string`)throw Error(`Invalid argument passed to uncompress.`);for(var t,n,i,a,o={},s=1,c=o,l=[],u=``,d=``,f=e.length-1,p=1;p<f;p+=1)(a=e[p])==`'`?t?(i=t.join(``),t=void 0):t=[]:t?t.push(a):a==`{`?(l.push([c,i]),c={},i=void 0):a==`}`?((n=l.pop())[0][n[1]]=c,i=void 0,c=n[0]):a==`-`?s=-1:i===void 0?r.hasOwnProperty(a)?(u+=r[a],i=parseInt(u,16)*s,s=1,u=``):u+=a:r.hasOwnProperty(a)?(d+=r[a],c[i]=parseInt(d,16)*s,s=1,i=void 0,d=``):d+=a;return o},l={codePages:[`WinAnsiEncoding`],WinAnsiEncoding:c(`{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}`)},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":c(`{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}`),"Times-BoldItalic":c(`{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}`),"Helvetica-Bold":c(`{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}`),Courier:c(`{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}`),"Courier-BoldOblique":c(`{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}`),"Times-Bold":c(`{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}`),Symbol:c(`{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}`),Helvetica:c(`{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}`),"Helvetica-BoldOblique":c(`{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}`),ZapfDingbats:c(`{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}`),"Courier-Bold":c(`{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}`),"Times-Italic":c(`{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}`),"Times-Roman":c(`{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}`),"Helvetica-Oblique":c(`{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}`)}};e.events.push([`addFont`,function(e){var t=e.font,n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(bX.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push([`addFont`,function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw Error(`Font does not exist in vFS, import fonts or remove declaration doc.addFont('`+i.postScriptName+`').`);if(typeof(r=!1===a.existsFileInVFS(i.postScriptName)?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!=`string`)throw Error(`Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('`+i.postScriptName+`').`);(function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(YY(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]})(i,r)}}])}(bX),bX.API.addSvgAsImage=function(e,t,n,r,i,a,o,s){if(isNaN(t)||isNaN(n))throw UY.error(`jsPDF.addSvgAsImage: Invalid coordinates`,arguments),Error(`Invalid coordinates passed to jsPDF.addSvgAsImage`);if(isNaN(r)||isNaN(i))throw UY.error(`jsPDF.addSvgAsImage: Invalid measurements`,arguments),Error(`Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage`);var c=document.createElement(`canvas`);c.width=r,c.height=i;var l=c.getContext(`2d`);l.fillStyle=`#fff`,l.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(VY.canvg?Promise.resolve(VY.canvg):C(()=>import(`./index.es-BcIz-XLw.js`),[])).catch(function(e){return Promise.reject(Error(`Could not load canvg: `+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(l,e,u)},function(){return Promise.reject(Error(`Could not load canvg.`))}).then(function(e){return e.render(u)}).then(function(){d.addImage(c.toDataURL(`image/jpeg`,1),t,n,r,i,o,s)})},bX.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,`g`),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),`g`),n=this.pdfEscape16(this.internal.getNumberOfPages()+``,this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},bX.API.viewerPreferences=function(e,t){var n;e||={},t||=!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:`UseNone`,value:`UseNone`,type:`name`,explicitSet:!1,valueSet:[`UseNone`,`UseOutlines`,`UseThumbs`,`UseOC`],pdfVersion:1.3},Direction:{defaultValue:`L2R`,value:`L2R`,type:`name`,explicitSet:!1,valueSet:[`L2R`,`R2L`],pdfVersion:1.3},ViewArea:{defaultValue:`CropBox`,value:`CropBox`,type:`name`,explicitSet:!1,valueSet:[`MediaBox`,`CropBox`,`TrimBox`,`BleedBox`,`ArtBox`],pdfVersion:1.4},ViewClip:{defaultValue:`CropBox`,value:`CropBox`,type:`name`,explicitSet:!1,valueSet:[`MediaBox`,`CropBox`,`TrimBox`,`BleedBox`,`ArtBox`],pdfVersion:1.4},PrintArea:{defaultValue:`CropBox`,value:`CropBox`,type:`name`,explicitSet:!1,valueSet:[`MediaBox`,`CropBox`,`TrimBox`,`BleedBox`,`ArtBox`],pdfVersion:1.4},PrintClip:{defaultValue:`CropBox`,value:`CropBox`,type:`name`,explicitSet:!1,valueSet:[`MediaBox`,`CropBox`,`TrimBox`,`BleedBox`,`ArtBox`],pdfVersion:1.4},PrintScaling:{defaultValue:`AppDefault`,value:`AppDefault`,type:`name`,explicitSet:!1,valueSet:[`AppDefault`,`None`],pdfVersion:1.6},Duplex:{defaultValue:``,value:`none`,type:`name`,explicitSet:!1,valueSet:[`Simplex`,`DuplexFlipShortEdge`,`DuplexFlipLongEdge`,`none`],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:`boolean`,explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:``,value:``,type:`array`,explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:`integer`,explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],l=0,u=0,d=0;function f(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e===`reset`||!0===t){var p=s.length;for(d=0;d<p;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if(tU(e)===`object`){for(i in e)if(a=e[i],f(s,i)&&a!==void 0){if(n[i].type===`boolean`&&typeof a==`boolean`)n[i].value=a;else if(n[i].type===`name`&&f(n[i].valueSet,a))n[i].value=a;else if(n[i].type===`integer`&&Number.isInteger(a))n[i].value=a;else if(n[i].type===`array`){for(l=0;l<a.length;l+=1)if(r=!0,a[l].length===1&&typeof a[l][0]==`number`)c.push(String(a[l]-1));else if(a[l].length>1){for(u=0;u<a[l].length;u+=1)typeof a[l][u]!=`number`&&(r=!1);!0===r&&c.push([a[l][0]-1,a[l][1]-1].join(` `))}n[i].value=`[`+c.join(` `)+`]`}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe(`putCatalog`,function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&(n[e].type===`name`?t.push(`/`+e+` /`+n[e].value):t.push(`/`+e+` `+n[e].value));t.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+t.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},bX.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??`http://jspdf.default.namespaceuri/`,rawXml:typeof t==`boolean`&&t},this.internal.events.subscribe(`putCatalog`,KZ),this.internal.events.subscribe(`postPutResources`,GZ)),this},function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=[``,`0`,`00`,`000`,`0000`],a=[``],o=0,s=e.length;o<s;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),r.indexOf(n)==-1&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),n==`0`)return a.join(``);n=n.toString(16),a.push(i[4-n.length],n)}return a.join(``)},r=function(e){var t,n,r,i,a,o,s;for(a=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,r=[],o=0,s=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<s;o++)t=n[o],r.length>=100&&(a+=`
`+r.length+` beginbfchar
`+r.join(`
`)+`
endbfchar`,r=[]),e[t]!==void 0&&e[t]!==null&&typeof e[t].toString==`function`&&(i=(`0000`+e[t].toString(16)).slice(-4),t=(`0000`+(+t).toString(16)).slice(-4),r.push(`<`+t+`><`+i+`>`));return r.length&&(a+=`
`+r.length+` beginbfchar
`+r.join(`
`)+`
endbfchar
`),a+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push([`putFont`,function(t){(function(t){var n=t.font,i=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&n.encoding===`Identity-H`){for(var s=n.metadata.Unicode.widths,c=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),l=``,u=0;u<c.length;u++)l+=String.fromCharCode(c[u]);var d=a();o({data:l,addLength1:!0,objectId:d}),i(`endobj`);var f=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:f}),i(`endobj`);var p=a();i(`<<`),i(`/Type /FontDescriptor`),i(`/FontName /`+mX(n.fontName)),i(`/FontFile2 `+d+` 0 R`),i(`/FontBBox `+e.API.PDFObject.convert(n.metadata.bbox)),i(`/Flags `+n.metadata.flags),i(`/StemV `+n.metadata.stemV),i(`/ItalicAngle `+n.metadata.italicAngle),i(`/Ascent `+n.metadata.ascender),i(`/Descent `+n.metadata.decender),i(`/CapHeight `+n.metadata.capHeight),i(`>>`),i(`endobj`);var m=a();i(`<<`),i(`/Type /Font`),i(`/BaseFont /`+mX(n.fontName)),i(`/FontDescriptor `+p+` 0 R`),i(`/W `+e.API.PDFObject.convert(s)),i(`/CIDToGIDMap /Identity`),i(`/DW 1000`),i(`/Subtype /CIDFontType2`),i(`/CIDSystemInfo`),i(`<<`),i(`/Supplement 0`),i(`/Registry (Adobe)`),i(`/Ordering (`+n.encoding+`)`),i(`>>`),i(`>>`),i(`endobj`),n.objectNumber=a(),i(`<<`),i(`/Type /Font`),i(`/Subtype /Type0`),i(`/ToUnicode `+f+` 0 R`),i(`/BaseFont /`+mX(n.fontName)),i(`/Encoding /`+n.encoding),i(`/DescendantFonts [`+m+` 0 R]`),i(`>>`),i(`endobj`),n.isAlreadyPutted=!0}})(t)}]),t.events.push([`putFont`,function(t){(function(t){var n=t.font,i=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&n.encoding===`WinAnsiEncoding`){for(var s=n.metadata.rawData,c=``,l=0;l<s.length;l++)c+=String.fromCharCode(s[l]);var u=a();o({data:c,addLength1:!0,objectId:u}),i(`endobj`);var d=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i(`endobj`);var f=a();i(`<<`),i(`/Descent `+n.metadata.decender),i(`/CapHeight `+n.metadata.capHeight),i(`/StemV `+n.metadata.stemV),i(`/Type /FontDescriptor`),i(`/FontFile2 `+u+` 0 R`),i(`/Flags 96`),i(`/FontBBox `+e.API.PDFObject.convert(n.metadata.bbox)),i(`/FontName /`+mX(n.fontName)),i(`/ItalicAngle `+n.metadata.italicAngle),i(`/Ascent `+n.metadata.ascender),i(`>>`),i(`endobj`),n.objectNumber=a();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));i(`<</Subtype/TrueType/Type/Font/ToUnicode `+d+` 0 R/BaseFont/`+mX(n.fontName)+`/FontDescriptor `+f+` 0 R/Encoding/`+n.encoding+` /FirstChar 29 /LastChar 255 /Widths `+e.API.PDFObject.convert(n.metadata.hmtx.widths)+`>>`),i(`endobj`),n.isAlreadyPutted=!0}})(t)}]);var i=function(e){var t,r=e.text||``,i=e.x,a=e.y,o=e.options||{},s=e.mutex||{},c=s.pdfEscape,l=s.activeFontKey,u=s.fonts,d=l,f=``,p=0,m=``,h=u[d].encoding;if(u[d].encoding!==`Identity-H`)return{text:r,x:i,y:a,options:o,mutex:s};for(m=r,d=l,Array.isArray(r)&&(m=r[0]),p=0;p<m.length;p+=1)u[d].metadata.hasOwnProperty(`cmap`)&&(t=u[d].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&u[d].metadata.hasOwnProperty(`Unicode`)?f+=m[p]:f+=``;var g=``;return parseInt(d.slice(1))<14||h===`WinAnsiEncoding`?g=c(f,d).split(``).map(function(e){return e.charCodeAt(0).toString(16)}).join(``):h===`Identity-H`&&(g=n(f,u[d])),s.isHex=!0,{text:g,x:i,y:a,options:o,mutex:s}};t.events.push([`postProcessText`,function(e){var t=e.text||``,n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&t[a].length===3?n.push([i(Object.assign({},r,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(i(Object.assign({},r,{text:t[a]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(bX),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]===void 0?null:this.internal.vFS[e]}}(bX.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,a,o,s,c,l=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=`(.).(.<.>.<.[.].[.{.}.{.................................`.split(`.`),h=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,_=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return r===void 0?n===252||n===253?`AL`:h.test(n)?`L`:n===8?`R`:`N`:l[256*r+(255&t)]},y=function(e){for(var t,n=0;n<e.length;n++){if((t=v(e.charAt(n)))===`L`)return!1;if(t===`R`)return!0}return!1},b=function(e,t,o,s){var c,l,u,d,f=t[s];switch(f){case`L`:case`R`:case`LRE`:case`RLE`:case`LRO`:case`RLO`:case`PDF`:g=!1;break;case`N`:case`AN`:break;case`EN`:g&&(f=`AN`);break;case`AL`:g=!0,f=`R`;break;case`WS`:case`BN`:f=`N`;break;case`CS`:s<1||s+1>=t.length||(c=o[s-1])!==`EN`&&c!==`AN`||(l=t[s+1])!==`EN`&&l!==`AN`?f=`N`:g&&(l=`AN`),f=l===c?l:`N`;break;case`ES`:f=(c=s>0?o[s-1]:`B`)===`EN`&&s+1<t.length&&t[s+1]===`EN`?`EN`:`N`;break;case`ET`:if(s>0&&o[s-1]===`EN`){f=`EN`;break}if(g){f=`N`;break}for(u=s+1,d=t.length;u<d&&t[u]===`ET`;)u++;f=u<d&&t[u]===`EN`?`EN`:`N`;break;case`NSM`:if(i&&!a){for(d=t.length,u=s+1;u<d&&t[u]===`NSM`;)u++;if(u<d){var p=e[s],m=p>=1425&&p<=2303||p===64286;if(c=t[u],m&&(c===`R`||c===`AL`)){f=`R`;break}}}f=s<1||(c=t[s-1])===`B`?`N`:o[s-1];break;case`B`:g=!1,n=!0,f=_;break;case`S`:r=!0,f=`N`}return f},x=function(e,t,n){var r=e.split(``);return n&&S(r,n,{hiLevel:_}),r.reverse(),t&&t.reverse(),r.join(``)},S=function(e,t,i){var a,o,s,c,l,p=-1,m=e.length,h=0,y=[],x=_?d:u,S=[];for(g=!1,n=!1,r=!1,o=0;o<m;o++)S[o]=v(e[o]);for(s=0;s<m;s++){if(l=h,y[s]=b(e,S,y,s),a=240&(h=x[l][f[y[s]]]),h&=15,t[s]=c=x[h][5],a>0)if(a===16){for(o=p;o<s;o++)t[o]=1;p=-1}else p=-1;if(x[h][6])p===-1&&(p=s);else if(p>-1){for(o=p;o<s;o++)t[o]=c;p=-1}S[s]===`B`&&(t[s]=0),i.hiLevel|=c}r&&function(e,t,n){for(var r=0;r<n;r++)if(e[r]===`S`){t[r]=_;for(var i=r-1;i>=0&&e[i]===`WS`;i--)t[i]=_}}(S,t,m)},C=function(e,t,r,i,a){if(!(a.hiLevel<e)){if(e===1&&_===1&&!n)return t.reverse(),void(r&&r.reverse());for(var o,s,c,l,u=t.length,d=0;d<u;){if(i[d]>=e){for(c=d+1;c<u&&i[c]>=e;)c++;for(l=d,s=c-1;l<s;l++,s--)o=t[l],t[l]=t[s],t[s]=o,r&&(o=r[l],r[l]=r[s],r[s]=o);d=c}d++}}},w=function(e,t,n){var r=e.split(``),i={hiLevel:_};return n||=[],S(r,n,i),function(e,t,n){if(n.hiLevel!==0&&c)for(var r,i=0;i<e.length;i++)t[i]===1&&(r=m.indexOf(e[i]))>=0&&(e[i]=m[r+1])}(r,n,i),C(2,r,t,n,i),C(1,r,t,n,i),r.join(``)};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;a===void 0&&(a=y(e)),s===void 0&&(s=y(e))}(e,t),i||!o||s)if(i&&o&&a^s)_=a?1:0,e=x(e,t,n);else if(!i&&o&&s)_=a?1:0,e=w(e,t,n),e=x(e,t);else if(!i||a||o||s){if(i&&!o&&a^s)e=x(e,t),a?(_=0,e=w(e,t,n)):(_=1,e=w(e,t,n),e=x(e,t));else if(i&&a&&!o&&s)_=1,e=w(e,t,n),e=x(e,t);else if(!i&&!o&&a^s){var r=c;a?(_=1,e=w(e,t,n),_=0,c=!1,e=w(e,t,n),c=r):(_=0,e=w(e,t,n),e=x(e,t),_=1,c=!1,e=w(e,t,n),c=r,e=x(e,t))}}else _=0,e=w(e,t,n);else _=a?1:0,e=w(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,o=e.isOutputVisual,a=e.isInputRtl,s=e.isOutputRtl,c=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=`BN.BN.BN.BN.BN.BN.BN.BN.BN.S.B.S.WS.B.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.B.B.B.S.WS.N.N.ET.ET.ET.N.N.N.N.N.ES.CS.ES.CS.CS.EN.EN.EN.EN.EN.EN.EN.EN.EN.EN.CS.N.N.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.N.N.BN.BN.BN.BN.BN.BN.B.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.BN.CS.N.ET.ET.ET.ET.N.N.N.N.L.N.N.BN.N.N.ET.ET.EN.EN.N.L.N.N.N.EN.L.N.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.L.L.L.L.L.L.L.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.L.N.N.N.N.N.ET.N.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.R.NSM.R.NSM.NSM.R.NSM.NSM.R.NSM.N.N.N.N.N.N.N.N.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.N.N.N.N.N.R.R.R.R.R.N.N.N.N.N.N.N.N.N.N.N.AN.AN.AN.AN.AN.AN.N.N.AL.ET.ET.AL.CS.AL.N.N.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.AL.AL.N.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.AN.AN.AN.AN.AN.AN.AN.AN.AN.AN.ET.AN.AN.AL.AL.AL.NSM.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.NSM.NSM.NSM.NSM.NSM.NSM.NSM.AN.N.NSM.NSM.NSM.NSM.NSM.NSM.AL.AL.NSM.NSM.N.NSM.NSM.NSM.NSM.AL.AL.EN.EN.EN.EN.EN.EN.EN.EN.EN.EN.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.N.AL.AL.NSM.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.N.N.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.AL.N.N.N.N.N.N.N.N.N.N.N.N.N.N.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.R.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.R.R.N.N.N.N.R.N.N.N.N.N.WS.WS.WS.WS.WS.WS.WS.WS.WS.WS.WS.BN.BN.BN.L.R.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.WS.B.LRE.RLE.PDF.LRO.RLO.CS.ET.ET.ET.ET.ET.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.CS.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.WS.BN.BN.BN.BN.BN.N.LRI.RLI.FSI.PDI.BN.BN.BN.BN.BN.BN.EN.L.N.N.EN.EN.EN.EN.EN.EN.ES.ES.N.N.N.L.EN.EN.EN.EN.EN.EN.EN.EN.EN.EN.ES.ES.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.N.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.ET.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.L.L.L.L.L.L.L.N.N.N.N.N.N.N.N.N.N.N.N.L.L.L.L.L.N.N.N.N.N.R.NSM.R.R.R.R.R.R.R.R.R.R.ES.R.R.R.R.R.R.R.R.R.R.R.R.R.N.R.R.R.R.R.N.R.N.R.R.N.R.R.N.R.R.R.R.R.R.R.R.R.R.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.NSM.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.CS.N.CS.N.N.CS.N.N.N.N.N.N.N.N.N.ET.N.N.ES.ES.N.N.N.N.N.ET.ET.N.N.N.N.N.AL.AL.AL.AL.AL.N.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.AL.N.N.BN.N.N.N.ET.ET.ET.N.N.N.N.N.ES.CS.ES.CS.CS.EN.EN.EN.EN.EN.EN.EN.EN.EN.EN.CS.N.N.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.N.N.N.N.N.N.N.N.N.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.L.N.N.N.L.L.L.L.L.L.N.N.L.L.L.L.L.L.N.N.L.L.L.L.L.L.N.N.L.L.L.N.N.N.ET.ET.N.N.N.ET.ET.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N.N`.split(`.`),n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push([`postProcessText`,function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual=typeof r.isInputVisual!=`boolean`||r.isInputVisual,n.setOptions(r),Object.prototype.toString.call(t)===`[object Array]`){var a=0;for(i=[],a=0;a<t.length;a+=1)Object.prototype.toString.call(t[a])===`[object Array]`?i.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([n.doBidiReorder(t[a])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(bX),bX.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new JZ(e),this.contents.pos=4,t.readString(4)===`ttcf`)throw Error(`TTCF not supported.`);t.pos=0,this.parse(),this.subset=new pQ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new YZ(this.contents),this.head=new QZ(this),this.name=new aQ(this),this.cmap=new eQ(this),this.toUnicode={},this.hhea=new tQ(this),this.maxp=new oQ(this),this.hmtx=new sQ(this),this.post=new rQ(this),this.os2=new nQ(this),this.loca=new fQ(this),this.glyf=new lQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+`.`+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw Error(`No unicode cmap for font`)},e.prototype.characterToGlyph=function(e){return this.cmap.unicode?.codeMap[e]||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,a,o;for(a=0,i=0,o=(e=``+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)r=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return t??=!1,n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var qZ,JZ=function(){function e(e){this.data=e??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join(``)},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,a,o,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*a+256*o+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),YZ=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,a,o,s,c,l,u,d,f,p,m;for(m in f=Object.keys(t).length,s=Math.log(2),u=16*Math.floor(Math.log(f)/s),a=Math.floor(u/s),l=16*f-u,(r=new JZ).writeInt(this.scalarType),r.writeShort(f),r.writeShort(u),r.writeShort(a),r.writeShort(l),i=16*f,c=r.pos+i,o=null,p=[],t)for(d=t[m],r.writeString(m),r.writeInt(e(d)),r.writeInt(c),r.writeInt(d.length),p=p.concat(d),m===`head`&&(o=c),c+=d.length;c%4;)p.push(0),c++;return r.write(p),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=cQ.call(e);e.length%4;)e.push(0);for(r=new JZ(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),XZ={}.hasOwnProperty,ZZ=function(e,t){for(var n in t)XZ.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};qZ=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var QZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`head`,e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new JZ).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),$Z=function(){function e(e,t){var n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,v=i.length;g<v;s=++g)for(h=i[s],n=_=p=m[s];p<=h?_<=h:_>=h;n=p<=h?++_:--_)l[s]===0?a=n+c[s]:(a=o[l[s]/2+(n-p)-(d-s)]||0)!==0&&(a+=c[s]),this.codeMap[n]=65535&a}e.pos=u}return e.encode=function(e,t){var n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k,A,j,M,N,P,F,I,L,R,z,ee,B,V,te,H,ne,re,ie;switch(k=new JZ,a=Object.keys(e).sort(function(e,t){return e-t}),t){case`macroman`:for(m=0,h=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),_={0:0},i={},A=0,P=a.length;A<P;A++)_[H=e[r=a[A]]]??(_[H]=++m),i[r]={old:e[r],new:_[e[r]]},h[r]=_[e[r]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(h),{charMap:i,subtable:k.data,maxGlyphID:m+1};case`unicode`:for(D=[],u=[],v=0,_={},n={},g=c=null,j=0,F=a.length;j<F;j++)_[b=e[r=a[j]]]??(_[b]=++v),n[r]={old:b,new:_[b]},o=_[b]-r,g!=null&&o===c||(g&&u.push(g),D.push(r),c=o),g=r;for(g&&u.push(g),u.push(65535),D.push(65535),T=2*(w=D.length),C=2*(Math.log(w)/Math.LN2)**2,d=Math.log(C/2)/Math.LN2,S=2*w-C,s=[],x=[],f=[],p=M=0,I=D.length;M<I;p=++M){if(E=D[p],l=u[p],E===65535){s.push(0),x.push(0);break}if(E-(O=n[E].new)>=32768)for(s.push(0),x.push(2*(f.length+w-p)),r=N=E;E<=l?N<=l:N>=l;r=E<=l?++N:--N)f.push(n[r].new);else s.push(O-E),x.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*w+2*f.length),k.writeUInt16(0),k.writeUInt16(T),k.writeUInt16(C),k.writeUInt16(d),k.writeUInt16(S),V=0,L=u.length;V<L;V++)r=u[V],k.writeUInt16(r);for(k.writeUInt16(0),te=0,R=D.length;te<R;te++)r=D[te],k.writeUInt16(r);for(ne=0,z=s.length;ne<z;ne++)o=s[ne],k.writeUInt16(o);for(re=0,ee=x.length;re<ee;re++)y=x[re],k.writeUInt16(y);for(ie=0,B=f.length;ie<B;ie++)m=f[ie],k.writeUInt16(m);return{charMap:n,subtable:k.data,maxGlyphID:v+1}}},e}(),eQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`cmap`,e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new $Z(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return t??=`macroman`,n=$Z.encode(e,t),(r=new JZ).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),tQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`hhea`,e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),nQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`OS/2`,e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),rQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`post`,e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),iQ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`name`,e.prototype.parse=function(e){var t,n,r,i,a,o,s,c,l,u,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},i=l=0,u=n.length;l<u;i=++l)r=n[i],e.pos=r.offset,c=e.readString(r.length),a=new iQ(c,r),s[d=r.nameID]??(s[d]=[]),s[r.nameID].push(a);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,``)}catch{this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,``)}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),oQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`maxp`,e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),sQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`hmtx`,e.prototype.parse=function(e){var t,n,r,i,a,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),cQ=[].slice,lQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`glyf`,e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,a,o,s,c,l,u;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),(r=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new JZ(t.read(r))).readShort(),c=o.readShort(),u=o.readShort(),s=o.readShort(),l=o.readShort(),this.cache[e]=a===-1?new dQ(o,c,u,s,l):new uQ(o,a,c,u,s,l),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,a,o,s;for(a=[],i=[],o=0,s=t.length;o<s;o++)r=e[t[o]],i.push(a.length),r&&(a=a.concat(r.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),uQ=function(){function e(e,t,n,r,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),dQ=function(){function e(e,t,n,r,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new JZ(cQ.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),fQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ZZ(e,qZ),e.prototype.tag=`loca`,e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,a=0;a<n.length;++a)if(n[a]=r,i<t.length&&t[i]==a){++i,n[a]=r;var o=this.offsets[a],s=this.offsets[a+1]-o;s>0&&(r+=s)}for(var c=Array(4*n.length),l=0;l<n.length;++l)c[4*l+3]=255&n[l],c[4*l+2]=(65280&n[l])>>8,c[4*l+1]=(16711680&n[l])>>16,c[4*l]=(4278190080&n[l])>>24;return c},e}(),pQ=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,a,o,s;for(r={},a=0,o=e.length;a<o;a++)r[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(n=r[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,a,o,s,c,l,u,d,f,p,m,h,g;for(r in n=eQ.encode(this.generateCmap(),`unicode`),a=this.glyphsFor(e),f={0:0},g=n.charMap)f[(s=g[r]).old]=s.new;for(p in d=n.maxGlyphID,a)p in f||(f[p]=d++);return l=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(f),u=Object.keys(l).sort(function(e,t){return e-t}),m=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)o=u[e],n.push(l[o]);return n}(),i=this.font.glyf.encode(a,m,f),c=this.font.loca.encode(i.offsets,m),h={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(h[`OS/2`]=this.font.os2.raw()),this.font.directory.encode(h)},e}();bX.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join(`0`)+e).slice(-t)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return`[`+function(){var e,i,a;for(a=[],e=0,i=n.length;e<i;e++)r=n[e],a.push(t.convert(r));return a}().join(` `)+`]`;if(typeof n==`string`)return`/`+n;if(n?.isString)return`(`+n+`)`;if(n instanceof Date)return`(D:`+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+`Z)`;if({}.toString.call(n)===`[object Object]`){for(i in a=[`<<`],n)o=n[i],a.push(`/`+i+` `+t.convert(o));return a.push(`>>`),a.join(`
`)}return``+n},t}();function mQ(e,t,n,r,i){r||={};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,c=s*(i.getLineHeightFactor?i.getLineHeightFactor():a),l=/\r\n|\r|\n/g,u=``,d=1;if((r.valign===`middle`||r.valign===`bottom`||r.halign===`center`||r.halign===`right`)&&(u=typeof e==`string`?e.split(l):e,d=u.length||1),n+=s*(2-a),r.valign===`middle`?n-=d/2*c:r.valign===`bottom`&&(n-=d*c),r.halign===`center`||r.halign===`right`){var f=s;if(r.halign===`center`&&(f*=.5),u&&d>=1){for(var p=0;p<u.length;p++)i.text(u[p],t-i.getStringUnitWidth(u[p])*f,n),n+=c;return i}t-=i.getStringUnitWidth(e)*f}return r.halign===`justify`?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:`justify`}):i.text(e,t,n),i}var hQ={},gQ=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:hQ=e},e.unifyColor=function(e){return Array.isArray(e)?e:typeof e==`number`?[e,e,e]:typeof e==`string`?[e]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){s=t.fontStyle;var l=this.getFontList()[c];l&&l.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(l[0]),s=l[0])}if(this.jsPDFDocument.setFont(c,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=e.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=e.unifyColor(t.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof t.lineWidth==`number`&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,i){return this.jsPDFDocument.rect(e,t,n,r,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return hQ||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width??(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),_Q=function(e,t){return _Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_Q(e,t)};function vQ(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);_Q(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var yQ=function(e){vQ(t,e);function t(t){var n=e.call(this)||this;return n._element=t,n}return t}(Array);function bQ(e){return{font:`helvetica`,fontStyle:`normal`,overflow:`linebreak`,fillColor:!1,textColor:20,halign:`left`,valign:`top`,fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:`auto`,minCellHeight:0,minCellWidth:0}}function xQ(e){return{striped:{table:{fillColor:255,textColor:80,fontStyle:`normal`},head:{textColor:255,fillColor:[41,128,185],fontStyle:`bold`},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:`bold`},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:`normal`,lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:`bold`,lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:`bold`,lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:`bold`},foot:{fontStyle:`bold`}}}[e]}function SQ(e,t,n){return n.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)}function CQ(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=wQ(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function wQ(e,t){var n=e>0,r=t||t===0;return n&&r?`DF`:n?`S`:r?`F`:null}function TQ(e,t){if(e||=t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=e.length===1?e[0]:t}return typeof e==`object`?(typeof e.vertical==`number`&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal==`number`&&(e.right=e.horizontal,e.left=e.horizontal),{left:e.left??t,top:e.top??t,right:e.right??t,bottom:e.bottom??t}):(typeof e!=`number`&&(e=t),{top:e,right:e,bottom:e,left:e})}function EQ(e,t){var n=TQ(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function DQ(e,t,n,r,i){var a={},o=96/72,s=kQ(t,function(e){return i.getComputedStyle(e).backgroundColor});s!=null&&(a.fillColor=s);var c=kQ(t,function(e){return i.getComputedStyle(e).color});c!=null&&(a.textColor=c);var l=jQ(r,n);l&&(a.cellPadding=l);var u=`borderTopColor`,d=o*n,f=r.borderTopWidth;if(r.borderBottomWidth===f&&r.borderRightWidth===f&&r.borderLeftWidth===f){var p=(parseFloat(f)||0)/d;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?u=`borderRightColor`:a.lineWidth.bottom?u=`borderBottomColor`:a.lineWidth.left&&(u=`borderLeftColor`));var m=kQ(t,function(e){return i.getComputedStyle(e)[u]});m!=null&&(a.lineColor=m);var h=[`left`,`right`,`center`,`justify`];h.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),h=[`middle`,`bottom`,`top`],h.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var g=parseInt(r.fontSize||``);isNaN(g)||(a.fontSize=g/o);var _=OQ(r);_&&(a.fontStyle=_);var v=(r.fontFamily||``).toLowerCase();return e.indexOf(v)!==-1&&(a.font=v),a}function OQ(e){var t=``;return(e.fontWeight===`bold`||e.fontWeight===`bolder`||parseInt(e.fontWeight)>=700)&&(t=`bold`),(e.fontStyle===`italic`||e.fontStyle===`oblique`)&&(t+=`italic`),t}function kQ(e,t){var n=AQ(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return parseInt(r[4])===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function AQ(e,t){var n=t(e);return n===`rgba(0, 0, 0, 0)`||n===`transparent`||n===`initial`||n===`inherit`?e.parentElement==null?null:AQ(e.parentElement,t):n}function jQ(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=TQ(n.map(function(e){return parseInt(e||`0`)/r}),0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function MQ(e,t,n,r,i){r===void 0&&(r=!1),i===void 0&&(i=!1);var a=typeof t==`string`?n.document.querySelector(t):t,o=Object.keys(e.getFontList()),s=e.scaleFactor(),c=[],l=[],u=[];if(!a)return console.error(`Html table could not be found with input: `,t),{head:c,body:l,foot:u};for(var d=0;d<a.rows.length;d++){var f=a.rows[d],p=(f?.parentElement?.tagName)?.toLowerCase(),m=NQ(o,s,n,f,r,i);m&&(p===`thead`?c.push(m):p===`tfoot`?u.push(m):l.push(m))}return{head:c,body:l,foot:u}}function NQ(e,t,n,r,i,a){for(var o=new yQ(r),s=0;s<r.cells.length;s++){var c=r.cells[s],l=n.getComputedStyle(c);if(i||l.display!==`none`){var u=void 0;a&&(u=DQ(e,c,t,l,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:PQ(c)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!==`none`))return o}function PQ(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,``).replace(/ +/g,` `),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||``}function FQ(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!=`object`&&console.error(`The options parameter should be of type object, is: `+typeof a),a.startY&&typeof a.startY!=`number`&&(console.error(`Invalid value for startY option`,a.startY),delete a.startY)}}function IQ(e,t,n,r,i){if(e==null)throw TypeError(`Cannot convert undefined or null to object`);for(var a=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a}function LQ(e,t){var n=new gQ(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();FQ(i,r,t);var a=IQ({},i,r,t),o;typeof window<`u`&&(o=window);var s=RQ(i,r,t),c=zQ(i,r,t),l=BQ(n,a),u=HQ(n,a,o);return{id:t.tableId,content:u,hooks:c,styles:s,settings:l}}function RQ(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(i){if(i===`columnStyles`){var a=e[i],o=t[i],s=n[i];r.columnStyles=IQ({},a,o,s)}else{var c=[e,t,n].map(function(e){return e[i]||{}});r[i]=IQ({},c[0],c[1],c[2])}},a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i(s)}return r}function zQ(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function BQ(e,t){var n=TQ(t.margin,40/e.scaleFactor()),r=VQ(e,t.startY)??n.top,i=t.showFoot===!0?`everyPage`:t.showFoot===!1?`never`:t.showFoot??`everyPage`,a=t.showHead===!0?`everyPage`:t.showHead===!1?`never`:t.showHead??`everyPage`,o=t.useCss??!1,s=t.theme||(o?`plain`:`striped`),c=!!t.horizontalPageBreak,l=t.horizontalPageBreakRepeat??null;return{includeHiddenHtml:t.includeHiddenHtml??!1,useCss:o,theme:s,startY:r,margin:n,pageBreak:t.pageBreak??`auto`,rowPageBreak:t.rowPageBreak??`auto`,tableWidth:t.tableWidth??`auto`,showHead:a,showFoot:i,tableLineWidth:t.tableLineWidth??0,tableLineColor:t.tableLineColor??200,horizontalPageBreak:c,horizontalPageBreakRepeat:l,horizontalPageBreakBehaviour:t.horizontalPageBreakBehaviour??`afterAllRows`}}function VQ(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;return n&&n.startPageNumber&&(a=n.startPageNumber+n.pageNumber-1===i),typeof t==`number`?t:(t==null||t===!1)&&a&&n?.finalY!=null?n.finalY+20/r:null}function HQ(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var s=MQ(e,t.html,n,o,t.useCss)||{};r=s.head||r,i=s.body||r,a=s.foot||r}else console.error(`Cannot parse html in non browser environment`)}return{columns:t.columns||UQ(r,i,a),head:r,body:i,foot:a}}function UQ(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(e){return e!==`_element`}).forEach(function(e){var t=1,n=Array.isArray(r)?r[parseInt(e)]:r[e];typeof n==`object`&&!Array.isArray(n)&&(t=n?.colSpan||1);for(var a=0;a<t;a++){var o=void 0;o=Array.isArray(r)?i.length:e+(a>0?`_${a}`:``);var s={dataKey:o};i.push(s)}}),i}var WQ=function(){function e(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return e}(),GQ=function(e){vQ(t,e);function t(t,n,r,i,a,o){var s=e.call(this,t,n,o)||this;return s.cell=r,s.row=i,s.column=a,s.section=i.section,s}return t}(WQ),KQ=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,i,a){for(var o=0,s=t;o<s.length;o++){var c=s[o],l=c(new GQ(e,this,n,r,i,a))===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var i=r[n];i(new WQ(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var i=r[n];i(new WQ(e,this,t))}},e.prototype.getWidth=function(e){if(typeof this.settings.tableWidth==`number`)return this.settings.tableWidth;if(this.settings.tableWidth===`wrap`)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),qQ=function(){function e(e,t,n,r,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof yQ&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){return Math.max(e,t.cells[n.index]?.height||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var i=n.cells[r.index];if(!i)return 0;var a=t.getLineHeight(i.styles.fontSize),o=i.padding(`vertical`)+a;return o>e?o:e},0)},e}(),JQ=function(){function e(e,t,n){this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var r=e;typeof e==`object`&&e&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,r=e.content??e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1),this.text=(r==null?``:``+r).split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e;if(this.styles.valign===`top`)e=this.y+this.padding(`top`);else if(this.styles.valign===`bottom`)e=this.y+this.height-this.padding(`bottom`);else{var t=this.height-this.padding(`vertical`);e=this.y+t/2+this.padding(`top`)}var n;if(this.styles.halign===`right`)n=this.x+this.width-this.padding(`right`);else if(this.styles.halign===`center`){var r=this.width-this.padding(`horizontal`);n=this.x+r/2+this.padding(`left`)}else n=this.x+this.padding(`left`);return{x:n,y:e}},e.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding(`vertical`);return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=TQ(this.styles.cellPadding,0);return e===`vertical`?t.top+t.bottom:e===`horizontal`?t.left+t.right:t[e]},e}(),YQ=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var i=r[n].cells[this.index];i&&typeof i.styles.cellWidth==`number`&&(t=Math.max(t,i.styles.cellWidth))}return t},e}();function XQ(e,t){ZQ(e,t);var n=[],r=0;t.columns.forEach(function(e){var i=e.getMaxCustomCellWidth(t);i?e.width=i:(e.width=e.wrappedWidth,n.push(e)),r+=e.width});var i=t.getWidth(e.pageSize().width)-r;i&&=QQ(n,i,function(e){return Math.max(e.minReadableWidth,e.minWidth)}),i&&=QQ(n,i,function(e){return e.minWidth}),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log(`Of the table content, ${i} units width could not fit page`)),e$(t),t$(t,e),$Q(t)}function ZQ(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=EQ(e,t);t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var c=s[o],l=a.cells[c.index];if(l){var u=t.hooks.didParseCell;t.callCellHooks(e,u,l,a,c,null);var d=l.padding(`horizontal`);if(l.contentWidth=SQ(l.text,l.styles,e)+d,l.minReadableWidth=SQ(l.text.join(` `).split(/[^\S\u00A0]+/),l.styles,e)+l.padding(`horizontal`),typeof l.styles.cellWidth==`number`)l.minWidth=l.styles.cellWidth,l.wrappedWidth=l.styles.cellWidth;else if(l.styles.cellWidth===`wrap`||r===!0)l.contentWidth>i?(l.minWidth=i,l.wrappedWidth=i):(l.minWidth=l.contentWidth,l.wrappedWidth=l.contentWidth);else{var f=10/n;l.minWidth=l.styles.minCellWidth||f,l.wrappedWidth=l.contentWidth,l.minWidth>l.wrappedWidth&&(l.wrappedWidth=l.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var i=r[n],a=e.cells[i.index];if(a&&a.colSpan===1)i.wrappedWidth=Math.max(i.wrappedWidth,a.wrappedWidth),i.minWidth=Math.max(i.minWidth,a.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,a.minReadableWidth);else{var o=t.styles.columnStyles[i.dataKey]||t.styles.columnStyles[i.index]||{},s=o.cellWidth||o.minCellWidth;s&&typeof s==`number`&&(i.minWidth=s,i.wrappedWidth=s)}a&&(a.colSpan>1&&!i.minWidth&&(i.minWidth=a.minWidth),a.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=a.minWidth))}})}function QQ(e,t,n){for(var r=t,i=e.reduce(function(e,t){return e+t.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],s=r*(o.wrappedWidth/i),c=o.width+s,l=n(o),u=c<l?l:c;t-=u-o.width,o.width=u}if(t=Math.round(t*1e10)/1e10,t){var d=e.filter(function(e){return t<0?e.width>n(e):!0});d.length&&(t=QQ(d,t,n))}return t}function $Q(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,s=e.columns;o<s.length;o++){var c=s[o],l=t[c.index];if(n>1)n--,delete a.cells[c.index];else if(l)l.cell.height+=a.height,n=l.cell.colSpan,delete a.cells[c.index],l.left--,l.left<=1&&delete t[c.index];else{var u=a.cells[c.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var d=r.length-i,f=u.rowSpan>d?d:u.rowSpan;t[c.index]={cell:u,left:f,row:a}}}}}function e$(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,o=0,s=0;s<e.columns.length;s++){var c=e.columns[s];if(--o,o>1&&e.columns[s+1])a+=c.width,delete r.cells[c.index];else if(i){var l=i;delete r.cells[c.index],i=null,l.width=c.width+a}else{var l=r.cells[c.index];if(!l)continue;if(o=l.colSpan,a=0,l.colSpan>1){i=l,a+=c.width;continue}l.width=c.width+a}}}function t$(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],o=0,s=e.columns;o<s.length;o++){var c=s[o],l=a.cells[c.index];if(l){t.applyStyles(l.styles,!0);var u=l.width-l.padding(`horizontal`);if(l.styles.overflow===`linebreak`)l.text=t.splitTextToSize(l.text,u+1/t.scaleFactor(),{fontSize:l.styles.fontSize});else if(l.styles.overflow===`ellipsize`)l.text=n$(l.text,u,l.styles,t,`...`);else if(l.styles.overflow===`hidden`)l.text=n$(l.text,u,l.styles,t,``);else if(typeof l.styles.overflow==`function`){var d=l.styles.overflow(l.text,u);typeof d==`string`?l.text=[d]:l.text=d}l.contentHeight=l.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=l.contentHeight/l.rowSpan;l.rowSpan>1&&n.count*n.height<f*l.rowSpan?n={height:f,count:l.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>a.height&&(a.height=f)}}n.count--}}function n$(e,t,n,r,i){return e.map(function(e){return r$(e,t,n,r,i)})}function r$(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=SQ(e,n,r))return e;for(;t<SQ(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function i$(e,t){var n=new gQ(e),r=new KQ(t,a$(t,n.scaleFactor()));return XQ(n,r),n.applyStyles(n.userStyles),r}function a$(e,t){var n=e.content,r=l$(n.columns);if(n.head.length===0){var i=s$(r,`head`);i&&n.head.push(i)}if(n.foot.length===0){var i=s$(r,`foot`);i&&n.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:r,head:o$(`head`,n.head,r,o,a,t),body:o$(`body`,n.body,r,o,a,t),foot:o$(`foot`,n.foot,r,o,a,t)}}function o$(e,t,n,r,i,a){var o={};return t.map(function(t,s){for(var c=0,l={},u=0,d=0,f=0,p=n;f<p.length;f++){var m=p[f];if(o[m.index]==null||o[m.index].left===0)if(d===0){var h=void 0;h=Array.isArray(t)?t[m.index-u-c]:t[m.dataKey];var g={};typeof h==`object`&&!Array.isArray(h)&&(g=h?.styles||{});var _=u$(e,m,s,i,r,a,g),v=new JQ(h,_,e);l[m.dataKey]=v,l[m.index]=v,d=v.colSpan-1,o[m.index]={left:v.rowSpan-1,times:d}}else d--,u++;else o[m.index].left--,d=o[m.index].times,c++}return new qQ(t,s,e,l)})}function s$(e,t){var n={};return e.forEach(function(e){if(e.raw!=null){var r=c$(t,e.raw);r!=null&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function c$(e,t){if(e===`head`){if(typeof t==`object`)return t.header||null;if(typeof t==`string`||typeof t==`number`)return t}else if(e===`foot`&&typeof t==`object`)return t.footer;return null}function l$(e){return e.map(function(e,t){return new YQ(typeof e==`object`?e.dataKey??t:t,e,t)})}function u$(e,t,n,r,i,a,o){var s=xQ(r),c;e===`head`?c=i.headStyles:e===`body`?c=i.bodyStyles:e===`foot`&&(c=i.footStyles);var l=IQ({},s.table,s[e],i.styles,c),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},d=e===`body`?u:{},f=e===`body`&&n%2==0?IQ({},s.alternateRow,i.alternateRowStyles):{};return IQ(IQ({},bQ(a),l,f,d),o)}function d$(e,t,n){n===void 0&&(n={});var r=EQ(e,t),i=new Map,a=[],o=[],s=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?s=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat==`string`||typeof t.settings.horizontalPageBreakRepeat==`number`)&&(s=[t.settings.horizontalPageBreakRepeat]),s.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!i.has(n.index)&&(i.set(n.index,!0),a.push(n.index),o.push(t.columns[n.index]),r-=n.wrappedWidth)});for(var c=!0,l=n?.start??0;l<t.columns.length;){if(i.has(l)){l++;continue}var u=t.columns[l].wrappedWidth;if(c||r>=u)c=!1,a.push(l),o.push(t.columns[l]),r-=u;else break;l++}return{colIndexes:a,columns:o,lastIndex:l-1}}function f$(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=d$(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function p$(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=r+i.bottom+o;if(n.pageBreak===`avoid`){var c=t.body.reduce(function(e,t){return e+t.height},0);s+=c}var l=new gQ(e);(n.pageBreak===`always`||n.startY!=null&&s>l.pageSize().height)&&(O$(l),a.y=i.top),t.callWillDrawPageHooks(l,a);var u=IQ({},a);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?m$(l,t,u,a):(l.applyStyles(l.userStyles),(n.showHead===`firstPage`||n.showHead===`everyPage`)&&t.head.forEach(function(e){return C$(l,t,e,a,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,n){S$(l,t,e,n===t.body.length-1,u,a,t.columns)}),l.applyStyles(l.userStyles),(n.showFoot===`lastPage`||n.showFoot===`everyPage`)&&t.foot.forEach(function(e){return C$(l,t,e,a,t.columns)})),CQ(l,t,u,a),t.callEndPageHooks(l,a),t.finalY=a.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function m$(e,t,n,r){var i=f$(e,t);if(t.settings.horizontalPageBreakBehaviour===`afterAllRows`)i.forEach(function(i,a){e.applyStyles(e.userStyles),a>0?D$(e,t,n,r,i.columns,!0):h$(e,t,r,i.columns),g$(e,t,n,r,i.columns),v$(e,t,r,i.columns)});else for(var a=-1,o=i[0],s=function(){var s=a;if(o){e.applyStyles(e.userStyles);var c=o.columns;a>=0?D$(e,t,n,r,c,!0):h$(e,t,r,c),s=_$(e,t,a+1,r,c),v$(e,t,r,c)}var l=s-a;i.slice(1).forEach(function(i){e.applyStyles(e.userStyles),D$(e,t,n,r,i.columns,!0),_$(e,t,a+1,r,i.columns,l),v$(e,t,r,i.columns)}),a=s};a<t.body.length-1;)s()}function h$(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead===`firstPage`||i.showHead===`everyPage`)&&t.head.forEach(function(i){return C$(e,t,i,n,r)})}function g$(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){S$(e,t,a,o===t.body.length-1,n,r,i)})}function _$(e,t,n,r,i,a){e.applyStyles(e.userStyles),a??=t.body.length;var o=Math.min(n+a,t.body.length),s=-1;return t.body.slice(n,o).forEach(function(a,o){var c=E$(e,t,n+o===t.body.length-1,r);a.canEntireRowFit(c,i)&&(C$(e,t,a,r,i),s=n+o)}),s}function v$(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot===`lastPage`||i.showFoot===`everyPage`)&&t.foot.forEach(function(i){return C$(e,t,i,n,r)})}function y$(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding(`vertical`),a=Math.floor((t-i)/r);return Math.max(0,a)}function b$(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,s=n.columns;o<s.length;o++){var c=s[o],l=e.cells[c.index];if(l){Array.isArray(l.text)||(l.text=[l.text]);var u=new JQ(l.raw,l.styles,l.section);u=IQ(u,l),u.text=[];var d=y$(l,t,r);l.text.length>d&&(u.text=l.text.splice(d,l.text.length));var f=r.scaleFactor(),p=r.getLineHeightFactor();l.contentHeight=l.getContentHeight(f,p),l.contentHeight>=t&&(l.contentHeight=t,u.styles.minCellHeight-=t),l.contentHeight>e.height&&(e.height=l.contentHeight),u.contentHeight=u.getContentHeight(f,p),u.contentHeight>a&&(a=u.contentHeight),i[c.index]=u}}var m=new qQ(e.raw,-1,e.section,i,!0);m.height=a;for(var h=0,g=n.columns;h<g.length;h++){var c=g[h],u=m.cells[c.index];u&&(u.height=m.height);var l=e.cells[c.index];l&&(l.height=e.height)}return m}function x$(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,o=i-(a.top+a.bottom);t.section===`body`&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var s=t.getMinimumRowHeight(r.columns,e),c=s<n;if(s>o)return console.log(`Will not be able to print row ${t.index} correctly since it's minimum height is larger than page height`),!0;if(!c)return!1;var l=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>o?(l&&console.log(`The content of row ${t.index} will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.`),!0):!(l||r.settings.rowPageBreak===`avoid`)}function S$(e,t,n,r,i,a,o){var s=E$(e,t,r,a);if(n.canEntireRowFit(s,o))C$(e,t,n,a,o);else if(x$(e,n,s,t)){var c=b$(n,s,t,e);C$(e,t,n,a,o),D$(e,t,i,a,o),S$(e,t,c,r,i,a,o)}else D$(e,t,i,a,o),S$(e,t,n,r,i,a,o)}function C$(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],c=n.cells[s.index];if(!c){r.x+=s.width;continue}if(e.applyStyles(c.styles),c.x=r.x,c.y=r.y,t.callCellHooks(e,t.hooks.willDrawCell,c,n,s,r)===!1){r.x+=s.width;continue}w$(e,c,r);var l=c.getTextPos();mQ(c.text,l.x,l.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding(`left`)-c.padding(`right`))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,s,r),r.x+=s.width}r.y+=n.height}function w$(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth==`number`){var i=wQ(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth==`object`&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,`F`),T$(e,t,n,r.lineWidth))}function T$(e,t,n,r){var i,a,o,s;r.top&&(i=n.x,a=n.y,o=n.x+t.width,s=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,a,o,s)),r.bottom&&(i=n.x,a=n.y+t.height,o=n.x+t.width,s=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,a,o,s)),r.left&&(i=n.x,a=n.y,o=n.x,s=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),c(r.left,i,a,o,s)),r.right&&(i=n.x+t.width,a=n.y,o=n.x+t.width,s=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),c(r.right,i,a,o,s));function c(t,n,r,i,a){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,i,a,`S`)}}function E$(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a===`everyPage`||a===`lastPage`&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function D$(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot===`everyPage`&&!a&&t.foot.forEach(function(n){return C$(e,t,n,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;CQ(e,t,n,r),O$(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead===`everyPage`&&(t.head.forEach(function(n){return C$(e,t,n,r,i)}),e.applyStyles(e.userStyles))}function O$(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t?(e.addPage(),!0):!1}function k$(e){e.API.autoTable=function(){var e=[...arguments][0],t=LQ(this,e),n=i$(this,t);return p$(this,n),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){mQ(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return gQ.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){gQ.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){if(t===void 0&&(t=!1),typeof window>`u`)return console.error(`Cannot run autoTableHtmlToJson in non browser environment`),null;var n=MQ(new gQ(this),e,window,t,!1),r=n.head,i=n.body;return{columns:r[0]?.map(function(e){return e.content})||[],rows:i,data:i}}}function A$(e,t){p$(e,i$(e,LQ(e,t)))}try{if(typeof window<`u`&&window){var j$=window,M$=j$.jsPDF||j$.jspdf?.jsPDF;M$&&k$(M$)}}catch(e){console.error(`Could not apply autoTable plugin`,e)}var N$=({isOpen:e,onClose:t,student:n,pointLogs:r,settings:i,sanctionRules:a,onUpdateStudent:o})=>{let[s,c]=(0,y.useState)(null),[l,u]=(0,y.useState)(!0),[d,f]=(0,y.useState)(`portrait`),[p,m]=(0,y.useState)(`a4`),[h,g]=(0,y.useState)({homeroom:!0,counselor:!0,vicePrincipal:!1,principal:!1}),[_,v]=(0,y.useState)(``);(0,y.useEffect)(()=>{e?n&&v(n.homeroomTeacherNip||``):(c(null),g({homeroom:!0,counselor:!0,vicePrincipal:!1,principal:!1}),u(!0),f(`portrait`),m(`a4`))},[e,n]),(0,y.useEffect)(()=>()=>{s&&URL.revokeObjectURL(s)},[s]);let b=()=>{o&&n&&(o(n.id,{homeroomTeacherNip:_}),alert(`NIP Wali Kelas berhasil disimpan ke data siswa.`))},x=(0,y.useMemo)(()=>{if(!n||!r)return[];let e=r.filter(e=>e.studentId===n.id);e.sort((e,t)=>{let n=new Date(e.date),r=new Date(t.date);return n.getTime()===r.getTime()?(e.createdAt||0)-(t.createdAt||0):n-r});let t=0;return e.map(e=>{let n=parseInt(e.value)||0;e.type===`violation`?t+=n:t-=n,t<0&&(t=0);let r=(a||[]).sort((e,t)=>t.max-e.max).find(e=>t>=e.min&&t<=e.max);return{...e,balanceSnapshot:t,sanctionSnapshot:r?r.penalty||r.action:`-`}})},[n,r,a]);if(!e||!n)return null;let S=(a||[]).sort((e,t)=>t.max-e.max).find(e=>n.netScore>=e.min&&n.netScore<=e.max),C=()=>{let e=new bX({orientation:d,unit:`mm`,format:p===`f4`?[215,330]:`a4`});e.setFont(`helvetica`,`normal`),e.setFontSize(11);let t=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight(),a=t/2,o=20;if(l){o=12,e.setFont(`helvetica`,`normal`),e.setFontSize(12),e.text((i?.government||`PEMERINTAH PROVINSI ...`).toUpperCase(),a,o,{align:`center`}),o+=6,e.text((i?.department||`DINAS PENDIDIKAN`).toUpperCase(),a,o,{align:`center`}),o+=7,e.setFont(`helvetica`,`bold`),e.setFontSize(16),e.text((i?.name||`NAMA SEKOLAH ANDA`).toUpperCase(),a,o,{align:`center`}),o+=6,e.setFont(`helvetica`,`normal`),e.setFontSize(10),e.text(i?.address||`Alamat Sekolah...`,a,o,{align:`center`}),i?.address2&&(o+=5,e.setFont(`helvetica`,`italic`),e.text(i?.address2,a,o,{align:`center`}));let n=d===`landscape`?20:12;if(i?.logo)try{e.addImage(i.logo,`PNG`,n,12,24,24)}catch{}if(i?.logo2)try{e.addImage(i.logo2,`PNG`,t-n-24,12,24,24)}catch{}o+=6,e.setLineWidth(.5),e.line(10,o,t-10,o),e.setLineWidth(.1),o+=10}else o=25;e.setFont(`helvetica`,`bold`),e.setFontSize(12),e.text(`LAPORAN RIWAYAT & KRONOLOGI POIN`,a,o,{align:`center`}),e.line(a-e.getTextWidth(`LAPORAN RIWAYAT & KRONOLOGI POIN`)/2,o+1,a+e.getTextWidth(`LAPORAN RIWAYAT & KRONOLOGI POIN`)/2,o+1),o+=8;let s=(t-28-35-32)/2,c={0:{cellWidth:35,fontStyle:`bold`},1:{cellWidth:s},2:{cellWidth:32,fontStyle:`bold`},3:{cellWidth:`auto`}};if(A$(e,{startY:o,body:[[`Nama Siswa`,`: ${n.name}`,`Kelas`,`: ${n.class}`],[`NISN`,`: ${n.nisn||`-`}`,`Jenis Kelamin`,`: ${n.gender===`L`?`Laki-laki`:`Perempuan`}`],[`Orang Tua / Wali`,`: ${n.parentName||n.parent||`-`}`,`Wali Kelas`,`: ${n.homeroomTeacher||`-`}`],[`Semester/T.A`,`: ${i?.semester||`Ganjil`} / ${i?.academicYear||``}`,`Guru Wali`,`: ${n.guardianTeacher||`-`}`]],theme:`plain`,styles:{font:`helvetica`,fontSize:9,cellPadding:1.5},columnStyles:c,margin:{left:14,right:14}}),o=e.lastAutoTable.finalY+5,A$(e,{startY:o,head:[[`Poin Pelanggaran`,`Poin Prestasi`,`Akumulasi Poin Akhir`]],body:[[n.violationTotal,n.achievementTotal,n.netScore]],theme:`grid`,headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:`bold`,halign:`center`,valign:`middle`,lineWidth:.1,lineColor:[0,0,0],font:`helvetica`,cellPadding:2},bodyStyles:{font:`helvetica`,fontSize:10,halign:`center`,valign:`middle`,lineWidth:.1,lineColor:[0,0,0],fontStyle:`bold`,cellPadding:2},didParseCell:function(e){e.section===`body`&&(e.column.index===0&&(e.cell.styles.textColor=[220,38,38]),e.column.index===1&&(e.cell.styles.textColor=[22,163,74]),e.column.index===2&&(e.cell.styles.textColor=[37,99,235]))},margin:{left:14,right:14}}),S&&n.netScore>0){o=e.lastAutoTable.finalY+10,e.setFontSize(10),e.setFont(`helvetica`,`bold`),e.text(`A. STATUS SANKSI SAAT INI`,14,o-3);let t=d===`landscape`?{0:{cellWidth:40},1:{cellWidth:`auto`},2:{cellWidth:`auto`}}:{0:{cellWidth:30},1:{cellWidth:`auto`,halign:`left`},2:{cellWidth:`auto`,halign:`left`}};A$(e,{startY:o,head:[[`Range Poin`,`Tindak Lanjut`,`Sanksi`]],body:[[`${S.min} - ${S.max}`,S.action||`-`,S.penalty||`-`]],theme:`grid`,headStyles:{fillColor:[254,242,242],textColor:[185,28,28],fontStyle:`bold`,halign:`center`,valign:`middle`,lineWidth:.1,lineColor:[0,0,0],font:`helvetica`,cellPadding:2},bodyStyles:{font:`helvetica`,fontSize:10,halign:`center`,valign:`middle`,lineWidth:.1,lineColor:[0,0,0],cellPadding:2},columnStyles:t,margin:{left:14,right:14}})}o=e.lastAutoTable.finalY+10,e.setFontSize(10),e.setFont(`helvetica`,`bold`),e.text(`B. KRONOLOGI PERUBAHAN POIN`,14,o-3);let u=x.map((e,t)=>{let n=e.type===`violation`,r=n?`PELANGGARAN`:`PRESTASI`;return[t+1,cS(e.date),`${r}\n${e.description}`,(n?`+`:`-`)+e.value,e.balanceSnapshot,e.sanctionSnapshot]});A$(e,{startY:o,head:[[`No`,`Tanggal`,`Keterangan / Uraian`,`Perubahan`,`Saldo`,`Status Sanksi`]],body:u,theme:`grid`,headStyles:{fillColor:[255,247,237],textColor:[0,0,0],fontStyle:`bold`,halign:`center`,valign:`middle`,font:`helvetica`,fontSize:9,lineWidth:.1,lineColor:[0,0,0],cellPadding:2},styles:{font:`helvetica`,fontSize:9,cellPadding:1.5,valign:`top`,lineWidth:.1,lineColor:[0,0,0]},columnStyles:d===`portrait`?{0:{cellWidth:12,halign:`center`},1:{cellWidth:30,halign:`center`},2:{cellWidth:`auto`},3:{cellWidth:25,halign:`center`,fontStyle:`bold`},4:{cellWidth:20,halign:`center`,fontStyle:`bold`},5:{cellWidth:40,halign:`center`,fontSize:9}}:{0:{cellWidth:15,halign:`center`},1:{cellWidth:35,halign:`center`},2:{cellWidth:`auto`},3:{cellWidth:30,halign:`center`,fontStyle:`bold`},4:{cellWidth:30,halign:`center`,fontStyle:`bold`},5:{cellWidth:60,halign:`center`,fontSize:9}},didParseCell:function(e){e.section===`body`&&e.column.index===3&&(e.cell.styles.textColor=x[e.row.index].type===`violation`?[220,38,38]:[22,163,74]),e.section===`body`&&e.column.index===4&&(e.cell.styles.textColor=[37,99,235])},margin:{left:14,right:14}});let f=e.lastAutoTable.finalY+15;f>r-60&&(e.addPage(),f=20);let m=new Date().toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`}),g=i?.city||`Tempat`;e.setFontSize(11),e.setFont(`helvetica`,`normal`);let v=t-50,y=t/2,b=(t,n,r,i,a)=>{a&&e.text(`${g}, ${m}`,i,f,{align:`center`}),e.text(t,i,f+5,{align:`center`}),e.setFont(`helvetica`,`bold`),e.text(n,i,f+30,{align:`center`});let o=e.getTextWidth(n);e.setLineWidth(.3),e.line(i-o/2-2,f+31,i+o/2+2,f+31),e.setFont(`helvetica`,`normal`),r&&r!==`-`&&e.text(`NIP. ${r}`,i,f+36,{align:`center`})},C={title:`Wali Kelas`,name:n.homeroomTeacher||`(................)`,nip:_||`-`},w={title:`Guru BK / Konselor`,name:i?.counselor||`(................)`,nip:i?.nipCounselor},T={title:`Waka Kesiswaan`,name:i?.viceStudent||`(................)`,nip:i?.nipViceStudent},E={title:`Kepala Sekolah`,name:i?.headmaster||`(................)`,nip:i?.nipHeadmaster},D=null,O=null,k=null,A=null,j=null;return h.homeroom&&h.counselor?(D=C,O=w):h.homeroom?O=C:h.counselor&&(O=w),h.vicePrincipal&&h.principal?(k=T,A=E):h.principal?D&&O?j=E:(O&&(D=O),O=E):h.vicePrincipal&&(D&&O?j=T:(O&&(D=O),O=T)),D&&b(D.title,D.name,D.nip,50,!1),O&&b(O.title,O.name,O.nip,v,!0),(k||A||j)&&(f+=45,k||A?(e.text(`Mengetahui,`,y,f-5,{align:`center`}),k&&b(k.title,k.name,k.nip,50,!1),A&&b(A.title,A.name,A.nip,v,!1)):j&&(e.text(`Mengetahui,`,y,f-5,{align:`center`}),b(j.title,j.name,j.nip,y,!1))),e},w=()=>{try{let e=C();c(URL.createObjectURL(e.output(`blob`)))}catch(e){alert(`Gagal preview: ${e.message}`)}},T=()=>{try{C().save(`Kronologi_Poin_${n.name.replace(/\s+/g,`_`)}.pdf`)}catch(e){alert(`Gagal download: ${e.message}`)}},E=e=>g(t=>({...t,[e]:!t[e]}));return(0,q.jsxs)(`div`,{className:`fixed inset-0 z-[100] bg-white animate-in slide-in-from-bottom-5 duration-300 flex flex-col`,children:[(0,q.jsxs)(`div`,{className:`bg-white border-b border-slate-200 px-6 py-4 flex flex-col md:flex-row justify-between items-center shadow-sm sticky top-0 z-20 gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h3`,{className:`font-bold text-xl text-slate-800 flex items-center gap-3`,children:[s?(0,q.jsx)(Xb,{size:24,className:`text-red-600`}):(0,q.jsx)(rx,{size:24,className:`text-blue-600`}),s?`Pratinjau Dokumen PDF`:`Riwayat & Kronologi Poin`]}),(0,q.jsxs)(`p`,{className:`text-sm text-slate-500 mt-1`,children:[(0,q.jsx)(`span`,{className:`font-bold text-slate-700`,children:n.name}),`  `,n.class,`  Saldo: `,(0,q.jsx)(`span`,{className:`font-bold text-blue-600`,children:n.netScore})]})]}),!s&&(0,q.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[h.homeroom&&(0,q.jsxs)(`div`,{className:`flex items-center gap-2 bg-yellow-50 px-3 py-1.5 rounded border border-yellow-200`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-yellow-700`,children:`NIP Wali:`}),(0,q.jsx)(`input`,{type:`text`,value:_,onChange:e=>v(e.target.value),placeholder:`Masukkan NIP...`,className:`text-xs border border-yellow-300 rounded px-2 py-1 w-32 focus:outline-none focus:ring-1 focus:ring-yellow-500`}),(0,q.jsx)(`button`,{onClick:b,className:`p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700`,title:`Simpan NIP`,children:(0,q.jsx)(Dx,{size:12})})]}),(0,q.jsxs)(`div`,{className:`flex flex-wrap gap-2 bg-slate-50 p-2 rounded-lg border border-slate-200 items-center`,children:[(0,q.jsxs)(`div`,{className:`flex bg-white rounded border border-slate-200 p-1 gap-1`,children:[(0,q.jsx)(`button`,{onClick:()=>m(`a4`),className:`px-2 py-1 text-xs font-bold rounded ${p===`a4`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Kertas A4`,children:`A4`}),(0,q.jsx)(`button`,{onClick:()=>m(`f4`),className:`px-2 py-1 text-xs font-bold rounded ${p===`f4`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Kertas F4`,children:`F4`})]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`div`,{className:`flex bg-white rounded border border-slate-200 p-1 gap-1`,children:[(0,q.jsx)(`button`,{onClick:()=>f(`portrait`),className:`p-1 rounded flex items-center gap-1 ${d===`portrait`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Portrait`,children:(0,q.jsx)(Tx,{size:14})}),(0,q.jsx)(`button`,{onClick:()=>f(`landscape`),className:`p-1 rounded flex items-center gap-1 ${d===`landscape`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Landscape`,children:(0,q.jsx)(wx,{size:14})})]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer text-xs font-bold text-slate-700 select-none bg-white px-2 py-1 rounded border border-slate-200 shadow-sm hover:border-blue-400 transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:l,onChange:()=>u(!l),className:`rounded text-blue-600 focus:ring-blue-500`}),` `,(0,q.jsx)(Jb,{size:14}),` Kop`]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:h.homeroom,onChange:()=>E(`homeroom`),className:`rounded text-blue-600 focus:ring-blue-500`}),` Wali`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:h.counselor,onChange:()=>E(`counselor`),className:`rounded text-blue-600 focus:ring-blue-500`}),` BK`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:h.vicePrincipal,onChange:()=>E(`vicePrincipal`),className:`rounded text-blue-600 focus:ring-blue-500`}),` Waka`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:h.principal,onChange:()=>E(`principal`),className:`rounded text-blue-600 focus:ring-blue-500`}),` Kepsek`]})]})]}),(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[s?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`button`,{onClick:()=>c(null),className:`flex items-center gap-2 px-4 py-2 text-sm font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors`,children:[(0,q.jsx)(jb,{size:18}),` Kembali`]}),(0,q.jsxs)(`button`,{onClick:T,className:`flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-md hover:shadow-lg active:scale-95`,children:[(0,q.jsx)(Ub,{size:18}),` Download File`]})]}):(0,q.jsxs)(`button`,{onClick:w,className:`flex items-center gap-2 px-4 py-2 text-sm font-bold text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors`,children:[(0,q.jsx)(Cx,{size:18}),` Cetak Laporan`]}),(0,q.jsx)(`div`,{className:`h-8 w-px bg-slate-200 mx-2 hidden md:block`}),(0,q.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded-full transition-colors`,children:(0,q.jsx)(Gx,{size:28})})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-hidden bg-slate-50 relative`,children:s?(0,q.jsx)(`iframe`,{src:s,className:`w-full h-full border-none bg-slate-200`,title:`PDF Preview`}):(0,q.jsxs)(`div`,{className:`h-full overflow-y-auto max-w-6xl mx-auto p-6 md:p-8`,children:[(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-4 gap-6 mb-8`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center text-center`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider mb-2`,children:`Total Pelanggaran`}),(0,q.jsxs)(`span`,{className:`text-3xl font-black text-red-600`,children:[`+`,n.violationTotal]})]}),(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center text-center`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider mb-2`,children:`Total Prestasi`}),(0,q.jsxs)(`span`,{className:`text-3xl font-black text-green-600`,children:[`-`,n.achievementTotal]})]}),(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-blue-100 bg-blue-50/50 shadow-sm flex flex-col items-center text-center relative overflow-hidden`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-blue-500 uppercase tracking-wider mb-2`,children:`Saldo Poin Akhir`}),(0,q.jsx)(`span`,{className:`text-4xl font-black text-blue-700`,children:n.netScore})]}),(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-orange-100 bg-orange-50/50 shadow-sm flex flex-col items-center text-center`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-orange-500 uppercase tracking-wider mb-2`,children:`Status Sanksi`}),(0,q.jsx)(`span`,{className:`text-sm font-bold text-orange-700 mt-2`,children:S?S.penalty||S.action:`Normal`})]})]}),(0,q.jsxs)(`div`,{className:`bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`px-6 py-4 bg-slate-50 border-b border-slate-200 flex justify-between items-center`,children:[(0,q.jsxs)(`h4`,{className:`font-bold text-slate-700 flex items-center gap-2`,children:[(0,q.jsx)(zb,{size:18,className:`text-blue-600`}),` Kronologi Perubahan Poin`]}),(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-500 bg-slate-200 px-2 py-1 rounded`,children:[x.length,` Catatan (Terlama  Terbaru)`]})]}),(0,q.jsxs)(`table`,{className:`w-full text-left text-sm`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-100 text-slate-600 font-bold uppercase text-xs border-b border-slate-200`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`px-6 py-3 w-16 text-center`,children:`No`}),(0,q.jsx)(`th`,{className:`px-6 py-3 w-32`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Keterangan`}),(0,q.jsx)(`th`,{className:`px-6 py-3 text-center`,children:`Perubahan`}),(0,q.jsx)(`th`,{className:`px-6 py-3 text-center`,children:`Saldo`}),(0,q.jsx)(`th`,{className:`px-6 py-3 w-48`,children:`Status Sanksi`})]})}),(0,q.jsx)(`tbody`,{className:`divide-y divide-slate-100`,children:x.length>0?x.map((e,t)=>{let n=e.type===`violation`;return(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors`,children:[(0,q.jsx)(`td`,{className:`px-6 py-4 text-center text-slate-500`,children:t+1}),(0,q.jsxs)(`td`,{className:`px-6 py-4 font-medium`,children:[cS(e.date),(0,q.jsx)(`div`,{className:`text-[10px] text-slate-400 mt-0.5`,children:e.createdAt?new Date(e.createdAt).toLocaleTimeString(`id-ID`,{hour:`2-digit`,minute:`2-digit`}):``})]}),(0,q.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,q.jsx)(`div`,{className:`text-[10px] font-bold uppercase mb-1 ${n?`text-red-600`:`text-green-600`}`,children:n?`Pelanggaran`:`Prestasi`}),(0,q.jsx)(`div`,{className:`text-slate-700`,children:e.description})]}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-center`,children:(0,q.jsxs)(`span`,{className:`font-bold px-2 py-1 rounded text-xs ${n?`bg-red-50 text-red-600`:`bg-green-50 text-green-600`}`,children:[n?`+`:`-`,e.value]})}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-center`,children:(0,q.jsx)(`span`,{className:`font-bold text-blue-600 text-base`,children:e.balanceSnapshot})}),(0,q.jsx)(`td`,{className:`px-6 py-4`,children:e.sanctionSnapshot===`-`?(0,q.jsx)(`span`,{className:`text-slate-400 italic text-xs`,children:`-`}):(0,q.jsxs)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 bg-orange-50 text-orange-700 border border-orange-100 rounded text-xs font-bold`,children:[(0,q.jsx)(_x,{size:12}),` `,e.sanctionSnapshot]})})]},e.id)}):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`6`,className:`p-8 text-center text-slate-400 italic`,children:`Belum ada data riwayat poin.`})})})]})]})]})})]})},P$=({students:e,pointLogs:t,masterPoints:n,sanctionRules:r,settings:i,onAddPoint:a,onUpdatePoint:o,onDeletePoint:s,onUpdateStudent:c})=>{let[l,u]=(0,y.useState)(`violation`),[d,f]=(0,y.useState)(``),[p,m]=(0,y.useState)(null),[h,g]=(0,y.useState)(!1),[_,v]=(0,y.useState)(null),[b,x]=(0,y.useState)(!1),[S,C]=(0,y.useState)(1);(0,y.useEffect)(()=>{C(1)},[d,l]);let w=(0,y.useMemo)(()=>e.map(e=>{let n=t.filter(t=>t.studentId===e.id),i=n.filter(e=>e.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0),a=n.filter(e=>e.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0),o=i-a,s=(r||[]).sort((e,t)=>t.max-e.max).find(e=>o>=e.min&&o<=e.max);return{...e,violationTotal:i,achievementTotal:a,netScore:o,activeSanction:s}}),[e,t,r]),T=(0,y.useMemo)(()=>w.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.class.toLowerCase().includes(d.toLowerCase())).sort((e,t)=>e.name.localeCompare(t.name)),[w,d]),E=(0,y.useMemo)(()=>{let e=(S-1)*10;return T.slice(e,e+10)},[T,S]),D=Math.ceil(T.length/10),O=e=>{m(e),g(!0)},k=e=>{v(e),x(!0)};return(0,q.jsxs)(`div`,{className:`flex flex-col h-full bg-slate-50 relative animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`bg-white px-4 pt-4 pb-0 shadow-sm border-b sticky top-0 z-10`,children:[(0,q.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,q.jsx)(`h1`,{className:`text-xl font-bold text-slate-800`,children:`Catatan Poin`}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-lg`,children:[`Total Siswa: `,T.length]})]}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsxs)(`button`,{onClick:()=>u(`violation`),className:`flex-1 py-3 text-sm font-bold border-b-4 transition-all flex items-center justify-center gap-2 ${l===`violation`?`border-red-500 text-red-600 bg-red-50/50`:`border-transparent text-slate-400 hover:text-slate-600`}`,children:[(0,q.jsx)(Lx,{size:18}),` Catat Poin Pelanggaran`]}),(0,q.jsxs)(`button`,{onClick:()=>u(`achievement`),className:`flex-1 py-3 text-sm font-bold border-b-4 transition-all flex items-center justify-center gap-2 ${l===`achievement`?`border-green-500 text-green-600 bg-green-50/50`:`border-transparent text-slate-400 hover:text-slate-600`}`,children:[(0,q.jsx)(Rx,{size:18}),` Catat Poin Prestasi`]})]})]}),(0,q.jsx)(`div`,{className:`p-4 bg-white border-b border-slate-100 sticky top-[108px] z-10`,children:(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-3 text-slate-400`,size:18}),(0,q.jsx)(`input`,{type:`text`,placeholder:l===`violation`?`Cari Siswa untuk Pelanggaran...`:`Cari Siswa Berprestasi...`,className:`w-full pl-10 pr-4 py-2.5 border rounded-xl outline-none focus:ring-2 transition-all ${l===`violation`?`focus:ring-red-200 border-red-100`:`focus:ring-green-200 border-green-100`}`,value:d,onChange:e=>f(e.target.value)})]})}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 pb-24`,children:(0,q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden`,children:[(0,q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,q.jsxs)(`table`,{className:`w-full text-left border-collapse`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-50 border-b border-slate-200`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider w-12 text-center`,children:`No`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider`,children:`Nama & Kelas`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center w-24`,children:`Poin`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right w-40`,children:`Aksi`})]})}),(0,q.jsx)(`tbody`,{className:`divide-y divide-slate-100`,children:E.length>0?E.map((e,t)=>(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors group`,children:[(0,q.jsx)(`td`,{className:`p-4 text-center text-sm text-slate-500 font-medium`,children:(S-1)*10+t+1}),(0,q.jsxs)(`td`,{className:`p-4`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-800`,children:e.name}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 font-medium mt-0.5`,children:[(0,q.jsx)(`span`,{className:`bg-slate-100 px-1.5 py-0.5 rounded text-slate-600 mr-1.5`,children:e.class}),` - `,e.nisn||`NISN: -`]})]}),(0,q.jsx)(`td`,{className:`p-4 text-center`,children:(0,q.jsx)(`button`,{onClick:()=>k(e),className:`inline-flex items-center justify-center min-w-[40px] h-8 px-2 rounded-lg font-black text-sm shadow-sm transition-transform active:scale-95 hover:scale-110 cursor-pointer border border-transparent hover:border-slate-300 hover:shadow-md ${e.netScore>=50?`bg-red-100 text-red-700`:e.netScore>=20?`bg-orange-100 text-orange-700`:e.netScore>0?`bg-yellow-100 text-yellow-700`:`bg-green-100 text-green-700`}`,title:`Lihat Riwayat Lengkap`,children:e.netScore})}),(0,q.jsx)(`td`,{className:`p-4 text-right`,children:(0,q.jsxs)(`button`,{onClick:()=>O(e),className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-xs font-bold text-white shadow-sm transition-transform active:scale-95 ml-auto w-full md:w-auto ${l===`violation`?`bg-red-600 hover:bg-red-700`:`bg-green-600 hover:bg-green-700`}`,children:[l===`violation`?(0,q.jsx)(_x,{size:14}):(0,q.jsx)(Rx,{size:14}),(0,q.jsx)(`span`,{className:`whitespace-nowrap`,children:l===`violation`?`Catat Pelanggaran`:`Catat Prestasi`})]})})]},e.id)):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`4`,className:`p-12 text-center text-slate-400`,children:(0,q.jsx)(`p`,{className:`font-medium`,children:`Siswa tidak ditemukan.`})})})})]})}),T.length>0&&(0,q.jsxs)(`div`,{className:`bg-slate-50 border-t border-slate-200 p-4 flex flex-col md:flex-row justify-between items-center gap-4`,children:[(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 font-medium hidden md:block`,children:[`Menampilkan `,(S-1)*10+1,` - `,Math.min(S*10,T.length),` dari `,T.length,` siswa`]}),(0,q.jsxs)(`div`,{className:`flex gap-2 w-full md:w-auto justify-center md:justify-end`,children:[(0,q.jsx)(`button`,{onClick:()=>C(e=>Math.max(1,e-1)),disabled:S===1,className:`p-2 border border-slate-200 bg-white rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed text-slate-600`,children:(0,q.jsx)(jb,{size:16})}),(0,q.jsxs)(`span`,{className:`flex items-center text-xs font-bold bg-slate-50 px-3 rounded-lg md:hidden`,children:[`Hal `,S,` / `,D]}),(0,q.jsx)(`div`,{className:`hidden md:flex items-center gap-1`,children:Array.from({length:Math.min(5,D)},(e,t)=>{let n=t+1;return D>5&&S>3&&(n=S-3+t),n>D?null:(0,q.jsx)(`button`,{onClick:()=>C(n),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${S===n?`bg-blue-600 text-white shadow-sm`:`bg-white border border-slate-200 text-slate-600 hover:bg-slate-50`}`,children:n},n)})}),(0,q.jsx)(`button`,{onClick:()=>C(e=>Math.min(D,e+1)),disabled:S===D,className:`p-2 border border-slate-200 bg-white rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed text-slate-600`,children:(0,q.jsx)(Mb,{size:16})})]})]})]})}),(0,q.jsx)(eU,{isOpen:h,onClose:()=>g(!1),student:p,activeTab:l,setActiveTab:u,masterPoints:n,pointLogs:t,onSubmit:a,onUpdate:o,onDelete:s}),(0,q.jsx)(N$,{isOpen:b,onClose:()=>x(!1),student:_,pointLogs:t,settings:i,sanctionRules:r,onUpdateStudent:(e,t)=>{c&&c(e,t)}})]})},F$=({masterPoints:e,onSavePoints:t,sanctionRules:n,onSaveSanctions:r})=>{let[i,a]=(0,y.useState)(`points`),[o,s]=(0,y.useState)(`violation`),c=(0,y.useRef)(null),[l,u]=(0,y.useState)([]),[d,f]=(0,y.useState)(null),[p,m]=(0,y.useState)(!1),[h,g]=(0,y.useState)(e||[]),[_,v]=(0,y.useState)(n||[]),[b,x]=(0,y.useState)({code:``,label:``,point:5}),[S,C]=(0,y.useState)({min:0,max:0,action:``,penalty:``});(0,y.useEffect)(()=>{u([]),f(null),m(!1)},[i,o]);let w=h.filter(e=>e.type===o),T=()=>i===`sanctions`?`Aturan Sanksi`:o===`violation`?`Poin Pelanggaran`:`Poin Prestasi`,E=e=>{e.target.checked?u(i===`points`?w.map(e=>e.id):_.map(e=>e.id)):u([])},D=e=>{l.includes(e)?u(l.filter(t=>t!==e)):u([...l,e])},O=()=>{if(confirm(`Yakin ingin menghapus ${l.length} data terpilih dari ${T()}?`)){if(i===`points`){let e=h.filter(e=>!l.includes(e.id));g(e),t(e)}else{let e=_.filter(e=>!l.includes(e.id));v(e),r(e)}u([])}},k=()=>{if(!b.code||!b.label)return alert(`Kode dan Nama wajib diisi`);let e={...b,id:Date.now().toString(),type:o},n=[...h,e];g(n),x({code:``,label:``,point:5}),t(n)},A=e=>{if(confirm(`Hapus item ini?`)){let n=h.filter(t=>t.id!==e);g(n),t(n)}},j=()=>{if(!S.action)return alert(`Tindak lanjut wajib diisi`);let e=[..._,{...S,id:Date.now().toString()}];e.sort((e,t)=>e.min-t.min),v(e),C({min:0,max:0,action:``,penalty:``}),r(e)},M=e=>{if(confirm(`Hapus aturan sanksi ini?`)){let t=_.filter(t=>t.id!==e);v(t),r(t)}},N=e=>{f(e),m(!0)},P=()=>{if(i===`points`){let e=h.map(e=>e.id===d.id?d:e);g(e),t(e)}else{let e=_.map(e=>e.id===d.id?d:e);e.sort((e,t)=>e.min-t.min),v(e),r(e)}m(!1),f(null)},F=()=>{let e=[],t=``;i===`points`?o===`violation`?(t=`Template_Poin_Pelanggaran.xlsx`,e=[{code:`A01`,label:`Terlambat Masuk Sekolah`,point:5},{code:`A02`,label:`Tidak Memakai Dasi`,point:10},{code:`B01`,label:`Membolos Jam Pelajaran`,point:20}]):(t=`Template_Poin_Prestasi.xlsx`,e=[{code:`PR01`,label:`Juara 1 Tingkat Kelas`,point:10},{code:`PR02`,label:`Juara Lomba Tingkat Kota`,point:25},{code:`PR03`,label:`Menjadi Petugas Upacara`,point:5}]):(t=`Template_Aturan_Sanksi.xlsx`,e=[{min:10,max:25,action:`Panggilan Wali Kelas`,penalty:`Teguran Lisan`},{min:26,max:50,action:`Panggilan Orang Tua 1`,penalty:`Skorsing 3 Hari`}]);let n=TH.json_to_sheet(e),r=TH.book_new();TH.book_append_sheet(r,n,`Template`),aH(r,t)},I=e=>{let n=e.target.files[0];if(!n)return;let a=new FileReader;a.onload=e=>{let n=e.target.result,a=YV(n,{type:`binary`}),s=a.SheetNames[0],c=a.Sheets[s],l=TH.sheet_to_json(c);if(i===`points`){let e=l.map((e,t)=>({id:`import-${Date.now()}-${t}`,code:e.code?String(e.code):`UKN-${t}`,label:e.label||`Tanpa Keterangan`,point:parseInt(e.point)||0,type:o})),n=[...h,...e];g(n),t(n),alert(`Berhasil mengimpor ${e.length} data ke dalam daftar ${o===`violation`?`PELANGGARAN`:`PRESTASI`}!`)}else{let e=l.map((e,t)=>({id:`import-${Date.now()}-${t}`,min:parseInt(e.min)||0,max:parseInt(e.max)||0,action:e.action||`Tindak Lanjut Standar`,penalty:e.penalty||``})),t=[..._,...e].sort((e,t)=>e.min-t.min);v(t),r(t),alert(`Berhasil mengimpor ${e.length} aturan sanksi!`)}},a.readAsBinaryString(n),e.target.value=null};return(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 mb-8`,children:[(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center mb-4 border-b pb-4 gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h2`,{className:`text-lg font-bold text-slate-800`,children:`Master Data & Aturan`}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Kelola poin pelanggaran dan aturan sanksi otomatis.`})]}),(0,q.jsxs)(`div`,{className:`flex gap-2 bg-slate-100 p-1 rounded-lg`,children:[(0,q.jsxs)(`button`,{onClick:()=>a(`points`),className:`px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 transition-all ${i===`points`?`bg-white shadow text-blue-700`:`text-slate-500 hover:text-slate-700`}`,children:[(0,q.jsx)(dx,{size:16}),` Master Poin`]}),(0,q.jsxs)(`button`,{onClick:()=>a(`sanctions`),className:`px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 transition-all ${i===`sanctions`?`bg-white shadow text-red-700`:`text-slate-500 hover:text-slate-700`}`,children:[(0,q.jsx)($b,{size:16}),` Aturan Sanksi`]})]})]}),i===`points`&&(0,q.jsxs)(`div`,{className:`animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`flex gap-4 mb-4 border-b border-slate-200`,children:[(0,q.jsxs)(`button`,{onClick:()=>s(`violation`),className:`pb-2 px-2 text-sm font-bold flex items-center gap-2 border-b-2 transition-colors ${o===`violation`?`border-red-500 text-red-600`:`border-transparent text-slate-400 hover:text-slate-600`}`,children:[(0,q.jsx)(Lx,{size:16}),` Data Pelanggaran`]}),(0,q.jsxs)(`button`,{onClick:()=>s(`achievement`),className:`pb-2 px-2 text-sm font-bold flex items-center gap-2 border-b-2 transition-colors ${o===`achievement`?`border-green-500 text-green-600`:`border-transparent text-slate-400 hover:text-slate-600`}`,children:[(0,q.jsx)(Rx,{size:16}),` Data Prestasi`]})]}),(0,q.jsxs)(`div`,{className:`flex flex-wrap gap-3 mb-6 bg-slate-50 p-3 rounded-lg items-center border border-slate-100`,children:[l.length>0?(0,q.jsxs)(`div`,{className:`flex items-center gap-2 mr-auto animate-in fade-in`,children:[(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-700 bg-white px-2 py-1 rounded border border-slate-300`,children:[l.length,` Dipilih`]}),(0,q.jsxs)(`button`,{onClick:O,className:`bg-red-600 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-red-700`,children:[(0,q.jsx)(Fx,{size:14}),` Hapus`]})]}):(0,q.jsxs)(`p`,{className:`text-xs font-bold text-slate-500 mr-auto uppercase tracking-wide`,children:[`Menu `,o===`violation`?`Pelanggaran`:`Prestasi`,`:`]}),(0,q.jsxs)(`button`,{onClick:F,className:`bg-white border border-slate-300 text-slate-600 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-slate-50`,children:[(0,q.jsx)(Ub,{size:14}),` Template `,o===`violation`?`Pelanggaran`:`Prestasi`]}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`input`,{type:`file`,accept:`.xlsx, .xls`,onChange:I,className:`hidden`,ref:c}),(0,q.jsxs)(`button`,{onClick:()=>c.current.click(),className:`bg-green-600 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-green-700`,children:[(0,q.jsx)(Zb,{size:14}),` Import `,o===`violation`?`Pelanggaran`:`Prestasi`]})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-4 gap-3 mb-6 p-4 rounded-lg border ${o===`violation`?`bg-red-50 border-red-100`:`bg-green-50 border-green-100`}`,children:[(0,q.jsx)(`div`,{className:`md:col-span-4 mb-1`,children:(0,q.jsxs)(`h4`,{className:`text-xs font-bold uppercase ${o===`violation`?`text-red-600`:`text-green-600`}`,children:[`+ Tambah `,o===`violation`?`Pelanggaran`:`Prestasi`,` Manual`]})}),(0,q.jsx)(`input`,{placeholder:`Kode (Cth: A01)`,className:`p-2 border rounded text-sm uppercase bg-white`,value:b.code,onChange:e=>x({...b,code:e.target.value.toUpperCase()})}),(0,q.jsx)(`input`,{placeholder:`Keterangan / Nama`,className:`p-2 border rounded text-sm md:col-span-2 bg-white`,value:b.label,onChange:e=>x({...b,label:e.target.value})}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsx)(`input`,{type:`number`,placeholder:`Poin`,className:`p-2 border rounded text-sm w-20 bg-white`,value:b.point,onChange:e=>x({...b,point:parseInt(e.target.value)})}),(0,q.jsxs)(`button`,{onClick:k,className:`flex-1 text-white rounded hover:opacity-90 flex items-center justify-center ${o===`violation`?`bg-red-600`:`bg-green-600`}`,children:[(0,q.jsx)(xx,{size:18}),` Tambah`]})]})]}),(0,q.jsx)(`div`,{className:`overflow-x-auto max-h-[500px] overflow-y-auto border rounded-lg`,children:(0,q.jsxs)(`table`,{className:`w-full text-sm text-left`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-100 text-slate-600 font-bold uppercase text-xs sticky top-0 shadow-sm z-10`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`p-3 w-10 text-center`,children:(0,q.jsx)(`input`,{type:`checkbox`,onChange:E,checked:w.length>0&&l.length===w.length})}),(0,q.jsx)(`th`,{className:`p-3`,children:`Kode`}),(0,q.jsx)(`th`,{className:`p-3`,children:`Keterangan`}),(0,q.jsx)(`th`,{className:`p-3 text-center`,children:`Poin`}),(0,q.jsx)(`th`,{className:`p-3 text-center w-24`,children:`Aksi`})]})}),(0,q.jsxs)(`tbody`,{className:`divide-y divide-slate-100 bg-white`,children:[w.map(e=>(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors ${l.includes(e.id)?`bg-blue-50`:``}`,children:[(0,q.jsx)(`td`,{className:`p-3 text-center`,children:(0,q.jsx)(`input`,{type:`checkbox`,checked:l.includes(e.id),onChange:()=>D(e.id)})}),(0,q.jsx)(`td`,{className:`p-3 font-mono font-bold text-slate-700`,children:e.code}),(0,q.jsx)(`td`,{className:`p-3`,children:e.label}),(0,q.jsx)(`td`,{className:`p-3 text-center font-bold ${o===`violation`?`text-red-600`:`text-green-600`}`,children:e.point}),(0,q.jsxs)(`td`,{className:`p-3 flex justify-center gap-2`,children:[(0,q.jsx)(`button`,{onClick:()=>N(e),className:`text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-100`,children:(0,q.jsx)(Nx,{size:16})}),(0,q.jsx)(`button`,{onClick:()=>A(e.id),className:`text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-100`,children:(0,q.jsx)(Fx,{size:16})})]})]},e.id)),w.length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsxs)(`td`,{colSpan:`5`,className:`p-8 text-center text-slate-400 italic`,children:[`Tidak ada data `,o===`violation`?`pelanggaran`:`prestasi`,`.`,(0,q.jsx)(`br`,{}),`Gunakan form di atas atau import excel.`]})})]})]})})]}),i===`sanctions`&&(0,q.jsxs)(`div`,{className:`animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`flex flex-wrap gap-3 mb-6 bg-slate-50 p-3 rounded-lg items-center border border-slate-100`,children:[l.length>0?(0,q.jsxs)(`div`,{className:`flex items-center gap-2 mr-auto animate-in fade-in`,children:[(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-700 bg-white px-2 py-1 rounded border border-slate-300`,children:[l.length,` Dipilih`]}),(0,q.jsxs)(`button`,{onClick:O,className:`bg-red-600 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-red-700`,children:[(0,q.jsx)(Fx,{size:14}),` Hapus`]})]}):(0,q.jsx)(`p`,{className:`text-xs font-bold text-slate-500 mr-auto uppercase tracking-wide`,children:`Menu Aturan Sanksi:`}),(0,q.jsxs)(`button`,{onClick:F,className:`bg-white border border-slate-300 text-slate-600 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-slate-50`,children:[(0,q.jsx)(Ub,{size:14}),` Template Sanksi`]}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(`input`,{type:`file`,accept:`.xlsx, .xls`,onChange:I,className:`hidden`,ref:c}),(0,q.jsxs)(`button`,{onClick:()=>c.current.click(),className:`bg-green-600 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-green-700`,children:[(0,q.jsx)(Zb,{size:14}),` Import Sanksi`]})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-6 gap-3 mb-6 bg-slate-50 p-4 rounded-lg border border-slate-200`,children:[(0,q.jsxs)(`div`,{className:`md:col-span-1`,children:[(0,q.jsx)(`label`,{className:`text-[10px] font-bold uppercase text-slate-500`,children:`Min`}),(0,q.jsx)(`input`,{type:`number`,className:`p-2 border rounded text-sm w-full`,value:S.min,onChange:e=>C({...S,min:parseInt(e.target.value)})})]}),(0,q.jsxs)(`div`,{className:`md:col-span-1`,children:[(0,q.jsx)(`label`,{className:`text-[10px] font-bold uppercase text-slate-500`,children:`Max`}),(0,q.jsx)(`input`,{type:`number`,className:`p-2 border rounded text-sm w-full`,value:S.max,onChange:e=>C({...S,max:parseInt(e.target.value)})})]}),(0,q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,q.jsx)(`label`,{className:`text-[10px] font-bold uppercase text-slate-500`,children:`Tindak Lanjut`}),(0,q.jsx)(`input`,{placeholder:`Aksi Guru...`,className:`p-2 border rounded text-sm w-full`,value:S.action,onChange:e=>C({...S,action:e.target.value})})]}),(0,q.jsxs)(`div`,{className:`md:col-span-2 flex gap-2 items-end`,children:[(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsx)(`label`,{className:`text-[10px] font-bold uppercase text-slate-500`,children:`Sanksi`}),(0,q.jsx)(`input`,{placeholder:`Hukuman Siswa...`,className:`p-2 border rounded text-sm w-full`,value:S.penalty,onChange:e=>C({...S,penalty:e.target.value})})]}),(0,q.jsx)(`button`,{onClick:j,className:`bg-green-500 text-white rounded hover:bg-green-600 px-3 py-2 h-[38px]`,children:(0,q.jsx)(xx,{size:18})})]})]}),(0,q.jsx)(`div`,{className:`overflow-x-auto border rounded-lg`,children:(0,q.jsxs)(`table`,{className:`w-full text-sm text-left`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-100 text-slate-600 font-bold uppercase text-xs`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`p-3 w-10 text-center`,children:(0,q.jsx)(`input`,{type:`checkbox`,onChange:E,checked:_.length>0&&l.length===_.length})}),(0,q.jsx)(`th`,{className:`p-3 w-32`,children:`Range Poin`}),(0,q.jsx)(`th`,{className:`p-3`,children:`Tindak Lanjut (Untuk Guru)`}),(0,q.jsx)(`th`,{className:`p-3`,children:`Sanksi (Untuk Siswa)`}),(0,q.jsx)(`th`,{className:`p-3 text-center w-24`,children:`Aksi`})]})}),(0,q.jsxs)(`tbody`,{className:`divide-y divide-slate-100 bg-white`,children:[_.map(e=>(0,q.jsxs)(`tr`,{className:`hover:bg-blue-50 transition-colors ${l.includes(e.id)?`bg-blue-50`:``}`,children:[(0,q.jsx)(`td`,{className:`p-3 text-center`,children:(0,q.jsx)(`input`,{type:`checkbox`,checked:l.includes(e.id),onChange:()=>D(e.id)})}),(0,q.jsxs)(`td`,{className:`p-3 font-bold text-red-600`,children:[e.min,` - `,e.max,` Poin`]}),(0,q.jsx)(`td`,{className:`p-3`,children:e.action}),(0,q.jsx)(`td`,{className:`p-3 italic text-slate-500`,children:e.penalty||`-`}),(0,q.jsxs)(`td`,{className:`p-3 flex justify-center gap-2`,children:[(0,q.jsx)(`button`,{onClick:()=>N(e),className:`text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-100`,children:(0,q.jsx)(Nx,{size:16})}),(0,q.jsx)(`button`,{onClick:()=>M(e.id),className:`text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-100`,children:(0,q.jsx)(Fx,{size:16})})]})]},e.id)),_.length===0&&(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`5`,className:`p-8 text-center text-slate-400 italic`,children:`Belum ada aturan sanksi.`})})]})]})})]}),p&&d&&(0,q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,q.jsxs)(`div`,{className:`bg-white rounded-xl p-6 w-full max-w-md shadow-2xl animate-in zoom-in-95`,children:[(0,q.jsxs)(`h3`,{className:`text-lg font-bold mb-4 flex items-center gap-2`,children:[(0,q.jsx)(Nx,{size:20,className:`text-blue-600`}),` Edit `,i===`points`?d.type===`violation`?`Pelanggaran`:`Prestasi`:`Aturan Sanksi`]}),(0,q.jsx)(`div`,{className:`space-y-3`,children:i===`points`?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Kode`}),(0,q.jsx)(`input`,{className:`w-full p-2 border rounded`,value:d.code,onChange:e=>f({...d,code:e.target.value})})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Keterangan`}),(0,q.jsx)(`input`,{className:`w-full p-2 border rounded`,value:d.label,onChange:e=>f({...d,label:e.target.value})})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Poin`}),(0,q.jsx)(`input`,{type:`number`,className:`w-full p-2 border rounded`,value:d.point,onChange:e=>f({...d,point:parseInt(e.target.value)})})]})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Min`}),(0,q.jsx)(`input`,{type:`number`,className:`w-full p-2 border rounded`,value:d.min,onChange:e=>f({...d,min:parseInt(e.target.value)})})]}),(0,q.jsxs)(`div`,{className:`flex-1`,children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Max`}),(0,q.jsx)(`input`,{type:`number`,className:`w-full p-2 border rounded`,value:d.max,onChange:e=>f({...d,max:parseInt(e.target.value)})})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Tindak Lanjut`}),(0,q.jsx)(`input`,{className:`w-full p-2 border rounded`,value:d.action,onChange:e=>f({...d,action:e.target.value})})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`text-xs font-bold text-slate-500`,children:`Sanksi`}),(0,q.jsx)(`input`,{className:`w-full p-2 border rounded`,value:d.penalty,onChange:e=>f({...d,penalty:e.target.value})})]})]})}),(0,q.jsxs)(`div`,{className:`flex justify-end gap-2 mt-6`,children:[(0,q.jsx)(`button`,{onClick:()=>m(!1),className:`px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg`,children:`Batal`}),(0,q.jsx)(`button`,{onClick:P,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Simpan Perubahan`})]})]})})]})},I$=h(),L$=({isOpen:e,onClose:t,title:n,children:r})=>e?(0,I$.createPortal)((0,q.jsxs)(`div`,{className:`fixed inset-0 z-[9999] bg-slate-900/95 flex flex-col animate-in fade-in duration-200 backdrop-blur-sm print:bg-white print:static`,children:[(0,q.jsx)(`style`,{children:`
                @media print {
                    @page { size: auto; margin: 10mm; }
                    #root, .app-container, header, aside, nav { display: none !important; }
                    html, body { height: auto !important; overflow: visible !important; background-color: white !important; margin: 0 !important; }
                    .print-portal-root { display: block !important; position: absolute !important; top: 0 !important; left: 0 !important; width: 100% !important; height: auto !important; z-index: 9999 !important; background-color: white !important; }
                    .print-paper-content { box-shadow: none !important; border: none !important; margin: 0 !important; padding: 0 !important; width: 100% !important; max-width: none !important; }
                    .print-header-actions { display: none !important; }
                    table { width: 100% !important; border-collapse: collapse !important; }
                    tr { page-break-inside: avoid; }
                    td, th { border: 1px solid black !important; padding: 4px; color: black !important; }
                    .signature-section { page-break-inside: avoid; }
                }
            `}),(0,q.jsxs)(`div`,{className:`bg-slate-800 text-white px-4 py-3 shadow-md flex justify-between items-center flex-shrink-0 border-b border-slate-700 print-header-actions`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h2`,{className:`text-lg font-bold flex items-center gap-2 text-white`,children:[(0,q.jsx)(Cx,{size:20,className:`text-blue-400`}),` Pratinjau: `,n]}),(0,q.jsx)(`p`,{className:`text-[10px] text-slate-400 hidden sm:block`,children:`Gunakan kertas A4/F4. Anda dapat mengatur ukuran kertas di dialog cetak browser.`})]}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsx)(`button`,{onClick:t,className:`px-4 py-2 rounded-lg text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-700 transition-colors`,children:`Tutup`}),(0,q.jsxs)(`button`,{onClick:()=>window.print(),className:`bg-blue-600 hover:bg-blue-500 text-white px-5 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg hover:shadow-blue-500/20 transition-all active:scale-95`,children:[(0,q.jsx)(Cx,{size:16}),` Cetak / PDF`]})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-8 flex justify-center bg-slate-900/50 print:bg-white print:p-0 print:overflow-visible print-portal-root`,children:(0,q.jsx)(`div`,{className:`print-paper-content bg-white text-slate-900 shadow-2xl w-full max-w-[215mm] min-h-[297mm] p-10 md:p-12 origin-top h-fit mx-auto`,children:r})})]}),document.body):null,R$=({students:e,pointLogs:t,journals:n,settings:r,sanctionRules:i})=>{let[a,o]=(0,y.useState)(``),[s,c]=(0,y.useState)(!1),[l,u]=(0,y.useState)(``),[d,f]=(0,y.useState)(!1),p=(0,y.useRef)(null),[m,h]=(0,y.useState)(!1),[g,_]=(0,y.useState)(!0),[v,b]=(0,y.useState)(`mask`);(0,y.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&f(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let x=(0,y.useMemo)(()=>l?e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.nisn?.includes(l)||e.class?.toLowerCase().includes(l.toLowerCase())).sort((e,t)=>e.name.localeCompare(t.name)):e,[e,l]),S=(0,y.useMemo)(()=>e.find(e=>e.id===a),[e,a]),C=(0,y.useMemo)(()=>{if(!S)return null;let e=t.filter(e=>e.studentId===S.id).sort((e,t)=>new Date(t.date)-new Date(e.date)),n=e.filter(e=>e.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0),r=e.filter(e=>e.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0),a=n-r;return{logs:e,violationTotal:n,achievementTotal:r,netScoreRaw:a,activeSanction:(i||[]).sort((e,t)=>t.max-e.max).find(e=>a>=e.min&&a<=e.max)}},[S,t,i]),w=(0,y.useMemo)(()=>{if(!S)return[];let e=n.filter(e=>e.studentId===S.id||e.studentIds&&e.studentIds.includes(S.id)).sort((e,t)=>t.date.localeCompare(e.date));return v===`hide`&&(e=e.filter(e=>!(e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`)))),e},[S,n,v]),T=e=>{o(e.id),u(e.name),f(!1)};return(0,q.jsxs)(`div`,{className:`flex flex-col h-full bg-slate-50 relative`,children:[(0,q.jsxs)(`div`,{className:`bg-white border-b px-6 py-4 flex flex-col md:flex-row justify-between items-center gap-4 sticky top-0 z-10 shadow-sm`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Cb,{className:`text-blue-600`}),` Buku Poin Siswa`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Lihat dan cetak rekam jejak karakter siswa.`})]}),(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-3 w-full md:w-auto items-center`,children:[(0,q.jsxs)(`div`,{className:`relative w-full md:w-80`,ref:p,children:[(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:18}),(0,q.jsx)(`input`,{type:`text`,className:`w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none`,placeholder:`Ketik nama siswa...`,value:l,onChange:e=>{u(e.target.value),f(!0),e.target.value===``&&o(``)},onFocus:()=>f(!0)}),a?(0,q.jsx)(`button`,{onClick:()=>{o(``),u(``),f(!0)},className:`absolute right-3 top-2.5 text-slate-400 hover:text-red-500`,children:(0,q.jsx)(Gx,{size:16})}):(0,q.jsx)(Ab,{className:`absolute right-3 top-2.5 text-slate-400`,size:16})]}),d&&(0,q.jsx)(`div`,{className:`absolute top-full left-0 right-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-xl max-h-60 overflow-y-auto z-50 animate-in fade-in zoom-in-95`,children:x.length>0?x.map(e=>(0,q.jsxs)(`div`,{onClick:()=>T(e),className:`px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-slate-50 last:border-0`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-800 text-sm`,children:e.name}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 flex justify-between mt-0.5`,children:[(0,q.jsxs)(`span`,{children:[`Kelas: `,e.class]}),(0,q.jsxs)(`span`,{children:[`NISN: `,e.nisn||`-`]})]})]},e.id)):(0,q.jsx)(`div`,{className:`p-4 text-center text-slate-400 text-sm italic`,children:`Siswa tidak ditemukan.`})})]}),(0,q.jsxs)(`div`,{className:`flex gap-2 w-full md:w-auto`,children:[(0,q.jsxs)(`button`,{disabled:!a,onClick:()=>{if(!S||!C)return;let{violationTotal:e,achievementTotal:t,netScoreRaw:n,activeSanction:a,logs:o}=C,s=Math.abs(n),c=e>t,l=c?`red`:t>e?`green`:`black`,u=o.filter(e=>e.type===`violation`),d=o.filter(e=>e.type===`achievement`),f=``;if(m){let e=[...o].sort((e,t)=>new Date(e.date)-new Date(t.date)),t=0;f=`
                <h4 style="margin-bottom: 5px; color: #854d0e; text-transform: uppercase;">RIWAYAT PERUBAHAN POIN & SANKSI</h4>
                <table style="border-collapse: collapse; width: 100%; margin-bottom: 20px; font-size: 11px;">
                    <thead>
                        <tr>
                            <th style="border: 1px solid black; padding: 5px; background-color: #fef3c7;">No</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #fef3c7;">Tanggal</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #fef3c7;">Keterangan</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #fef3c7;">Ubah</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #fef3c7;">Total</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #fef3c7;">Status Sanksi</th>
                        </tr>
                    </thead>
                    <tbody>${e.map((e,n)=>{let r=parseInt(e.value||0),a=e.type===`violation`;a?t+=r:t-=r,t<0&&(t=0);let o=(i||[]).find(e=>t>=parseInt(e.min)&&t<=parseInt(e.max)),s=o?o.penalty:`-`;return`
                    <tr>
                        <td style="border: 1px solid black; padding: 5px; text-align: center;">${n+1}</td>
                        <td style="border: 1px solid black; padding: 5px; text-align: center;">${cS(e.date)}</td>
                        <td style="border: 1px solid black; padding: 5px;">
                            <b>${a?`Pelanggaran`:`Prestasi`}</b><br/>${e.description}
                        </td>
                        <td style="border: 1px solid black; padding: 5px; text-align: center; color: ${a?`red`:`green`}; font-weight: bold;">
                            ${a?`+`:`-`}${r}
                        </td>
                        <td style="border: 1px solid black; padding: 5px; text-align: center; font-weight: bold;">${t}</td>
                        <td style="border: 1px solid black; padding: 5px; background-color: #f9f9f9;">${s}</td>
                    </tr>
                `}).join(``)||`<tr><td colspan="6" style="text-align:center;">Belum ada data.</td></tr>`}</tbody>
                </table>
            `}let p=``;if(g){let e=w.map((e,t)=>{let n=(e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`))&&v===`mask`,r=n?`--- Privasi (Disamarkan) ---`:e.description,i=n?`font-style: italic; color: #666;`:``;return`
                    <tr>
                        <td style="border: 1px solid black; padding: 5px; text-align: center;">${t+1}</td>
                        <td style="border: 1px solid black; padding: 5px; text-align: center;">${cS(e.date)}</td>
                        <td style="border: 1px solid black; padding: 5px; vertical-align: top;">
                            <div style="font-weight: bold; text-decoration: underline; margin-bottom: 4px;">
                                ${e.serviceType}
                            </div>
                            <div style="font-size: 11px;">
                                <b>Bidang:</b> ${e.skkpd||`-`}<br/>
                                <b>Kategori:</b> ${e.category||`-`}<br/>
                                <b>Teknik:</b> ${e.technique||`-`}
                            </div>
                        </td>
                        <td style="border: 1px solid black; padding: 5px; vertical-align: top; ${i}">
                            ${r}
                        </td>
                        <td style="border: 1px solid black; padding: 5px; vertical-align: top;">${e.followUp}</td>
                    </tr>
                `}).join(``),t=``;v===`mask`&&(t=`<p style="font-size: 10px; font-style: italic; margin-top:0;">*Topik yang bersifat privasi disamarkan pada dokumen ini.</p>`),v===`hide`&&(t=`<p style="font-size: 10px; font-style: italic; margin-top:0;">*Layanan yang bersifat privasi tidak ditampilkan pada dokumen ini.</p>`),p=`
                <h4 style="margin-bottom: 5px; color: #1e40af;">C. RIWAYAT LAYANAN BK</h4>
                ${t}
                <table style="border-collapse: collapse; width: 100%; margin-bottom: 20px; font-size: 12px;">
                    <thead>
                        <tr>
                            <th style="border: 1px solid black; padding: 5px; background-color: #f2f2f2; text-align: center; font-weight: bold; width: 30px;">No</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #f2f2f2; text-align: center; font-weight: bold; width: 80px;">Tanggal</th>
                            <th style="border: 1px solid black; padding: 5px; background-color: #f2f2f2; text-align: center; font-weight: bold; width: 180px;">Jenis & Detail Layanan</th> 
                            <th style="border: 1px solid black; padding: 5px; background-color: #f2f2f2; text-align: center; font-weight: bold;">Topik / Masalah</th> 
                            <th style="border: 1px solid black; padding: 5px; background-color: #f2f2f2; text-align: center; font-weight: bold; width: 100px;">Tindak Lanjut</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${e||`<tr><td colspan="5" style="border: 1px solid black; padding: 5px; text-align: center; font-style: italic;">Belum ada riwayat layanan.</td></tr>`}
                    </tbody>
                </table>
            `}let h=`border-collapse: collapse; width: 100%; margin-bottom: 20px; font-size: 12px;`,_=`border: 1px solid black; padding: 5px; background-color: #f2f2f2; text-align: center; font-weight: bold;`,y=`border: 1px solid black; padding: 5px;`,b=`text-align: center;`,x=`margin: 0; text-transform: uppercase; font-size: 14pt; font-weight: bold; white-space: nowrap;`,T=`
            <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
            <head><meta charset='utf-8'><title>Buku Poin ${S.name}</title></head>
            <body style="font-family: Arial, sans-serif; font-size: 12px;">
                
                <div style="text-align: center; margin-bottom: 20px; border-bottom: 3px double black; padding-bottom: 10px;">
                    <h3 style="${x}">${r?.government||``}</h3>
                    <h3 style="${x}">${r?.department||``}</h3>
                    <h1 style="${x} font-size: 14pt; font-weight: 800;">${r?.name||`NAMA SEKOLAH`}</h1>
                    <p style="margin:0; font-style: italic; font-size: 10pt;">${r?.address||``}</p>
                    <p style="margin:0; font-style: italic; font-size: 10pt;">${r?.address2||``}</p>
                </div>

                <h3 style="text-align: center; text-decoration: underline; text-transform: uppercase; margin-bottom: 20px;">
                    BUKU CATATAN POIN & PERILAKU SISWA
                </h3>

                <table style="width: 100%; margin-bottom: 20px; font-weight: bold;">
                    <tr><td style="border:none; width: 120px;">Nama Siswa</td><td style="border:none;">: ${S.name}</td><td style="border:none; width: 80px;">Kelas</td><td style="border:none;">: ${S.class}</td></tr>
                    <tr><td style="border:none;">NISN</td><td style="border:none;">: ${S.nisn||`-`}</td><td style="border:none;">Jns Kelamin</td><td style="border:none;">: ${S.gender===`L`?`Laki-laki`:`Perempuan`}</td></tr>
                    <tr><td style="border:none;">Wali Kelas</td><td style="border:none;">: ${S.homeroomTeacher||`-`}</td><td style="border:none;">Guru Wali</td><td style="border:none;">: ${S.guardianTeacher||`-`}</td></tr>
                    <tr><td style="border:none;">Thn Ajaran</td><td style="border:none;" colspan="3">: ${r?.academicYear||`-`} / ${r?.semester||`-`}</td></tr>
                </table>

                <table style="${h}">
                    <thead>
                        <tr><th style="${_}">Poin Pelanggaran</th><th style="${_}">Poin Prestasi</th><th style="${_}">Selisih Poin</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="${y} ${b} color: red; font-weight: bold;">${e}</td>
                            <td style="${y} ${b} color: green; font-weight: bold;">${t}</td>
                            <td style="${y} ${b} color: ${l}; font-weight: bold;">${s}</td>
                        </tr>
                    </tbody>
                </table>

                ${c&&a?`
                    <h4 style="margin-bottom: 5px; color: #b91c1c;">TINDAK LANJUT & SANKSI</h4>
                    <table style="${h}">
                        <thead>
                            <tr><th style="${_}">Range Poin</th><th style="${_}">Tindak Lanjut</th><th style="${_}">Sanksi</th></tr>
                        </thead>
                        <tbody>
                            <tr style="background-color: #fff9c4;">
                                <td style="${y} ${b} color: red; font-weight: bold;">${a.min} - ${a.max}</td>
                                <td style="${y}">${a.action}</td>
                                <td style="${y}">${a.penalty}</td>
                            </tr>
                        </tbody>
                    </table>
                `:``}

                ${f}

                <h4 style="margin-bottom: 5px; color: #b91c1c;">A. CATATAN PELANGGARAN</h4>
                <table style="${h}">
                    <thead>
                        <tr><th style="${_} width: 30px;">No</th><th style="${_} width: 100px;">Tanggal</th><th style="${_}">Uraian Pelanggaran</th><th style="${_} width: 60px;">Poin</th></tr>
                    </thead>
                    <tbody>
                        ${u.length>0?u.map((e,t)=>`
                            <tr>
                                <td style="${y} ${b}">${t+1}</td>
                                <td style="${y} ${b}">${cS(e.date)}</td>
                                <td style="${y}">${e.description}</td>
                                <td style="${y} ${b} color: red; font-weight: bold;">${e.value}</td>
                            </tr>
                        `).join(``):`<tr><td colspan="4" style="${y} ${b} font-style: italic;">Tidak ada catatan pelanggaran.</td></tr>`}
                    </tbody>
                </table>

                <h4 style="margin-bottom: 5px; color: #15803d;">B. CATATAN PRESTASI</h4>
                <table style="${h}">
                    <thead>
                        <tr><th style="${_} width: 30px;">No</th><th style="${_} width: 100px;">Tanggal</th><th style="${_}">Uraian Prestasi</th><th style="${_} width: 60px;">Poin</th></tr>
                    </thead>
                    <tbody>
                        ${d.length>0?d.map((e,t)=>`
                            <tr>
                                <td style="${y} ${b}">${t+1}</td>
                                <td style="${y} ${b}">${cS(e.date)}</td>
                                <td style="${y}">${e.description}</td>
                                <td style="${y} ${b} color: green; font-weight: bold;">${e.value}</td>
                            </tr>
                        `).join(``):`<tr><td colspan="4" style="${y} ${b} font-style: italic;">Tidak ada catatan prestasi.</td></tr>`}
                    </tbody>
                </table>

                ${p}

                <br/><br/>
                <table style="width: 100%; border: none;">
                    <tr>
                        <td style="border: none; text-align: center; width: 50%;">
                            <p>Mengetahui,<br/>Orang Tua / Wali</p>
                            <br/><br/><br/>
                            <p style="text-decoration: underline; font-weight: bold;">( ${S.parent?S.parent:`....................................`} )</p>
                        </td>
                        <td style="border: none; text-align: center; width: 50%;">
                            <p>${r?.city||`...`}, ${new Date().toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`})}<br/>Guru BK / Konselor</p>
                            <br/><br/><br/>
                            <p style="text-decoration: underline; font-weight: bold;">${r?.counselor||`......................`}</p>
                            <p>NIP. {settings?.nipCounselor || '......................'}</p>
                        </td>
                    </tr>
                </table>

            </body>
            </html>
        `,E=new Blob([``,T],{type:`application/msword`}),D=URL.createObjectURL(E),O=document.createElement(`a`);O.href=D,O.download=`Buku_Poin_${S.name.replace(/\s+/g,`_`)}.doc`,document.body.appendChild(O),O.click(),document.body.removeChild(O)},className:`bg-green-600 hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white px-4 py-2.5 rounded-lg font-bold flex items-center justify-center gap-2 shadow-sm transition-all flex-1 md:flex-none`,title:`Download Format Word`,children:[(0,q.jsx)(Xb,{size:18}),` Doc`]}),(0,q.jsxs)(`button`,{disabled:!a,onClick:()=>c(!0),className:`bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white px-4 py-2.5 rounded-lg font-bold flex items-center justify-center gap-2 shadow-sm transition-all flex-1 md:flex-none`,children:[(0,q.jsx)(Cx,{size:18}),` Cetak`]})]})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-8`,children:S&&C?(0,q.jsxs)(`div`,{className:`max-w-4xl mx-auto space-y-6 animate-in slide-in-from-bottom-4 duration-500`,children:[(0,q.jsxs)(`div`,{className:`bg-yellow-50 border border-yellow-200 p-4 rounded-xl flex flex-col md:flex-row justify-between gap-4`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`bg-yellow-100 p-2 rounded-full text-yellow-700`,children:(0,q.jsx)(jx,{size:20})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h4`,{className:`font-bold text-slate-800 text-sm`,children:`Opsi Dokumen & Privasi`}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Sesuaikan kelengkapan data sebelum mencetak.`})]})]}),(0,q.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,q.jsxs)(`div`,{className:`flex flex-wrap gap-4`,children:[(0,q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer select-none bg-white px-3 py-1.5 rounded-lg border border-yellow-100 shadow-sm`,children:[(0,q.jsx)(`input`,{type:`checkbox`,className:`w-4 h-4 accent-orange-600 rounded`,checked:m,onChange:e=>h(e.target.checked)}),(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-700 flex items-center gap-1`,children:[(0,q.jsx)(ux,{size:14}),` Sertakan Riwayat Sanksi`]})]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer select-none bg-white px-3 py-1.5 rounded-lg border border-yellow-100 shadow-sm`,children:[(0,q.jsx)(`input`,{type:`checkbox`,className:`w-4 h-4 accent-blue-600 rounded`,checked:g,onChange:e=>_(e.target.checked)}),(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-700 flex items-center gap-1`,children:[(0,q.jsx)(Xb,{size:14}),` Sertakan Riwayat BK`]})]})]}),g&&(0,q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 pl-2 border-l-2 border-slate-300 animate-in fade-in slide-in-from-top-1`,children:[(0,q.jsx)(`span`,{className:`text-[10px] font-bold text-slate-500 uppercase self-center mr-2`,children:`Mode Privasi BK:`}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1.5 cursor-pointer select-none px-2 py-1 rounded border transition-all ${v===`show`?`bg-blue-100 border-blue-300`:`bg-white border-slate-200`}`,children:[(0,q.jsx)(`input`,{type:`radio`,name:`cp_mode_main`,className:`w-3 h-3 accent-blue-600`,checked:v===`show`,onChange:()=>b(`show`)}),(0,q.jsxs)(`div`,{className:`text-[11px] font-bold flex gap-1 items-center`,children:[(0,q.jsx)(Kb,{size:12}),` Tampilkan`]})]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1.5 cursor-pointer select-none px-2 py-1 rounded border transition-all ${v===`mask`?`bg-blue-100 border-blue-300`:`bg-white border-slate-200`}`,children:[(0,q.jsx)(`input`,{type:`radio`,name:`cp_mode_main`,className:`w-3 h-3 accent-blue-600`,checked:v===`mask`,onChange:()=>b(`mask`)}),(0,q.jsxs)(`div`,{className:`text-[11px] font-bold flex gap-1 items-center`,children:[(0,q.jsx)(Gb,{size:12}),` Samarkan`]})]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1.5 cursor-pointer select-none px-2 py-1 rounded border transition-all ${v===`hide`?`bg-blue-100 border-blue-300`:`bg-white border-slate-200`}`,children:[(0,q.jsx)(`input`,{type:`radio`,name:`cp_mode_main`,className:`w-3 h-3 accent-blue-600`,checked:v===`hide`,onChange:()=>b(`hide`)}),(0,q.jsxs)(`div`,{className:`text-[11px] font-bold flex gap-1 items-center`,children:[(0,q.jsx)(Fx,{size:12}),` Sembunyikan Baris`]})]})]})]})]}),(0,q.jsx)(`div`,{className:`bg-white border border-slate-200 shadow-lg rounded-xl overflow-hidden min-h-[600px]`,children:(0,q.jsx)(z$,{student:S,pointData:C,counselingHistory:w,settings:r,counselingPrivacy:v,showSanctionHistory:m,showCounselingHistory:g,sanctionRules:i})})]}):(0,q.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center text-slate-400 opacity-60`,children:[(0,q.jsx)(Cb,{size:64,className:`mb-4 text-slate-300`}),(0,q.jsx)(`p`,{className:`text-lg font-medium`,children:`Cari dan pilih siswa untuk membuka buku poin`})]})}),(0,q.jsx)(L$,{isOpen:s,onClose:()=>c(!1),title:`Buku Poin - ${S?.name||`Siswa`}`,children:S&&(0,q.jsx)(z$,{student:S,pointData:C,counselingHistory:w,settings:r,counselingPrivacy:v,showSanctionHistory:m,showCounselingHistory:g,sanctionRules:i,isPrintVersion:!0})})]})},z$=({student:e,pointData:t,counselingHistory:n,settings:r,counselingPrivacy:i,showSanctionHistory:a,showCounselingHistory:o,sanctionRules:s,isPrintVersion:c=!1})=>{let{violationTotal:l,achievementTotal:u,netScoreRaw:d,activeSanction:f,logs:p}=t,m=p.filter(e=>e.type===`violation`),h=p.filter(e=>e.type===`achievement`),g=l>u,_=u>l,v=Math.abs(d),b=g?`text-red-600`:_?`text-green-600`:`text-slate-800`,x=(0,y.useMemo)(()=>{if(!a)return[];let e=[...p].sort((e,t)=>new Date(e.date)-new Date(t.date)),t=0;return e.map(e=>{let n=parseInt(e.value||0),r=e.type===`violation`;r?t+=n:t-=n,t<0&&(t=0);let i=(s||[]).find(e=>t>=parseInt(e.min)&&t<=parseInt(e.max));return{...e,isViolation:r,pointVal:n,currentBalance:t,status:i?i.penalty:`-`}})},[p,a,s]);return(0,q.jsxs)(`div`,{className:`text-slate-900 ${c?`text-sm`:`p-8`}`,children:[(0,q.jsxs)(`div`,{className:`flex items-center justify-between border-b-4 border-double border-black pb-4 mb-6`,children:[(0,q.jsx)(`div`,{className:`w-20 h-20 flex-shrink-0 flex items-center justify-center`,children:r?.logo&&(0,q.jsx)(`img`,{src:r.logo,className:`h-full object-contain`,alt:`Logo`})}),(0,q.jsxs)(`div`,{className:`flex-1 text-center px-4 min-w-0`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-black text-lg md:text-xl uppercase tracking-wide whitespace-nowrap leading-tight`,children:r?.government||``}),(0,q.jsx)(`h3`,{className:`font-bold text-black text-lg md:text-xl uppercase tracking-wide whitespace-nowrap leading-tight`,children:r?.department||``}),(0,q.jsx)(`h1`,{className:`font-extrabold text-black text-lg md:text-xl uppercase whitespace-nowrap leading-tight my-1`,children:r?.name||`NAMA SEKOLAH`}),(0,q.jsxs)(`div`,{className:`text-xs text-black font-serif italic leading-tight mt-1`,children:[(0,q.jsx)(`p`,{children:r?.address||`Alamat Sekolah...`}),r?.address2&&(0,q.jsx)(`p`,{children:r.address2})]})]}),(0,q.jsx)(`div`,{className:`w-20 h-20 flex-shrink-0 flex items-center justify-center`,children:r?.logo2&&(0,q.jsx)(`img`,{src:r.logo2,className:`h-full object-contain`,alt:`Logo`})})]}),(0,q.jsx)(`div`,{className:`text-center mb-8`,children:(0,q.jsx)(`h2`,{className:`text-lg font-bold underline uppercase tracking-wide`,children:`BUKU CATATAN POIN & PERILAKU SISWA`})}),(0,q.jsx)(`table`,{className:`w-full mb-6 text-sm font-bold`,children:(0,q.jsxs)(`tbody`,{children:[(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`w-32 py-1`,children:`Nama Siswa`}),(0,q.jsxs)(`td`,{children:[`: `,e.name]}),(0,q.jsx)(`td`,{className:`w-32`,children:`Kelas`}),(0,q.jsxs)(`td`,{children:[`: `,e.class]})]}),(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`py-1`,children:`NISN`}),(0,q.jsxs)(`td`,{children:[`: `,e.nisn||`-`]}),(0,q.jsx)(`td`,{children:`Jenis Kelamin`}),(0,q.jsxs)(`td`,{children:[`: `,e.gender===`L`?`Laki-laki`:`Perempuan`]})]}),(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`py-1`,children:`Wali Kelas`}),(0,q.jsxs)(`td`,{children:[`: `,e.homeroomTeacher||`-`]}),(0,q.jsx)(`td`,{children:`Guru Wali`}),(0,q.jsxs)(`td`,{children:[`: `,e.guardianTeacher||`-`]})]}),(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`py-1`,children:`Thn Ajaran / Sem`}),(0,q.jsxs)(`td`,{colSpan:`3`,children:[`: `,r?.academicYear||`-`,` / `,r?.semester||`-`]})]})]})}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black mb-6 text-center text-sm`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-gray-100`,children:[(0,q.jsx)(`th`,{className:`border border-black p-2 w-1/3`,children:`Poin Pelanggaran`}),(0,q.jsx)(`th`,{className:`border border-black p-2 w-1/3`,children:`Poin Prestasi`}),(0,q.jsx)(`th`,{className:`border border-black p-2 w-1/3`,children:`Selisih Poin`})]})}),(0,q.jsx)(`tbody`,{children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-2 font-bold text-red-600`,children:l}),(0,q.jsx)(`td`,{className:`border border-black p-2 font-bold text-green-600`,children:u}),(0,q.jsx)(`td`,{className:`border border-black p-2 font-bold ${b}`,children:v})]})})]}),g&&f&&(0,q.jsxs)(`div`,{className:`mb-8`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-sm uppercase mb-2 text-red-700`,children:`Tindak Lanjut & Sanksi Saat Ini`}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-gray-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-24`,children:`Range Poin`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5`,children:`Tindak Lanjut (Guru/Sekolah)`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5`,children:`Sanksi (Siswa)`})]})}),(0,q.jsx)(`tbody`,{children:(0,q.jsxs)(`tr`,{className:`bg-yellow-50 font-bold`,children:[(0,q.jsxs)(`td`,{className:`border border-black p-2 text-center text-red-600`,children:[f.min,` - `,f.max]}),(0,q.jsx)(`td`,{className:`border border-black p-2`,children:f.action}),(0,q.jsx)(`td`,{className:`border border-black p-2`,children:f.penalty})]})})]})]}),a&&(0,q.jsxs)(`div`,{className:`mb-8 animate-in fade-in slide-in-from-top-2`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-sm uppercase border-b border-black pb-1 mb-2 flex items-center gap-2 text-amber-700`,children:[(0,q.jsx)(ux,{size:16}),` Riwayat Perubahan Poin & Status Sanksi`]}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-amber-50 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-24`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5`,children:`Keterangan`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-16`,children:`Ubah`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-16`,children:`Total`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-1/3`,children:`Status Sanksi`})]})}),(0,q.jsx)(`tbody`,{children:x.length>0?x.map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:cS(e.date)}),(0,q.jsxs)(`td`,{className:`border border-black p-1.5`,children:[(0,q.jsx)(`div`,{className:`font-bold text-[10px] uppercase text-slate-500`,children:e.isViolation?`Pelanggaran`:`Prestasi`}),e.description]}),(0,q.jsxs)(`td`,{className:`border border-black p-1.5 text-center font-bold ${e.isViolation?`text-red-600`:`text-green-600`}`,children:[e.isViolation?`+`:`-`,e.pointVal]}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center font-bold bg-slate-50`,children:e.currentBalance}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center text-[10px]`,children:e.status})]},t)):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`6`,className:`border border-black p-4 text-center italic`,children:`Belum ada riwayat perubahan poin.`})})})]})]}),(0,q.jsxs)(`div`,{className:`mb-6`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-sm uppercase border-b border-black pb-1 mb-2 flex items-center gap-2 text-red-700`,children:[(0,q.jsx)(Lx,{size:16}),` A. Catatan Pelanggaran`]}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-slate-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-24`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5`,children:`Uraian Pelanggaran`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-16`,children:`Poin`})]})}),(0,q.jsx)(`tbody`,{children:m.length>0?m.map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:cS(e.date)}),(0,q.jsx)(`td`,{className:`border border-black p-1.5`,children:e.description}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center font-bold text-red-600`,children:e.value})]},e.id)):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`4`,className:`border border-black p-4 text-center italic`,children:`Tidak ada catatan pelanggaran.`})})})]})]}),(0,q.jsxs)(`div`,{className:`mb-6`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-sm uppercase border-b border-black pb-1 mb-2 flex items-center gap-2 text-green-700`,children:[(0,q.jsx)(Rx,{size:16}),` B. Catatan Prestasi`]}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-slate-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-24`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5`,children:`Uraian Prestasi`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-16`,children:`Poin`})]})}),(0,q.jsx)(`tbody`,{children:h.length>0?h.map((e,t)=>(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:cS(e.date)}),(0,q.jsx)(`td`,{className:`border border-black p-1.5`,children:e.description}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center font-bold text-green-600`,children:e.value})]},e.id)):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`4`,className:`border border-black p-4 text-center italic`,children:`Tidak ada catatan prestasi.`})})})]})]}),o&&(0,q.jsxs)(`div`,{className:`mb-8`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-sm uppercase border-b border-black pb-1 mb-2 flex items-center gap-2 text-blue-800`,children:[(0,q.jsx)(Xb,{size:16}),` C. Riwayat Layanan Bimbingan Konseling`]}),i===`mask`&&(0,q.jsx)(`p`,{className:`text-[10px] italic mb-2 text-slate-500`,children:`*Topik yang bersifat privasi disamarkan pada dokumen ini.`}),i===`hide`&&(0,q.jsx)(`p`,{className:`text-[10px] italic mb-2 text-slate-500`,children:`*Layanan yang bersifat privasi tidak ditampilkan pada dokumen ini.`}),(0,q.jsxs)(`table`,{className:`w-full border-collapse border border-black text-xs`,children:[(0,q.jsx)(`thead`,{children:(0,q.jsxs)(`tr`,{className:`bg-slate-100 text-center`,children:[(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-8`,children:`No`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-24`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-48`,children:`Jenis & Detail Layanan`}),` `,(0,q.jsx)(`th`,{className:`border border-black p-1.5`,children:`Topik / Masalah`}),` `,(0,q.jsx)(`th`,{className:`border border-black p-1.5 w-32`,children:`Tindak Lanjut`})]})}),(0,q.jsx)(`tbody`,{children:n.length>0?n.map((e,t)=>{let n=e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`),r=n&&i===`mask`;return(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:t+1}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-center`,children:cS(e.date)}),(0,q.jsxs)(`td`,{className:`border border-black p-1.5 text-left align-top`,children:[(0,q.jsxs)(`div`,{className:`font-bold underline mb-1 flex items-center gap-1`,children:[e.serviceType,n&&(0,q.jsx)(fx,{size:10,className:`text-red-500`})]}),(0,q.jsxs)(`div`,{className:`text-[10px] space-y-1`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`span`,{className:`font-bold`,children:`Bidang:`}),` `,e.skkpd||`-`]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`span`,{className:`font-bold`,children:`Kategori:`}),` `,e.category||`-`]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`span`,{className:`font-bold`,children:`Teknik:`}),` `,e.technique||`-`]})]})]}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 text-left align-top`,children:(0,q.jsx)(`div`,{className:`text-sm ${r?`italic text-gray-400`:``}`,children:r?`--- Privasi (Disamarkan) ---`:e.description})}),(0,q.jsx)(`td`,{className:`border border-black p-1.5 align-top`,children:e.followUp})]},e.id)}):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`5`,className:`border border-black p-4 text-center italic`,children:i===`hide`&&n.length===0?`Belum ada riwayat layanan publik (data privasi disembunyikan).`:`Belum ada riwayat layanan.`})})})]})]}),(0,q.jsxs)(`div`,{className:`grid grid-cols-2 gap-10 mt-12 text-center text-sm font-serif signature-section break-inside-avoid`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`p`,{children:`Mengetahui,`}),(0,q.jsx)(`p`,{children:`Orang Tua / Wali`}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsxs)(`p`,{className:`font-bold underline`,children:[`( `,e.parent?e.parent:`....................................`,` )`]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`p`,{children:[r?.city||`...`,`, `,new Date().toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`})]}),(0,q.jsx)(`p`,{children:`Guru BK / Konselor`}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`br`,{}),(0,q.jsx)(`p`,{className:`font-bold underline`,children:r?.counselor||`......................`}),(0,q.jsxs)(`p`,{children:[`NIP. `,r?.nipCounselor||`......................`]})]})]})]})},B$=R$,V$=({isOpen:e,onClose:t,student:n})=>{let[r,i]=(0,y.useState)(450),a=(0,y.useRef)(!1),o=(0,y.useCallback)(e=>{a.current=!0,document.addEventListener(`mousemove`,c),document.addEventListener(`mouseup`,s),document.body.style.cursor=`ew-resize`,e.preventDefault()},[]),s=(0,y.useCallback)(()=>{a.current=!1,document.removeEventListener(`mousemove`,c),document.removeEventListener(`mouseup`,s),document.body.style.cursor=`default`},[]),c=(0,y.useCallback)(e=>{if(!a.current)return;let t=window.innerWidth-e.clientX;t>350&&t<window.innerWidth*.9&&i(t)},[]);if(!e||!n)return null;let l=n.activeRule||{};return(0,q.jsxs)(`div`,{className:`fixed inset-0 z-[60] flex justify-end`,children:[(0,q.jsx)(`div`,{className:`absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity`,onClick:t}),(0,q.jsxs)(`div`,{className:`relative h-full bg-white shadow-2xl flex animate-in slide-in-from-right duration-300`,style:{width:`${r}px`},children:[(0,q.jsx)(`div`,{onMouseDown:o,className:`absolute left-0 top-0 bottom-0 w-1.5 bg-slate-200 hover:bg-blue-400 cursor-ew-resize z-10 transition-colors flex items-center justify-center group`,title:`Geser untuk mengubah lebar panel`,children:(0,q.jsx)(nx,{size:12,className:`text-slate-400 group-hover:text-white opacity-0 group-hover:opacity-100 transition-opacity`})}),(0,q.jsxs)(`div`,{className:`flex-1 flex flex-col h-full border-l border-slate-200 bg-slate-50/50`,children:[(0,q.jsxs)(`div`,{className:`p-6 border-b flex justify-between items-start bg-white border-blue-100 flex-shrink-0`,children:[(0,q.jsx)(`div`,{children:(0,q.jsxs)(`div`,{className:`flex items-center gap-3 mb-1`,children:[(0,q.jsx)(`div`,{className:`p-2 rounded-lg bg-blue-100 text-blue-600`,children:(0,q.jsx)(yb,{size:24})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h2`,{className:`text-xl font-bold text-blue-900`,children:`Detail Tindak Lanjut`}),(0,q.jsx)(`p`,{className:`text-sm text-slate-500 font-medium`,children:`Instruksi penanganan pelanggaran siswa`})]})]})}),(0,q.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600`,children:(0,q.jsx)(Gx,{size:24})})]}),(0,q.jsxs)(`div`,{className:`px-6 py-4 bg-white border-b border-slate-100 flex items-center justify-between flex-shrink-0`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold text-lg`,children:n.name.charAt(0)}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h3`,{className:`font-bold text-slate-800`,children:n.name}),(0,q.jsxs)(`p`,{className:`text-xs text-slate-500`,children:[n.class,`  `,n.nisn||`No NISN`]})]})]}),(0,q.jsxs)(`div`,{className:`text-right`,children:[(0,q.jsx)(`span`,{className:`text-xs text-slate-400 uppercase font-bold`,children:`Total Poin`}),(0,q.jsx)(`div`,{className:`text-xl font-black text-red-600`,children:n.netScore})]})]}),(0,q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-red-100 shadow-sm relative overflow-hidden`,children:[(0,q.jsx)(`div`,{className:`absolute top-0 right-0 p-3 opacity-10`,children:(0,q.jsx)(Lx,{size:80,className:`text-red-500`})}),(0,q.jsx)(`h4`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wide mb-2`,children:`Status Sanksi Saat Ini`}),(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,q.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-red-50 flex items-center justify-center text-red-600`,children:(0,q.jsx)(Lx,{size:24})}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`div`,{className:`text-2xl font-bold text-slate-800 leading-none`,children:l.penalty||l.action||`Tidak Terdefinisi`}),(0,q.jsxs)(`p`,{className:`text-sm text-red-600 font-medium mt-1`,children:[`Akumulasi Poin: `,l.min,` - `,l.max]})]})]})]}),(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-blue-100 shadow-sm relative overflow-hidden`,children:[(0,q.jsx)(`div`,{className:`absolute top-0 right-0 p-3 opacity-10`,children:(0,q.jsx)(ox,{size:80,className:`text-blue-500`})}),(0,q.jsx)(`h4`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wide mb-3`,children:`Tindak Lanjut Diperlukan`}),(0,q.jsx)(`div`,{className:`bg-blue-50/50 p-4 rounded-xl border border-blue-100`,children:(0,q.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,q.jsx)(`div`,{className:`mt-1 bg-blue-100 text-blue-600 p-1.5 rounded-md`,children:(0,q.jsx)(yb,{size:18})}),(0,q.jsx)(`div`,{className:`flex-1`,children:(0,q.jsx)(`p`,{className:`text-base text-slate-700 font-medium leading-relaxed`,children:l.action||`Belum ada instruksi tindak lanjut khusus untuk level poin ini.`})})]})}),(0,q.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-slate-100`,children:[(0,q.jsx)(`h5`,{className:`text-xs font-bold text-slate-500 mb-2`,children:`Langkah-langkah yang disarankan:`}),(0,q.jsxs)(`ul`,{className:`text-sm text-slate-600 space-y-2 list-disc pl-4`,children:[(0,q.jsx)(`li`,{children:`Periksa kembali riwayat poin siswa untuk memastikan akurasi.`}),(0,q.jsx)(`li`,{children:`Lakukan komunikasi persuasif dengan siswa terlebih dahulu.`}),(0,q.jsxs)(`li`,{children:[`Jika diperlukan, cetak `,(0,q.jsx)(`b`,{children:`Surat Panggilan`}),` melalui tombol yang tersedia di halaman sebelumnya.`]}),(0,q.jsxs)(`li`,{children:[`Catat hasil pembinaan di `,(0,q.jsx)(`b`,{children:`Jurnal Harian`}),` atau `,(0,q.jsx)(`b`,{children:`Riwayat Konseling`}),`.`]})]})]})]})]}),(0,q.jsx)(`div`,{className:`p-4 border-t bg-white flex justify-end`,children:(0,q.jsx)(`button`,{onClick:t,className:`px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors`,children:`Tutup Panel`})})]})]})]})},H$=({students:e,pointLogs:t,sanctionRules:n,settings:r,onUpdateStudent:i})=>{let a=Ke(),[o,s]=(0,y.useState)(``),[c,l]=(0,y.useState)(``),[u,d]=(0,y.useState)(``),[f,p]=(0,y.useState)(!1),m=(0,y.useRef)(null),[h,g]=(0,y.useState)(null),[_,v]=(0,y.useState)(!1),[b,x]=(0,y.useState)(null),[S,C]=(0,y.useState)(!1),[w,T]=(0,y.useState)(1);(0,y.useEffect)(()=>{T(1)},[o,c,u]),(0,y.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&p(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let E=(0,y.useMemo)(()=>[...new Set(e.map(e=>e.class))].sort(),[e]),D=(0,y.useMemo)(()=>e.map(e=>{let r=t.filter(t=>t.studentId===e.id),i=r.filter(e=>e.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0),a=r.filter(e=>e.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0),o=i-a,s=i,c=a,l=(n||[]).sort((e,t)=>t.max-e.max).find(e=>o>=e.min&&o<=e.max);return{...e,netScore:o,violationTotal:s,achievementTotal:c,activeRule:l}}).filter(e=>e.netScore>0).sort((e,t)=>t.netScore-e.netScore),[e,t,n]),O=(0,y.useMemo)(()=>D.filter(e=>{let t=e.name.toLowerCase().includes(o.toLowerCase()),n=c?e.class===c:!0,r=u?e.activeRule&&String(e.activeRule.id)===String(u):!0;return t&&n&&r}),[D,o,c,u]),k=(0,y.useMemo)(()=>{let e=(w-1)*10;return O.slice(e,e+10)},[O,w]),A=Math.ceil(O.length/10),j=()=>{if(!u)return`Semua Jenis Sanksi`;let e=n.find(e=>String(e.id)===String(u));return e?e.penalty||e.action:`Filter Sanksi`},M=e=>{let t=e.activeRule?.penalty||e.activeRule?.action||``;a(`/letters`,{state:{preSelectedStudentId:e.id,suggestedTemplateKeyword:t}})},N=e=>{g(e),v(!0)},P=e=>{x(e),C(!0)};return(0,q.jsxs)(`div`,{className:`p-4 md:p-6 space-y-6 pb-20 animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4 sticky top-0 z-30`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h2`,{className:`text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)($b,{className:`text-orange-600`}),` Buku Sanksi & Pelanggaran`]}),(0,q.jsxs)(`p`,{className:`text-slate-500 text-sm mt-1`,children:[`Total `,O.length,` siswa dalam daftar `,u?`kategori terpilih`:`sanksi`,`.`]})]}),(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-3 w-full xl:w-auto`,children:[(0,q.jsxs)(`div`,{className:`relative w-full md:w-64`,ref:m,children:[(0,q.jsxs)(`div`,{onClick:()=>p(!f),className:`w-full px-4 py-2.5 border rounded-xl text-sm flex items-center justify-between cursor-pointer transition-all ${f?`ring-2 ring-orange-200 border-orange-400 bg-white`:`bg-slate-50 border-slate-200 hover:bg-white hover:border-orange-300`}`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-2 overflow-hidden`,children:[(0,q.jsx)(Qb,{size:16,className:`flex-shrink-0 ${u?`text-orange-600`:`text-slate-400`}`}),(0,q.jsx)(`span`,{className:`truncate font-medium ${u?`text-orange-700`:`text-slate-600`}`,children:j()})]}),(0,q.jsx)(Ab,{size:16,className:`text-slate-400 transition-transform duration-200 ${f?`rotate-180`:``}`})]}),f&&(0,q.jsxs)(`div`,{className:`absolute z-50 mt-2 w-full bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in zoom-in-95 flex flex-col max-h-80`,children:[(0,q.jsxs)(`div`,{onClick:()=>{d(``),p(!1)},className:`p-3 border-b hover:bg-orange-50 cursor-pointer flex justify-between items-center transition-colors ${u===``?`bg-orange-50 text-orange-700`:`text-slate-700`}`,children:[(0,q.jsx)(`span`,{className:`text-sm font-bold`,children:`Semua Jenis Sanksi`}),u===``&&(0,q.jsx)(kb,{size:16})]}),(0,q.jsx)(`div`,{className:`overflow-y-auto custom-scrollbar`,children:(n||[]).map(e=>(0,q.jsxs)(`div`,{onClick:()=>{d(e.id),p(!1)},className:`p-3 border-b border-slate-50 hover:bg-orange-50 cursor-pointer flex justify-between items-center transition-colors ${String(u)===String(e.id)?`bg-orange-50`:``}`,children:[(0,q.jsxs)(`div`,{className:`flex-1 min-w-0 pr-2`,children:[(0,q.jsx)(`div`,{className:`text-sm font-bold truncate ${String(u)===String(e.id)?`text-orange-700`:`text-slate-700`}`,children:e.penalty||e.action}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 font-medium bg-slate-100 inline-block px-1.5 rounded mt-0.5`,children:[`Range: `,e.min,` - `,e.max,` Poin`]})]}),String(u)===String(e.id)&&(0,q.jsx)(kb,{size:16,className:`text-orange-600 flex-shrink-0`})]},e.id))})]})]}),(0,q.jsxs)(`div`,{className:`relative w-full md:w-40`,children:[(0,q.jsxs)(`select`,{className:`w-full pl-3 pr-8 py-2.5 border rounded-xl text-sm bg-slate-50 hover:bg-white focus:bg-white outline-none appearance-none cursor-pointer focus:ring-2 focus:ring-orange-200 transition-all font-medium text-slate-600`,value:c,onChange:e=>l(e.target.value),children:[(0,q.jsx)(`option`,{value:``,children:`Semua Kelas`}),E.map(e=>(0,q.jsx)(`option`,{value:e,children:e},e))]}),(0,q.jsx)(Ab,{className:`absolute right-3 top-3 text-slate-400 pointer-events-none`,size:16})]}),(0,q.jsxs)(`div`,{className:`relative flex-1 md:w-64`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:18}),(0,q.jsx)(`input`,{className:`w-full pl-10 pr-4 py-2.5 border rounded-xl text-sm focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-slate-50 focus:bg-white`,placeholder:`Cari siswa...`,value:o,onChange:e=>s(e.target.value)})]})]})]}),(0,q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden`,children:[(0,q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,q.jsxs)(`table`,{className:`w-full text-left border-collapse`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-50 border-b border-slate-200`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider w-16 text-center`,children:`No`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider`,children:`Nama & Kelas`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center`,children:`Akumulasi Poin`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider`,children:`Status Sanksi`}),(0,q.jsx)(`th`,{className:`p-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right`,children:`Aksi`})]})}),(0,q.jsx)(`tbody`,{className:`divide-y divide-slate-100`,children:k.length>0?k.map((e,t)=>(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors group`,children:[(0,q.jsx)(`td`,{className:`p-4 text-center text-sm text-slate-500 font-medium`,children:(w-1)*10+t+1}),(0,q.jsxs)(`td`,{className:`p-4`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-800`,children:e.name}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 font-medium mt-0.5 flex items-center gap-2`,children:[(0,q.jsx)(`span`,{className:`bg-slate-100 px-1.5 py-0.5 rounded text-slate-600`,children:e.class}),(0,q.jsx)(`span`,{className:`text-slate-400`,children:``}),(0,q.jsxs)(`span`,{children:[`NISN: `,e.nisn||`-`]})]})]}),(0,q.jsx)(`td`,{className:`p-4 text-center`,children:(0,q.jsx)(`button`,{onClick:()=>P(e),className:`inline-flex items-center justify-center min-w-[40px] h-8 px-2 rounded-lg font-black text-sm shadow-sm transition-transform active:scale-95 hover:scale-110 cursor-pointer border border-transparent hover:border-slate-300 hover:shadow-md ${e.netScore>=100?`bg-red-100 text-red-700`:e.netScore>=50?`bg-orange-100 text-orange-700`:`bg-yellow-100 text-yellow-700`}`,title:`Klik untuk lihat riwayat lengkap`,children:e.netScore})}),(0,q.jsx)(`td`,{className:`p-4`,children:e.activeRule?(0,q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,q.jsx)(Lx,{size:16,className:`text-red-600 flex-shrink-0`}),(0,q.jsx)(`span`,{className:`text-sm font-bold text-slate-700 line-clamp-1`,children:e.activeRule.penalty||e.activeRule.action})]}):(0,q.jsx)(`span`,{className:`text-sm text-slate-400 italic`,children:`Belum mencapai batas`})}),(0,q.jsx)(`td`,{className:`p-4 text-right`,children:(0,q.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,q.jsxs)(`button`,{onClick:()=>N(e),className:`px-3 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all text-xs font-bold flex items-center gap-2`,title:`Lihat Detail Tindak Lanjut`,children:[(0,q.jsx)(Xb,{size:14}),(0,q.jsx)(`span`,{className:`hidden sm:inline`,children:`Detail`})]}),(0,q.jsxs)(`button`,{onClick:()=>M(e),className:`px-3 py-2 rounded-lg bg-slate-800 text-white hover:bg-orange-600 transition-all text-xs font-bold flex items-center gap-2 shadow-sm`,title:`Proses Surat Sanksi`,children:[(0,q.jsx)(Cx,{size:14}),(0,q.jsx)(`span`,{className:`hidden sm:inline`,children:`Surat`})]})]})})]},e.id)):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`5`,className:`p-12 text-center text-slate-400`,children:(0,q.jsxs)(`div`,{className:`flex flex-col items-center justify-center`,children:[(0,q.jsx)(`div`,{className:`bg-slate-50 p-4 rounded-full mb-3`,children:(0,q.jsx)($b,{size:32,className:`opacity-30`})}),(0,q.jsx)(`p`,{className:`font-medium`,children:`Tidak ada data siswa yang sesuai filter.`}),(0,q.jsx)(`p`,{className:`text-xs mt-1 opacity-70`,children:`Coba ubah filter kelas atau jenis sanksi.`})]})})})})]})}),O.length>0&&(0,q.jsxs)(`div`,{className:`bg-slate-50 border-t border-slate-200 p-4 flex flex-col md:flex-row justify-between items-center gap-4`,children:[(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 font-medium text-center md:text-left`,children:[`Menampilkan `,(w-1)*10+1,` - `,Math.min(w*10,O.length),` dari `,O.length,` siswa`]}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsx)(`button`,{onClick:()=>T(e=>Math.max(1,e-1)),disabled:w===1,className:`p-2 border border-slate-200 bg-white rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-slate-600`,children:(0,q.jsx)(jb,{size:16})}),(0,q.jsx)(`div`,{className:`flex items-center gap-1`,children:Array.from({length:Math.min(5,A)},(e,t)=>{let n=t+1;return A>5&&w>3&&(n=w-3+t),n>A?null:(0,q.jsx)(`button`,{onClick:()=>T(n),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${w===n?`bg-orange-600 text-white shadow-sm`:`bg-white border border-slate-200 text-slate-600 hover:bg-slate-50`}`,children:n},n)})}),(0,q.jsx)(`button`,{onClick:()=>T(e=>Math.min(A,e+1)),disabled:w===A,className:`p-2 border border-slate-200 bg-white rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-slate-600`,children:(0,q.jsx)(Mb,{size:16})})]})]})]}),(0,q.jsx)(V$,{isOpen:_,onClose:()=>v(!1),student:h}),(0,q.jsx)(N$,{isOpen:S,onClose:()=>C(!1),student:b,pointLogs:t,settings:r,sanctionRules:n,onUpdateStudent:(e,t)=>{i&&i(e,t)}})]})},U$=({isOpen:e,onClose:t,student:n,journals:r,settings:i,onUpdateStudent:a})=>{let[o,s]=(0,y.useState)(null),[c,l]=(0,y.useState)(!0),[u,d]=(0,y.useState)(`mask`),[f,p]=(0,y.useState)(`portrait`),[m,h]=(0,y.useState)(`a4`),[g,_]=(0,y.useState)({homeroom:!0,counselor:!0,vicePrincipal:!1,principal:!1}),[v,b]=(0,y.useState)(``);(0,y.useEffect)(()=>{e?n&&b(n.homeroomTeacherNip||``):(s(null),_({homeroom:!0,counselor:!0,vicePrincipal:!1,principal:!1}),l(!0),d(`mask`),p(`portrait`),h(`a4`))},[e,n]),(0,y.useEffect)(()=>()=>{o&&URL.revokeObjectURL(o)},[o]);let x=()=>{a&&n&&(a(n.id,{homeroomTeacherNip:v}),alert(`NIP Wali Kelas berhasil disimpan ke data siswa.`))},S=(0,y.useMemo)(()=>{if(!n||!r)return[];let e=r.filter(e=>e.studentId===n.id||e.studentIds&&e.studentIds.includes(n.id));return e.sort((e,t)=>new Date(e.date)-new Date(t.date)),u===`hide`&&(e=e.filter(e=>!(e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`)))),e},[n,r,u]);if(!e||!n)return null;let C=()=>{let e=new bX({orientation:f,unit:`mm`,format:m===`f4`?[215,330]:`a4`});e.setFont(`helvetica`,`normal`),e.setFontSize(11);let t=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight(),a=t/2,o=20;if(c){o=12,e.setFont(`helvetica`,`normal`),e.setFontSize(12),e.text((i?.government||`PEMERINTAH PROVINSI ...`).toUpperCase(),a,o,{align:`center`}),o+=6,e.text((i?.department||`DINAS PENDIDIKAN`).toUpperCase(),a,o,{align:`center`}),o+=7,e.setFont(`helvetica`,`bold`),e.setFontSize(16),e.text((i?.name||`NAMA SEKOLAH ANDA`).toUpperCase(),a,o,{align:`center`}),o+=6,e.setFont(`helvetica`,`normal`),e.setFontSize(10),e.text(i?.address||`Alamat Sekolah...`,a,o,{align:`center`}),i?.address2&&(o+=5,e.setFont(`helvetica`,`italic`),e.text(i?.address2,a,o,{align:`center`}));let n=f===`landscape`?20:12;if(i?.logo)try{e.addImage(i.logo,`PNG`,n,12,24,24)}catch{}if(i?.logo2)try{e.addImage(i.logo2,`PNG`,t-n-24,12,24,24)}catch{}o+=6,e.setLineWidth(.5),e.line(10,o,t-10,o),e.setLineWidth(.1),o+=10}else o=25;e.setFont(`helvetica`,`bold`),e.setFontSize(12),e.text(`LAPORAN RIWAYAT LAYANAN BIMBINGAN KONSELING`,a,o,{align:`center`}),e.line(a-e.getTextWidth(`LAPORAN RIWAYAT LAYANAN BIMBINGAN KONSELING`)/2,o+1,a+e.getTextWidth(`LAPORAN RIWAYAT LAYANAN BIMBINGAN KONSELING`)/2,o+1),o+=8,A$(e,{startY:o,body:[[`Nama Siswa`,`: ${n.name}`,`Kelas`,`: ${n.class}`],[`NISN`,`: ${n.nisn||`-`}`,`Jenis Kelamin`,`: ${n.gender===`L`?`Laki-laki`:`Perempuan`}`],[`Orang Tua / Wali`,`: ${n.parentName||n.parent||`-`}`,`Wali Kelas`,`: ${n.homeroomTeacher||`-`}`],[`Semester/T.A`,`: ${i?.semester||`Ganjil`} / ${i?.academicYear||``}`,`Guru Wali`,`: ${n.guardianTeacher||`-`}`]],theme:`plain`,styles:{font:`helvetica`,fontSize:9,cellPadding:1.5,overflow:`visible`},columnStyles:{0:{cellWidth:32,fontStyle:`bold`},1:{cellWidth:50},2:{cellWidth:23,fontStyle:`bold`},3:{cellWidth:`auto`}},margin:{left:14,right:14}}),o=e.lastAutoTable.finalY+10,u===`mask`&&(e.setFontSize(9),e.setFont(`helvetica`,`italic`),e.setTextColor(100),e.text(`*Topik layanan yang bersifat privasi disamarkan pada dokumen ini.`,14,o-2),e.setTextColor(0));let s=[`No`,`Tanggal`,`Jenis & Detail Layanan`,`Topik / Masalah`,`Tindak Lanjut`],l=S.map((e,t)=>{let n=e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`),r=e.description;n&&u===`mask`&&(r=`--- Privasi (Disamarkan) ---`);let i=`Bidang: ${e.skkpd||`-`}    Kategori: ${e.category||`-`}    Teknik: ${e.technique||`-`}`,a=`${e.serviceType}\n${i}`;return[t+1,cS(e.date),a,r,e.followUp||`-`]});l.length===0&&l.push([`-`,`-`,`Belum ada riwayat layanan.`,`-`,`-`]),A$(e,{startY:o,head:[s],body:l,theme:`grid`,headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:`bold`,halign:`center`,valign:`middle`,font:`helvetica`,fontSize:10,lineWidth:.1,lineColor:[0,0,0],cellPadding:2},styles:{font:`helvetica`,fontSize:9,cellPadding:1.5,valign:`top`,lineWidth:.1,lineColor:[0,0,0]},columnStyles:f===`portrait`?{0:{cellWidth:12,halign:`center`},1:{cellWidth:30,halign:`center`},2:{cellWidth:60},3:{cellWidth:`auto`},4:{cellWidth:35}}:{0:{cellWidth:15,halign:`center`},1:{cellWidth:35,halign:`center`},2:{cellWidth:80},3:{cellWidth:`auto`},4:{cellWidth:50}},didParseCell:function(e){e.section===`body`&&e.column.index===3&&e.cell.raw===`--- Privasi (Disamarkan) ---`&&(e.cell.styles.fontStyle=`italic`,e.cell.styles.textColor=[100,100,100])},margin:{left:14,right:14}});let d=e.lastAutoTable.finalY+15;d>r-60&&(e.addPage(),d=20);let p=new Date().toLocaleDateString(`id-ID`,{day:`numeric`,month:`long`,year:`numeric`}),h=i?.city||`Tempat`;e.setFontSize(11),e.setFont(`helvetica`,`normal`);let _=t-50,y=t/2,b=(t,n,r,i,a)=>{a&&e.text(`${h}, ${p}`,i,d,{align:`center`}),e.text(t,i,d+5,{align:`center`}),e.setFont(`helvetica`,`bold`),e.text(n,i,d+30,{align:`center`});let o=e.getTextWidth(n);e.setLineWidth(.3),e.line(i-o/2-2,d+31,i+o/2+2,d+31),e.setFont(`helvetica`,`normal`),r&&r!==`-`&&e.text(`NIP. ${r}`,i,d+36,{align:`center`})},x={title:`Wali Kelas`,name:n.homeroomTeacher||`(................)`,nip:v||`-`},C={title:`Guru BK / Konselor`,name:i?.counselor||`(................)`,nip:i?.nipCounselor},w={title:`Waka Kesiswaan`,name:i?.viceStudent||`(................)`,nip:i?.nipViceStudent},T={title:`Kepala Sekolah`,name:i?.headmaster||`(................)`,nip:i?.nipHeadmaster},E=null,D=null,O=null,k=null,A=null;return g.homeroom&&g.counselor?(E=x,D=C):g.homeroom?D=x:g.counselor&&(D=C),g.vicePrincipal&&g.principal?(O=w,k=T):g.principal?E&&D?A=T:(D&&(E=D),D=T):g.vicePrincipal&&(E&&D?A=w:(D&&(E=D),D=w)),E&&b(E.title,E.name,E.nip,50,!1),D&&b(D.title,D.name,D.nip,_,!0),(O||k||A)&&(d+=45,O||k?(e.text(`Mengetahui,`,y,d-5,{align:`center`}),O&&b(O.title,O.name,O.nip,50,!1),k&&b(k.title,k.name,k.nip,_,!1)):A&&(e.text(`Mengetahui,`,y,d-5,{align:`center`}),b(A.title,A.name,A.nip,y,!1))),e},w=()=>{try{let e=C();s(URL.createObjectURL(e.output(`blob`)))}catch(e){alert(`Gagal preview: ${e.message}`)}},T=()=>{try{C().save(`Riwayat_Konseling_${n.name.replace(/\s+/g,`_`)}.pdf`)}catch(e){alert(`Gagal download: ${e.message}`)}},E=e=>_(t=>({...t,[e]:!t[e]}));return(0,q.jsxs)(`div`,{className:`fixed inset-0 z-[100] bg-white animate-in slide-in-from-bottom-5 duration-300 flex flex-col`,children:[(0,q.jsxs)(`div`,{className:`bg-white border-b border-slate-200 px-6 py-4 flex flex-col md:flex-row justify-between items-center shadow-sm sticky top-0 z-20 gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h3`,{className:`font-bold text-xl text-slate-800 flex items-center gap-3`,children:[o?(0,q.jsx)(Xb,{size:24,className:`text-red-600`}):(0,q.jsx)(rx,{size:24,className:`text-blue-600`}),o?`Pratinjau PDF`:`Riwayat Konseling`]}),(0,q.jsxs)(`p`,{className:`text-sm text-slate-500 mt-1`,children:[(0,q.jsx)(`span`,{className:`font-bold text-slate-700`,children:n.name}),`  `,n.class]})]}),!o&&(0,q.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[g.homeroom&&(0,q.jsxs)(`div`,{className:`flex items-center gap-2 bg-yellow-50 px-3 py-1.5 rounded border border-yellow-200`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-yellow-700`,children:`NIP Wali:`}),(0,q.jsx)(`input`,{type:`text`,value:v,onChange:e=>b(e.target.value),placeholder:`Masukkan NIP...`,className:`text-xs border border-yellow-300 rounded px-2 py-1 w-32 focus:outline-none focus:ring-1 focus:ring-yellow-500`}),(0,q.jsx)(`button`,{onClick:x,className:`p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700`,title:`Simpan NIP`,children:(0,q.jsx)(Dx,{size:12})})]}),(0,q.jsxs)(`div`,{className:`flex flex-wrap gap-2 bg-slate-50 p-2 rounded-lg border border-slate-200 items-center`,children:[(0,q.jsxs)(`div`,{className:`flex bg-white rounded border border-slate-200 p-1 gap-1`,children:[(0,q.jsx)(`button`,{onClick:()=>d(`show`),className:`p-1 rounded ${u===`show`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Tampilkan Semua`,children:(0,q.jsx)(Kb,{size:14})}),(0,q.jsx)(`button`,{onClick:()=>d(`mask`),className:`p-1 rounded ${u===`mask`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Samarkan Topik`,children:(0,q.jsx)(Gb,{size:14})}),(0,q.jsx)(`button`,{onClick:()=>d(`hide`),className:`p-1 rounded ${u===`hide`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Sembunyikan Baris`,children:(0,q.jsx)(Fx,{size:14})})]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`div`,{className:`flex bg-white rounded border border-slate-200 p-1 gap-1`,children:[(0,q.jsx)(`button`,{onClick:()=>h(`a4`),className:`px-2 py-1 text-xs font-bold rounded ${m===`a4`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Kertas A4`,children:`A4`}),(0,q.jsx)(`button`,{onClick:()=>h(`f4`),className:`px-2 py-1 text-xs font-bold rounded ${m===`f4`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Kertas F4`,children:`F4`})]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`div`,{className:`flex bg-white rounded border border-slate-200 p-1 gap-1`,children:[(0,q.jsx)(`button`,{onClick:()=>p(`portrait`),className:`p-1 rounded flex items-center gap-1 ${f===`portrait`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Portrait`,children:(0,q.jsx)(Tx,{size:14})}),(0,q.jsx)(`button`,{onClick:()=>p(`landscape`),className:`p-1 rounded flex items-center gap-1 ${f===`landscape`?`bg-blue-100 text-blue-700`:`text-slate-400 hover:bg-slate-100`}`,title:`Landscape`,children:(0,q.jsx)(wx,{size:14})})]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer text-xs font-bold text-slate-700 select-none bg-white px-2 py-1 rounded border border-slate-200 shadow-sm hover:border-blue-400 transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:c,onChange:()=>l(!c),className:`rounded text-blue-600 focus:ring-blue-500`}),` `,(0,q.jsx)(Jb,{size:14}),` Kop`]}),(0,q.jsx)(`div`,{className:`w-px h-6 bg-slate-300 mx-1`}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:g.homeroom,onChange:()=>E(`homeroom`),className:`rounded text-blue-600 focus:ring-blue-500`}),` Wali`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:g.counselor,onChange:()=>E(`counselor`),className:`rounded text-blue-600 focus:ring-blue-500`}),` BK`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:g.vicePrincipal,onChange:()=>E(`vicePrincipal`),className:`rounded text-blue-600 focus:ring-blue-500`}),` Waka`]}),(0,q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer text-xs font-medium text-slate-700 select-none hover:bg-slate-200 px-2 py-1 rounded transition-colors`,children:[(0,q.jsx)(`input`,{type:`checkbox`,checked:g.principal,onChange:()=>E(`principal`),className:`rounded text-blue-600 focus:ring-blue-500`}),` Kepsek`]})]})]}),(0,q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[o?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`button`,{onClick:()=>s(null),className:`flex items-center gap-2 px-4 py-2 text-sm font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors`,children:[(0,q.jsx)(jb,{size:18}),` Kembali`]}),(0,q.jsxs)(`button`,{onClick:T,className:`flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-md hover:shadow-lg active:scale-95`,children:[(0,q.jsx)(Ub,{size:18}),` Download File`]})]}):(0,q.jsxs)(`button`,{onClick:w,className:`flex items-center gap-2 px-4 py-2 text-sm font-bold text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors`,children:[(0,q.jsx)(Cx,{size:18}),` Cetak Laporan`]}),(0,q.jsx)(`div`,{className:`h-8 w-px bg-slate-200 mx-2 hidden md:block`}),(0,q.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded-full transition-colors`,children:(0,q.jsx)(Gx,{size:28})})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-hidden bg-slate-50 relative`,children:o?(0,q.jsx)(`iframe`,{src:o,className:`w-full h-full border-none bg-slate-200`,title:`PDF Preview`}):(0,q.jsxs)(`div`,{className:`h-full overflow-y-auto max-w-6xl mx-auto p-6 md:p-8`,children:[(0,q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-6 mb-8`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center text-center`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider mb-2`,children:`Total Layanan`}),(0,q.jsx)(`span`,{className:`text-3xl font-black text-blue-600`,children:S.length})]}),(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center text-center`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider mb-2`,children:`Pribadi / Rahasia`}),(0,q.jsx)(`span`,{className:`text-3xl font-black text-red-600`,children:S.filter(e=>e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`)).length})]}),(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center text-center`,children:[(0,q.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider mb-2`,children:`Layanan Terakhir`}),(0,q.jsx)(`span`,{className:`text-sm font-bold text-slate-700 mt-2`,children:S.length>0?cS(S[S.length-1].date):`-`})]})]}),(0,q.jsxs)(`div`,{className:`bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`px-6 py-4 bg-slate-50 border-b border-slate-200 flex justify-between items-center`,children:[(0,q.jsxs)(`h4`,{className:`font-bold text-slate-700 flex items-center gap-2`,children:[(0,q.jsx)(Xb,{size:18,className:`text-blue-600`}),` Riwayat Layanan`]}),(0,q.jsxs)(`span`,{className:`text-xs font-bold text-slate-500 bg-slate-200 px-2 py-1 rounded`,children:[S.length,` Catatan`]})]}),(0,q.jsxs)(`table`,{className:`w-full text-left text-sm`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-100 text-slate-600 font-bold uppercase text-xs border-b border-slate-200`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`px-6 py-3 w-16 text-center`,children:`No`}),(0,q.jsx)(`th`,{className:`px-6 py-3 w-32`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Jenis & Detail`}),(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Topik / Masalah`}),(0,q.jsx)(`th`,{className:`px-6 py-3 w-48`,children:`Tindak Lanjut`})]})}),(0,q.jsx)(`tbody`,{className:`divide-y divide-slate-100`,children:S.length>0?S.map((e,t)=>{let n=e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`),r=n&&u===`mask`;return(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50 transition-colors`,children:[(0,q.jsx)(`td`,{className:`px-6 py-4 text-center text-slate-500`,children:t+1}),(0,q.jsx)(`td`,{className:`px-6 py-4 font-medium`,children:cS(e.date)}),(0,q.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,q.jsxs)(`div`,{className:`font-bold text-blue-700 mb-1 flex items-center gap-1`,children:[e.serviceType,n&&(0,q.jsx)(fx,{size:12,className:`text-red-500`})]}),(0,q.jsxs)(`div`,{className:`text-[10px] text-slate-500 space-y-0.5`,children:[(0,q.jsxs)(`div`,{children:[`B: `,e.skkpd]}),(0,q.jsxs)(`div`,{children:[`K: `,e.category]})]})]}),(0,q.jsx)(`td`,{className:`px-6 py-4`,children:(0,q.jsx)(`div`,{className:`text-slate-700 ${r?`italic text-gray-400`:``}`,children:r?`--- Privasi (Disamarkan) ---`:e.description})}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-slate-600`,children:e.followUp||`-`})]},e.id)}):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`5`,className:`p-8 text-center text-slate-400 italic`,children:`Belum ada riwayat layanan.`})})})]})]})]})})]})},W$=({students:e,journals:t,settings:n,user:r,onUpdateStudent:i})=>{let[a,o]=(0,y.useState)(``),[s,c]=(0,y.useState)(``),[l,u]=(0,y.useState)(!1),d=(0,y.useRef)(null),[f,p]=(0,y.useState)(!1);(0,y.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&u(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let m=(0,y.useMemo)(()=>s?e.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.nisn?.includes(s)||e.class?.toLowerCase().includes(s.toLowerCase())).sort((e,t)=>e.name.localeCompare(t.name)):e,[e,s]),h=(0,y.useMemo)(()=>e.find(e=>e.id===a),[e,a]),g=(0,y.useMemo)(()=>h?t.filter(e=>e.studentId===h.id||e.studentIds&&e.studentIds.includes(h.id)).sort((e,t)=>t.date.localeCompare(e.date)):[],[h,t]),_=e=>{o(e.id),c(e.name),u(!1)};return(0,q.jsxs)(`div`,{className:`flex flex-col h-full bg-slate-50 relative animate-in fade-in`,children:[(0,q.jsxs)(`div`,{className:`bg-white border-b px-6 py-4 flex flex-col md:flex-row justify-between items-center gap-4 sticky top-0 z-10 shadow-sm`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Xb,{className:`text-purple-600`}),` Riwayat Layanan Konseling`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Cetak rekam jejak bimbingan siswa.`})]}),(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-3 w-full md:w-auto items-center`,children:[(0,q.jsxs)(`div`,{className:`relative w-full md:w-80`,ref:d,children:[(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:18}),(0,q.jsx)(`input`,{type:`text`,className:`w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none`,placeholder:`Ketik nama siswa...`,value:s,onChange:e=>{c(e.target.value),u(!0),e.target.value===``&&o(``)},onFocus:()=>u(!0)}),a?(0,q.jsx)(`button`,{onClick:()=>{o(``),c(``),u(!0)},className:`absolute right-3 top-2.5 text-slate-400 hover:text-red-500`,children:(0,q.jsx)(Gx,{size:16})}):(0,q.jsx)(Ab,{className:`absolute right-3 top-2.5 text-slate-400`,size:16})]}),l&&(0,q.jsx)(`div`,{className:`absolute top-full left-0 right-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-xl max-h-60 overflow-y-auto z-50 animate-in fade-in zoom-in-95`,children:m.length>0?m.map(e=>(0,q.jsxs)(`div`,{onClick:()=>_(e),className:`px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-slate-50 last:border-0`,children:[(0,q.jsx)(`div`,{className:`font-bold text-slate-800 text-sm`,children:e.name}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 flex justify-between mt-0.5`,children:[(0,q.jsxs)(`span`,{children:[`Kelas: `,e.class]}),(0,q.jsxs)(`span`,{children:[`NISN: `,e.nisn||`-`]})]})]},e.id)):(0,q.jsx)(`div`,{className:`p-4 text-center text-slate-400 text-sm italic`,children:`Siswa tidak ditemukan.`})})]}),(0,q.jsx)(`div`,{className:`flex gap-2 w-full md:w-auto`,children:(0,q.jsxs)(`button`,{disabled:!a,onClick:()=>p(!0),className:`bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white px-4 py-2.5 rounded-lg font-bold flex items-center justify-center gap-2 shadow-sm transition-all flex-1 md:flex-none`,children:[(0,q.jsx)(Cx,{size:18}),` Cetak Laporan`]})})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 md:p-8`,children:h?(0,q.jsx)(`div`,{className:`max-w-4xl mx-auto space-y-6 animate-in slide-in-from-bottom-4 duration-500`,children:(0,q.jsxs)(`div`,{className:`bg-white border border-slate-200 shadow-lg rounded-xl overflow-hidden min-h-[400px]`,children:[(0,q.jsxs)(`div`,{className:`p-6 border-b border-slate-100 flex justify-between items-center`,children:[(0,q.jsx)(`h2`,{className:`font-bold text-lg text-slate-800`,children:`Daftar Layanan Konseling`}),(0,q.jsxs)(`span`,{className:`bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold`,children:[g.length,` Sesi`]})]}),(0,q.jsxs)(`table`,{className:`w-full text-left text-sm`,children:[(0,q.jsx)(`thead`,{className:`bg-slate-50 text-slate-500 font-bold uppercase text-xs`,children:(0,q.jsxs)(`tr`,{children:[(0,q.jsx)(`th`,{className:`px-6 py-3 w-32`,children:`Tanggal`}),(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Layanan`}),(0,q.jsx)(`th`,{className:`px-6 py-3`,children:`Topik`})]})}),(0,q.jsx)(`tbody`,{className:`divide-y divide-slate-100`,children:g.length>0?g.map(e=>{let t=e.isPrivate||e.serviceType&&e.serviceType.toLowerCase().includes(`pribadi`);return(0,q.jsxs)(`tr`,{className:`hover:bg-slate-50`,children:[(0,q.jsx)(`td`,{className:`px-6 py-4`,children:cS(e.date)}),(0,q.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,q.jsxs)(`div`,{className:`font-bold text-slate-700 flex items-center gap-2`,children:[e.serviceType,t&&(0,q.jsx)(fx,{size:12,className:`text-red-500`,title:`Rahasia`})]}),(0,q.jsx)(`div`,{className:`text-xs text-slate-400`,children:e.technique})]}),(0,q.jsx)(`td`,{className:`px-6 py-4 text-slate-600 line-clamp-2`,children:e.description})]},e.id)}):(0,q.jsx)(`tr`,{children:(0,q.jsx)(`td`,{colSpan:`3`,className:`p-12 text-center text-slate-400 italic`,children:`Belum ada data layanan.`})})})]})]})}):(0,q.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center text-slate-400 opacity-60`,children:[(0,q.jsx)(Cb,{size:64,className:`mb-4 text-slate-300`}),(0,q.jsx)(`p`,{className:`text-lg font-medium`,children:`Cari dan pilih siswa untuk melihat riwayat`})]})}),(0,q.jsx)(U$,{isOpen:f,onClose:()=>p(!1),student:h,journals:t,settings:n,onUpdateStudent:(e,t)=>{i&&i(e,t)}})]})},G$=o(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),K$=o(((e,t)=>{var n=G$();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),Q=c(o(((e,t)=>{t.exports=K$()()}))()),q$=function(){return q$=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q$.apply(this,arguments)},J$={onActivate:Q.func,onAddUndo:Q.func,onBeforeAddUndo:Q.func,onBeforeExecCommand:Q.func,onBeforeGetContent:Q.func,onBeforeRenderUI:Q.func,onBeforeSetContent:Q.func,onBeforePaste:Q.func,onBlur:Q.func,onChange:Q.func,onClearUndos:Q.func,onClick:Q.func,onContextMenu:Q.func,onCommentChange:Q.func,onCompositionEnd:Q.func,onCompositionStart:Q.func,onCompositionUpdate:Q.func,onCopy:Q.func,onCut:Q.func,onDblclick:Q.func,onDeactivate:Q.func,onDirty:Q.func,onDrag:Q.func,onDragDrop:Q.func,onDragEnd:Q.func,onDragGesture:Q.func,onDragOver:Q.func,onDrop:Q.func,onExecCommand:Q.func,onFocus:Q.func,onFocusIn:Q.func,onFocusOut:Q.func,onGetContent:Q.func,onHide:Q.func,onInit:Q.func,onInput:Q.func,onKeyDown:Q.func,onKeyPress:Q.func,onKeyUp:Q.func,onLoadContent:Q.func,onMouseDown:Q.func,onMouseEnter:Q.func,onMouseLeave:Q.func,onMouseMove:Q.func,onMouseOut:Q.func,onMouseOver:Q.func,onMouseUp:Q.func,onNodeChange:Q.func,onObjectResizeStart:Q.func,onObjectResized:Q.func,onObjectSelected:Q.func,onPaste:Q.func,onPostProcess:Q.func,onPostRender:Q.func,onPreProcess:Q.func,onProgressState:Q.func,onRedo:Q.func,onRemove:Q.func,onReset:Q.func,onSaveContent:Q.func,onSelectionChange:Q.func,onSetAttrib:Q.func,onSetContent:Q.func,onShow:Q.func,onSubmit:Q.func,onUndo:Q.func,onVisualAid:Q.func,onSkinLoadError:Q.func,onThemeLoadError:Q.func,onModelLoadError:Q.func,onPluginLoadError:Q.func,onIconsLoadError:Q.func,onLanguageLoadError:Q.func,onScriptsLoad:Q.func,onScriptsLoadError:Q.func},Y$=q$({apiKey:Q.string,licenseKey:Q.string,id:Q.string,inline:Q.bool,init:Q.object,initialValue:Q.string,onEditorChange:Q.func,value:Q.string,tagName:Q.string,tabIndex:Q.number,cloudChannel:Q.string,plugins:Q.oneOfType([Q.string,Q.array]),toolbar:Q.oneOfType([Q.string,Q.array]),disabled:Q.bool,readonly:Q.bool,textareaName:Q.string,tinymceScriptSrc:Q.oneOfType([Q.string,Q.arrayOf(Q.string),Q.arrayOf(Q.shape({src:Q.string,async:Q.bool,defer:Q.bool}))]),rollback:Q.oneOfType([Q.number,Q.oneOf([!1])]),scriptLoading:Q.shape({async:Q.bool,defer:Q.bool,delay:Q.number})},J$),X$=function(e){var t=e;return t&&t.tinymce?t.tinymce:null},Z$=function(e){return typeof e==`function`},Q$=function(e){return e in J$},$$=function(e){return e.substr(2)},e1=function(e,t,n,r,i,a,o){var s=Object.keys(i).filter(Q$),c=Object.keys(a).filter(Q$),l=s.filter(function(e){return a[e]===void 0}),u=c.filter(function(e){return i[e]===void 0});l.forEach(function(e){var t=$$(e),r=o[t];n(t,r),delete o[t]}),u.forEach(function(n){var i=r(e,n),a=$$(n);o[a]=i,t(a,i)})},t1=function(e,t,n,r,i){return e1(i,e.on.bind(e),e.off.bind(e),function(t,n){return function(r){return t(n)?.(r,e)}},t,n,r)},n1=0,r1=function(e){var t=Date.now(),n=Math.floor(Math.random()*1e9);return n1++,e+`_`+n+n1+String(t)},i1=function(e){return e!==null&&(e.tagName.toLowerCase()===`textarea`||e.tagName.toLowerCase()===`input`)},a1=function(e){return e===void 0||e===``?[]:Array.isArray(e)?e:e.split(` `)},o1=function(e,t){return a1(e).concat(a1(t))},s1=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges==`function`},c1=function(e){if(!(`isConnected`in Node.prototype)){for(var t=e,n=e.parentNode;n!=null;)t=n,n=t.parentNode;return t===e.ownerDocument}return e.isConnected},l1=function(e,t){e!==void 0&&(e.mode!=null&&typeof e.mode==`object`&&typeof e.mode.set==`function`?e.mode.set(t):e.setMode(t))},u1=function(e){var t=X$(e);if(!t)throw Error(`tinymce should have been loaded into global scope`);return t},d1=function(e){return e.options&&e.options.isRegistered(`disabled`)},f1=function(){return f1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f1.apply(this,arguments)},p1=function(e,t,n){var r=e.createElement(`script`);r.referrerPolicy=`origin`,r.type=`application/javascript`,r.id=t.id,r.src=t.src,r.async=t.async??!1,r.defer=t.defer??!1;var i=function(){r.removeEventListener(`load`,i),r.removeEventListener(`error`,a),n(t.src)},a=function(e){r.removeEventListener(`load`,i),r.removeEventListener(`error`,a),n(t.src,e)};r.addEventListener(`load`,i),r.addEventListener(`error`,a),e.head&&e.head.appendChild(r)},m1=function(e){var t={},n=function(e,n){var r=t[e];r.done=!0,r.error=n;for(var i=0,a=r.handlers;i<a.length;i++){var o=a[i];o(e,n)}r.handlers=[]};return{loadScripts:function(r,i,a){var o=function(e){return a===void 0?console.error(e):a(e)};if(r.length===0){o(Error(`At least one script must be provided`));return}for(var s=0,c=!1,l=function(e,t){c||(t?(c=!0,o(t)):++s===r.length&&i())},u=0,d=r;u<d.length;u++){var f=d[u],p=t[f.src];if(p)p.done?l(f.src,p.error):p.handlers.push(l);else{var m=r1(`tiny-`);t[f.src]={id:m,src:f.src,done:!1,error:null,handlers:[l]},p1(e,f1({id:m},f),n)}}},deleteScripts:function(){for(var n,r=0,i=Object.values(t);r<i.length;r++){var a=i[r],o=e.getElementById(a.id);o!=null&&o.tagName===`SCRIPT`&&((n=o.parentNode)==null||n.removeChild(o))}t={}},getDocument:function(){return e}}},h1=function(){var e=[],t=function(t){var n=e.find(function(e){return e.getDocument()===t});return n===void 0&&(n=m1(t),e.push(n)),n};return{loadList:function(e,n,r,i,a){var o=function(){return t(e).loadScripts(n,i,a)};r>0?setTimeout(o,r):o()},reinitialize:function(){for(var t=e.pop();t!=null;t=e.pop())t.deleteScripts()}}}(),g1=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_1=function(){return _1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_1.apply(this,arguments)},v1=`change keyup compositionend setcontent CommentChange`,y1=function(e){g1(t,e);function t(t){var n=e.call(this,t)||this;return n.rollbackTimer=void 0,n.valueCursor=void 0,n.rollbackChange=function(){var e=n.editor,t=n.props.value;e&&t&&t!==n.currentContent&&e.undoManager.ignore(function(){if(e.setContent(t),n.valueCursor&&(!n.inline||e.hasFocus()))try{e.selection.moveToBookmark(n.valueCursor)}catch{}}),n.rollbackTimer=void 0},n.handleBeforeInput=function(e){if(n.props.value!==void 0&&n.props.value===n.currentContent&&n.editor&&(!n.inline||n.editor.hasFocus()))try{n.valueCursor=n.editor.selection.getBookmark(3)}catch{}},n.handleBeforeInputSpecial=function(e){(e.key===`Enter`||e.key===`Backspace`||e.key===`Delete`)&&n.handleBeforeInput(e)},n.handleEditorChange=function(e){var t=n.editor;if(t&&t.initialized){var r=t.getContent();n.props.value!==void 0&&n.props.value!==r&&n.props.rollback!==!1&&(n.rollbackTimer||=window.setTimeout(n.rollbackChange,typeof n.props.rollback==`number`?n.props.rollback:200)),r!==n.currentContent&&(n.currentContent=r,Z$(n.props.onEditorChange)&&n.props.onEditorChange(r,t))}},n.handleEditorChangeSpecial=function(e){(e.key===`Backspace`||e.key===`Delete`)&&n.handleEditorChange(e)},n.initialise=function(e){e===void 0&&(e=0);var t=n.elementRef.current;if(t){if(!c1(t)){if(e===0)setTimeout(function(){return n.initialise(1)},1);else if(e<100)setTimeout(function(){return n.initialise(e+1)},100);else throw Error(`tinymce can only be initialised when in a document`);return}var r=u1(n.view),i=_1(_1(_1(_1({},n.props.init),{selector:void 0,target:t,disabled:n.props.disabled,readonly:n.props.readonly,inline:n.inline,plugins:o1(n.props.init?.plugins,n.props.plugins),toolbar:n.props.toolbar??n.props.init?.toolbar}),n.props.licenseKey?{license_key:n.props.licenseKey}:{}),{setup:function(e){n.editor=e,n.bindHandlers({}),n.inline&&!i1(t)&&e.once(`PostRender`,function(t){e.setContent(n.getInitialValue(),{no_events:!0})}),n.props.init&&Z$(n.props.init.setup)&&n.props.init.setup(e),n.props.disabled&&(d1(n.editor)?n.editor.options.set(`disabled`,n.props.disabled):n.editor.mode.set(`readonly`))},init_instance_callback:function(e){var t=n.getInitialValue();n.currentContent=n.currentContent??e.getContent(),n.currentContent!==t&&(n.currentContent=t,e.setContent(t),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1)),n.props.init&&Z$(n.props.init.init_instance_callback)&&n.props.init.init_instance_callback(e)}});n.inline||(t.style.visibility=``),i1(t)&&(t.value=n.getInitialValue()),r.init(i)}},n.id=n.props.id||r1(`tiny-react`),n.elementRef=y.createRef(),n.inline=n.props.inline??n.props.init?.inline??!1,n.boundHandlers={},n}return Object.defineProperty(t.prototype,`view`,{get:function(){return this.elementRef.current?.ownerDocument.defaultView??window},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t=this;if(this.rollbackTimer&&=(clearTimeout(this.rollbackTimer),void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=this.currentContent??this.editor.getContent(),typeof this.props.initialValue==`string`&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value==`string`&&this.props.value!==this.currentContent){var n=this.editor;n.undoManager.transact(function(){var e;if(!t.inline||n.hasFocus())try{e=n.selection.getBookmark(3)}catch{}var r=t.valueCursor;if(n.setContent(t.props.value),!t.inline||n.hasFocus())for(var i=0,a=[e,r];i<a.length;i++){var o=a[i];if(o)try{n.selection.moveToBookmark(o),t.valueCursor=o;break}catch{}}})}if(this.props.readonly!==e.readonly){var r=this.props.readonly??!1;l1(this.editor,r?`readonly`:`design`)}this.props.disabled!==e.disabled&&(d1(this.editor)?this.editor.options.set(`disabled`,this.props.disabled):l1(this.editor,this.props.disabled?`readonly`:`design`))}},t.prototype.componentDidMount=function(){var e=this,t,n;X$(this.view)===null?Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0?(n=(t=this.props).onScriptsLoadError)==null||n.call(t,Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.")):this.elementRef.current?.ownerDocument&&h1.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),this.props.scriptLoading?.delay??0,function(){var t,n;(n=(t=e.props).onScriptsLoad)==null||n.call(t),e.initialise()},function(t){var n,r;(r=(n=e.props).onScriptsLoadError)==null||r.call(n,t)}):this.initialise()},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(v1,this.handleEditorChange),t.off(this.beforeInputEvent(),this.handleBeforeInput),t.off(`keypress`,this.handleEditorChangeSpecial),t.off(`keydown`,this.handleBeforeInputSpecial),t.off(`NewBlock`,this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(n){t.off(n,e.boundHandlers[n])}),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.beforeInputEvent=function(){return s1()?`beforeinput SelectionChange`:`SelectionChange`},t.prototype.renderInline=function(){var e=this.props.tagName,t=e===void 0?`div`:e;return y.createElement(t,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},t.prototype.renderIframe=function(){return y.createElement(`textarea`,{ref:this.elementRef,style:{visibility:`hidden`},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},t.prototype.getScriptSources=function(){var e=this.props.scriptLoading?.async,t=this.props.scriptLoading?.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc==`string`?[{src:this.props.tinymceScriptSrc,async:e,defer:t}]:this.props.tinymceScriptSrc.map(function(n){return typeof n==`string`?{src:n,async:e,defer:t}:n});var n=this.props.cloudChannel;return[{src:`https://cdn.tiny.cloud/1/${this.props.apiKey?this.props.apiKey:`no-api-key`}/tinymce/${n}/tinymce.min.js`,async:e,defer:t}]},t.prototype.getInitialValue=function(){return typeof this.props.initialValue==`string`?this.props.initialValue:typeof this.props.value==`string`?this.props.value:``},t.prototype.bindHandlers=function(e){var t=this;if(this.editor!==void 0){t1(this.editor,e,this.props,this.boundHandlers,function(e){return t.props[e]});var n=function(e){return e.onEditorChange!==void 0||e.value!==void 0},r=n(e),i=n(this.props);!r&&i?(this.editor.on(v1,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on(`keydown`,this.handleBeforeInputSpecial),this.editor.on(`keyup`,this.handleEditorChangeSpecial),this.editor.on(`NewBlock`,this.handleEditorChange)):r&&!i&&(this.editor.off(v1,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off(`keydown`,this.handleBeforeInputSpecial),this.editor.off(`keyup`,this.handleEditorChangeSpecial),this.editor.off(`NewBlock`,this.handleEditorChange))}},t.propTypes=Y$,t.defaultProps={cloudChannel:`8`},t}(y.Component);const b1=e=>`
    <div style="display: flex; align-items: center; justify-content: space-between; border-bottom: 3px double black; padding-bottom: 10px; margin-bottom: 20px;">
        <div style="width: 80px; text-align: center;">
            ${e?.logo?`<img src="${e.logo}" width="80" height="auto" />`:``}
        </div>
        <div style="flex: 1; text-align: center; padding: 0 10px;">
            <h4 style="font-size: 12pt; margin: 0; text-transform: uppercase;">${e?.government||`PEMERINTAH PROVINSI ...`}</h4>
            <h4 style="font-size: 12pt; margin: 0; text-transform: uppercase;">${e?.department||`DINAS PENDIDIKAN`}</h4>
            <h2 style="font-size: 16pt; font-weight: bold; margin: 5px 0; text-transform: uppercase;">${e?.name||`NAMA SEKOLAH`}</h2>
            <p style="font-size: 9pt; margin: 0;">${e?.address||`Alamat Sekolah...`}</p>
        </div>
        <div style="width: 80px; text-align: center;">
            ${e?.logo2?`<img src="${e.logo2}" width="80" height="auto" />`:``}
        </div>
    </div>
    `,x1=(e,t)=>`
    <div style="margin-top: 30px; float: right; width: 220px; text-align: center;">
        <p>${e?.city||`...`}, [TANGGAL_SEKARANG]</p>
        <p>Guru BK / Konselor</p>
        <br/><br/><br/><br/>
        <p style="font-weight: bold; text-decoration: underline;">${e?.counselor||t?.fullName||`...`}</p>
        <p>NIP. ${e?.nipCounselor||`-`}</p>
    </div>
    <div style="clear: both;"></div>
    `,S1=(e,t,n)=>{let r=(t||[]).filter(t=>t.studentId===e),i=r.filter(e=>e.type===`violation`).reduce((e,t)=>e+parseInt(t.value||0),0)-r.filter(e=>e.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0),a=(n||[]).sort((e,t)=>t.max-e.max).find(e=>i>=e.min&&i<=e.max),o=a?`${a.penalty||a.action} (Kategori: ${a.min}-${a.max} Poin)`:`Dalam Pembinaan`,s=r.filter(e=>e.type===`violation`).sort((e,t)=>new Date(t.date)-new Date(e.date));return s.length===0?`<p style="font-style: italic; text-align: center;">- Tidak ada riwayat pelanggaran tercatat -</p>`:`
        <table style="width: 100%; border-collapse: collapse; margin-top: 5px; margin-bottom: 5px; font-size: 11pt;">
            <thead>
                <tr style="background-color: #f0f0f0;">
                    <th style="border: 1px solid black; padding: 4px; width: 5%;">No</th>
                    <th style="border: 1px solid black; padding: 4px; width: 15%;">Tanggal</th>
                    <th style="border: 1px solid black; padding: 4px; width: 10%;">Kode</th>
                    <th style="border: 1px solid black; padding: 4px; width: 55%;">Jenis Pelanggaran</th>
                    <th style="border: 1px solid black; padding: 4px; width: 15%;">Poin</th>
                </tr>
            </thead>
            <tbody>
                ${s.map((e,t)=>{let n=e.description;return e.code&&e.description.startsWith(e.code)&&(n=e.description.replace(`${e.code} - `,``).replace(`${e.code}-`,``)),`
        <tr>
            <td style="border: 1px solid black; padding: 4px; text-align: center;">${t+1}</td>
            <td style="border: 1px solid black; padding: 4px;">${cS(e.date)}</td>
            <td style="border: 1px solid black; padding: 4px; text-align: center; font-weight: bold;">${e.code||`-`}</td>
            <td style="border: 1px solid black; padding: 4px;">${n||`Pelanggaran Tanpa Ket.`}</td>
            <td style="border: 1px solid black; padding: 4px; text-align: center;">${e.value}</td>
        </tr>
    `}).join(``)}
                <tr style="background-color: #fafafa; font-weight: bold;">
                    <td colspan="4" style="border: 1px solid black; padding: 4px; text-align: right;">Total Akumulasi Poin :</td>
                    <td style="border: 1px solid black; padding: 4px; text-align: center;">${i}</td>
                </tr>
            </tbody>
        </table>
        <p style="margin-top: 5px;">Berdasarkan akumulasi poin di atas, siswa dikenakan sanksi: <strong>${o}</strong></p>
    `};var C1=h(),w1=({isOpen:e,onClose:t,contentRef:n})=>((0,y.useEffect)(()=>(e?document.body.style.overflow=`hidden`:document.body.style.overflow=`unset`,()=>{document.body.style.overflow=`unset`}),[e]),e?(0,C1.createPortal)((0,q.jsx)(`div`,{className:`fixed inset-0 z-[9999] bg-slate-900/90 flex flex-col items-center justify-center p-4 backdrop-blur-sm print:p-0 print:bg-white print:static print:block`,children:(0,q.jsxs)(`div`,{className:`bg-white w-full max-w-[215mm] h-[90vh] md:h-auto md:aspect-[210/297] shadow-2xl rounded-xl overflow-hidden flex flex-col print:shadow-none print:rounded-none print:w-auto print:h-auto print:max-w-none print:block print:overflow-visible`,children:[(0,q.jsxs)(`div`,{className:`bg-slate-800 text-white p-4 flex justify-between items-center print:hidden flex-shrink-0`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h2`,{className:`font-bold flex items-center gap-2 text-lg`,children:[(0,q.jsx)(Cx,{size:20}),` Pratinjau Cetak`]}),(0,q.jsx)(`p`,{className:`text-xs text-slate-400 mt-1`,children:`Halaman kosong di awal sudah diperbaiki.`})]}),(0,q.jsxs)(`div`,{className:`flex gap-3`,children:[(0,q.jsxs)(`button`,{onClick:t,className:`px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors flex items-center gap-2`,children:[(0,q.jsx)(Gx,{size:16}),` Tutup`]}),(0,q.jsxs)(`button`,{onClick:()=>{window.print()},className:`px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-bold shadow-lg shadow-blue-900/50 flex items-center gap-2 transition-all active:scale-95`,children:[(0,q.jsx)(Cx,{size:18}),` Cetak Sekarang`]})]})]}),(0,q.jsxs)(`div`,{className:`flex-1 bg-white overflow-y-auto print:overflow-visible print:h-auto print:block`,children:[(0,q.jsx)(`style`,{children:`
                        /* CSS untuk Tampilan Layar (Konsisten dengan Editor) */
                        .letter-content {
                            padding: 2.5cm; 
                            color: black;
                            line-height: 1.15; /* Sesuai Editor */
                            font-size: 12pt;
                        }

                        /* RESET LIST & MARGIN (Wajib agar numbering muncul) */
                        .letter-content ul { list-style-type: disc !important; padding-left: 2rem !important; margin-bottom: 0.5rem; margin-top: 0; }
                        .letter-content ol { list-style-type: decimal !important; padding-left: 2rem !important; margin-bottom: 0.5rem; margin-top: 0; }
                        .letter-content li { margin-bottom: 0; }
                        .letter-content table { border-collapse: collapse; width: 100%; }
                        .letter-content p { margin-bottom: 0.5rem; margin-top: 0; }

                        /* --- CSS KHUSUS CETAK --- */
                        @media print {
                            /* Sembunyikan Aplikasi Utama */
                            #root, #main-app, .no-print {
                                display: none !important;
                            }

                            /* Reset Body & HTML */
                            html, body {
                                height: auto !important;
                                overflow: visible !important;
                                margin: 0 !important;
                                padding: 0 !important;
                                background: white !important;
                            }

                            /* Reset Modal Wrapper */
                            div[class*="fixed"] {
                                position: static !important;
                                display: block !important;
                                background: white !important;
                                height: auto !important;
                                width: auto !important;
                                margin: 0 !important;
                                padding: 0 !important;
                            }

                            /* Atur Area Cetak */
                            #print-area {
                                position: relative !important;
                                display: block !important;
                                width: 100% !important;
                                height: auto !important;
                                left: 0 !important;
                                top: 0 !important;
                                margin: 0 !important;
                                padding: 0 !important;
                            }

                            /* Hapus padding konten agar margin kertas yang mengatur */
                            .letter-content {
                                padding: 0 !important; 
                                margin: 0 !important;
                                width: 100% !important;
                            }

                            /* Aturan Kertas Dinamis */
                            @page {
                                size: auto;   
                                margin: 2cm;  
                            }
                        }
                    `}),(0,q.jsx)(`div`,{id:`print-area`,children:(0,q.jsx)(`div`,{className:`letter-content font-serif`,dangerouslySetInnerHTML:{__html:n}})})]})]})}),document.body):null),T1=({students:e,templates:t,settings:n,pointLogs:r,sanctionRules:i,user:a})=>{let o=Ue(),[s,c]=(0,y.useState)(``),[l,u]=(0,y.useState)(``),[d,f]=(0,y.useState)(`001/BK/2026`),[p,m]=(0,y.useState)(``),[h,g]=(0,y.useState)(!1),_=(0,y.useRef)(null),v=t.filter(e=>e.isGlobal),b=t.filter(e=>!e.isGlobal);return(0,y.useEffect)(()=>{if(o.state?.preSelectedStudentId){c(o.state.preSelectedStudentId);let e=o.state.suggestedTemplateKeyword;if(e&&t.length>0){let n=t.find(t=>t.title.toLowerCase().includes(e.toLowerCase()));n&&u(n.id)}}},[o.state,t]),(0,q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-2 h-[calc(100vh-140px)]`,children:[(0,q.jsxs)(`div`,{className:`lg:col-span-1 space-y-4 overflow-y-auto pr-2`,children:[(0,q.jsxs)(`div`,{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200`,children:[(0,q.jsx)(`h3`,{className:`font-bold text-slate-800 mb-6 border-b pb-2`,children:`Konfigurasi Surat`}),o.state?.preSelectedStudentId&&(0,q.jsxs)(`div`,{className:`mb-4 bg-green-50 text-green-700 p-3 rounded-lg text-xs flex items-center gap-2 border border-green-200 font-medium`,children:[(0,q.jsx)(bb,{size:14}),` Mode Tindak Lanjut Sanksi`]}),(0,q.jsxs)(`div`,{className:`space-y-5`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`1. Pilih Template`}),(0,q.jsxs)(`select`,{className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50 focus:ring-2 focus:ring-blue-500 outline-none`,value:l,onChange:e=>{u(e.target.value),m(``)},children:[(0,q.jsx)(`option`,{value:``,children:`-- Pilih Jenis Surat --`}),v.length>0&&(0,q.jsx)(`optgroup`,{label:`Template Sekolah (Global)`,children:v.map(e=>(0,q.jsx)(`option`,{value:e.id,children:e.title},e.id))}),b.length>0&&(0,q.jsx)(`optgroup`,{label:`Template Pribadi`,children:b.map(e=>(0,q.jsx)(`option`,{value:e.id,children:e.title},e.id))})]}),o.state?.suggestedTemplateKeyword&&!l&&(0,q.jsxs)(`p`,{className:`text-[10px] text-blue-500 mt-1 italic`,children:[`*Saran: "`,o.state.suggestedTemplateKeyword,`"`]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`2. Pilih Siswa`}),(0,q.jsxs)(`div`,{className:`relative`,children:[(0,q.jsx)(kx,{className:`absolute left-3 top-2.5 text-slate-400`,size:16}),(0,q.jsxs)(`select`,{className:`w-full pl-9 p-2.5 border border-slate-300 rounded-lg text-sm bg-slate-50 focus:ring-2 focus:ring-blue-500 outline-none`,value:s,onChange:e=>{c(e.target.value),m(``)},children:[(0,q.jsx)(`option`,{value:``,children:`-- Cari Siswa --`}),e.map(e=>(0,q.jsxs)(`option`,{value:e.id,children:[e.name,` - `,e.class]},e.id))]})]})]}),(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase mb-1`,children:`3. Nomor Surat`}),(0,q.jsx)(`input`,{type:`text`,className:`w-full p-2.5 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none`,value:d,onChange:e=>f(e.target.value),placeholder:`Contoh: 005/BK/SMA/2026`})]}),(0,q.jsxs)(`button`,{onClick:()=>{if(!s||!l)return;let o=e.find(e=>e.id===s),c=t.find(e=>e.id===l);if(!o||!c)return;let u=c.body,f=(r||[]).filter(e=>e.studentId===s),p=f.filter(e=>e.type===`violation`),h=p.reduce((e,t)=>e+parseInt(t.value||0),0)-f.filter(e=>e.type===`achievement`).reduce((e,t)=>e+parseInt(t.value||0),0),g=(i||[]).sort((e,t)=>t.max-e.max).find(e=>h>=e.min&&h<=e.max),_=g?`${g.penalty||g.action} (Kategori: ${g.min}-${g.max} Poin)`:`Dalam Pembinaan`,v=S1(s,r,i),y=[...new Set(p.map(e=>e.code).filter(e=>e))].join(`, `),b=[...new Set(p.map(e=>{let t=e.description||``;return e.code&&t.startsWith(e.code)&&(t=t.replace(`${e.code} - `,``).replace(`${e.code}-`,``).trim()),t}).filter(e=>e))].join(`, `),x=n.logo?`<img src="${n.logo}" style="height: 80px; width: auto; object-fit: contain;" alt="Logo"/>`:``,S=n.logo2?`<img src="${n.logo2}" style="height: 80px; width: auto; object-fit: contain;" alt="Logo 2"/>`:``,C={"[LOGO_KIRI]":x,"[LOGO_KANAN]":S,"[NAMA_PEMERINTAH]":n.government||``,"[NAMA_DINAS]":n.department||``,"[NAMA_SEKOLAH]":n.name||`Nama Sekolah`,"[ALAMAT_1]":n.address||``,"[ALAMAT_2]":n.address2||n.website||``,"[ALAMAT_SEKOLAH]":n.address||``,"[KOTA_SEKOLAH]":n.city||``,"[NAMA_SISWA]":o.name,"[KELAS]":o.class,"[NISN]":o.nisn||`-`,"[NAMA_ORANGTUA]":o.parent||`Orang Tua/Wali`,"[ALAMAT]":o.address||`Di Tempat`,"[HP_ORANGTUA]":o.parentPhone||`-`,"[TOTAL_POIN]":h,"[SANKSI_SAAT_INI]":_,"[LIST_PELANGGARAN]":v,"[KODE_PELANGGARAN]":y||`-`,"[JENIS_PELANGGARAN]":b||`-`,"[NOMOR_SURAT]":d,"[TANGGAL_SEKARANG]":cS(new Date().toISOString()),"[KEPALA_SEKOLAH]":n.headmaster||`...`,"[NIP_KEPSEK]":n.nipHeadmaster||`-`,"[WAKA_KESISWAAN]":n.wakaKesiswaan||`...`,"[NIP_WAKA]":n.nipWakaKesiswaan||`-`,"[GURU_BK]":n.counselor||a?.fullName||`...`,"[NIP_GURU]":n.nipCounselor||`-`,"[KOTA]":n.city||`...`};Object.keys(C).forEach(e=>{u=u.replaceAll(e,C[e])}),m(`
            <div style="font-family: 'Times New Roman', serif; line-height: 1.15; color: black; font-size: 12pt;">
                ${u}
            </div>
        `)},disabled:!s||!l,className:`w-full py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-200 active:scale-95 flex justify-center items-center gap-2`,children:[(0,q.jsx)(Xb,{size:18}),` Generate & Edit`]})]})]}),(0,q.jsxs)(`div`,{className:`bg-blue-50 text-blue-800 p-4 rounded-xl text-xs space-y-2 border border-blue-100`,children:[(0,q.jsxs)(`p`,{className:`font-bold flex items-center gap-2`,children:[(0,q.jsx)(Pb,{size:14}),` Info:`]}),(0,q.jsxs)(`p`,{children:[`Gunakan variabel `,(0,q.jsx)(`b`,{children:`[JENIS_PELANGGARAN]`}),` untuk menampilkan daftar pelanggaran dalam satu baris teks.`]})]})]}),(0,q.jsxs)(`div`,{className:`lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden h-full`,children:[(0,q.jsxs)(`div`,{className:`p-3 border-b bg-slate-50 flex justify-between items-center flex-shrink-0`,children:[(0,q.jsxs)(`span`,{className:`text-sm font-bold text-slate-500 flex items-center gap-2`,children:[(0,q.jsx)(Ax,{size:14}),` Editor Surat Final`]}),p&&(0,q.jsxs)(`button`,{onClick:()=>g(!0),className:`bg-slate-800 text-white px-4 py-2 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-black transition-colors shadow-lg`,children:[(0,q.jsx)(Cx,{size:14}),` Cetak / PDF`]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-hidden relative bg-slate-100 p-0 md:p-2`,children:p?(0,q.jsx)(`div`,{className:`h-full rounded-lg overflow-hidden shadow-inner border border-slate-300`,children:(0,q.jsx)(y1,{apiKey:`z9befhegvza1db551npe4yek5t81883n4f9rijssnf6aa5p1`,onInit:(e,t)=>_.current=t,value:p,onEditorChange:e=>m(e),init:{height:`100%`,menubar:!1,plugins:[`advlist`,`autolink`,`lists`,`link`,`image`,`charmap`,`preview`,`anchor`,`searchreplace`,`visualblocks`,`code`,`fullscreen`,`insertdatetime`,`media`,`table`,`help`,`wordcount`],toolbar:`undo redo | fontfamily fontsize | bold italic underline | alignleft aligncenter alignright alignjustify | lineheight | bullist numlist outdent indent | table | removeformat`,line_height_formats:`1 1.15 1.5 2 2.5 3`,content_style:`body { font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.15; color: black; } p { margin-bottom: 0.5em; margin-top: 0; } ul, ol { margin-bottom: 0.5em; margin-top: 0; } li { margin-bottom: 0; } table { border-collapse: collapse; } td { padding: 2px; }`,statusbar:!1,zindex:10}})}):(0,q.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center text-slate-400`,children:[(0,q.jsx)(`div`,{className:`w-20 h-20 bg-slate-200 rounded-full flex items-center justify-center mb-4`,children:(0,q.jsx)(Xb,{size:40,className:`text-slate-400`})}),(0,q.jsx)(`p`,{className:`font-medium`,children:`Pilih template & siswa, lalu klik "Generate & Edit".`})]})})]}),(0,q.jsx)(w1,{isOpen:h,onClose:()=>g(!1),contentRef:p})]})},E1=({templates:e,user:t,settings:n})=>{let r=(0,y.useRef)(null),[i,a]=(0,y.useState)(null),[o,s]=(0,y.useState)(``),[c,l]=(0,y.useState)(``),u=[{category:`Data Kop Surat`,items:[{code:`[LOGO_KIRI]`,label:`Logo Kiri (Image)`},{code:`[LOGO_KANAN]`,label:`Logo Kanan (Image)`},{code:`[NAMA_PEMERINTAH]`,label:`Nama Pemerintah/Yayasan`},{code:`[NAMA_DINAS]`,label:`Nama Dinas`},{code:`[NAMA_SEKOLAH]`,label:`Nama Sekolah`},{code:`[ALAMAT_1]`,label:`Alamat Baris 1 (Jalan)`},{code:`[ALAMAT_2]`,label:`Info Tambahan (Email/Web)`},{code:`[KOTA_SEKOLAH]`,label:`Kota/Kabupaten`}]},{category:`Data Siswa`,items:[{code:`[NAMA_SISWA]`,label:`Nama Lengkap`},{code:`[KELAS]`,label:`Kelas`},{code:`[NISN]`,label:`NISN`},{code:`[NAMA_ORANGTUA]`,label:`Nama Orang Tua`},{code:`[HP_ORANGTUA]`,label:`No. HP Ortu`},{code:`[ALAMAT]`,label:`Alamat Siswa`}]},{category:`Pelanggaran & Sanksi`,items:[{code:`[TOTAL_POIN]`,label:`Total Poin`},{code:`[SANKSI_SAAT_INI]`,label:`Status Sanksi`},{code:`[LIST_PELANGGARAN]`,label:`Tabel Riwayat Pelanggaran`},{code:`[KODE_PELANGGARAN]`,label:`List Kode Pelanggaran`},{code:`[JENIS_PELANGGARAN]`,label:`List Jenis Pelanggaran`}]},{category:`Data Surat`,items:[{code:`[NOMOR_SURAT]`,label:`Nomor Surat`},{code:`[TANGGAL_SEKARANG]`,label:`Tanggal Hari Ini`}]},{category:`Pejabat Sekolah`,items:[{code:`[KEPALA_SEKOLAH]`,label:`Kepala Sekolah`},{code:`[NIP_KEPSEK]`,label:`NIP Kepsek`},{code:`[WAKA_KESISWAAN]`,label:`Waka Kesiswaan`},{code:`[NIP_WAKA]`,label:`NIP Waka`},{code:`[GURU_BK]`,label:`Guru BK`},{code:`[NIP_GURU]`,label:`NIP Guru BK`}]}],d=async()=>{if(!o||!c)return alert(`Judul dan Isi tidak boleh kosong`);let e=t.role===`admin`,n={title:o,body:c,teacherId:t.id,isGlobal:e,updatedAt:new Date().toISOString()};try{if(i&&i.id){if(i.isGlobal&&t.role!==`admin`)return alert(`Anda tidak memiliki akses untuk mengubah template ini.`);await eb(Gv(lb,`letter_templates`,i.id),n),alert(`Template berhasil diperbarui`)}else await nb(Wv(lb,`letter_templates`),n),alert(e?`Template Global (Admin) berhasil disimpan`:`Template Pribadi berhasil disimpan`);a(null),s(``),l(``)}catch(e){console.error(`Error saving:`,e),alert(`Gagal menyimpan: `+e.message)}},f=async e=>{if(e.isGlobal&&t.role!==`admin`)return alert(`Template Global tidak dapat dihapus oleh Guru.`);confirm(`Hapus template ini?`)&&await tb(Gv(lb,`letter_templates`,e.id))},p=e=>{r.current&&r.current.insertContent(e)};return(0,q.jsxs)(`div`,{className:`animate-in fade-in h-full`,children:[!i&&(0,q.jsxs)(`div`,{className:`space-y-6`,children:[(0,q.jsxs)(`button`,{onClick:()=>{a({id:null}),s(``),l(`
            ${b1(n)}
            <p style="text-align: center; font-weight: bold; font-size: 14pt; text-decoration: underline; margin-bottom: 0;">SURAT PERNYATAAN SISWA</p>
            <p style="text-align: center; margin-top: 5px;">Nomor : [NOMOR_SURAT]</p>
            <p>&nbsp;</p>
            <p>Saya yang bertanda tangan di bawah ini:</p>
            <table style="width: 100%; margin-left: 20px;">
                <tr><td width="150">Nama</td><td>: <b>[NAMA_SISWA]</b></td></tr>
                <tr><td>Kelas</td><td>: [KELAS]</td></tr>
                <tr><td>NISN</td><td>: [NISN]</td></tr>
            </table>
            <p>&nbsp;</p>
            <p>Dengan ini mengakui bahwa saya telah melakukan pelanggaran sebagai berikut:</p>
            <p><b>[JENIS_PELANGGARAN]</b></p>
            
            <p>Detail Riwayat:</p>
            [LIST_PELANGGARAN]
            
            <p style="text-align: justify;">Saya berjanji tidak akan mengulangi perbuatan tersebut.</p>
            <p>&nbsp;</p>
            ${x1(n,t)}
        `)},className:`w-full py-4 border-2 border-dashed border-blue-300 text-blue-600 bg-blue-50/50 rounded-xl font-bold hover:bg-blue-50 transition-colors flex items-center justify-center gap-2`,children:[(0,q.jsx)(xx,{size:20}),` Buat Template Baru`]}),(0,q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:e.map(e=>{let n=t.role===`admin`||!e.isGlobal;return(0,q.jsxs)(`div`,{className:`bg-white p-5 rounded-xl shadow-sm border transition-all group relative overflow-hidden ${e.isGlobal?`border-purple-200`:`border-slate-200 hover:shadow-md hover:border-blue-300`}`,children:[(0,q.jsx)(`div`,{className:`absolute top-0 right-0 px-2 py-1 rounded-bl-lg text-[10px] font-bold ${e.isGlobal?`bg-purple-100 text-purple-700`:`bg-slate-100 text-slate-500`}`,children:e.isGlobal?(0,q.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,q.jsx)(ex,{size:10}),` Global (Admin)`]}):(0,q.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,q.jsx)(Hx,{size:10}),` Pribadi`]})}),(0,q.jsx)(`div`,{className:`absolute top-0 left-0 w-1 h-full ${e.isGlobal?`bg-purple-500`:`bg-blue-500`}`}),(0,q.jsx)(`h4`,{className:`font-bold text-slate-800 text-lg mb-2 pr-16 truncate`,children:e.title}),(0,q.jsxs)(`div`,{className:`text-xs text-slate-500 mb-4 h-12 overflow-hidden relative`,children:[e.body.replace(/<[^>]*>?/gm,` `).substring(0,100),`...`,(0,q.jsx)(`div`,{className:`absolute bottom-0 w-full h-4 bg-gradient-to-t from-white to-transparent`})]}),(0,q.jsx)(`div`,{className:`flex justify-end gap-2 border-t pt-3`,children:n?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(`button`,{onClick:()=>{a(e),s(e.title),l(e.body)},className:`px-3 py-1.5 text-xs font-bold text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1`,children:[(0,q.jsx)(vx,{size:14}),` Edit`]}),(0,q.jsxs)(`button`,{onClick:()=>f(e),className:`px-3 py-1.5 text-xs font-bold text-red-600 bg-red-50 hover:bg-red-100 rounded-lg flex items-center gap-1`,children:[(0,q.jsx)(Fx,{size:14}),` Hapus`]})]}):(0,q.jsxs)(`div`,{className:`flex items-center gap-2 text-slate-400 text-xs py-1.5 italic`,children:[(0,q.jsx)(fx,{size:12}),` Terkunci (Milik Admin)`]})})]},e.id)})})]}),i&&(0,q.jsxs)(`div`,{className:`flex flex-col lg:flex-row gap-4 h-[calc(100vh-140px)]`,children:[(0,q.jsxs)(`div`,{className:`flex-1 bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden flex flex-col h-full`,children:[t.role===`admin`&&(0,q.jsxs)(`div`,{className:`bg-purple-50 text-purple-700 px-4 py-2 text-[10px] font-bold border-b border-purple-100 flex items-center justify-between`,children:[(0,q.jsxs)(`span`,{className:`flex items-center gap-2`,children:[(0,q.jsx)(ex,{size:12}),` MODE ADMIN: Template ini akan disimpan sebagai GLOBAL (Dapat digunakan oleh semua guru).`]}),(0,q.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,q.jsx)(jx,{size:12}),` Akses Penuh`]})]}),(0,q.jsxs)(`div`,{className:`p-3 border-b bg-slate-50 flex justify-between items-center flex-shrink-0`,children:[(0,q.jsxs)(`div`,{className:`flex items-center gap-3 w-full max-w-xl`,children:[(0,q.jsx)(`button`,{onClick:()=>a(null),className:`p-2 hover:bg-white rounded-full transition-colors text-slate-500`,children:(0,q.jsx)(bb,{size:20})}),(0,q.jsx)(`div`,{className:`flex-1`,children:(0,q.jsx)(`input`,{className:`w-full px-3 py-1.5 bg-transparent font-bold text-lg text-slate-800 placeholder-slate-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-100 rounded-lg transition-all`,placeholder:`Judul Template (Wajib Diisi)`,value:o,onChange:e=>s(e.target.value),autoFocus:!0})})]}),(0,q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,q.jsxs)(`button`,{onClick:()=>p(b1(n)),className:`px-3 py-1.5 text-xs font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg flex items-center gap-1`,title:`Sisipkan Kop Surat`,children:[(0,q.jsx)(cx,{size:16}),` `,(0,q.jsx)(`span`,{className:`hidden sm:inline`,children:`Kop`})]}),(0,q.jsxs)(`button`,{onClick:()=>p(x1(n,t)),className:`px-3 py-1.5 text-xs font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg flex items-center gap-1`,title:`Sisipkan Tanda Tangan`,children:[(0,q.jsx)(yx,{size:16}),` `,(0,q.jsx)(`span`,{className:`hidden sm:inline`,children:`TTD`})]}),(0,q.jsxs)(`button`,{onClick:d,className:`px-5 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg active:scale-95 transition-all ml-2`,children:[(0,q.jsx)(Dx,{size:18}),` Simpan`]})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-hidden relative bg-slate-100 p-0 md:p-2`,children:(0,q.jsx)(`div`,{className:`h-full rounded-lg overflow-hidden shadow-inner border border-slate-300`,children:(0,q.jsx)(y1,{apiKey:`z9befhegvza1db551npe4yek5t81883n4f9rijssnf6aa5p1`,onInit:(e,t)=>r.current=t,value:c,onEditorChange:e=>l(e),init:{height:`100%`,menubar:!1,plugins:[`advlist`,`autolink`,`lists`,`link`,`image`,`charmap`,`preview`,`anchor`,`searchreplace`,`visualblocks`,`code`,`fullscreen`,`insertdatetime`,`media`,`table`,`help`,`wordcount`],toolbar:`undo redo | fontfamily fontsize | bold italic underline | alignleft aligncenter alignright alignjustify | lineheight | bullist numlist outdent indent | table | code preview | removeformat`,line_height_formats:`1 1.15 1.5 2 2.5 3`,content_style:`
                                            body { font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.15; }
                                            p { margin-bottom: 0.5em; margin-top: 0; }
                                            ul, ol { margin-bottom: 0.5em; margin-top: 0; }
                                            li { margin-bottom: 0; }
                                            table { border-collapse: collapse; }
                                            td { padding: 2px; }
                                        `,statusbar:!1,zindex:10}})})})]}),(0,q.jsxs)(`div`,{className:`w-full lg:w-72 bg-white rounded-xl shadow-lg border border-slate-200 flex flex-col h-full overflow-hidden`,children:[(0,q.jsxs)(`div`,{className:`p-4 bg-slate-50 border-b flex items-center justify-between`,children:[(0,q.jsxs)(`h3`,{className:`font-bold text-slate-700 flex items-center gap-2`,children:[(0,q.jsx)(Wx,{size:16,className:`text-blue-600`}),` Variabel Surat`]}),(0,q.jsxs)(`div`,{className:`group relative`,children:[(0,q.jsx)(ox,{size:16,className:`text-slate-400 cursor-help`}),(0,q.jsx)(`div`,{className:`absolute right-0 top-6 w-48 bg-slate-800 text-white text-[10px] p-2 rounded shadow-xl z-50 hidden group-hover:block`,children:`Klik tombol variabel untuk memasukkannya ke dalam posisi kursor di editor.`})]})]}),(0,q.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 custom-scrollbar space-y-6`,children:u.map((e,t)=>(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`h4`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2 border-b border-slate-100 pb-1`,children:e.category}),(0,q.jsx)(`div`,{className:`space-y-2`,children:e.items.map(e=>(0,q.jsxs)(`button`,{onClick:()=>p(e.code),className:`w-full text-left px-3 py-2 bg-slate-50 hover:bg-blue-50 border border-slate-100 hover:border-blue-200 rounded-lg transition-all group flex items-center justify-between`,title:`Klik untuk menyisipkan ${e.label}`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsx)(`div`,{className:`text-xs font-bold text-slate-700 font-mono text-blue-700`,children:e.code}),(0,q.jsx)(`div`,{className:`text-[10px] text-slate-500`,children:e.label})]}),(0,q.jsx)(Vb,{size:12,className:`text-slate-300 group-hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity`})]},e.code))})]},t))})]})]})]})};function D1({students:e,user:t,settings:n,pointLogs:r,masterPoints:i,sanctionRules:a}){let[o,s]=(0,y.useState)(`create`),[c,l]=(0,y.useState)([]);return(0,y.useEffect)(()=>{if(!t)return;let e;e=(t.role,Fy(Wv(lb,`letter_templates`),zy(Ly(`isGlobal`,`==`,!0),Ly(`teacherId`,`==`,t.id))));let n=rb(e,e=>{l(e.docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>e.isGlobal===t.isGlobal?e.title.localeCompare(t.title):e.isGlobal?-1:1))});return()=>n()},[t]),(0,q.jsxs)(`div`,{className:`p-4 md:p-6 space-y-6 max-w-7xl mx-auto pb-20`,children:[(0,q.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[(0,q.jsxs)(`div`,{children:[(0,q.jsxs)(`h1`,{className:`text-2xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,q.jsx)(Xb,{className:`text-blue-600`}),` Persuratan Digital`]}),(0,q.jsx)(`p`,{className:`text-slate-500 text-sm`,children:`Buat dan kelola surat resmi BK dengan editor profesional.`})]}),(0,q.jsxs)(`div`,{className:`bg-slate-100 p-1 rounded-lg flex border border-slate-200`,children:[(0,q.jsxs)(`button`,{onClick:()=>s(`create`),className:`px-5 py-2 text-sm font-bold rounded-md transition-all flex items-center gap-2 ${o===`create`?`bg-white shadow-sm text-blue-600`:`text-slate-500 hover:text-slate-700`}`,children:[(0,q.jsx)(Xb,{size:16}),` Buat Surat`]}),(0,q.jsxs)(`button`,{onClick:()=>s(`templates`),className:`px-5 py-2 text-sm font-bold rounded-md transition-all flex items-center gap-2 ${o===`templates`?`bg-white shadow-sm text-blue-600`:`text-slate-500 hover:text-slate-700`}`,children:[(0,q.jsx)(Ax,{size:16}),` Template Editor`]})]})]}),o===`create`&&(0,q.jsx)(T1,{students:e,templates:c,settings:n,pointLogs:r,sanctionRules:a,user:t}),o===`templates`&&(0,q.jsx)(E1,{templates:c,user:t,settings:n})]})}function O1(){let[e,t]=(0,y.useState)(null),[n,r]=(0,y.useState)(()=>{let e=localStorage.getItem(`appUser_sibko`);return e?JSON.parse(e):null}),[i,a]=(0,y.useState)(!0),[o,s]=(0,y.useState)(!1),[c,l]=(0,y.useState)(``),[u,d]=(0,y.useState)([]),[f,p]=(0,y.useState)([]),[m,h]=(0,y.useState)([]),[g,_]=(0,y.useState)({}),[v,b]=(0,y.useState)([]),[x,S]=(0,y.useState)([]),[C,w]=(0,y.useState)([]),T=Ke(),E=Ue();(0,y.useEffect)(()=>{Hs(cb).catch(console.error);let e=Xs(cb,e=>{t(e),e&&!n&&a(!1)});return()=>e()},[]),(0,y.useEffect)(()=>{if(!e||n?.role!==`admin`)return;let t=rb(Fy(ub(Kx.users)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));d(t),t.length===0&&nb(ub(Kx.users),qx),a(!1)});return()=>t()},[e,n]),(0,y.useEffect)(()=>{if(!e||!n)return;let t=rb(Fy(ub(Kx.settings),Ly(`teacherId`,`==`,n.id)),e=>{e.empty?_({}):_({id:e.docs[0].id,...e.docs[0].data()})}),r=rb(Gv(lb,`settings`,`master_points_${n.id}`),e=>S(e.exists()?e.data().items:[])),i=rb(Gv(lb,`settings`,`sanction_rules_${n.id}`),e=>w(e.exists()?e.data().items:[])),o=()=>{},s=()=>{},c=()=>{};return n.role===`admin`?a(!1):(o=rb(Fy(ub(Kx.students),Ly(`teacherId`,`==`,n.id)),e=>p(e.docs.map(e=>({id:e.id,...e.data()})))),s=rb(Fy(ub(Kx.journals),Ly(`teacherId`,`==`,n.id)),e=>h(e.docs.map(e=>({id:e.id,...e.data()})))),c=rb(Fy(Wv(lb,`point_logs`),Ly(`teacherId`,`==`,n.id)),e=>b(e.docs.map(e=>({id:e.id,...e.data()})))),a(!1)),()=>{o(),s(),t(),c(),r(),i()}},[e,n]);let D=async(e,t)=>{s(!0),l(``);try{let n=await Qy(Fy(ub(Kx.users),Ly(`username`,`==`,e),Ly(`password`,`==`,t)));if(n.empty){if(e===qx.username&&t===qx.password&&(await Qy(ub(Kx.users))).empty){let e={id:(await nb(ub(Kx.users),qx)).id,...qx};r(e),localStorage.setItem(`appUser_sibko`,JSON.stringify(e)),T(`/`);return}l(`Salah username atau password`)}else{let e=n.docs[0],t={id:e.id,...e.data()};r(t),localStorage.setItem(`appUser_sibko`,JSON.stringify(t)),T(E.state?.from?.pathname||`/`)}}catch(e){console.error(`Login Error:`,e),l(`Terjadi kesalahan koneksi.`)}finally{s(!1)}},O=()=>{confirm(`Keluar?`)&&(r(null),d([]),p([]),localStorage.removeItem(`appUser_sibko`),T(`/login`))},k=async e=>{await eb(Gv(ub(Kx.users),e.id),{password:e.password,fullName:e.fullName});let t={...n,password:e.password,fullName:e.fullName};r(t),localStorage.setItem(`appUser_sibko`,JSON.stringify(t)),alert(`Profil berhasil diperbarui.`)};return i?(0,q.jsx)(`div`,{className:`h-screen flex items-center justify-center text-slate-500 font-bold animate-pulse`,children:`Loading System...`}):(0,q.jsxs)(bt,{children:[(0,q.jsx)(vt,{path:`/login`,element:n?(0,q.jsx)(_t,{to:`/`,replace:!0}):(0,q.jsx)(tS,{onLogin:D,loading:o,error:c})}),(0,q.jsx)(vt,{path:`/*`,element:(0,q.jsx)(eS,{user:n,children:(0,q.jsx)(nS,{userRole:n?.role,userName:n?.fullName,onLogout:O,children:(0,q.jsx)(bt,{children:n?.role===`admin`?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(vt,{path:`/`,element:(0,q.jsx)(rS,{users:u})}),(0,q.jsx)(vt,{path:`/users`,element:(0,q.jsx)(dS,{users:u})}),(0,q.jsx)(vt,{path:`/letters`,element:(0,q.jsx)(D1,{students:f,user:n,settings:g,pointLogs:v,masterPoints:x,sanctionRules:C})}),(0,q.jsx)(vt,{path:`/settings`,element:(0,q.jsx)(QH,{settings:g,onSave:e=>g.id?eb(Gv(ub(Kx.settings),g.id),e).then(()=>alert(`Tersimpan`)):nb(ub(Kx.settings),{...e,teacherId:n.id}).then(()=>alert(`Tersimpan`))})}),(0,q.jsx)(vt,{path:`/account`,element:(0,q.jsx)($H,{user:n,onUpdatePassword:k})}),(0,q.jsx)(vt,{path:`*`,element:(0,q.jsx)(_t,{to:`/`,replace:!0})})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(vt,{path:`/`,element:(0,q.jsx)(sS,{students:f,journals:m,user:n,pointLogs:v,settings:g})}),(0,q.jsx)(vt,{path:`/students`,element:(0,q.jsx)(jH,{students:f,journals:m,pointLogs:v,sanctionRules:C,user:n,onAdd:e=>nb(ub(Kx.students),{...e,teacherId:n.id,createdAt:new Date().toISOString()}),onEdit:e=>eb(Gv(ub(Kx.students),e.id),e),onDelete:e=>tb(Gv(ub(Kx.students),e)),onImport:e=>{let t=ob(lb);e.forEach(e=>t.set(Gv(Wv(lb,Kx.students)),{...e,teacherId:n.id,createdAt:new Date().toISOString()})),t.commit().then(()=>alert(`Import Berhasil`))},onMoveClass:(e,t)=>{let n=ob(lb);e.forEach(e=>n.update(Gv(ub(Kx.students),e),{class:t})),n.commit().then(()=>alert(`Pindah Kelas Berhasil`))}})}),(0,q.jsx)(vt,{path:`/journal`,element:(0,q.jsx)(FH,{students:f,journals:m,settings:g,onAdd:e=>nb(ub(Kx.journals),{...e,teacherId:n.id}),onUpdate:e=>eb(Gv(lb,Kx.journals,e.id),e),onDelete:e=>tb(Gv(lb,Kx.journals,e))})}),(0,q.jsx)(vt,{path:`/points`,element:(0,q.jsx)(P$,{students:f,pointLogs:v,masterPoints:x,sanctionRules:C,settings:g,onAddPoint:e=>nb(Wv(lb,`point_logs`),{...e,teacherId:n.id}),onUpdatePoint:e=>eb(Gv(lb,`point_logs`,e.id),e),onDeletePoint:e=>tb(Gv(lb,`point_logs`,e))})}),(0,q.jsx)(vt,{path:`/point-book`,element:(0,q.jsx)(B$,{students:f,pointLogs:v,journals:m,settings:g,sanctionRules:C})}),(0,q.jsx)(vt,{path:`/sanction-book`,element:(0,q.jsx)(H$,{students:f,pointLogs:v,sanctionRules:C,settings:g})}),(0,q.jsx)(vt,{path:`/counseling-history`,element:(0,q.jsx)(W$,{students:f,journals:m,settings:g,user:n})}),(0,q.jsx)(vt,{path:`/reports`,element:(0,q.jsx)(GH,{journals:m,students:f,settings:g})}),(0,q.jsx)(vt,{path:`/letters`,element:(0,q.jsx)(D1,{students:f,user:n,settings:g,pointLogs:v,masterPoints:x,sanctionRules:C})}),(0,q.jsx)(vt,{path:`/master-points`,element:(0,q.jsx)(`div`,{className:`space-y-8 animate-in fade-in pb-10 p-4 md:p-6`,children:(0,q.jsx)(F$,{masterPoints:x,onSavePoints:e=>$y(Gv(lb,`settings`,`master_points_${n.id}`),{items:e}).then(()=>alert(`Tersimpan`)),sanctionRules:C,onSaveSanctions:e=>$y(Gv(lb,`settings`,`sanction_rules_${n.id}`),{items:e}).then(()=>alert(`Tersimpan`))})})}),(0,q.jsx)(vt,{path:`/settings`,element:(0,q.jsx)(QH,{settings:g,onSave:e=>g.id?eb(Gv(ub(Kx.settings),g.id),e).then(()=>alert(`Tersimpan`)):nb(ub(Kx.settings),{...e,teacherId:n.id}).then(()=>alert(`Tersimpan`))})}),(0,q.jsx)(vt,{path:`/account`,element:(0,q.jsx)($H,{user:n,onUpdatePassword:k})}),(0,q.jsx)(vt,{path:`*`,element:(0,q.jsx)(_t,{to:`/`,replace:!0})})]})})})})})]})}_.createRoot(document.getElementById(`root`)).render((0,q.jsx)(y.StrictMode,{children:(0,q.jsxs)(sn,{children:[` `,(0,q.jsx)(O1,{})]})}));export{o as n,c as r,tU as t};